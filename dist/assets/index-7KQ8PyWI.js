function lU(s,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in s)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(s,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function B0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Kv={exports:{}},Jt={};var x4;function cU(){if(x4)return Jt;x4=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),g=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,_={};function j(q,G,ie){this.props=q,this.context=G,this.refs=_,this.updater=ie||v}j.prototype.isReactComponent={},j.prototype.setState=function(q,G){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,G,"setState")},j.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function S(){}S.prototype=j.prototype;function N(q,G,ie){this.props=q,this.context=G,this.refs=_,this.updater=ie||v}var k=N.prototype=new S;k.constructor=N,y(k,j.prototype),k.isPureReactComponent=!0;var C=Array.isArray;function z(){}var E={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function T(q,G,ie){var le=ie.ref;return{$$typeof:s,type:q,key:G,ref:le!==void 0?le:null,props:ie}}function re(q,G){return T(q.type,G,q.props)}function Y(q){return typeof q=="object"&&q!==null&&q.$$typeof===s}function I(q){var G={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ie){return G[ie]})}var K=/\/+/g;function L(q,G){return typeof q=="object"&&q!==null&&q.key!=null?I(""+q.key):G.toString(36)}function J(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(z,z):(q.status="pending",q.then(function(G){q.status==="pending"&&(q.status="fulfilled",q.value=G)},function(G){q.status==="pending"&&(q.status="rejected",q.reason=G)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Q(q,G,ie,le,be){var ye=typeof q;(ye==="undefined"||ye==="boolean")&&(q=null);var $=!1;if(q===null)$=!0;else switch(ye){case"bigint":case"string":case"number":$=!0;break;case"object":switch(q.$$typeof){case s:case t:$=!0;break;case m:return $=q._init,Q($(q._payload),G,ie,le,be)}}if($)return be=be(q),$=le===""?"."+L(q,0):le,C(be)?(ie="",$!=null&&(ie=$.replace(K,"$&/")+"/"),Q(be,G,ie,"",function(ce){return ce})):be!=null&&(Y(be)&&(be=re(be,ie+(be.key==null||q&&q.key===be.key?"":(""+be.key).replace(K,"$&/")+"/")+$)),G.push(be)),1;$=0;var V=le===""?".":le+":";if(C(q))for(var me=0;me<q.length;me++)le=q[me],ye=V+L(le,me),$+=Q(le,G,ie,ye,be);else if(me=b(q),typeof me=="function")for(q=me.call(q),me=0;!(le=q.next()).done;)le=le.value,ye=V+L(le,me++),$+=Q(le,G,ie,ye,be);else if(ye==="object"){if(typeof q.then=="function")return Q(J(q),G,ie,le,be);throw G=String(q),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return $}function Z(q,G,ie){if(q==null)return q;var le=[],be=0;return Q(q,le,"","",function(ye){return G.call(ie,ye,be++)}),le}function ee(q){if(q._status===-1){var G=q._result;G=G(),G.then(function(ie){(q._status===0||q._status===-1)&&(q._status=1,q._result=ie)},function(ie){(q._status===0||q._status===-1)&&(q._status=2,q._result=ie)}),q._status===-1&&(q._status=0,q._result=G)}if(q._status===1)return q._result.default;throw q._result}var F=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},de={map:Z,forEach:function(q,G,ie){Z(q,function(){G.apply(this,arguments)},ie)},count:function(q){var G=0;return Z(q,function(){G++}),G},toArray:function(q){return Z(q,function(G){return G})||[]},only:function(q){if(!Y(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Jt.Activity=f,Jt.Children=de,Jt.Component=j,Jt.Fragment=r,Jt.Profiler=a,Jt.PureComponent=N,Jt.StrictMode=n,Jt.Suspense=d,Jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Jt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return E.H.useMemoCache(q)}},Jt.cache=function(q){return function(){return q.apply(null,arguments)}},Jt.cacheSignal=function(){return null},Jt.cloneElement=function(q,G,ie){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var le=y({},q.props),be=q.key;if(G!=null)for(ye in G.key!==void 0&&(be=""+G.key),G)!U.call(G,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&G.ref===void 0||(le[ye]=G[ye]);var ye=arguments.length-2;if(ye===1)le.children=ie;else if(1<ye){for(var $=Array(ye),V=0;V<ye;V++)$[V]=arguments[V+2];le.children=$}return T(q.type,be,le)},Jt.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:i,_context:q},q},Jt.createElement=function(q,G,ie){var le,be={},ye=null;if(G!=null)for(le in G.key!==void 0&&(ye=""+G.key),G)U.call(G,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(be[le]=G[le]);var $=arguments.length-2;if($===1)be.children=ie;else if(1<$){for(var V=Array($),me=0;me<$;me++)V[me]=arguments[me+2];be.children=V}if(q&&q.defaultProps)for(le in $=q.defaultProps,$)be[le]===void 0&&(be[le]=$[le]);return T(q,ye,be)},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(q){return{$$typeof:c,render:q}},Jt.isValidElement=Y,Jt.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:ee}},Jt.memo=function(q,G){return{$$typeof:h,type:q,compare:G===void 0?null:G}},Jt.startTransition=function(q){var G=E.T,ie={};E.T=ie;try{var le=q(),be=E.S;be!==null&&be(ie,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(z,F)}catch(ye){F(ye)}finally{G!==null&&ie.types!==null&&(G.types=ie.types),E.T=G}},Jt.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Jt.use=function(q){return E.H.use(q)},Jt.useActionState=function(q,G,ie){return E.H.useActionState(q,G,ie)},Jt.useCallback=function(q,G){return E.H.useCallback(q,G)},Jt.useContext=function(q){return E.H.useContext(q)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(q,G){return E.H.useDeferredValue(q,G)},Jt.useEffect=function(q,G){return E.H.useEffect(q,G)},Jt.useEffectEvent=function(q){return E.H.useEffectEvent(q)},Jt.useId=function(){return E.H.useId()},Jt.useImperativeHandle=function(q,G,ie){return E.H.useImperativeHandle(q,G,ie)},Jt.useInsertionEffect=function(q,G){return E.H.useInsertionEffect(q,G)},Jt.useLayoutEffect=function(q,G){return E.H.useLayoutEffect(q,G)},Jt.useMemo=function(q,G){return E.H.useMemo(q,G)},Jt.useOptimistic=function(q,G){return E.H.useOptimistic(q,G)},Jt.useReducer=function(q,G,ie){return E.H.useReducer(q,G,ie)},Jt.useRef=function(q){return E.H.useRef(q)},Jt.useState=function(q){return E.H.useState(q)},Jt.useSyncExternalStore=function(q,G,ie){return E.H.useSyncExternalStore(q,G,ie)},Jt.useTransition=function(){return E.H.useTransition()},Jt.version="19.2.1",Jt}var y4;function I0(){return y4||(y4=1,Kv.exports=cU()),Kv.exports}var w=I0();const ct=B0(w),IN=lU({__proto__:null,default:ct},[w]);var Xv={exports:{}},Sf={},Zv={exports:{}},Qv={};var b4;function dU(){return b4||(b4=1,(function(s){function t(Q,Z){var ee=Q.length;Q.push(Z);e:for(;0<ee;){var F=ee-1>>>1,de=Q[F];if(0<a(de,Z))Q[F]=Z,Q[ee]=de,ee=F;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var Z=Q[0],ee=Q.pop();if(ee!==Z){Q[0]=ee;e:for(var F=0,de=Q.length,q=de>>>1;F<q;){var G=2*(F+1)-1,ie=Q[G],le=G+1,be=Q[le];if(0>a(ie,ee))le<de&&0>a(be,ie)?(Q[F]=be,Q[le]=ee,F=le):(Q[F]=ie,Q[G]=ee,F=G);else if(le<de&&0>a(be,ee))Q[F]=be,Q[le]=ee,F=le;else break e}}return Z}function a(Q,Z){var ee=Q.sortIndex-Z.sortIndex;return ee!==0?ee:Q.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;s.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();s.unstable_now=function(){return o.now()-c}}var d=[],h=[],m=1,f=null,g=3,b=!1,v=!1,y=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function k(Q){for(var Z=r(h);Z!==null;){if(Z.callback===null)n(h);else if(Z.startTime<=Q)n(h),Z.sortIndex=Z.expirationTime,t(d,Z);else break;Z=r(h)}}function C(Q){if(y=!1,k(Q),!v)if(r(d)!==null)v=!0,z||(z=!0,I());else{var Z=r(h);Z!==null&&J(C,Z.startTime-Q)}}var z=!1,E=-1,U=5,T=-1;function re(){return _?!0:!(s.unstable_now()-T<U)}function Y(){if(_=!1,z){var Q=s.unstable_now();T=Q;var Z=!0;try{e:{v=!1,y&&(y=!1,S(E),E=-1),b=!0;var ee=g;try{t:{for(k(Q),f=r(d);f!==null&&!(f.expirationTime>Q&&re());){var F=f.callback;if(typeof F=="function"){f.callback=null,g=f.priorityLevel;var de=F(f.expirationTime<=Q);if(Q=s.unstable_now(),typeof de=="function"){f.callback=de,k(Q),Z=!0;break t}f===r(d)&&n(d),k(Q)}else n(d);f=r(d)}if(f!==null)Z=!0;else{var q=r(h);q!==null&&J(C,q.startTime-Q),Z=!1}}break e}finally{f=null,g=ee,b=!1}Z=void 0}}finally{Z?I():z=!1}}}var I;if(typeof N=="function")I=function(){N(Y)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,L=K.port2;K.port1.onmessage=Y,I=function(){L.postMessage(null)}}else I=function(){j(Y,0)};function J(Q,Z){E=j(function(){Q(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return g},s.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var ee=g;g=Z;try{return Q()}finally{g=ee}},s.unstable_requestPaint=function(){_=!0},s.unstable_runWithPriority=function(Q,Z){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ee=g;g=Q;try{return Z()}finally{g=ee}},s.unstable_scheduleCallback=function(Q,Z,ee){var F=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?F+ee:F):ee=F,Q){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ee+de,Q={id:m++,callback:Z,priorityLevel:Q,startTime:ee,expirationTime:de,sortIndex:-1},ee>F?(Q.sortIndex=ee,t(h,Q),r(d)===null&&Q===r(h)&&(y?(S(E),E=-1):y=!0,J(C,ee-F))):(Q.sortIndex=de,t(d,Q),v||b||(v=!0,z||(z=!0,I()))),Q},s.unstable_shouldYield=re,s.unstable_wrapCallback=function(Q){var Z=g;return function(){var ee=g;g=Z;try{return Q.apply(this,arguments)}finally{g=ee}}}})(Qv)),Qv}var v4;function uU(){return v4||(v4=1,Zv.exports=dU()),Zv.exports}var Jv={exports:{}},mn={};var w4;function hU(){if(w4)return mn;w4=1;var s=I0();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,h,m){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:f==null?null:""+f,children:d,containerInfo:h,implementation:m}}var o=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,mn.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return i(d,h,null,m)},mn.flushSync=function(d){var h=o.T,m=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=h,n.p=m,n.d.f()}},mn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(d,h))},mn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},mn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,f=c(m,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:b}):m==="script"&&n.d.X(d,{crossOrigin:f,integrity:g,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},mn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(d)},mn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,f=c(m,h.crossOrigin);n.d.L(d,m,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},mn.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);n.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(d)},mn.requestFormReset=function(d){n.d.r(d)},mn.unstable_batchedUpdates=function(d,h){return d(h)},mn.useFormState=function(d,h,m){return o.H.useFormState(d,h,m)},mn.useFormStatus=function(){return o.H.useHostTransitionStatus()},mn.version="19.2.1",mn}var j4;function M6(){if(j4)return Jv.exports;j4=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Jv.exports=hU(),Jv.exports}var _4;function fU(){if(_4)return Sf;_4=1;var s=uU(),t=I0(),r=M6();function n(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function d(l){if(i(l)!==l)throw Error(n(188))}function h(l){var u=l.alternate;if(!u){if(u=i(l),u===null)throw Error(n(188));return u!==l?null:l}for(var p=l,x=u;;){var A=p.return;if(A===null)break;var M=A.alternate;if(M===null){if(x=A.return,x!==null){p=x;continue}break}if(A.child===M.child){for(M=A.child;M;){if(M===p)return d(A),l;if(M===x)return d(A),u;M=M.sibling}throw Error(n(188))}if(p.return!==x.return)p=A,x=M;else{for(var te=!1,je=A.child;je;){if(je===p){te=!0,p=A,x=M;break}if(je===x){te=!0,x=A,p=M;break}je=je.sibling}if(!te){for(je=M.child;je;){if(je===p){te=!0,p=M,x=A;break}if(je===x){te=!0,x=M,p=A;break}je=je.sibling}if(!te)throw Error(n(189))}}if(p.alternate!==x)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:u}function m(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=m(l),u!==null)return u;l=l.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),N=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function I(l){return l===null||typeof l!="object"?null:(l=Y&&l[Y]||l["@@iterator"],typeof l=="function"?l:null)}var K=Symbol.for("react.client.reference");function L(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===K?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case y:return"Fragment";case j:return"Profiler";case _:return"StrictMode";case C:return"Suspense";case z:return"SuspenseList";case T:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case v:return"Portal";case N:return l.displayName||"Context";case S:return(l._context.displayName||"Context")+".Consumer";case k:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case E:return u=l.displayName||null,u!==null?u:L(l.type)||"Memo";case U:u=l._payload,l=l._init;try{return L(l(u))}catch{}}return null}var J=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},F=[],de=-1;function q(l){return{current:l}}function G(l){0>de||(l.current=F[de],F[de]=null,de--)}function ie(l,u){de++,F[de]=l.current,l.current=u}var le=q(null),be=q(null),ye=q(null),$=q(null);function V(l,u){switch(ie(ye,u),ie(be,l),ie(le,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?zA(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=zA(u),l=UA(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}G(le),ie(le,l)}function me(){G(le),G(be),G(ye)}function ce(l){l.memoizedState!==null&&ie($,l);var u=le.current,p=UA(u,l.type);u!==p&&(ie(be,l),ie(le,p))}function he(l){be.current===l&&(G(le),G(be)),$.current===l&&(G($),jf._currentValue=ee)}var O,oe;function D(l){if(O===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);O=u&&u[1]||"",oe=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+l+oe}var Ce=!1;function H(l,u){if(!l||Ce)return"";Ce=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(u){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Xe){var qe=Xe}Reflect.construct(l,[],tt)}else{try{tt.call()}catch(Xe){qe=Xe}l.call(tt.prototype)}}else{try{throw Error()}catch(Xe){qe=Xe}(tt=l())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Xe){if(Xe&&qe&&typeof Xe.stack=="string")return[Xe.stack,qe.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=x.DetermineComponentFrameRoot(),te=M[0],je=M[1];if(te&&je){var Oe=te.split(`
`),Ve=je.split(`
`);for(A=x=0;x<Oe.length&&!Oe[x].includes("DetermineComponentFrameRoot");)x++;for(;A<Ve.length&&!Ve[A].includes("DetermineComponentFrameRoot");)A++;if(x===Oe.length||A===Ve.length)for(x=Oe.length-1,A=Ve.length-1;1<=x&&0<=A&&Oe[x]!==Ve[A];)A--;for(;1<=x&&0<=A;x--,A--)if(Oe[x]!==Ve[A]){if(x!==1||A!==1)do if(x--,A--,0>A||Oe[x]!==Ve[A]){var Qe=`
`+Oe[x].replace(" at new "," at ");return l.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",l.displayName)),Qe}while(1<=x&&0<=A);break}}}finally{Ce=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?D(p):""}function R(l,u){switch(l.tag){case 26:case 27:case 5:return D(l.type);case 16:return D("Lazy");case 13:return l.child!==u&&u!==null?D("Suspense Fallback"):D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return H(l.type,!1);case 11:return H(l.type.render,!1);case 1:return H(l.type,!0);case 31:return D("Activity");default:return""}}function P(l){try{var u="",p=null;do u+=R(l,p),p=l,l=l.return;while(l);return u}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var W=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,X=s.unstable_cancelCallback,pe=s.unstable_shouldYield,ge=s.unstable_requestPaint,Re=s.unstable_now,De=s.unstable_getCurrentPriorityLevel,Se=s.unstable_ImmediatePriority,Ie=s.unstable_UserBlockingPriority,We=s.unstable_NormalPriority,wt=s.unstable_LowPriority,gt=s.unstable_IdlePriority,pt=s.log,Nt=s.unstable_setDisableYieldValue,yt=null,Ot=null;function Ze(l){if(typeof pt=="function"&&Nt(l),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(yt,l)}catch{}}var Te=Math.clz32?Math.clz32:jt,Be=Math.log,xt=Math.LN2;function jt(l){return l>>>=0,l===0?32:31-(Be(l)/xt|0)|0}var Pt=256,Is=262144,cs=4194304;function Rs(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Dt(l,u,p){var x=l.pendingLanes;if(x===0)return 0;var A=0,M=l.suspendedLanes,te=l.pingedLanes;l=l.warmLanes;var je=x&134217727;return je!==0?(x=je&~M,x!==0?A=Rs(x):(te&=je,te!==0?A=Rs(te):p||(p=je&~l,p!==0&&(A=Rs(p))))):(je=x&~M,je!==0?A=Rs(je):te!==0?A=Rs(te):p||(p=x&~l,p!==0&&(A=Rs(p)))),A===0?0:u!==0&&u!==A&&(u&M)===0&&(M=A&-A,p=u&-u,M>=p||M===32&&(p&4194048)!==0)?u:A}function we(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Rt(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gs(){var l=cs;return cs<<=1,(cs&62914560)===0&&(cs=4194304),l}function Mt(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function ht(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Ns(l,u,p,x,A,M){var te=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var je=l.entanglements,Oe=l.expirationTimes,Ve=l.hiddenUpdates;for(p=te&~p;0<p;){var Qe=31-Te(p),tt=1<<Qe;je[Qe]=0,Oe[Qe]=-1;var qe=Ve[Qe];if(qe!==null)for(Ve[Qe]=null,Qe=0;Qe<qe.length;Qe++){var Xe=qe[Qe];Xe!==null&&(Xe.lane&=-536870913)}p&=~tt}x!==0&&mr(l,x,0),M!==0&&A===0&&l.tag!==0&&(l.suspendedLanes|=M&~(te&~u))}function mr(l,u,p){l.pendingLanes|=u,l.suspendedLanes&=~u;var x=31-Te(u);l.entangledLanes|=u,l.entanglements[x]=l.entanglements[x]|1073741824|p&261930}function Ys(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var x=31-Te(p),A=1<<x;A&u|l[x]&u&&(l[x]|=u),p&=~A}}function qr(l,u){var p=u&-u;return p=(p&42)!==0?1:On(p),(p&(l.suspendedLanes|u))!==0?0:p}function On(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Cn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function _i(){var l=Z.p;return l!==0?l:(l=window.event,l===void 0?32:d4(l.type))}function Id(l,u){var p=Z.p;try{return Z.p=l,u()}finally{Z.p=p}}var An=Math.random().toString(36).slice(2),Er="__reactFiber$"+An,vr="__reactProps$"+An,Fr="__reactContainer$"+An,co="__reactEvents$"+An,uo="__reactListeners$"+An,al="__reactHandles$"+An,Ea="__reactResources$"+An,ti="__reactMarker$"+An;function jc(l){delete l[Er],delete l[vr],delete l[co],delete l[uo],delete l[al]}function Ni(l){var u=l[Er];if(u)return u;for(var p=l.parentNode;p;){if(u=p[Fr]||p[Er]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=YA(l);l!==null;){if(p=l[Er])return p;l=YA(l)}return u}l=p,p=l.parentNode}return null}function na(l){if(l=l[Er]||l[Fr]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function ki(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(n(33))}function aa(l){var u=l[Ea];return u||(u=l[Ea]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function zs(l){l[ti]=!0}var il=new Set,_c={};function Ta(l,u){En(l,u),En(l+"Capture",u)}function En(l,u){for(_c[l]=u,l=0;l<u.length;l++)il.add(u[l])}var Ln=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ol={},ia={};function oa(l){return W.call(ia,l)?!0:W.call(ol,l)?!1:Ln.test(l)?ia[l]=!0:(ol[l]=!0,!1)}function ho(l,u,p){if(oa(u))if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var x=u.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+p)}}function fo(l,u,p){if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+p)}}function Fn(l,u,p,x){if(x===null)l.removeAttribute(p);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(u,p,""+x)}}function Jr(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function mo(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Th(l,u,p){var x=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var A=x.get,M=x.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return A.call(this)},set:function(te){p=""+te,M.call(this,te)}}),Object.defineProperty(l,u,{enumerable:x.enumerable}),{getValue:function(){return p},setValue:function(te){p=""+te},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Nc(l){if(!l._valueTracker){var u=mo(l)?"checked":"value";l._valueTracker=Th(l,u,""+l[u])}}function ll(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),x="";return l&&(x=mo(l)?l.checked?"true":"false":l.value),l=x,l!==p?(u.setValue(l),!0):!1}function si(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Si=/[\n"\\]/g;function Br(l){return l.replace(Si,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function ri(l,u,p,x,A,M,te,je){l.name="",te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?l.type=te:l.removeAttribute("type"),u!=null?te==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+Jr(u)):l.value!==""+Jr(u)&&(l.value=""+Jr(u)):te!=="submit"&&te!=="reset"||l.removeAttribute("value"),u!=null?Sc(l,te,Jr(u)):p!=null?Sc(l,te,Jr(p)):x!=null&&l.removeAttribute("value"),A==null&&M!=null&&(l.defaultChecked=!!M),A!=null&&(l.checked=A&&typeof A!="function"&&typeof A!="symbol"),je!=null&&typeof je!="function"&&typeof je!="symbol"&&typeof je!="boolean"?l.name=""+Jr(je):l.removeAttribute("name")}function kc(l,u,p,x,A,M,te,je){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(l.type=M),u!=null||p!=null){if(!(M!=="submit"&&M!=="reset"||u!=null)){Nc(l);return}p=p!=null?""+Jr(p):"",u=u!=null?""+Jr(u):p,je||u===l.value||(l.value=u),l.defaultValue=u}x=x??A,x=typeof x!="function"&&typeof x!="symbol"&&!!x,l.checked=je?l.checked:!!x,l.defaultChecked=!!x,te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"&&(l.name=te),Nc(l)}function Sc(l,u,p){u==="number"&&si(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function Ci(l,u,p,x){if(l=l.options,u){u={};for(var A=0;A<p.length;A++)u["$"+p[A]]=!0;for(p=0;p<l.length;p++)A=u.hasOwnProperty("$"+l[p].value),l[p].selected!==A&&(l[p].selected=A),A&&x&&(l[p].defaultSelected=!0)}else{for(p=""+Jr(p),u=null,A=0;A<l.length;A++){if(l[A].value===p){l[A].selected=!0,x&&(l[A].defaultSelected=!0);return}u!==null||l[A].disabled||(u=l[A])}u!==null&&(u.selected=!0)}}function zd(l,u,p){if(u!=null&&(u=""+Jr(u),u!==l.value&&(l.value=u),p==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=p!=null?""+Jr(p):""}function Ud(l,u,p,x){if(u==null){if(x!=null){if(p!=null)throw Error(n(92));if(J(x)){if(1<x.length)throw Error(n(93));x=x[0]}p=x}p==null&&(p=""),u=p}p=Jr(u),l.defaultValue=p,x=l.textContent,x===p&&x!==""&&x!==null&&(l.value=x),Nc(l)}function Ai(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var Rh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(l,u,p){var x=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?x?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":x?l.setProperty(u,p):typeof p!="number"||p===0||Rh.has(u)?u==="float"?l.cssFloat=p:l[u]=(""+p).trim():l[u]=p+"px"}function Ra(l,u,p){if(u!=null&&typeof u!="object")throw Error(n(62));if(l=l.style,p!=null){for(var x in p)!p.hasOwnProperty(x)||u!=null&&u.hasOwnProperty(x)||(x.indexOf("--")===0?l.setProperty(x,""):x==="float"?l.cssFloat="":l[x]="");for(var A in u)x=u[A],u.hasOwnProperty(A)&&p[A]!==x&&cl(l,A,x)}else for(var M in u)u.hasOwnProperty(M)&&cl(l,M,u[M])}function Cc(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dl(l){return Mh.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Bn(){}var Ac=null;function ul(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ni=null,Ei=null;function $d(l){var u=na(l);if(u&&(l=u.stateNode)){var p=l[vr]||null;e:switch(l=u.stateNode,u.type){case"input":if(ri(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Br(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var x=p[u];if(x!==l&&x.form===l.form){var A=x[vr]||null;if(!A)throw Error(n(90));ri(x,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(u=0;u<p.length;u++)x=p[u],x.form===l.form&&ll(x)}break e;case"textarea":zd(l,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Ci(l,!!p.multiple,u,!1)}}}var Ti=!1;function po(l,u,p){if(Ti)return l(u,p);Ti=!0;try{var x=l(u);return x}finally{if(Ti=!1,(ni!==null||Ei!==null)&&(dg(),ni&&(u=ni,l=Ei,Ei=ni=null,$d(u),l)))for(u=0;u<l.length;u++)$d(l[u])}}function Ri(l,u){var p=l.stateNode;if(p===null)return null;var x=p[vr]||null;if(x===null)return null;p=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=!1;if(la)try{var go={};Object.defineProperty(go,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{Ec=!1}var In=null,hl=null,fl=null;function $t(){if(fl)return fl;var l,u=hl,p=u.length,x,A="value"in In?In.value:In.textContent,M=A.length;for(l=0;l<p&&u[l]===A[l];l++);var te=p-l;for(x=1;x<=te&&u[p-x]===A[M-x];x++);return fl=A.slice(l,1<x?1-x:void 0)}function zn(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Da(){return!0}function Vd(){return!1}function en(l){function u(p,x,A,M,te){this._reactName=p,this._targetInst=A,this.type=x,this.nativeEvent=M,this.target=te,this.currentTarget=null;for(var je in l)l.hasOwnProperty(je)&&(p=l[je],this[je]=p?p(M):M[je]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Da:Vd,this.isPropagationStopped=Vd,this}return f(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),u}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ne=en(Ma),Me=f({},Ma,{view:0,detail:0}),vt=en(Me),Ss,Ir,tn,ai=f({},Me,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oh,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==tn&&(tn&&l.type==="mousemove"?(Ss=l.screenX-tn.screenX,Ir=l.screenY-tn.screenY):Ir=Ss=0,tn=l),Ss)},movementY:function(l){return"movementY"in l?l.movementY:Ir}}),Pa=en(ai),ml=f({},ai,{dataTransfer:0}),pl=en(ml),qy=f({},Me,{relatedTarget:0}),Ph=en(qy),Gy=f({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),Wy=en(Gy),Yy=f({},Ma,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ky=en(Yy),Xy=f({},Ma,{data:0}),_p=en(Xy),Zy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eb(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Jy[l])?!!u[l]:!1}function Oh(){return eb}var tb=f({},Me,{key:function(l){if(l.key){var u=Zy[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=zn(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Qy[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oh,charCode:function(l){return l.type==="keypress"?zn(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?zn(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Gr=en(tb),Lh=f({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Np=en(Lh),ae=f({},Me,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oh}),B=en(ae),se=f({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ee=en(se),Pe=f({},ai,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Je=en(Pe),mt=f({},Ma,{newState:0,oldState:0}),At=en(mt),Zt=[9,13,27,32],fs=la&&"CompositionEvent"in window,ys=null;la&&"documentMode"in document&&(ys=document.documentMode);var wr=la&&"TextEvent"in window&&!ys,Tc=la&&(!fs||ys&&8<ys&&11>=ys),kp=" ",Fh=!1;function Sp(l,u){switch(l){case"keyup":return Zt.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bh(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var gl=!1;function Cp(l,u){switch(l){case"compositionend":return Bh(u);case"keypress":return u.which!==32?null:(Fh=!0,kp);case"textInput":return l=u.data,l===kp&&Fh?null:l;default:return null}}function sb(l,u){if(gl)return l==="compositionend"||!fs&&Sp(l,u)?(l=$t(),fl=hl=In=null,gl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Tc&&u.locale!=="ko"?null:u.data;default:return null}}var rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!rb[l.type]:u==="textarea"}function zh(l,u,p,x){ni?Ei?Ei.push(x):Ei=[x]:ni=x,u=xg(u,"onChange"),0<u.length&&(p=new ne("onChange","change",null,p,x),l.push({event:p,listeners:u}))}var xl=null,xo=null;function Uh(l){PA(l,0)}function Rc(l){var u=ki(l);if(ll(u))return l}function Ap(l,u){if(l==="change")return u}var Ep=!1;if(la){var $h;if(la){var Vh="oninput"in document;if(!Vh){var Hh=document.createElement("div");Hh.setAttribute("oninput","return;"),Vh=typeof Hh.oninput=="function"}$h=Vh}else $h=!1;Ep=$h&&(!document.documentMode||9<document.documentMode)}function sS(){xl&&(xl.detachEvent("onpropertychange",rS),xo=xl=null)}function rS(l){if(l.propertyName==="value"&&Rc(xo)){var u=[];zh(u,xo,l,ul(l)),po(Uh,u)}}function L7(l,u,p){l==="focusin"?(sS(),xl=u,xo=p,xl.attachEvent("onpropertychange",rS)):l==="focusout"&&sS()}function F7(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Rc(xo)}function B7(l,u){if(l==="click")return Rc(u)}function I7(l,u){if(l==="input"||l==="change")return Rc(u)}function z7(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var ca=typeof Object.is=="function"?Object.is:z7;function qh(l,u){if(ca(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),x=Object.keys(u);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var A=p[x];if(!W.call(u,A)||!ca(l[A],u[A]))return!1}return!0}function nS(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function aS(l,u){var p=nS(l);l=0;for(var x;p;){if(p.nodeType===3){if(x=l+p.textContent.length,l<=u&&x>=u)return{node:p,offset:u-l};l=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=nS(p)}}function iS(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?iS(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function oS(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=si(l.document);u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=si(l.document)}return u}function nb(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var U7=la&&"documentMode"in document&&11>=document.documentMode,Hd=null,ab=null,Gh=null,ib=!1;function lS(l,u,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ib||Hd==null||Hd!==si(x)||(x=Hd,"selectionStart"in x&&nb(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Gh&&qh(Gh,x)||(Gh=x,x=xg(ab,"onSelect"),0<x.length&&(u=new ne("onSelect","select",null,u,p),l.push({event:u,listeners:x}),u.target=Hd)))}function Dc(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var qd={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionrun:Dc("Transition","TransitionRun"),transitionstart:Dc("Transition","TransitionStart"),transitioncancel:Dc("Transition","TransitionCancel"),transitionend:Dc("Transition","TransitionEnd")},ob={},cS={};la&&(cS=document.createElement("div").style,"AnimationEvent"in window||(delete qd.animationend.animation,delete qd.animationiteration.animation,delete qd.animationstart.animation),"TransitionEvent"in window||delete qd.transitionend.transition);function Mc(l){if(ob[l])return ob[l];if(!qd[l])return l;var u=qd[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in cS)return ob[l]=u[p];return l}var dS=Mc("animationend"),uS=Mc("animationiteration"),hS=Mc("animationstart"),$7=Mc("transitionrun"),V7=Mc("transitionstart"),H7=Mc("transitioncancel"),fS=Mc("transitionend"),mS=new Map,lb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lb.push("scrollEnd");function ii(l,u){mS.set(l,u),Ta(u,[l])}var Tp=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Oa=[],Gd=0,cb=0;function Rp(){for(var l=Gd,u=cb=Gd=0;u<l;){var p=Oa[u];Oa[u++]=null;var x=Oa[u];Oa[u++]=null;var A=Oa[u];Oa[u++]=null;var M=Oa[u];if(Oa[u++]=null,x!==null&&A!==null){var te=x.pending;te===null?A.next=A:(A.next=te.next,te.next=A),x.pending=A}M!==0&&pS(p,A,M)}}function Dp(l,u,p,x){Oa[Gd++]=l,Oa[Gd++]=u,Oa[Gd++]=p,Oa[Gd++]=x,cb|=x,l.lanes|=x,l=l.alternate,l!==null&&(l.lanes|=x)}function db(l,u,p,x){return Dp(l,u,p,x),Mp(l)}function Pc(l,u){return Dp(l,null,null,u),Mp(l)}function pS(l,u,p){l.lanes|=p;var x=l.alternate;x!==null&&(x.lanes|=p);for(var A=!1,M=l.return;M!==null;)M.childLanes|=p,x=M.alternate,x!==null&&(x.childLanes|=p),M.tag===22&&(l=M.stateNode,l===null||l._visibility&1||(A=!0)),l=M,M=M.return;return l.tag===3?(M=l.stateNode,A&&u!==null&&(A=31-Te(p),l=M.hiddenUpdates,x=l[A],x===null?l[A]=[u]:x.push(u),u.lane=p|536870912),M):null}function Mp(l){if(50<pf)throw pf=0,bv=null,Error(n(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var Wd={};function q7(l,u,p,x){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(l,u,p,x){return new q7(l,u,p,x)}function ub(l){return l=l.prototype,!(!l||!l.isReactComponent)}function yo(l,u){var p=l.alternate;return p===null?(p=da(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function gS(l,u){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,u=p.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function Pp(l,u,p,x,A,M){var te=0;if(x=l,typeof l=="function")ub(l)&&(te=1);else if(typeof l=="string")te=Xz(l,p,le.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case T:return l=da(31,p,u,A),l.elementType=T,l.lanes=M,l;case y:return Oc(p.children,A,M,u);case _:te=8,A|=24;break;case j:return l=da(12,p,u,A|2),l.elementType=j,l.lanes=M,l;case C:return l=da(13,p,u,A),l.elementType=C,l.lanes=M,l;case z:return l=da(19,p,u,A),l.elementType=z,l.lanes=M,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case N:te=10;break e;case S:te=9;break e;case k:te=11;break e;case E:te=14;break e;case U:te=16,x=null;break e}te=29,p=Error(n(130,l===null?"null":typeof l,"")),x=null}return u=da(te,p,u,A),u.elementType=l,u.type=x,u.lanes=M,u}function Oc(l,u,p,x){return l=da(7,l,x,u),l.lanes=p,l}function hb(l,u,p){return l=da(6,l,null,u),l.lanes=p,l}function xS(l){var u=da(18,null,null,0);return u.stateNode=l,u}function fb(l,u,p){return u=da(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var yS=new WeakMap;function La(l,u){if(typeof l=="object"&&l!==null){var p=yS.get(l);return p!==void 0?p:(u={value:l,source:u,stack:P(u)},yS.set(l,u),u)}return{value:l,source:u,stack:P(u)}}var Yd=[],Kd=0,Op=null,Wh=0,Fa=[],Ba=0,yl=null,Di=1,Mi="";function bo(l,u){Yd[Kd++]=Wh,Yd[Kd++]=Op,Op=l,Wh=u}function bS(l,u,p){Fa[Ba++]=Di,Fa[Ba++]=Mi,Fa[Ba++]=yl,yl=l;var x=Di;l=Mi;var A=32-Te(x)-1;x&=~(1<<A),p+=1;var M=32-Te(u)+A;if(30<M){var te=A-A%5;M=(x&(1<<te)-1).toString(32),x>>=te,A-=te,Di=1<<32-Te(u)+A|p<<A|x,Mi=M+l}else Di=1<<M|p<<A|x,Mi=l}function mb(l){l.return!==null&&(bo(l,1),bS(l,1,0))}function pb(l){for(;l===Op;)Op=Yd[--Kd],Yd[Kd]=null,Wh=Yd[--Kd],Yd[Kd]=null;for(;l===yl;)yl=Fa[--Ba],Fa[Ba]=null,Mi=Fa[--Ba],Fa[Ba]=null,Di=Fa[--Ba],Fa[Ba]=null}function vS(l,u){Fa[Ba++]=Di,Fa[Ba++]=Mi,Fa[Ba++]=yl,Di=u.id,Mi=u.overflow,yl=l}var an=null,Zs=null,bs=!1,bl=null,Ia=!1,gb=Error(n(519));function vl(l){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yh(La(u,l)),gb}function wS(l){var u=l.stateNode,p=l.type,x=l.memoizedProps;switch(u[Er]=l,u[vr]=x,p){case"dialog":us("cancel",u),us("close",u);break;case"iframe":case"object":case"embed":us("load",u);break;case"video":case"audio":for(p=0;p<xf.length;p++)us(xf[p],u);break;case"source":us("error",u);break;case"img":case"image":case"link":us("error",u),us("load",u);break;case"details":us("toggle",u);break;case"input":us("invalid",u),kc(u,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":us("invalid",u);break;case"textarea":us("invalid",u),Ud(u,x.value,x.defaultValue,x.children)}p=x.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||x.suppressHydrationWarning===!0||BA(u.textContent,p)?(x.popover!=null&&(us("beforetoggle",u),us("toggle",u)),x.onScroll!=null&&us("scroll",u),x.onScrollEnd!=null&&us("scrollend",u),x.onClick!=null&&(u.onclick=Bn),u=!0):u=!1,u||vl(l,!0)}function jS(l){for(an=l.return;an;)switch(an.tag){case 5:case 31:case 13:Ia=!1;return;case 27:case 3:Ia=!0;return;default:an=an.return}}function Xd(l){if(l!==an)return!1;if(!bs)return jS(l),bs=!0,!1;var u=l.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||Pv(l.type,l.memoizedProps)),p=!p),p&&Zs&&vl(l),jS(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));Zs=WA(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));Zs=WA(l)}else u===27?(u=Zs,Pl(l.type)?(l=Iv,Iv=null,Zs=l):Zs=u):Zs=an?Ua(l.stateNode.nextSibling):null;return!0}function Lc(){Zs=an=null,bs=!1}function xb(){var l=bl;return l!==null&&(Hn===null?Hn=l:Hn.push.apply(Hn,l),bl=null),l}function Yh(l){bl===null?bl=[l]:bl.push(l)}var yb=q(null),Fc=null,vo=null;function wl(l,u,p){ie(yb,u._currentValue),u._currentValue=p}function wo(l){l._currentValue=yb.current,G(yb)}function bb(l,u,p){for(;l!==null;){var x=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),l===p)break;l=l.return}}function vb(l,u,p,x){var A=l.child;for(A!==null&&(A.return=l);A!==null;){var M=A.dependencies;if(M!==null){var te=A.child;M=M.firstContext;e:for(;M!==null;){var je=M;M=A;for(var Oe=0;Oe<u.length;Oe++)if(je.context===u[Oe]){M.lanes|=p,je=M.alternate,je!==null&&(je.lanes|=p),bb(M.return,p,l),x||(te=null);break e}M=je.next}}else if(A.tag===18){if(te=A.return,te===null)throw Error(n(341));te.lanes|=p,M=te.alternate,M!==null&&(M.lanes|=p),bb(te,p,l),te=null}else te=A.child;if(te!==null)te.return=A;else for(te=A;te!==null;){if(te===l){te=null;break}if(A=te.sibling,A!==null){A.return=te.return,te=A;break}te=te.return}A=te}}function Zd(l,u,p,x){l=null;for(var A=u,M=!1;A!==null;){if(!M){if((A.flags&524288)!==0)M=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var te=A.alternate;if(te===null)throw Error(n(387));if(te=te.memoizedProps,te!==null){var je=A.type;ca(A.pendingProps.value,te.value)||(l!==null?l.push(je):l=[je])}}else if(A===$.current){if(te=A.alternate,te===null)throw Error(n(387));te.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(l!==null?l.push(jf):l=[jf])}A=A.return}l!==null&&vb(u,l,p,x),u.flags|=262144}function Lp(l){for(l=l.firstContext;l!==null;){if(!ca(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Bc(l){Fc=l,vo=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function on(l){return _S(Fc,l)}function Fp(l,u){return Fc===null&&Bc(l),_S(l,u)}function _S(l,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},vo===null){if(l===null)throw Error(n(308));vo=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else vo=vo.next=u;return p}var G7=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(p,x){l.push(x)}};this.abort=function(){u.aborted=!0,l.forEach(function(p){return p()})}},W7=s.unstable_scheduleCallback,Y7=s.unstable_NormalPriority,zr={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wb(){return{controller:new G7,data:new Map,refCount:0}}function Kh(l){l.refCount--,l.refCount===0&&W7(Y7,function(){l.controller.abort()})}var Xh=null,jb=0,Qd=0,Jd=null;function K7(l,u){if(Xh===null){var p=Xh=[];jb=0,Qd=kv(),Jd={status:"pending",value:void 0,then:function(x){p.push(x)}}}return jb++,u.then(NS,NS),u}function NS(){if(--jb===0&&Xh!==null){Jd!==null&&(Jd.status="fulfilled");var l=Xh;Xh=null,Qd=0,Jd=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function X7(l,u){var p=[],x={status:"pending",value:null,reason:null,then:function(A){p.push(A)}};return l.then(function(){x.status="fulfilled",x.value=u;for(var A=0;A<p.length;A++)(0,p[A])(u)},function(A){for(x.status="rejected",x.reason=A,A=0;A<p.length;A++)(0,p[A])(void 0)}),x}var kS=Q.S;Q.S=function(l,u){lA=Re(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&K7(l,u),kS!==null&&kS(l,u)};var Ic=q(null);function _b(){var l=Ic.current;return l!==null?l:Ws.pooledCache}function Bp(l,u){u===null?ie(Ic,Ic.current):ie(Ic,u.pool)}function SS(){var l=_b();return l===null?null:{parent:zr._currentValue,pool:l}}var eu=Error(n(460)),Nb=Error(n(474)),Ip=Error(n(542)),zp={then:function(){}};function CS(l){return l=l.status,l==="fulfilled"||l==="rejected"}function AS(l,u,p){switch(p=l[p],p===void 0?l.push(u):p!==u&&(u.then(Bn,Bn),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,TS(l),l;default:if(typeof u.status=="string")u.then(Bn,Bn);else{if(l=Ws,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=u,l.status="pending",l.then(function(x){if(u.status==="pending"){var A=u;A.status="fulfilled",A.value=x}},function(x){if(u.status==="pending"){var A=u;A.status="rejected",A.reason=x}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,TS(l),l}throw Uc=u,eu}}function zc(l){try{var u=l._init;return u(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Uc=p,eu):p}}var Uc=null;function ES(){if(Uc===null)throw Error(n(459));var l=Uc;return Uc=null,l}function TS(l){if(l===eu||l===Ip)throw Error(n(483))}var tu=null,Zh=0;function Up(l){var u=Zh;return Zh+=1,tu===null&&(tu=[]),AS(tu,l,u)}function Qh(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function $p(l,u){throw u.$$typeof===g?Error(n(525)):(l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function RS(l){function u(ze,Fe){if(l){var $e=ze.deletions;$e===null?(ze.deletions=[Fe],ze.flags|=16):$e.push(Fe)}}function p(ze,Fe){if(!l)return null;for(;Fe!==null;)u(ze,Fe),Fe=Fe.sibling;return null}function x(ze){for(var Fe=new Map;ze!==null;)ze.key!==null?Fe.set(ze.key,ze):Fe.set(ze.index,ze),ze=ze.sibling;return Fe}function A(ze,Fe){return ze=yo(ze,Fe),ze.index=0,ze.sibling=null,ze}function M(ze,Fe,$e){return ze.index=$e,l?($e=ze.alternate,$e!==null?($e=$e.index,$e<Fe?(ze.flags|=67108866,Fe):$e):(ze.flags|=67108866,Fe)):(ze.flags|=1048576,Fe)}function te(ze){return l&&ze.alternate===null&&(ze.flags|=67108866),ze}function je(ze,Fe,$e,et){return Fe===null||Fe.tag!==6?(Fe=hb($e,ze.mode,et),Fe.return=ze,Fe):(Fe=A(Fe,$e),Fe.return=ze,Fe)}function Oe(ze,Fe,$e,et){var Lt=$e.type;return Lt===y?Qe(ze,Fe,$e.props.children,et,$e.key):Fe!==null&&(Fe.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===U&&zc(Lt)===Fe.type)?(Fe=A(Fe,$e.props),Qh(Fe,$e),Fe.return=ze,Fe):(Fe=Pp($e.type,$e.key,$e.props,null,ze.mode,et),Qh(Fe,$e),Fe.return=ze,Fe)}function Ve(ze,Fe,$e,et){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==$e.containerInfo||Fe.stateNode.implementation!==$e.implementation?(Fe=fb($e,ze.mode,et),Fe.return=ze,Fe):(Fe=A(Fe,$e.children||[]),Fe.return=ze,Fe)}function Qe(ze,Fe,$e,et,Lt){return Fe===null||Fe.tag!==7?(Fe=Oc($e,ze.mode,et,Lt),Fe.return=ze,Fe):(Fe=A(Fe,$e),Fe.return=ze,Fe)}function tt(ze,Fe,$e){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=hb(""+Fe,ze.mode,$e),Fe.return=ze,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case b:return $e=Pp(Fe.type,Fe.key,Fe.props,null,ze.mode,$e),Qh($e,Fe),$e.return=ze,$e;case v:return Fe=fb(Fe,ze.mode,$e),Fe.return=ze,Fe;case U:return Fe=zc(Fe),tt(ze,Fe,$e)}if(J(Fe)||I(Fe))return Fe=Oc(Fe,ze.mode,$e,null),Fe.return=ze,Fe;if(typeof Fe.then=="function")return tt(ze,Up(Fe),$e);if(Fe.$$typeof===N)return tt(ze,Fp(ze,Fe),$e);$p(ze,Fe)}return null}function qe(ze,Fe,$e,et){var Lt=Fe!==null?Fe.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Lt!==null?null:je(ze,Fe,""+$e,et);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case b:return $e.key===Lt?Oe(ze,Fe,$e,et):null;case v:return $e.key===Lt?Ve(ze,Fe,$e,et):null;case U:return $e=zc($e),qe(ze,Fe,$e,et)}if(J($e)||I($e))return Lt!==null?null:Qe(ze,Fe,$e,et,null);if(typeof $e.then=="function")return qe(ze,Fe,Up($e),et);if($e.$$typeof===N)return qe(ze,Fe,Fp(ze,$e),et);$p(ze,$e)}return null}function Xe(ze,Fe,$e,et,Lt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return ze=ze.get($e)||null,je(Fe,ze,""+et,Lt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case b:return ze=ze.get(et.key===null?$e:et.key)||null,Oe(Fe,ze,et,Lt);case v:return ze=ze.get(et.key===null?$e:et.key)||null,Ve(Fe,ze,et,Lt);case U:return et=zc(et),Xe(ze,Fe,$e,et,Lt)}if(J(et)||I(et))return ze=ze.get($e)||null,Qe(Fe,ze,et,Lt,null);if(typeof et.then=="function")return Xe(ze,Fe,$e,Up(et),Lt);if(et.$$typeof===N)return Xe(ze,Fe,$e,Fp(Fe,et),Lt);$p(Fe,et)}return null}function kt(ze,Fe,$e,et){for(var Lt=null,Cs=null,Et=Fe,as=Fe=0,ps=null;Et!==null&&as<$e.length;as++){Et.index>as?(ps=Et,Et=null):ps=Et.sibling;var As=qe(ze,Et,$e[as],et);if(As===null){Et===null&&(Et=ps);break}l&&Et&&As.alternate===null&&u(ze,Et),Fe=M(As,Fe,as),Cs===null?Lt=As:Cs.sibling=As,Cs=As,Et=ps}if(as===$e.length)return p(ze,Et),bs&&bo(ze,as),Lt;if(Et===null){for(;as<$e.length;as++)Et=tt(ze,$e[as],et),Et!==null&&(Fe=M(Et,Fe,as),Cs===null?Lt=Et:Cs.sibling=Et,Cs=Et);return bs&&bo(ze,as),Lt}for(Et=x(Et);as<$e.length;as++)ps=Xe(Et,ze,as,$e[as],et),ps!==null&&(l&&ps.alternate!==null&&Et.delete(ps.key===null?as:ps.key),Fe=M(ps,Fe,as),Cs===null?Lt=ps:Cs.sibling=ps,Cs=ps);return l&&Et.forEach(function(Il){return u(ze,Il)}),bs&&bo(ze,as),Lt}function Bt(ze,Fe,$e,et){if($e==null)throw Error(n(151));for(var Lt=null,Cs=null,Et=Fe,as=Fe=0,ps=null,As=$e.next();Et!==null&&!As.done;as++,As=$e.next()){Et.index>as?(ps=Et,Et=null):ps=Et.sibling;var Il=qe(ze,Et,As.value,et);if(Il===null){Et===null&&(Et=ps);break}l&&Et&&Il.alternate===null&&u(ze,Et),Fe=M(Il,Fe,as),Cs===null?Lt=Il:Cs.sibling=Il,Cs=Il,Et=ps}if(As.done)return p(ze,Et),bs&&bo(ze,as),Lt;if(Et===null){for(;!As.done;as++,As=$e.next())As=tt(ze,As.value,et),As!==null&&(Fe=M(As,Fe,as),Cs===null?Lt=As:Cs.sibling=As,Cs=As);return bs&&bo(ze,as),Lt}for(Et=x(Et);!As.done;as++,As=$e.next())As=Xe(Et,ze,as,As.value,et),As!==null&&(l&&As.alternate!==null&&Et.delete(As.key===null?as:As.key),Fe=M(As,Fe,as),Cs===null?Lt=As:Cs.sibling=As,Cs=As);return l&&Et.forEach(function(oU){return u(ze,oU)}),bs&&bo(ze,as),Lt}function Vs(ze,Fe,$e,et){if(typeof $e=="object"&&$e!==null&&$e.type===y&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case b:e:{for(var Lt=$e.key;Fe!==null;){if(Fe.key===Lt){if(Lt=$e.type,Lt===y){if(Fe.tag===7){p(ze,Fe.sibling),et=A(Fe,$e.props.children),et.return=ze,ze=et;break e}}else if(Fe.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===U&&zc(Lt)===Fe.type){p(ze,Fe.sibling),et=A(Fe,$e.props),Qh(et,$e),et.return=ze,ze=et;break e}p(ze,Fe);break}else u(ze,Fe);Fe=Fe.sibling}$e.type===y?(et=Oc($e.props.children,ze.mode,et,$e.key),et.return=ze,ze=et):(et=Pp($e.type,$e.key,$e.props,null,ze.mode,et),Qh(et,$e),et.return=ze,ze=et)}return te(ze);case v:e:{for(Lt=$e.key;Fe!==null;){if(Fe.key===Lt)if(Fe.tag===4&&Fe.stateNode.containerInfo===$e.containerInfo&&Fe.stateNode.implementation===$e.implementation){p(ze,Fe.sibling),et=A(Fe,$e.children||[]),et.return=ze,ze=et;break e}else{p(ze,Fe);break}else u(ze,Fe);Fe=Fe.sibling}et=fb($e,ze.mode,et),et.return=ze,ze=et}return te(ze);case U:return $e=zc($e),Vs(ze,Fe,$e,et)}if(J($e))return kt(ze,Fe,$e,et);if(I($e)){if(Lt=I($e),typeof Lt!="function")throw Error(n(150));return $e=Lt.call($e),Bt(ze,Fe,$e,et)}if(typeof $e.then=="function")return Vs(ze,Fe,Up($e),et);if($e.$$typeof===N)return Vs(ze,Fe,Fp(ze,$e),et);$p(ze,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint"?($e=""+$e,Fe!==null&&Fe.tag===6?(p(ze,Fe.sibling),et=A(Fe,$e),et.return=ze,ze=et):(p(ze,Fe),et=hb($e,ze.mode,et),et.return=ze,ze=et),te(ze)):p(ze,Fe)}return function(ze,Fe,$e,et){try{Zh=0;var Lt=Vs(ze,Fe,$e,et);return tu=null,Lt}catch(Et){if(Et===eu||Et===Ip)throw Et;var Cs=da(29,Et,null,ze.mode);return Cs.lanes=et,Cs.return=ze,Cs}finally{}}}var $c=RS(!0),DS=RS(!1),jl=!1;function kb(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sb(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function _l(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Nl(l,u,p){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(Ds&2)!==0){var A=x.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),x.pending=u,u=Mp(l),pS(l,null,p),u}return Dp(l,x,u,p),Mp(l)}function Jh(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var x=u.lanes;x&=l.pendingLanes,p|=x,u.lanes=p,Ys(l,p)}}function Cb(l,u){var p=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var A=null,M=null;if(p=p.firstBaseUpdate,p!==null){do{var te={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};M===null?A=M=te:M=M.next=te,p=p.next}while(p!==null);M===null?A=M=u:M=M.next=u}else A=M=u;p={baseState:x.baseState,firstBaseUpdate:A,lastBaseUpdate:M,shared:x.shared,callbacks:x.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}var Ab=!1;function ef(){if(Ab){var l=Jd;if(l!==null)throw l}}function tf(l,u,p,x){Ab=!1;var A=l.updateQueue;jl=!1;var M=A.firstBaseUpdate,te=A.lastBaseUpdate,je=A.shared.pending;if(je!==null){A.shared.pending=null;var Oe=je,Ve=Oe.next;Oe.next=null,te===null?M=Ve:te.next=Ve,te=Oe;var Qe=l.alternate;Qe!==null&&(Qe=Qe.updateQueue,je=Qe.lastBaseUpdate,je!==te&&(je===null?Qe.firstBaseUpdate=Ve:je.next=Ve,Qe.lastBaseUpdate=Oe))}if(M!==null){var tt=A.baseState;te=0,Qe=Ve=Oe=null,je=M;do{var qe=je.lane&-536870913,Xe=qe!==je.lane;if(Xe?(ms&qe)===qe:(x&qe)===qe){qe!==0&&qe===Qd&&(Ab=!0),Qe!==null&&(Qe=Qe.next={lane:0,tag:je.tag,payload:je.payload,callback:null,next:null});e:{var kt=l,Bt=je;qe=u;var Vs=p;switch(Bt.tag){case 1:if(kt=Bt.payload,typeof kt=="function"){tt=kt.call(Vs,tt,qe);break e}tt=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Bt.payload,qe=typeof kt=="function"?kt.call(Vs,tt,qe):kt,qe==null)break e;tt=f({},tt,qe);break e;case 2:jl=!0}}qe=je.callback,qe!==null&&(l.flags|=64,Xe&&(l.flags|=8192),Xe=A.callbacks,Xe===null?A.callbacks=[qe]:Xe.push(qe))}else Xe={lane:qe,tag:je.tag,payload:je.payload,callback:je.callback,next:null},Qe===null?(Ve=Qe=Xe,Oe=tt):Qe=Qe.next=Xe,te|=qe;if(je=je.next,je===null){if(je=A.shared.pending,je===null)break;Xe=je,je=Xe.next,Xe.next=null,A.lastBaseUpdate=Xe,A.shared.pending=null}}while(!0);Qe===null&&(Oe=tt),A.baseState=Oe,A.firstBaseUpdate=Ve,A.lastBaseUpdate=Qe,M===null&&(A.shared.lanes=0),El|=te,l.lanes=te,l.memoizedState=tt}}function MS(l,u){if(typeof l!="function")throw Error(n(191,l));l.call(u)}function PS(l,u){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)MS(p[l],u)}var su=q(null),Vp=q(0);function OS(l,u){l=To,ie(Vp,l),ie(su,u),To=l|u.baseLanes}function Eb(){ie(Vp,To),ie(su,su.current)}function Tb(){To=Vp.current,G(su),G(Vp)}var ua=q(null),za=null;function kl(l){var u=l.alternate;ie(Tr,Tr.current&1),ie(ua,l),za===null&&(u===null||su.current!==null||u.memoizedState!==null)&&(za=l)}function Rb(l){ie(Tr,Tr.current),ie(ua,l),za===null&&(za=l)}function LS(l){l.tag===22?(ie(Tr,Tr.current),ie(ua,l),za===null&&(za=l)):Sl()}function Sl(){ie(Tr,Tr.current),ie(ua,ua.current)}function ha(l){G(ua),za===l&&(za=null),G(Tr)}var Tr=q(0);function Hp(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||Fv(p)||Bv(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var jo=0,rs=null,Us=null,Ur=null,qp=!1,ru=!1,Vc=!1,Gp=0,sf=0,nu=null,Z7=0;function jr(){throw Error(n(321))}function Db(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!ca(l[p],u[p]))return!1;return!0}function Mb(l,u,p,x,A,M){return jo=M,rs=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Q.H=l===null||l.memoizedState===null?bC:Yb,Vc=!1,M=p(x,A),Vc=!1,ru&&(M=BS(u,p,x,A)),FS(l),M}function FS(l){Q.H=af;var u=Us!==null&&Us.next!==null;if(jo=0,Ur=Us=rs=null,qp=!1,sf=0,nu=null,u)throw Error(n(300));l===null||$r||(l=l.dependencies,l!==null&&Lp(l)&&($r=!0))}function BS(l,u,p,x){rs=l;var A=0;do{if(ru&&(nu=null),sf=0,ru=!1,25<=A)throw Error(n(301));if(A+=1,Ur=Us=null,l.updateQueue!=null){var M=l.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}Q.H=vC,M=u(p,x)}while(ru);return M}function Q7(){var l=Q.H,u=l.useState()[0];return u=typeof u.then=="function"?rf(u):u,l=l.useState()[0],(Us!==null?Us.memoizedState:null)!==l&&(rs.flags|=1024),u}function Pb(){var l=Gp!==0;return Gp=0,l}function Ob(l,u,p){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~p}function Lb(l){if(qp){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}qp=!1}jo=0,Ur=Us=rs=null,ru=!1,sf=Gp=0,nu=null}function Tn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?rs.memoizedState=Ur=l:Ur=Ur.next=l,Ur}function Rr(){if(Us===null){var l=rs.alternate;l=l!==null?l.memoizedState:null}else l=Us.next;var u=Ur===null?rs.memoizedState:Ur.next;if(u!==null)Ur=u,Us=l;else{if(l===null)throw rs.alternate===null?Error(n(467)):Error(n(310));Us=l,l={memoizedState:Us.memoizedState,baseState:Us.baseState,baseQueue:Us.baseQueue,queue:Us.queue,next:null},Ur===null?rs.memoizedState=Ur=l:Ur=Ur.next=l}return Ur}function Wp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rf(l){var u=sf;return sf+=1,nu===null&&(nu=[]),l=AS(nu,l,u),u=rs,(Ur===null?u.memoizedState:Ur.next)===null&&(u=u.alternate,Q.H=u===null||u.memoizedState===null?bC:Yb),l}function Yp(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return rf(l);if(l.$$typeof===N)return on(l)}throw Error(n(438,String(l)))}function Fb(l){var u=null,p=rs.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var x=rs.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(u={data:x.data.map(function(A){return A.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=Wp(),rs.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(l),x=0;x<l;x++)p[x]=re;return u.index++,p}function _o(l,u){return typeof u=="function"?u(l):u}function Kp(l){var u=Rr();return Bb(u,Us,l)}function Bb(l,u,p){var x=l.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=p;var A=l.baseQueue,M=x.pending;if(M!==null){if(A!==null){var te=A.next;A.next=M.next,M.next=te}u.baseQueue=A=M,x.pending=null}if(M=l.baseState,A===null)l.memoizedState=M;else{u=A.next;var je=te=null,Oe=null,Ve=u,Qe=!1;do{var tt=Ve.lane&-536870913;if(tt!==Ve.lane?(ms&tt)===tt:(jo&tt)===tt){var qe=Ve.revertLane;if(qe===0)Oe!==null&&(Oe=Oe.next={lane:0,revertLane:0,gesture:null,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),tt===Qd&&(Qe=!0);else if((jo&qe)===qe){Ve=Ve.next,qe===Qd&&(Qe=!0);continue}else tt={lane:0,revertLane:Ve.revertLane,gesture:null,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},Oe===null?(je=Oe=tt,te=M):Oe=Oe.next=tt,rs.lanes|=qe,El|=qe;tt=Ve.action,Vc&&p(M,tt),M=Ve.hasEagerState?Ve.eagerState:p(M,tt)}else qe={lane:tt,revertLane:Ve.revertLane,gesture:Ve.gesture,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},Oe===null?(je=Oe=qe,te=M):Oe=Oe.next=qe,rs.lanes|=tt,El|=tt;Ve=Ve.next}while(Ve!==null&&Ve!==u);if(Oe===null?te=M:Oe.next=je,!ca(M,l.memoizedState)&&($r=!0,Qe&&(p=Jd,p!==null)))throw p;l.memoizedState=M,l.baseState=te,l.baseQueue=Oe,x.lastRenderedState=M}return A===null&&(x.lanes=0),[l.memoizedState,x.dispatch]}function Ib(l){var u=Rr(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var x=p.dispatch,A=p.pending,M=u.memoizedState;if(A!==null){p.pending=null;var te=A=A.next;do M=l(M,te.action),te=te.next;while(te!==A);ca(M,u.memoizedState)||($r=!0),u.memoizedState=M,u.baseQueue===null&&(u.baseState=M),p.lastRenderedState=M}return[M,x]}function IS(l,u,p){var x=rs,A=Rr(),M=bs;if(M){if(p===void 0)throw Error(n(407));p=p()}else p=u();var te=!ca((Us||A).memoizedState,p);if(te&&(A.memoizedState=p,$r=!0),A=A.queue,$b($S.bind(null,x,A,l),[l]),A.getSnapshot!==u||te||Ur!==null&&Ur.memoizedState.tag&1){if(x.flags|=2048,au(9,{destroy:void 0},US.bind(null,x,A,p,u),null),Ws===null)throw Error(n(349));M||(jo&127)!==0||zS(x,u,p)}return p}function zS(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=rs.updateQueue,u===null?(u=Wp(),rs.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function US(l,u,p,x){u.value=p,u.getSnapshot=x,VS(u)&&HS(l)}function $S(l,u,p){return p(function(){VS(u)&&HS(l)})}function VS(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!ca(l,p)}catch{return!0}}function HS(l){var u=Pc(l,2);u!==null&&qn(u,l,2)}function zb(l){var u=Tn();if(typeof l=="function"){var p=l;if(l=p(),Vc){Ze(!0);try{p()}finally{Ze(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:l},u}function qS(l,u,p,x){return l.baseState=p,Bb(l,Us,typeof x=="function"?x:_o)}function J7(l,u,p,x,A){if(Qp(l))throw Error(n(485));if(l=u.action,l!==null){var M={payload:A,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){M.listeners.push(te)}};Q.T!==null?p(!0):M.isTransition=!1,x(M),p=u.pending,p===null?(M.next=u.pending=M,GS(u,M)):(M.next=p.next,u.pending=p.next=M)}}function GS(l,u){var p=u.action,x=u.payload,A=l.state;if(u.isTransition){var M=Q.T,te={};Q.T=te;try{var je=p(A,x),Oe=Q.S;Oe!==null&&Oe(te,je),WS(l,u,je)}catch(Ve){Ub(l,u,Ve)}finally{M!==null&&te.types!==null&&(M.types=te.types),Q.T=M}}else try{M=p(A,x),WS(l,u,M)}catch(Ve){Ub(l,u,Ve)}}function WS(l,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(x){YS(l,u,x)},function(x){return Ub(l,u,x)}):YS(l,u,p)}function YS(l,u,p){u.status="fulfilled",u.value=p,KS(u),l.state=p,u=l.pending,u!==null&&(p=u.next,p===u?l.pending=null:(p=p.next,u.next=p,GS(l,p)))}function Ub(l,u,p){var x=l.pending;if(l.pending=null,x!==null){x=x.next;do u.status="rejected",u.reason=p,KS(u),u=u.next;while(u!==x)}l.action=null}function KS(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function XS(l,u){return u}function ZS(l,u){if(bs){var p=Ws.formState;if(p!==null){e:{var x=rs;if(bs){if(Zs){t:{for(var A=Zs,M=Ia;A.nodeType!==8;){if(!M){A=null;break t}if(A=Ua(A.nextSibling),A===null){A=null;break t}}M=A.data,A=M==="F!"||M==="F"?A:null}if(A){Zs=Ua(A.nextSibling),x=A.data==="F!";break e}}vl(x)}x=!1}x&&(u=p[0])}}return p=Tn(),p.memoizedState=p.baseState=u,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XS,lastRenderedState:u},p.queue=x,p=gC.bind(null,rs,x),x.dispatch=p,x=zb(!1),M=Wb.bind(null,rs,!1,x.queue),x=Tn(),A={state:u,dispatch:null,action:l,pending:null},x.queue=A,p=J7.bind(null,rs,A,M,p),A.dispatch=p,x.memoizedState=l,[u,p,!1]}function QS(l){var u=Rr();return JS(u,Us,l)}function JS(l,u,p){if(u=Bb(l,u,XS)[0],l=Kp(_o)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var x=rf(u)}catch(te){throw te===eu?Ip:te}else x=u;u=Rr();var A=u.queue,M=A.dispatch;return p!==u.memoizedState&&(rs.flags|=2048,au(9,{destroy:void 0},ez.bind(null,A,p),null)),[x,M,l]}function ez(l,u){l.action=u}function eC(l){var u=Rr(),p=Us;if(p!==null)return JS(u,p,l);Rr(),u=u.memoizedState,p=Rr();var x=p.queue.dispatch;return p.memoizedState=l,[u,x,!1]}function au(l,u,p,x){return l={tag:l,create:p,deps:x,inst:u,next:null},u=rs.updateQueue,u===null&&(u=Wp(),rs.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=l.next=l:(x=p.next,p.next=l,l.next=x,u.lastEffect=l),l}function tC(){return Rr().memoizedState}function Xp(l,u,p,x){var A=Tn();rs.flags|=l,A.memoizedState=au(1|u,{destroy:void 0},p,x===void 0?null:x)}function Zp(l,u,p,x){var A=Rr();x=x===void 0?null:x;var M=A.memoizedState.inst;Us!==null&&x!==null&&Db(x,Us.memoizedState.deps)?A.memoizedState=au(u,M,p,x):(rs.flags|=l,A.memoizedState=au(1|u,M,p,x))}function sC(l,u){Xp(8390656,8,l,u)}function $b(l,u){Zp(2048,8,l,u)}function tz(l){rs.flags|=4;var u=rs.updateQueue;if(u===null)u=Wp(),rs.updateQueue=u,u.events=[l];else{var p=u.events;p===null?u.events=[l]:p.push(l)}}function rC(l){var u=Rr().memoizedState;return tz({ref:u,nextImpl:l}),function(){if((Ds&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function nC(l,u){return Zp(4,2,l,u)}function aC(l,u){return Zp(4,4,l,u)}function iC(l,u){if(typeof u=="function"){l=l();var p=u(l);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function oC(l,u,p){p=p!=null?p.concat([l]):null,Zp(4,4,iC.bind(null,u,l),p)}function Vb(){}function lC(l,u){var p=Rr();u=u===void 0?null:u;var x=p.memoizedState;return u!==null&&Db(u,x[1])?x[0]:(p.memoizedState=[l,u],l)}function cC(l,u){var p=Rr();u=u===void 0?null:u;var x=p.memoizedState;if(u!==null&&Db(u,x[1]))return x[0];if(x=l(),Vc){Ze(!0);try{l()}finally{Ze(!1)}}return p.memoizedState=[x,u],x}function Hb(l,u,p){return p===void 0||(jo&1073741824)!==0&&(ms&261930)===0?l.memoizedState=u:(l.memoizedState=p,l=dA(),rs.lanes|=l,El|=l,p)}function dC(l,u,p,x){return ca(p,u)?p:su.current!==null?(l=Hb(l,p,x),ca(l,u)||($r=!0),l):(jo&42)===0||(jo&1073741824)!==0&&(ms&261930)===0?($r=!0,l.memoizedState=p):(l=dA(),rs.lanes|=l,El|=l,u)}function uC(l,u,p,x,A){var M=Z.p;Z.p=M!==0&&8>M?M:8;var te=Q.T,je={};Q.T=je,Wb(l,!1,u,p);try{var Oe=A(),Ve=Q.S;if(Ve!==null&&Ve(je,Oe),Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var Qe=X7(Oe,x);nf(l,u,Qe,pa(l))}else nf(l,u,x,pa(l))}catch(tt){nf(l,u,{then:function(){},status:"rejected",reason:tt},pa())}finally{Z.p=M,te!==null&&je.types!==null&&(te.types=je.types),Q.T=te}}function sz(){}function qb(l,u,p,x){if(l.tag!==5)throw Error(n(476));var A=hC(l).queue;uC(l,A,u,ee,p===null?sz:function(){return fC(l),p(x)})}function hC(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:ee},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:p},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function fC(l){var u=hC(l);u.next===null&&(u=l.alternate.memoizedState),nf(l,u.next.queue,{},pa())}function Gb(){return on(jf)}function mC(){return Rr().memoizedState}function pC(){return Rr().memoizedState}function rz(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var p=pa();l=_l(p);var x=Nl(u,l,p);x!==null&&(qn(x,u,p),Jh(x,u,p)),u={cache:wb()},l.payload=u;return}u=u.return}}function nz(l,u,p){var x=pa();p={lane:x,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Qp(l)?xC(u,p):(p=db(l,u,p,x),p!==null&&(qn(p,l,x),yC(p,u,x)))}function gC(l,u,p){var x=pa();nf(l,u,p,x)}function nf(l,u,p,x){var A={lane:x,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Qp(l))xC(u,A);else{var M=l.alternate;if(l.lanes===0&&(M===null||M.lanes===0)&&(M=u.lastRenderedReducer,M!==null))try{var te=u.lastRenderedState,je=M(te,p);if(A.hasEagerState=!0,A.eagerState=je,ca(je,te))return Dp(l,u,A,0),Ws===null&&Rp(),!1}catch{}finally{}if(p=db(l,u,A,x),p!==null)return qn(p,l,x),yC(p,u,x),!0}return!1}function Wb(l,u,p,x){if(x={lane:2,revertLane:kv(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Qp(l)){if(u)throw Error(n(479))}else u=db(l,p,x,2),u!==null&&qn(u,l,2)}function Qp(l){var u=l.alternate;return l===rs||u!==null&&u===rs}function xC(l,u){ru=qp=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function yC(l,u,p){if((p&4194048)!==0){var x=u.lanes;x&=l.pendingLanes,p|=x,u.lanes=p,Ys(l,p)}}var af={readContext:on,use:Yp,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useLayoutEffect:jr,useInsertionEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useSyncExternalStore:jr,useId:jr,useHostTransitionStatus:jr,useFormState:jr,useActionState:jr,useOptimistic:jr,useMemoCache:jr,useCacheRefresh:jr};af.useEffectEvent=jr;var bC={readContext:on,use:Yp,useCallback:function(l,u){return Tn().memoizedState=[l,u===void 0?null:u],l},useContext:on,useEffect:sC,useImperativeHandle:function(l,u,p){p=p!=null?p.concat([l]):null,Xp(4194308,4,iC.bind(null,u,l),p)},useLayoutEffect:function(l,u){return Xp(4194308,4,l,u)},useInsertionEffect:function(l,u){Xp(4,2,l,u)},useMemo:function(l,u){var p=Tn();u=u===void 0?null:u;var x=l();if(Vc){Ze(!0);try{l()}finally{Ze(!1)}}return p.memoizedState=[x,u],x},useReducer:function(l,u,p){var x=Tn();if(p!==void 0){var A=p(u);if(Vc){Ze(!0);try{p(u)}finally{Ze(!1)}}}else A=u;return x.memoizedState=x.baseState=A,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:A},x.queue=l,l=l.dispatch=nz.bind(null,rs,l),[x.memoizedState,l]},useRef:function(l){var u=Tn();return l={current:l},u.memoizedState=l},useState:function(l){l=zb(l);var u=l.queue,p=gC.bind(null,rs,u);return u.dispatch=p,[l.memoizedState,p]},useDebugValue:Vb,useDeferredValue:function(l,u){var p=Tn();return Hb(p,l,u)},useTransition:function(){var l=zb(!1);return l=uC.bind(null,rs,l.queue,!0,!1),Tn().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,p){var x=rs,A=Tn();if(bs){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),Ws===null)throw Error(n(349));(ms&127)!==0||zS(x,u,p)}A.memoizedState=p;var M={value:p,getSnapshot:u};return A.queue=M,sC($S.bind(null,x,M,l),[l]),x.flags|=2048,au(9,{destroy:void 0},US.bind(null,x,M,p,u),null),p},useId:function(){var l=Tn(),u=Ws.identifierPrefix;if(bs){var p=Mi,x=Di;p=(x&~(1<<32-Te(x)-1)).toString(32)+p,u="_"+u+"R_"+p,p=Gp++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=Z7++,u="_"+u+"r_"+p.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:Gb,useFormState:ZS,useActionState:ZS,useOptimistic:function(l){var u=Tn();u.memoizedState=u.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=Wb.bind(null,rs,!0,p),p.dispatch=u,[l,u]},useMemoCache:Fb,useCacheRefresh:function(){return Tn().memoizedState=rz.bind(null,rs)},useEffectEvent:function(l){var u=Tn(),p={impl:l};return u.memoizedState=p,function(){if((Ds&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},Yb={readContext:on,use:Yp,useCallback:lC,useContext:on,useEffect:$b,useImperativeHandle:oC,useInsertionEffect:nC,useLayoutEffect:aC,useMemo:cC,useReducer:Kp,useRef:tC,useState:function(){return Kp(_o)},useDebugValue:Vb,useDeferredValue:function(l,u){var p=Rr();return dC(p,Us.memoizedState,l,u)},useTransition:function(){var l=Kp(_o)[0],u=Rr().memoizedState;return[typeof l=="boolean"?l:rf(l),u]},useSyncExternalStore:IS,useId:mC,useHostTransitionStatus:Gb,useFormState:QS,useActionState:QS,useOptimistic:function(l,u){var p=Rr();return qS(p,Us,l,u)},useMemoCache:Fb,useCacheRefresh:pC};Yb.useEffectEvent=rC;var vC={readContext:on,use:Yp,useCallback:lC,useContext:on,useEffect:$b,useImperativeHandle:oC,useInsertionEffect:nC,useLayoutEffect:aC,useMemo:cC,useReducer:Ib,useRef:tC,useState:function(){return Ib(_o)},useDebugValue:Vb,useDeferredValue:function(l,u){var p=Rr();return Us===null?Hb(p,l,u):dC(p,Us.memoizedState,l,u)},useTransition:function(){var l=Ib(_o)[0],u=Rr().memoizedState;return[typeof l=="boolean"?l:rf(l),u]},useSyncExternalStore:IS,useId:mC,useHostTransitionStatus:Gb,useFormState:eC,useActionState:eC,useOptimistic:function(l,u){var p=Rr();return Us!==null?qS(p,Us,l,u):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:Fb,useCacheRefresh:pC};vC.useEffectEvent=rC;function Kb(l,u,p,x){u=l.memoizedState,p=p(x,u),p=p==null?u:f({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var Xb={enqueueSetState:function(l,u,p){l=l._reactInternals;var x=pa(),A=_l(x);A.payload=u,p!=null&&(A.callback=p),u=Nl(l,A,x),u!==null&&(qn(u,l,x),Jh(u,l,x))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var x=pa(),A=_l(x);A.tag=1,A.payload=u,p!=null&&(A.callback=p),u=Nl(l,A,x),u!==null&&(qn(u,l,x),Jh(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=pa(),x=_l(p);x.tag=2,u!=null&&(x.callback=u),u=Nl(l,x,p),u!==null&&(qn(u,l,p),Jh(u,l,p))}};function wC(l,u,p,x,A,M,te){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,M,te):u.prototype&&u.prototype.isPureReactComponent?!qh(p,x)||!qh(A,M):!0}function jC(l,u,p,x){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,x),u.state!==l&&Xb.enqueueReplaceState(u,u.state,null)}function Hc(l,u){var p=u;if("ref"in u){p={};for(var x in u)x!=="ref"&&(p[x]=u[x])}if(l=l.defaultProps){p===u&&(p=f({},p));for(var A in l)p[A]===void 0&&(p[A]=l[A])}return p}function _C(l){Tp(l)}function NC(l){console.error(l)}function kC(l){Tp(l)}function Jp(l,u){try{var p=l.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(x){setTimeout(function(){throw x})}}function SC(l,u,p){try{var x=l.onCaughtError;x(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Zb(l,u,p){return p=_l(p),p.tag=3,p.payload={element:null},p.callback=function(){Jp(l,u)},p}function CC(l){return l=_l(l),l.tag=3,l}function AC(l,u,p,x){var A=p.type.getDerivedStateFromError;if(typeof A=="function"){var M=x.value;l.payload=function(){return A(M)},l.callback=function(){SC(u,p,x)}}var te=p.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(l.callback=function(){SC(u,p,x),typeof A!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var je=x.stack;this.componentDidCatch(x.value,{componentStack:je!==null?je:""})})}function az(l,u,p,x,A){if(p.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(u=p.alternate,u!==null&&Zd(u,p,A,!0),p=ua.current,p!==null){switch(p.tag){case 31:case 13:return za===null?ug():p.alternate===null&&_r===0&&(_r=3),p.flags&=-257,p.flags|=65536,p.lanes=A,x===zp?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([x]):u.add(x),jv(l,x,A)),!1;case 22:return p.flags|=65536,x===zp?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([x])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([x]):p.add(x)),jv(l,x,A)),!1}throw Error(n(435,p.tag))}return jv(l,x,A),ug(),!1}if(bs)return u=ua.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=A,x!==gb&&(l=Error(n(422),{cause:x}),Yh(La(l,p)))):(x!==gb&&(u=Error(n(423),{cause:x}),Yh(La(u,p))),l=l.current.alternate,l.flags|=65536,A&=-A,l.lanes|=A,x=La(x,p),A=Zb(l.stateNode,x,A),Cb(l,A),_r!==4&&(_r=2)),!1;var M=Error(n(520),{cause:x});if(M=La(M,p),mf===null?mf=[M]:mf.push(M),_r!==4&&(_r=2),u===null)return!0;x=La(x,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,l=A&-A,p.lanes|=l,l=Zb(p.stateNode,x,l),Cb(p,l),!1;case 1:if(u=p.type,M=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Tl===null||!Tl.has(M))))return p.flags|=65536,A&=-A,p.lanes|=A,A=CC(A),AC(A,l,p,x),Cb(p,A),!1}p=p.return}while(p!==null);return!1}var Qb=Error(n(461)),$r=!1;function ln(l,u,p,x){u.child=l===null?DS(u,null,p,x):$c(u,l.child,p,x)}function EC(l,u,p,x,A){p=p.render;var M=u.ref;if("ref"in x){var te={};for(var je in x)je!=="ref"&&(te[je]=x[je])}else te=x;return Bc(u),x=Mb(l,u,p,te,M,A),je=Pb(),l!==null&&!$r?(Ob(l,u,A),No(l,u,A)):(bs&&je&&mb(u),u.flags|=1,ln(l,u,x,A),u.child)}function TC(l,u,p,x,A){if(l===null){var M=p.type;return typeof M=="function"&&!ub(M)&&M.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=M,RC(l,u,M,x,A)):(l=Pp(p.type,null,x,u,u.mode,A),l.ref=u.ref,l.return=u,u.child=l)}if(M=l.child,!iv(l,A)){var te=M.memoizedProps;if(p=p.compare,p=p!==null?p:qh,p(te,x)&&l.ref===u.ref)return No(l,u,A)}return u.flags|=1,l=yo(M,x),l.ref=u.ref,l.return=u,u.child=l}function RC(l,u,p,x,A){if(l!==null){var M=l.memoizedProps;if(qh(M,x)&&l.ref===u.ref)if($r=!1,u.pendingProps=x=M,iv(l,A))(l.flags&131072)!==0&&($r=!0);else return u.lanes=l.lanes,No(l,u,A)}return Jb(l,u,p,x,A)}function DC(l,u,p,x){var A=x.children,M=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((u.flags&128)!==0){if(M=M!==null?M.baseLanes|p:p,l!==null){for(x=u.child=l.child,A=0;x!==null;)A=A|x.lanes|x.childLanes,x=x.sibling;x=A&~M}else x=0,u.child=null;return MC(l,u,M,p,x)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&Bp(u,M!==null?M.cachePool:null),M!==null?OS(u,M):Eb(),LS(u);else return x=u.lanes=536870912,MC(l,u,M!==null?M.baseLanes|p:p,p,x)}else M!==null?(Bp(u,M.cachePool),OS(u,M),Sl(),u.memoizedState=null):(l!==null&&Bp(u,null),Eb(),Sl());return ln(l,u,A,p),u.child}function of(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function MC(l,u,p,x,A){var M=_b();return M=M===null?null:{parent:zr._currentValue,pool:M},u.memoizedState={baseLanes:p,cachePool:M},l!==null&&Bp(u,null),Eb(),LS(u),l!==null&&Zd(l,u,x,!0),u.childLanes=A,null}function eg(l,u){return u=sg({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function PC(l,u,p){return $c(u,l.child,null,p),l=eg(u,u.pendingProps),l.flags|=2,ha(u),u.memoizedState=null,l}function iz(l,u,p){var x=u.pendingProps,A=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(bs){if(x.mode==="hidden")return l=eg(u,x),u.lanes=536870912,of(null,l);if(Rb(u),(l=Zs)?(l=GA(l,Ia),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:yl!==null?{id:Di,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},p=xS(l),p.return=u,u.child=p,an=u,Zs=null)):l=null,l===null)throw vl(u);return u.lanes=536870912,null}return eg(u,x)}var M=l.memoizedState;if(M!==null){var te=M.dehydrated;if(Rb(u),A)if(u.flags&256)u.flags&=-257,u=PC(l,u,p);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(n(558));else if($r||Zd(l,u,p,!1),A=(p&l.childLanes)!==0,$r||A){if(x=Ws,x!==null&&(te=qr(x,p),te!==0&&te!==M.retryLane))throw M.retryLane=te,Pc(l,te),qn(x,l,te),Qb;ug(),u=PC(l,u,p)}else l=M.treeContext,Zs=Ua(te.nextSibling),an=u,bs=!0,bl=null,Ia=!1,l!==null&&vS(u,l),u=eg(u,x),u.flags|=4096;return u}return l=yo(l.child,{mode:x.mode,children:x.children}),l.ref=u.ref,u.child=l,l.return=u,l}function tg(l,u){var p=u.ref;if(p===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(l===null||l.ref!==p)&&(u.flags|=4194816)}}function Jb(l,u,p,x,A){return Bc(u),p=Mb(l,u,p,x,void 0,A),x=Pb(),l!==null&&!$r?(Ob(l,u,A),No(l,u,A)):(bs&&x&&mb(u),u.flags|=1,ln(l,u,p,A),u.child)}function OC(l,u,p,x,A,M){return Bc(u),u.updateQueue=null,p=BS(u,x,p,A),FS(l),x=Pb(),l!==null&&!$r?(Ob(l,u,M),No(l,u,M)):(bs&&x&&mb(u),u.flags|=1,ln(l,u,p,M),u.child)}function LC(l,u,p,x,A){if(Bc(u),u.stateNode===null){var M=Wd,te=p.contextType;typeof te=="object"&&te!==null&&(M=on(te)),M=new p(x,M),u.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=Xb,u.stateNode=M,M._reactInternals=u,M=u.stateNode,M.props=x,M.state=u.memoizedState,M.refs={},kb(u),te=p.contextType,M.context=typeof te=="object"&&te!==null?on(te):Wd,M.state=u.memoizedState,te=p.getDerivedStateFromProps,typeof te=="function"&&(Kb(u,p,te,x),M.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(te=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),te!==M.state&&Xb.enqueueReplaceState(M,M.state,null),tf(u,x,M,A),ef(),M.state=u.memoizedState),typeof M.componentDidMount=="function"&&(u.flags|=4194308),x=!0}else if(l===null){M=u.stateNode;var je=u.memoizedProps,Oe=Hc(p,je);M.props=Oe;var Ve=M.context,Qe=p.contextType;te=Wd,typeof Qe=="object"&&Qe!==null&&(te=on(Qe));var tt=p.getDerivedStateFromProps;Qe=typeof tt=="function"||typeof M.getSnapshotBeforeUpdate=="function",je=u.pendingProps!==je,Qe||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(je||Ve!==te)&&jC(u,M,x,te),jl=!1;var qe=u.memoizedState;M.state=qe,tf(u,x,M,A),ef(),Ve=u.memoizedState,je||qe!==Ve||jl?(typeof tt=="function"&&(Kb(u,p,tt,x),Ve=u.memoizedState),(Oe=jl||wC(u,p,Oe,x,qe,Ve,te))?(Qe||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(u.flags|=4194308)):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=Ve),M.props=x,M.state=Ve,M.context=te,x=Oe):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{M=u.stateNode,Sb(l,u),te=u.memoizedProps,Qe=Hc(p,te),M.props=Qe,tt=u.pendingProps,qe=M.context,Ve=p.contextType,Oe=Wd,typeof Ve=="object"&&Ve!==null&&(Oe=on(Ve)),je=p.getDerivedStateFromProps,(Ve=typeof je=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(te!==tt||qe!==Oe)&&jC(u,M,x,Oe),jl=!1,qe=u.memoizedState,M.state=qe,tf(u,x,M,A),ef();var Xe=u.memoizedState;te!==tt||qe!==Xe||jl||l!==null&&l.dependencies!==null&&Lp(l.dependencies)?(typeof je=="function"&&(Kb(u,p,je,x),Xe=u.memoizedState),(Qe=jl||wC(u,p,Qe,x,qe,Xe,Oe)||l!==null&&l.dependencies!==null&&Lp(l.dependencies))?(Ve||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(x,Xe,Oe),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(x,Xe,Oe)),typeof M.componentDidUpdate=="function"&&(u.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof M.componentDidUpdate!="function"||te===l.memoizedProps&&qe===l.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||te===l.memoizedProps&&qe===l.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=Xe),M.props=x,M.state=Xe,M.context=Oe,x=Qe):(typeof M.componentDidUpdate!="function"||te===l.memoizedProps&&qe===l.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||te===l.memoizedProps&&qe===l.memoizedState||(u.flags|=1024),x=!1)}return M=x,tg(l,u),x=(u.flags&128)!==0,M||x?(M=u.stateNode,p=x&&typeof p.getDerivedStateFromError!="function"?null:M.render(),u.flags|=1,l!==null&&x?(u.child=$c(u,l.child,null,A),u.child=$c(u,null,p,A)):ln(l,u,p,A),u.memoizedState=M.state,l=u.child):l=No(l,u,A),l}function FC(l,u,p,x){return Lc(),u.flags|=256,ln(l,u,p,x),u.child}var ev={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tv(l){return{baseLanes:l,cachePool:SS()}}function sv(l,u,p){return l=l!==null?l.childLanes&~p:0,u&&(l|=ma),l}function BC(l,u,p){var x=u.pendingProps,A=!1,M=(u.flags&128)!==0,te;if((te=M)||(te=l!==null&&l.memoizedState===null?!1:(Tr.current&2)!==0),te&&(A=!0,u.flags&=-129),te=(u.flags&32)!==0,u.flags&=-33,l===null){if(bs){if(A?kl(u):Sl(),(l=Zs)?(l=GA(l,Ia),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:yl!==null?{id:Di,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},p=xS(l),p.return=u,u.child=p,an=u,Zs=null)):l=null,l===null)throw vl(u);return Bv(l)?u.lanes=32:u.lanes=536870912,null}var je=x.children;return x=x.fallback,A?(Sl(),A=u.mode,je=sg({mode:"hidden",children:je},A),x=Oc(x,A,p,null),je.return=u,x.return=u,je.sibling=x,u.child=je,x=u.child,x.memoizedState=tv(p),x.childLanes=sv(l,te,p),u.memoizedState=ev,of(null,x)):(kl(u),rv(u,je))}var Oe=l.memoizedState;if(Oe!==null&&(je=Oe.dehydrated,je!==null)){if(M)u.flags&256?(kl(u),u.flags&=-257,u=nv(l,u,p)):u.memoizedState!==null?(Sl(),u.child=l.child,u.flags|=128,u=null):(Sl(),je=x.fallback,A=u.mode,x=sg({mode:"visible",children:x.children},A),je=Oc(je,A,p,null),je.flags|=2,x.return=u,je.return=u,x.sibling=je,u.child=x,$c(u,l.child,null,p),x=u.child,x.memoizedState=tv(p),x.childLanes=sv(l,te,p),u.memoizedState=ev,u=of(null,x));else if(kl(u),Bv(je)){if(te=je.nextSibling&&je.nextSibling.dataset,te)var Ve=te.dgst;te=Ve,x=Error(n(419)),x.stack="",x.digest=te,Yh({value:x,source:null,stack:null}),u=nv(l,u,p)}else if($r||Zd(l,u,p,!1),te=(p&l.childLanes)!==0,$r||te){if(te=Ws,te!==null&&(x=qr(te,p),x!==0&&x!==Oe.retryLane))throw Oe.retryLane=x,Pc(l,x),qn(te,l,x),Qb;Fv(je)||ug(),u=nv(l,u,p)}else Fv(je)?(u.flags|=192,u.child=l.child,u=null):(l=Oe.treeContext,Zs=Ua(je.nextSibling),an=u,bs=!0,bl=null,Ia=!1,l!==null&&vS(u,l),u=rv(u,x.children),u.flags|=4096);return u}return A?(Sl(),je=x.fallback,A=u.mode,Oe=l.child,Ve=Oe.sibling,x=yo(Oe,{mode:"hidden",children:x.children}),x.subtreeFlags=Oe.subtreeFlags&65011712,Ve!==null?je=yo(Ve,je):(je=Oc(je,A,p,null),je.flags|=2),je.return=u,x.return=u,x.sibling=je,u.child=x,of(null,x),x=u.child,je=l.child.memoizedState,je===null?je=tv(p):(A=je.cachePool,A!==null?(Oe=zr._currentValue,A=A.parent!==Oe?{parent:Oe,pool:Oe}:A):A=SS(),je={baseLanes:je.baseLanes|p,cachePool:A}),x.memoizedState=je,x.childLanes=sv(l,te,p),u.memoizedState=ev,of(l.child,x)):(kl(u),p=l.child,l=p.sibling,p=yo(p,{mode:"visible",children:x.children}),p.return=u,p.sibling=null,l!==null&&(te=u.deletions,te===null?(u.deletions=[l],u.flags|=16):te.push(l)),u.child=p,u.memoizedState=null,p)}function rv(l,u){return u=sg({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function sg(l,u){return l=da(22,l,null,u),l.lanes=0,l}function nv(l,u,p){return $c(u,l.child,null,p),l=rv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function IC(l,u,p){l.lanes|=u;var x=l.alternate;x!==null&&(x.lanes|=u),bb(l.return,u,p)}function av(l,u,p,x,A,M){var te=l.memoizedState;te===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:A,treeForkCount:M}:(te.isBackwards=u,te.rendering=null,te.renderingStartTime=0,te.last=x,te.tail=p,te.tailMode=A,te.treeForkCount=M)}function zC(l,u,p){var x=u.pendingProps,A=x.revealOrder,M=x.tail;x=x.children;var te=Tr.current,je=(te&2)!==0;if(je?(te=te&1|2,u.flags|=128):te&=1,ie(Tr,te),ln(l,u,x,p),x=bs?Wh:0,!je&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&IC(l,p,u);else if(l.tag===19)IC(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(A){case"forwards":for(p=u.child,A=null;p!==null;)l=p.alternate,l!==null&&Hp(l)===null&&(A=p),p=p.sibling;p=A,p===null?(A=u.child,u.child=null):(A=p.sibling,p.sibling=null),av(u,!1,A,p,M,x);break;case"backwards":case"unstable_legacy-backwards":for(p=null,A=u.child,u.child=null;A!==null;){if(l=A.alternate,l!==null&&Hp(l)===null){u.child=A;break}l=A.sibling,A.sibling=p,p=A,A=l}av(u,!0,p,null,M,x);break;case"together":av(u,!1,null,null,void 0,x);break;default:u.memoizedState=null}return u.child}function No(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),El|=u.lanes,(p&u.childLanes)===0)if(l!==null){if(Zd(l,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,p=yo(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=yo(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function iv(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&Lp(l)))}function oz(l,u,p){switch(u.tag){case 3:V(u,u.stateNode.containerInfo),wl(u,zr,l.memoizedState.cache),Lc();break;case 27:case 5:ce(u);break;case 4:V(u,u.stateNode.containerInfo);break;case 10:wl(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Rb(u),null;break;case 13:var x=u.memoizedState;if(x!==null)return x.dehydrated!==null?(kl(u),u.flags|=128,null):(p&u.child.childLanes)!==0?BC(l,u,p):(kl(u),l=No(l,u,p),l!==null?l.sibling:null);kl(u);break;case 19:var A=(l.flags&128)!==0;if(x=(p&u.childLanes)!==0,x||(Zd(l,u,p,!1),x=(p&u.childLanes)!==0),A){if(x)return zC(l,u,p);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ie(Tr,Tr.current),x)break;return null;case 22:return u.lanes=0,DC(l,u,p,u.pendingProps);case 24:wl(u,zr,l.memoizedState.cache)}return No(l,u,p)}function UC(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps)$r=!0;else{if(!iv(l,p)&&(u.flags&128)===0)return $r=!1,oz(l,u,p);$r=(l.flags&131072)!==0}else $r=!1,bs&&(u.flags&1048576)!==0&&bS(u,Wh,u.index);switch(u.lanes=0,u.tag){case 16:e:{var x=u.pendingProps;if(l=zc(u.elementType),u.type=l,typeof l=="function")ub(l)?(x=Hc(l,x),u.tag=1,u=LC(null,u,l,x,p)):(u.tag=0,u=Jb(null,u,l,x,p));else{if(l!=null){var A=l.$$typeof;if(A===k){u.tag=11,u=EC(null,u,l,x,p);break e}else if(A===E){u.tag=14,u=TC(null,u,l,x,p);break e}}throw u=L(l)||l,Error(n(306,u,""))}}return u;case 0:return Jb(l,u,u.type,u.pendingProps,p);case 1:return x=u.type,A=Hc(x,u.pendingProps),LC(l,u,x,A,p);case 3:e:{if(V(u,u.stateNode.containerInfo),l===null)throw Error(n(387));x=u.pendingProps;var M=u.memoizedState;A=M.element,Sb(l,u),tf(u,x,null,p);var te=u.memoizedState;if(x=te.cache,wl(u,zr,x),x!==M.cache&&vb(u,[zr],p,!0),ef(),x=te.element,M.isDehydrated)if(M={element:x,isDehydrated:!1,cache:te.cache},u.updateQueue.baseState=M,u.memoizedState=M,u.flags&256){u=FC(l,u,x,p);break e}else if(x!==A){A=La(Error(n(424)),u),Yh(A),u=FC(l,u,x,p);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Zs=Ua(l.firstChild),an=u,bs=!0,bl=null,Ia=!0,p=DS(u,null,x,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Lc(),x===A){u=No(l,u,p);break e}ln(l,u,x,p)}u=u.child}return u;case 26:return tg(l,u),l===null?(p=QA(u.type,null,u.pendingProps,null))?u.memoizedState=p:bs||(p=u.type,l=u.pendingProps,x=yg(ye.current).createElement(p),x[Er]=u,x[vr]=l,cn(x,p,l),zs(x),u.stateNode=x):u.memoizedState=QA(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return ce(u),l===null&&bs&&(x=u.stateNode=KA(u.type,u.pendingProps,ye.current),an=u,Ia=!0,A=Zs,Pl(u.type)?(Iv=A,Zs=Ua(x.firstChild)):Zs=A),ln(l,u,u.pendingProps.children,p),tg(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&bs&&((A=x=Zs)&&(x=Fz(x,u.type,u.pendingProps,Ia),x!==null?(u.stateNode=x,an=u,Zs=Ua(x.firstChild),Ia=!1,A=!0):A=!1),A||vl(u)),ce(u),A=u.type,M=u.pendingProps,te=l!==null?l.memoizedProps:null,x=M.children,Pv(A,M)?x=null:te!==null&&Pv(A,te)&&(u.flags|=32),u.memoizedState!==null&&(A=Mb(l,u,Q7,null,null,p),jf._currentValue=A),tg(l,u),ln(l,u,x,p),u.child;case 6:return l===null&&bs&&((l=p=Zs)&&(p=Bz(p,u.pendingProps,Ia),p!==null?(u.stateNode=p,an=u,Zs=null,l=!0):l=!1),l||vl(u)),null;case 13:return BC(l,u,p);case 4:return V(u,u.stateNode.containerInfo),x=u.pendingProps,l===null?u.child=$c(u,null,x,p):ln(l,u,x,p),u.child;case 11:return EC(l,u,u.type,u.pendingProps,p);case 7:return ln(l,u,u.pendingProps,p),u.child;case 8:return ln(l,u,u.pendingProps.children,p),u.child;case 12:return ln(l,u,u.pendingProps.children,p),u.child;case 10:return x=u.pendingProps,wl(u,u.type,x.value),ln(l,u,x.children,p),u.child;case 9:return A=u.type._context,x=u.pendingProps.children,Bc(u),A=on(A),x=x(A),u.flags|=1,ln(l,u,x,p),u.child;case 14:return TC(l,u,u.type,u.pendingProps,p);case 15:return RC(l,u,u.type,u.pendingProps,p);case 19:return zC(l,u,p);case 31:return iz(l,u,p);case 22:return DC(l,u,p,u.pendingProps);case 24:return Bc(u),x=on(zr),l===null?(A=_b(),A===null&&(A=Ws,M=wb(),A.pooledCache=M,M.refCount++,M!==null&&(A.pooledCacheLanes|=p),A=M),u.memoizedState={parent:x,cache:A},kb(u),wl(u,zr,A)):((l.lanes&p)!==0&&(Sb(l,u),tf(u,null,null,p),ef()),A=l.memoizedState,M=u.memoizedState,A.parent!==x?(A={parent:x,cache:x},u.memoizedState=A,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=A),wl(u,zr,x)):(x=M.cache,wl(u,zr,x),x!==A.cache&&vb(u,[zr],p,!0))),ln(l,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function ko(l){l.flags|=4}function ov(l,u,p,x,A){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(A&335544128)===A)if(l.stateNode.complete)l.flags|=8192;else if(mA())l.flags|=8192;else throw Uc=zp,Nb}else l.flags&=-16777217}function $C(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!r4(u))if(mA())l.flags|=8192;else throw Uc=zp,Nb}function rg(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Gs():536870912,l.lanes|=u,cu|=u)}function lf(l,u){if(!bs)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function Qs(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,x=0;if(u)for(var A=l.child;A!==null;)p|=A.lanes|A.childLanes,x|=A.subtreeFlags&65011712,x|=A.flags&65011712,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)p|=A.lanes|A.childLanes,x|=A.subtreeFlags,x|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=x,l.childLanes=p,u}function lz(l,u,p){var x=u.pendingProps;switch(pb(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qs(u),null;case 1:return Qs(u),null;case 3:return p=u.stateNode,x=null,l!==null&&(x=l.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),wo(zr),me(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(Xd(u)?ko(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,xb())),Qs(u),null;case 26:var A=u.type,M=u.memoizedState;return l===null?(ko(u),M!==null?(Qs(u),$C(u,M)):(Qs(u),ov(u,A,null,x,p))):M?M!==l.memoizedState?(ko(u),Qs(u),$C(u,M)):(Qs(u),u.flags&=-16777217):(l=l.memoizedProps,l!==x&&ko(u),Qs(u),ov(u,A,l,x,p)),null;case 27:if(he(u),p=ye.current,A=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==x&&ko(u);else{if(!x){if(u.stateNode===null)throw Error(n(166));return Qs(u),null}l=le.current,Xd(u)?wS(u):(l=KA(A,x,p),u.stateNode=l,ko(u))}return Qs(u),null;case 5:if(he(u),A=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==x&&ko(u);else{if(!x){if(u.stateNode===null)throw Error(n(166));return Qs(u),null}if(M=le.current,Xd(u))wS(u);else{var te=yg(ye.current);switch(M){case 1:M=te.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:M=te.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":M=te.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":M=te.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":M=te.createElement("div"),M.innerHTML="<script><\/script>",M=M.removeChild(M.firstChild);break;case"select":M=typeof x.is=="string"?te.createElement("select",{is:x.is}):te.createElement("select"),x.multiple?M.multiple=!0:x.size&&(M.size=x.size);break;default:M=typeof x.is=="string"?te.createElement(A,{is:x.is}):te.createElement(A)}}M[Er]=u,M[vr]=x;e:for(te=u.child;te!==null;){if(te.tag===5||te.tag===6)M.appendChild(te.stateNode);else if(te.tag!==4&&te.tag!==27&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===u)break e;for(;te.sibling===null;){if(te.return===null||te.return===u)break e;te=te.return}te.sibling.return=te.return,te=te.sibling}u.stateNode=M;e:switch(cn(M,A,x),A){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&ko(u)}}return Qs(u),ov(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,p),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==x&&ko(u);else{if(typeof x!="string"&&u.stateNode===null)throw Error(n(166));if(l=ye.current,Xd(u)){if(l=u.stateNode,p=u.memoizedProps,x=null,A=an,A!==null)switch(A.tag){case 27:case 5:x=A.memoizedProps}l[Er]=u,l=!!(l.nodeValue===p||x!==null&&x.suppressHydrationWarning===!0||BA(l.nodeValue,p)),l||vl(u,!0)}else l=yg(l).createTextNode(x),l[Er]=u,u.stateNode=l}return Qs(u),null;case 31:if(p=u.memoizedState,l===null||l.memoizedState!==null){if(x=Xd(u),p!==null){if(l===null){if(!x)throw Error(n(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(557));l[Er]=u}else Lc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Qs(u),l=!1}else p=xb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return u.flags&256?(ha(u),u):(ha(u),null);if((u.flags&128)!==0)throw Error(n(558))}return Qs(u),null;case 13:if(x=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(A=Xd(u),x!==null&&x.dehydrated!==null){if(l===null){if(!A)throw Error(n(318));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[Er]=u}else Lc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Qs(u),A=!1}else A=xb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=A),A=!0;if(!A)return u.flags&256?(ha(u),u):(ha(u),null)}return ha(u),(u.flags&128)!==0?(u.lanes=p,u):(p=x!==null,l=l!==null&&l.memoizedState!==null,p&&(x=u.child,A=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(A=x.alternate.memoizedState.cachePool.pool),M=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(M=x.memoizedState.cachePool.pool),M!==A&&(x.flags|=2048)),p!==l&&p&&(u.child.flags|=8192),rg(u,u.updateQueue),Qs(u),null);case 4:return me(),l===null&&Ev(u.stateNode.containerInfo),Qs(u),null;case 10:return wo(u.type),Qs(u),null;case 19:if(G(Tr),x=u.memoizedState,x===null)return Qs(u),null;if(A=(u.flags&128)!==0,M=x.rendering,M===null)if(A)lf(x,!1);else{if(_r!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(M=Hp(l),M!==null){for(u.flags|=128,lf(x,!1),l=M.updateQueue,u.updateQueue=l,rg(u,l),u.subtreeFlags=0,l=p,p=u.child;p!==null;)gS(p,l),p=p.sibling;return ie(Tr,Tr.current&1|2),bs&&bo(u,x.treeForkCount),u.child}l=l.sibling}x.tail!==null&&Re()>lg&&(u.flags|=128,A=!0,lf(x,!1),u.lanes=4194304)}else{if(!A)if(l=Hp(M),l!==null){if(u.flags|=128,A=!0,l=l.updateQueue,u.updateQueue=l,rg(u,l),lf(x,!0),x.tail===null&&x.tailMode==="hidden"&&!M.alternate&&!bs)return Qs(u),null}else 2*Re()-x.renderingStartTime>lg&&p!==536870912&&(u.flags|=128,A=!0,lf(x,!1),u.lanes=4194304);x.isBackwards?(M.sibling=u.child,u.child=M):(l=x.last,l!==null?l.sibling=M:u.child=M,x.last=M)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Re(),l.sibling=null,p=Tr.current,ie(Tr,A?p&1|2:p&1),bs&&bo(u,x.treeForkCount),l):(Qs(u),null);case 22:case 23:return ha(u),Tb(),x=u.memoizedState!==null,l!==null?l.memoizedState!==null!==x&&(u.flags|=8192):x&&(u.flags|=8192),x?(p&536870912)!==0&&(u.flags&128)===0&&(Qs(u),u.subtreeFlags&6&&(u.flags|=8192)):Qs(u),p=u.updateQueue,p!==null&&rg(u,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==p&&(u.flags|=2048),l!==null&&G(Ic),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),wo(zr),Qs(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function cz(l,u){switch(pb(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return wo(zr),me(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return he(u),null;case 31:if(u.memoizedState!==null){if(ha(u),u.alternate===null)throw Error(n(340));Lc()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(ha(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Lc()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return G(Tr),null;case 4:return me(),null;case 10:return wo(u.type),null;case 22:case 23:return ha(u),Tb(),l!==null&&G(Ic),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return wo(zr),null;case 25:return null;default:return null}}function VC(l,u){switch(pb(u),u.tag){case 3:wo(zr),me();break;case 26:case 27:case 5:he(u);break;case 4:me();break;case 31:u.memoizedState!==null&&ha(u);break;case 13:ha(u);break;case 19:G(Tr);break;case 10:wo(u.type);break;case 22:case 23:ha(u),Tb(),l!==null&&G(Ic);break;case 24:wo(zr)}}function cf(l,u){try{var p=u.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var A=x.next;p=A;do{if((p.tag&l)===l){x=void 0;var M=p.create,te=p.inst;x=M(),te.destroy=x}p=p.next}while(p!==A)}}catch(je){Ps(u,u.return,je)}}function Cl(l,u,p){try{var x=u.updateQueue,A=x!==null?x.lastEffect:null;if(A!==null){var M=A.next;x=M;do{if((x.tag&l)===l){var te=x.inst,je=te.destroy;if(je!==void 0){te.destroy=void 0,A=u;var Oe=p,Ve=je;try{Ve()}catch(Qe){Ps(A,Oe,Qe)}}}x=x.next}while(x!==M)}}catch(Qe){Ps(u,u.return,Qe)}}function HC(l){var u=l.updateQueue;if(u!==null){var p=l.stateNode;try{PS(u,p)}catch(x){Ps(l,l.return,x)}}}function qC(l,u,p){p.props=Hc(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(x){Ps(l,u,x)}}function df(l,u){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var x=l.stateNode;break;case 30:x=l.stateNode;break;default:x=l.stateNode}typeof p=="function"?l.refCleanup=p(x):p.current=x}}catch(A){Ps(l,u,A)}}function Pi(l,u){var p=l.ref,x=l.refCleanup;if(p!==null)if(typeof x=="function")try{x()}catch(A){Ps(l,u,A)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(A){Ps(l,u,A)}else p.current=null}function GC(l){var u=l.type,p=l.memoizedProps,x=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&x.focus();break e;case"img":p.src?x.src=p.src:p.srcSet&&(x.srcset=p.srcSet)}}catch(A){Ps(l,l.return,A)}}function lv(l,u,p){try{var x=l.stateNode;Rz(x,l.type,p,u),x[vr]=u}catch(A){Ps(l,l.return,A)}}function WC(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Pl(l.type)||l.tag===4}function cv(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||WC(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Pl(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function dv(l,u,p){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(l),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Bn));else if(x!==4&&(x===27&&Pl(l.type)&&(p=l.stateNode,u=null),l=l.child,l!==null))for(dv(l,u,p),l=l.sibling;l!==null;)dv(l,u,p),l=l.sibling}function ng(l,u,p){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(x!==4&&(x===27&&Pl(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(ng(l,u,p),l=l.sibling;l!==null;)ng(l,u,p),l=l.sibling}function YC(l){var u=l.stateNode,p=l.memoizedProps;try{for(var x=l.type,A=u.attributes;A.length;)u.removeAttributeNode(A[0]);cn(u,x,p),u[Er]=l,u[vr]=p}catch(M){Ps(l,l.return,M)}}var So=!1,Vr=!1,uv=!1,KC=typeof WeakSet=="function"?WeakSet:Set,sn=null;function dz(l,u){if(l=l.containerInfo,Dv=kg,l=oS(l),nb(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var A=x.anchorOffset,M=x.focusNode;x=x.focusOffset;try{p.nodeType,M.nodeType}catch{p=null;break e}var te=0,je=-1,Oe=-1,Ve=0,Qe=0,tt=l,qe=null;t:for(;;){for(var Xe;tt!==p||A!==0&&tt.nodeType!==3||(je=te+A),tt!==M||x!==0&&tt.nodeType!==3||(Oe=te+x),tt.nodeType===3&&(te+=tt.nodeValue.length),(Xe=tt.firstChild)!==null;)qe=tt,tt=Xe;for(;;){if(tt===l)break t;if(qe===p&&++Ve===A&&(je=te),qe===M&&++Qe===x&&(Oe=te),(Xe=tt.nextSibling)!==null)break;tt=qe,qe=tt.parentNode}tt=Xe}p=je===-1||Oe===-1?null:{start:je,end:Oe}}else p=null}p=p||{start:0,end:0}}else p=null;for(Mv={focusedElem:l,selectionRange:p},kg=!1,sn=u;sn!==null;)if(u=sn,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,sn=l;else for(;sn!==null;){switch(u=sn,M=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)A=l[p],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&M!==null){l=void 0,p=u,A=M.memoizedProps,M=M.memoizedState,x=p.stateNode;try{var kt=Hc(p.type,A);l=x.getSnapshotBeforeUpdate(kt,M),x.__reactInternalSnapshotBeforeUpdate=l}catch(Bt){Ps(p,p.return,Bt)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,p=l.nodeType,p===9)Lv(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Lv(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=u.sibling,l!==null){l.return=u.return,sn=l;break}sn=u.return}}function XC(l,u,p){var x=p.flags;switch(p.tag){case 0:case 11:case 15:Ao(l,p),x&4&&cf(5,p);break;case 1:if(Ao(l,p),x&4)if(l=p.stateNode,u===null)try{l.componentDidMount()}catch(te){Ps(p,p.return,te)}else{var A=Hc(p.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(A,u,l.__reactInternalSnapshotBeforeUpdate)}catch(te){Ps(p,p.return,te)}}x&64&&HC(p),x&512&&df(p,p.return);break;case 3:if(Ao(l,p),x&64&&(l=p.updateQueue,l!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{PS(l,u)}catch(te){Ps(p,p.return,te)}}break;case 27:u===null&&x&4&&YC(p);case 26:case 5:Ao(l,p),u===null&&x&4&&GC(p),x&512&&df(p,p.return);break;case 12:Ao(l,p);break;case 31:Ao(l,p),x&4&&JC(l,p);break;case 13:Ao(l,p),x&4&&eA(l,p),x&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=bz.bind(null,p),Iz(l,p))));break;case 22:if(x=p.memoizedState!==null||So,!x){u=u!==null&&u.memoizedState!==null||Vr,A=So;var M=Vr;So=x,(Vr=u)&&!M?Eo(l,p,(p.subtreeFlags&8772)!==0):Ao(l,p),So=A,Vr=M}break;case 30:break;default:Ao(l,p)}}function ZC(l){var u=l.alternate;u!==null&&(l.alternate=null,ZC(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&jc(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var rr=null,Un=!1;function Co(l,u,p){for(p=p.child;p!==null;)QC(l,u,p),p=p.sibling}function QC(l,u,p){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(yt,p)}catch{}switch(p.tag){case 26:Vr||Pi(p,u),Co(l,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Vr||Pi(p,u);var x=rr,A=Un;Pl(p.type)&&(rr=p.stateNode,Un=!1),Co(l,u,p),bf(p.stateNode),rr=x,Un=A;break;case 5:Vr||Pi(p,u);case 6:if(x=rr,A=Un,rr=null,Co(l,u,p),rr=x,Un=A,rr!==null)if(Un)try{(rr.nodeType===9?rr.body:rr.nodeName==="HTML"?rr.ownerDocument.body:rr).removeChild(p.stateNode)}catch(M){Ps(p,u,M)}else try{rr.removeChild(p.stateNode)}catch(M){Ps(p,u,M)}break;case 18:rr!==null&&(Un?(l=rr,HA(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),xu(l)):HA(rr,p.stateNode));break;case 4:x=rr,A=Un,rr=p.stateNode.containerInfo,Un=!0,Co(l,u,p),rr=x,Un=A;break;case 0:case 11:case 14:case 15:Cl(2,p,u),Vr||Cl(4,p,u),Co(l,u,p);break;case 1:Vr||(Pi(p,u),x=p.stateNode,typeof x.componentWillUnmount=="function"&&qC(p,u,x)),Co(l,u,p);break;case 21:Co(l,u,p);break;case 22:Vr=(x=Vr)||p.memoizedState!==null,Co(l,u,p),Vr=x;break;default:Co(l,u,p)}}function JC(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{xu(l)}catch(p){Ps(u,u.return,p)}}}function eA(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{xu(l)}catch(p){Ps(u,u.return,p)}}function uz(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new KC),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new KC),u;default:throw Error(n(435,l.tag))}}function ag(l,u){var p=uz(l);u.forEach(function(x){if(!p.has(x)){p.add(x);var A=vz.bind(null,l,x);x.then(A,A)}})}function $n(l,u){var p=u.deletions;if(p!==null)for(var x=0;x<p.length;x++){var A=p[x],M=l,te=u,je=te;e:for(;je!==null;){switch(je.tag){case 27:if(Pl(je.type)){rr=je.stateNode,Un=!1;break e}break;case 5:rr=je.stateNode,Un=!1;break e;case 3:case 4:rr=je.stateNode.containerInfo,Un=!0;break e}je=je.return}if(rr===null)throw Error(n(160));QC(M,te,A),rr=null,Un=!1,M=A.alternate,M!==null&&(M.return=null),A.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)tA(u,l),u=u.sibling}var oi=null;function tA(l,u){var p=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:$n(u,l),Vn(l),x&4&&(Cl(3,l,l.return),cf(3,l),Cl(5,l,l.return));break;case 1:$n(u,l),Vn(l),x&512&&(Vr||p===null||Pi(p,p.return)),x&64&&So&&(l=l.updateQueue,l!==null&&(x=l.callbacks,x!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?x:p.concat(x))));break;case 26:var A=oi;if($n(u,l),Vn(l),x&512&&(Vr||p===null||Pi(p,p.return)),x&4){var M=p!==null?p.memoizedState:null;if(x=l.memoizedState,p===null)if(x===null)if(l.stateNode===null){e:{x=l.type,p=l.memoizedProps,A=A.ownerDocument||A;t:switch(x){case"title":M=A.getElementsByTagName("title")[0],(!M||M[ti]||M[Er]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=A.createElement(x),A.head.insertBefore(M,A.querySelector("head > title"))),cn(M,x,p),M[Er]=l,zs(M),x=M;break e;case"link":var te=t4("link","href",A).get(x+(p.href||""));if(te){for(var je=0;je<te.length;je++)if(M=te[je],M.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&M.getAttribute("rel")===(p.rel==null?null:p.rel)&&M.getAttribute("title")===(p.title==null?null:p.title)&&M.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){te.splice(je,1);break t}}M=A.createElement(x),cn(M,x,p),A.head.appendChild(M);break;case"meta":if(te=t4("meta","content",A).get(x+(p.content||""))){for(je=0;je<te.length;je++)if(M=te[je],M.getAttribute("content")===(p.content==null?null:""+p.content)&&M.getAttribute("name")===(p.name==null?null:p.name)&&M.getAttribute("property")===(p.property==null?null:p.property)&&M.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&M.getAttribute("charset")===(p.charSet==null?null:p.charSet)){te.splice(je,1);break t}}M=A.createElement(x),cn(M,x,p),A.head.appendChild(M);break;default:throw Error(n(468,x))}M[Er]=l,zs(M),x=M}l.stateNode=x}else s4(A,l.type,l.stateNode);else l.stateNode=e4(A,x,l.memoizedProps);else M!==x?(M===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):M.count--,x===null?s4(A,l.type,l.stateNode):e4(A,x,l.memoizedProps)):x===null&&l.stateNode!==null&&lv(l,l.memoizedProps,p.memoizedProps)}break;case 27:$n(u,l),Vn(l),x&512&&(Vr||p===null||Pi(p,p.return)),p!==null&&x&4&&lv(l,l.memoizedProps,p.memoizedProps);break;case 5:if($n(u,l),Vn(l),x&512&&(Vr||p===null||Pi(p,p.return)),l.flags&32){A=l.stateNode;try{Ai(A,"")}catch(kt){Ps(l,l.return,kt)}}x&4&&l.stateNode!=null&&(A=l.memoizedProps,lv(l,A,p!==null?p.memoizedProps:A)),x&1024&&(uv=!0);break;case 6:if($n(u,l),Vn(l),x&4){if(l.stateNode===null)throw Error(n(162));x=l.memoizedProps,p=l.stateNode;try{p.nodeValue=x}catch(kt){Ps(l,l.return,kt)}}break;case 3:if(wg=null,A=oi,oi=bg(u.containerInfo),$n(u,l),oi=A,Vn(l),x&4&&p!==null&&p.memoizedState.isDehydrated)try{xu(u.containerInfo)}catch(kt){Ps(l,l.return,kt)}uv&&(uv=!1,sA(l));break;case 4:x=oi,oi=bg(l.stateNode.containerInfo),$n(u,l),Vn(l),oi=x;break;case 12:$n(u,l),Vn(l);break;case 31:$n(u,l),Vn(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,ag(l,x)));break;case 13:$n(u,l),Vn(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(og=Re()),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,ag(l,x)));break;case 22:A=l.memoizedState!==null;var Oe=p!==null&&p.memoizedState!==null,Ve=So,Qe=Vr;if(So=Ve||A,Vr=Qe||Oe,$n(u,l),Vr=Qe,So=Ve,Vn(l),x&8192)e:for(u=l.stateNode,u._visibility=A?u._visibility&-2:u._visibility|1,A&&(p===null||Oe||So||Vr||qc(l)),p=null,u=l;;){if(u.tag===5||u.tag===26){if(p===null){Oe=p=u;try{if(M=Oe.stateNode,A)te=M.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none";else{je=Oe.stateNode;var tt=Oe.memoizedProps.style,qe=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;je.style.display=qe==null||typeof qe=="boolean"?"":(""+qe).trim()}}catch(kt){Ps(Oe,Oe.return,kt)}}}else if(u.tag===6){if(p===null){Oe=u;try{Oe.stateNode.nodeValue=A?"":Oe.memoizedProps}catch(kt){Ps(Oe,Oe.return,kt)}}}else if(u.tag===18){if(p===null){Oe=u;try{var Xe=Oe.stateNode;A?qA(Xe,!0):qA(Oe.stateNode,!1)}catch(kt){Ps(Oe,Oe.return,kt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}x&4&&(x=l.updateQueue,x!==null&&(p=x.retryQueue,p!==null&&(x.retryQueue=null,ag(l,p))));break;case 19:$n(u,l),Vn(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,ag(l,x)));break;case 30:break;case 21:break;default:$n(u,l),Vn(l)}}function Vn(l){var u=l.flags;if(u&2){try{for(var p,x=l.return;x!==null;){if(WC(x)){p=x;break}x=x.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var A=p.stateNode,M=cv(l);ng(l,M,A);break;case 5:var te=p.stateNode;p.flags&32&&(Ai(te,""),p.flags&=-33);var je=cv(l);ng(l,je,te);break;case 3:case 4:var Oe=p.stateNode.containerInfo,Ve=cv(l);dv(l,Ve,Oe);break;default:throw Error(n(161))}}catch(Qe){Ps(l,l.return,Qe)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function sA(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;sA(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function Ao(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)XC(l,u.alternate,u),u=u.sibling}function qc(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:Cl(4,u,u.return),qc(u);break;case 1:Pi(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&qC(u,u.return,p),qc(u);break;case 27:bf(u.stateNode);case 26:case 5:Pi(u,u.return),qc(u);break;case 22:u.memoizedState===null&&qc(u);break;case 30:qc(u);break;default:qc(u)}l=l.sibling}}function Eo(l,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var x=u.alternate,A=l,M=u,te=M.flags;switch(M.tag){case 0:case 11:case 15:Eo(A,M,p),cf(4,M);break;case 1:if(Eo(A,M,p),x=M,A=x.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Ve){Ps(x,x.return,Ve)}if(x=M,A=x.updateQueue,A!==null){var je=x.stateNode;try{var Oe=A.shared.hiddenCallbacks;if(Oe!==null)for(A.shared.hiddenCallbacks=null,A=0;A<Oe.length;A++)MS(Oe[A],je)}catch(Ve){Ps(x,x.return,Ve)}}p&&te&64&&HC(M),df(M,M.return);break;case 27:YC(M);case 26:case 5:Eo(A,M,p),p&&x===null&&te&4&&GC(M),df(M,M.return);break;case 12:Eo(A,M,p);break;case 31:Eo(A,M,p),p&&te&4&&JC(A,M);break;case 13:Eo(A,M,p),p&&te&4&&eA(A,M);break;case 22:M.memoizedState===null&&Eo(A,M,p),df(M,M.return);break;case 30:break;default:Eo(A,M,p)}u=u.sibling}}function hv(l,u){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&Kh(p))}function fv(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Kh(l))}function li(l,u,p,x){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)rA(l,u,p,x),u=u.sibling}function rA(l,u,p,x){var A=u.flags;switch(u.tag){case 0:case 11:case 15:li(l,u,p,x),A&2048&&cf(9,u);break;case 1:li(l,u,p,x);break;case 3:li(l,u,p,x),A&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Kh(l)));break;case 12:if(A&2048){li(l,u,p,x),l=u.stateNode;try{var M=u.memoizedProps,te=M.id,je=M.onPostCommit;typeof je=="function"&&je(te,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Oe){Ps(u,u.return,Oe)}}else li(l,u,p,x);break;case 31:li(l,u,p,x);break;case 13:li(l,u,p,x);break;case 23:break;case 22:M=u.stateNode,te=u.alternate,u.memoizedState!==null?M._visibility&2?li(l,u,p,x):uf(l,u):M._visibility&2?li(l,u,p,x):(M._visibility|=2,iu(l,u,p,x,(u.subtreeFlags&10256)!==0||!1)),A&2048&&hv(te,u);break;case 24:li(l,u,p,x),A&2048&&fv(u.alternate,u);break;default:li(l,u,p,x)}}function iu(l,u,p,x,A){for(A=A&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var M=l,te=u,je=p,Oe=x,Ve=te.flags;switch(te.tag){case 0:case 11:case 15:iu(M,te,je,Oe,A),cf(8,te);break;case 23:break;case 22:var Qe=te.stateNode;te.memoizedState!==null?Qe._visibility&2?iu(M,te,je,Oe,A):uf(M,te):(Qe._visibility|=2,iu(M,te,je,Oe,A)),A&&Ve&2048&&hv(te.alternate,te);break;case 24:iu(M,te,je,Oe,A),A&&Ve&2048&&fv(te.alternate,te);break;default:iu(M,te,je,Oe,A)}u=u.sibling}}function uf(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=l,x=u,A=x.flags;switch(x.tag){case 22:uf(p,x),A&2048&&hv(x.alternate,x);break;case 24:uf(p,x),A&2048&&fv(x.alternate,x);break;default:uf(p,x)}u=u.sibling}}var hf=8192;function ou(l,u,p){if(l.subtreeFlags&hf)for(l=l.child;l!==null;)nA(l,u,p),l=l.sibling}function nA(l,u,p){switch(l.tag){case 26:ou(l,u,p),l.flags&hf&&l.memoizedState!==null&&Zz(p,oi,l.memoizedState,l.memoizedProps);break;case 5:ou(l,u,p);break;case 3:case 4:var x=oi;oi=bg(l.stateNode.containerInfo),ou(l,u,p),oi=x;break;case 22:l.memoizedState===null&&(x=l.alternate,x!==null&&x.memoizedState!==null?(x=hf,hf=16777216,ou(l,u,p),hf=x):ou(l,u,p));break;default:ou(l,u,p)}}function aA(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function ff(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var x=u[p];sn=x,oA(x,l)}aA(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)iA(l),l=l.sibling}function iA(l){switch(l.tag){case 0:case 11:case 15:ff(l),l.flags&2048&&Cl(9,l,l.return);break;case 3:ff(l);break;case 12:ff(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,ig(l)):ff(l);break;default:ff(l)}}function ig(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var x=u[p];sn=x,oA(x,l)}aA(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:Cl(8,u,u.return),ig(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,ig(u));break;default:ig(u)}l=l.sibling}}function oA(l,u){for(;sn!==null;){var p=sn;switch(p.tag){case 0:case 11:case 15:Cl(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var x=p.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Kh(p.memoizedState.cache)}if(x=p.child,x!==null)x.return=p,sn=x;else e:for(p=l;sn!==null;){x=sn;var A=x.sibling,M=x.return;if(ZC(x),x===p){sn=null;break e}if(A!==null){A.return=M,sn=A;break e}sn=M}}}var hz={getCacheForType:function(l){var u=on(zr),p=u.data.get(l);return p===void 0&&(p=l(),u.data.set(l,p)),p},cacheSignal:function(){return on(zr).controller.signal}},fz=typeof WeakMap=="function"?WeakMap:Map,Ds=0,Ws=null,ds=null,ms=0,Ms=0,fa=null,Al=!1,lu=!1,mv=!1,To=0,_r=0,El=0,Gc=0,pv=0,ma=0,cu=0,mf=null,Hn=null,gv=!1,og=0,lA=0,lg=1/0,cg=null,Tl=null,Wr=0,Rl=null,du=null,Ro=0,xv=0,yv=null,cA=null,pf=0,bv=null;function pa(){return(Ds&2)!==0&&ms!==0?ms&-ms:Q.T!==null?kv():_i()}function dA(){if(ma===0)if((ms&536870912)===0||bs){var l=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),ma=l}else ma=536870912;return l=ua.current,l!==null&&(l.flags|=32),ma}function qn(l,u,p){(l===Ws&&(Ms===2||Ms===9)||l.cancelPendingCommit!==null)&&(uu(l,0),Dl(l,ms,ma,!1)),ht(l,p),((Ds&2)===0||l!==Ws)&&(l===Ws&&((Ds&2)===0&&(Gc|=p),_r===4&&Dl(l,ms,ma,!1)),Oi(l))}function uA(l,u,p){if((Ds&6)!==0)throw Error(n(327));var x=!p&&(u&127)===0&&(u&l.expiredLanes)===0||we(l,u),A=x?gz(l,u):wv(l,u,!0),M=x;do{if(A===0){lu&&!x&&Dl(l,u,0,!1);break}else{if(p=l.current.alternate,M&&!mz(p)){A=wv(l,u,!1),M=!1;continue}if(A===2){if(M=u,l.errorRecoveryDisabledLanes&M)var te=0;else te=l.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){u=te;e:{var je=l;A=mf;var Oe=je.current.memoizedState.isDehydrated;if(Oe&&(uu(je,te).flags|=256),te=wv(je,te,!1),te!==2){if(mv&&!Oe){je.errorRecoveryDisabledLanes|=M,Gc|=M,A=4;break e}M=Hn,Hn=A,M!==null&&(Hn===null?Hn=M:Hn.push.apply(Hn,M))}A=te}if(M=!1,A!==2)continue}}if(A===1){uu(l,0),Dl(l,u,0,!0);break}e:{switch(x=l,M=A,M){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:Dl(x,u,ma,!Al);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(A=og+300-Re(),10<A)){if(Dl(x,u,ma,!Al),Dt(x,0,!0)!==0)break e;Ro=u,x.timeoutHandle=$A(hA.bind(null,x,p,Hn,cg,gv,u,ma,Gc,cu,Al,M,"Throttled",-0,0),A);break e}hA(x,p,Hn,cg,gv,u,ma,Gc,cu,Al,M,null,-0,0)}}break}while(!0);Oi(l)}function hA(l,u,p,x,A,M,te,je,Oe,Ve,Qe,tt,qe,Xe){if(l.timeoutHandle=-1,tt=u.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},nA(u,M,tt);var kt=(M&62914560)===M?og-Re():(M&4194048)===M?lA-Re():0;if(kt=Qz(tt,kt),kt!==null){Ro=M,l.cancelPendingCommit=kt(vA.bind(null,l,u,M,p,x,A,te,je,Oe,Qe,tt,null,qe,Xe)),Dl(l,M,te,!Ve);return}}vA(l,u,M,p,x,A,te,je,Oe)}function mz(l){for(var u=l;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var x=0;x<p.length;x++){var A=p[x],M=A.getSnapshot;A=A.value;try{if(!ca(M(),A))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Dl(l,u,p,x){u&=~pv,u&=~Gc,l.suspendedLanes|=u,l.pingedLanes&=~u,x&&(l.warmLanes|=u),x=l.expirationTimes;for(var A=u;0<A;){var M=31-Te(A),te=1<<M;x[M]=-1,A&=~te}p!==0&&mr(l,p,u)}function dg(){return(Ds&6)===0?(gf(0),!1):!0}function vv(){if(ds!==null){if(Ms===0)var l=ds.return;else l=ds,vo=Fc=null,Lb(l),tu=null,Zh=0,l=ds;for(;l!==null;)VC(l.alternate,l),l=l.return;ds=null}}function uu(l,u){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,Pz(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),Ro=0,vv(),Ws=l,ds=p=yo(l.current,null),ms=u,Ms=0,fa=null,Al=!1,lu=we(l,u),mv=!1,cu=ma=pv=Gc=El=_r=0,Hn=mf=null,gv=!1,(u&8)!==0&&(u|=u&32);var x=l.entangledLanes;if(x!==0)for(l=l.entanglements,x&=u;0<x;){var A=31-Te(x),M=1<<A;u|=l[A],x&=~M}return To=u,Rp(),p}function fA(l,u){rs=null,Q.H=af,u===eu||u===Ip?(u=ES(),Ms=3):u===Nb?(u=ES(),Ms=4):Ms=u===Qb?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,fa=u,ds===null&&(_r=1,Jp(l,La(u,l.current)))}function mA(){var l=ua.current;return l===null?!0:(ms&4194048)===ms?za===null:(ms&62914560)===ms||(ms&536870912)!==0?l===za:!1}function pA(){var l=Q.H;return Q.H=af,l===null?af:l}function gA(){var l=Q.A;return Q.A=hz,l}function ug(){_r=4,Al||(ms&4194048)!==ms&&ua.current!==null||(lu=!0),(El&134217727)===0&&(Gc&134217727)===0||Ws===null||Dl(Ws,ms,ma,!1)}function wv(l,u,p){var x=Ds;Ds|=2;var A=pA(),M=gA();(Ws!==l||ms!==u)&&(cg=null,uu(l,u)),u=!1;var te=_r;e:do try{if(Ms!==0&&ds!==null){var je=ds,Oe=fa;switch(Ms){case 8:vv(),te=6;break e;case 3:case 2:case 9:case 6:ua.current===null&&(u=!0);var Ve=Ms;if(Ms=0,fa=null,hu(l,je,Oe,Ve),p&&lu){te=0;break e}break;default:Ve=Ms,Ms=0,fa=null,hu(l,je,Oe,Ve)}}pz(),te=_r;break}catch(Qe){fA(l,Qe)}while(!0);return u&&l.shellSuspendCounter++,vo=Fc=null,Ds=x,Q.H=A,Q.A=M,ds===null&&(Ws=null,ms=0,Rp()),te}function pz(){for(;ds!==null;)xA(ds)}function gz(l,u){var p=Ds;Ds|=2;var x=pA(),A=gA();Ws!==l||ms!==u?(cg=null,lg=Re()+500,uu(l,u)):lu=we(l,u);e:do try{if(Ms!==0&&ds!==null){u=ds;var M=fa;t:switch(Ms){case 1:Ms=0,fa=null,hu(l,u,M,1);break;case 2:case 9:if(CS(M)){Ms=0,fa=null,yA(u);break}u=function(){Ms!==2&&Ms!==9||Ws!==l||(Ms=7),Oi(l)},M.then(u,u);break e;case 3:Ms=7;break e;case 4:Ms=5;break e;case 7:CS(M)?(Ms=0,fa=null,yA(u)):(Ms=0,fa=null,hu(l,u,M,7));break;case 5:var te=null;switch(ds.tag){case 26:te=ds.memoizedState;case 5:case 27:var je=ds;if(te?r4(te):je.stateNode.complete){Ms=0,fa=null;var Oe=je.sibling;if(Oe!==null)ds=Oe;else{var Ve=je.return;Ve!==null?(ds=Ve,hg(Ve)):ds=null}break t}}Ms=0,fa=null,hu(l,u,M,5);break;case 6:Ms=0,fa=null,hu(l,u,M,6);break;case 8:vv(),_r=6;break e;default:throw Error(n(462))}}xz();break}catch(Qe){fA(l,Qe)}while(!0);return vo=Fc=null,Q.H=x,Q.A=A,Ds=p,ds!==null?0:(Ws=null,ms=0,Rp(),_r)}function xz(){for(;ds!==null&&!pe();)xA(ds)}function xA(l){var u=UC(l.alternate,l,To);l.memoizedProps=l.pendingProps,u===null?hg(l):ds=u}function yA(l){var u=l,p=u.alternate;switch(u.tag){case 15:case 0:u=OC(p,u,u.pendingProps,u.type,void 0,ms);break;case 11:u=OC(p,u,u.pendingProps,u.type.render,u.ref,ms);break;case 5:Lb(u);default:VC(p,u),u=ds=gS(u,To),u=UC(p,u,To)}l.memoizedProps=l.pendingProps,u===null?hg(l):ds=u}function hu(l,u,p,x){vo=Fc=null,Lb(u),tu=null,Zh=0;var A=u.return;try{if(az(l,A,u,p,ms)){_r=1,Jp(l,La(p,l.current)),ds=null;return}}catch(M){if(A!==null)throw ds=A,M;_r=1,Jp(l,La(p,l.current)),ds=null;return}u.flags&32768?(bs||x===1?l=!0:lu||(ms&536870912)!==0?l=!1:(Al=l=!0,(x===2||x===9||x===3||x===6)&&(x=ua.current,x!==null&&x.tag===13&&(x.flags|=16384))),bA(u,l)):hg(u)}function hg(l){var u=l;do{if((u.flags&32768)!==0){bA(u,Al);return}l=u.return;var p=lz(u.alternate,u,To);if(p!==null){ds=p;return}if(u=u.sibling,u!==null){ds=u;return}ds=u=l}while(u!==null);_r===0&&(_r=5)}function bA(l,u){do{var p=cz(l.alternate,l);if(p!==null){p.flags&=32767,ds=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(l=l.sibling,l!==null)){ds=l;return}ds=l=p}while(l!==null);_r=6,ds=null}function vA(l,u,p,x,A,M,te,je,Oe){l.cancelPendingCommit=null;do fg();while(Wr!==0);if((Ds&6)!==0)throw Error(n(327));if(u!==null){if(u===l.current)throw Error(n(177));if(M=u.lanes|u.childLanes,M|=cb,Ns(l,p,M,te,je,Oe),l===Ws&&(ds=Ws=null,ms=0),du=u,Rl=l,Ro=p,xv=M,yv=A,cA=x,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,wz(We,function(){return kA(),null})):(l.callbackNode=null,l.callbackPriority=0),x=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||x){x=Q.T,Q.T=null,A=Z.p,Z.p=2,te=Ds,Ds|=4;try{dz(l,u,p)}finally{Ds=te,Z.p=A,Q.T=x}}Wr=1,wA(),jA(),_A()}}function wA(){if(Wr===1){Wr=0;var l=Rl,u=du,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=Q.T,Q.T=null;var x=Z.p;Z.p=2;var A=Ds;Ds|=4;try{tA(u,l);var M=Mv,te=oS(l.containerInfo),je=M.focusedElem,Oe=M.selectionRange;if(te!==je&&je&&je.ownerDocument&&iS(je.ownerDocument.documentElement,je)){if(Oe!==null&&nb(je)){var Ve=Oe.start,Qe=Oe.end;if(Qe===void 0&&(Qe=Ve),"selectionStart"in je)je.selectionStart=Ve,je.selectionEnd=Math.min(Qe,je.value.length);else{var tt=je.ownerDocument||document,qe=tt&&tt.defaultView||window;if(qe.getSelection){var Xe=qe.getSelection(),kt=je.textContent.length,Bt=Math.min(Oe.start,kt),Vs=Oe.end===void 0?Bt:Math.min(Oe.end,kt);!Xe.extend&&Bt>Vs&&(te=Vs,Vs=Bt,Bt=te);var ze=aS(je,Bt),Fe=aS(je,Vs);if(ze&&Fe&&(Xe.rangeCount!==1||Xe.anchorNode!==ze.node||Xe.anchorOffset!==ze.offset||Xe.focusNode!==Fe.node||Xe.focusOffset!==Fe.offset)){var $e=tt.createRange();$e.setStart(ze.node,ze.offset),Xe.removeAllRanges(),Bt>Vs?(Xe.addRange($e),Xe.extend(Fe.node,Fe.offset)):($e.setEnd(Fe.node,Fe.offset),Xe.addRange($e))}}}}for(tt=[],Xe=je;Xe=Xe.parentNode;)Xe.nodeType===1&&tt.push({element:Xe,left:Xe.scrollLeft,top:Xe.scrollTop});for(typeof je.focus=="function"&&je.focus(),je=0;je<tt.length;je++){var et=tt[je];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}kg=!!Dv,Mv=Dv=null}finally{Ds=A,Z.p=x,Q.T=p}}l.current=u,Wr=2}}function jA(){if(Wr===2){Wr=0;var l=Rl,u=du,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=Q.T,Q.T=null;var x=Z.p;Z.p=2;var A=Ds;Ds|=4;try{XC(l,u.alternate,u)}finally{Ds=A,Z.p=x,Q.T=p}}Wr=3}}function _A(){if(Wr===4||Wr===3){Wr=0,ge();var l=Rl,u=du,p=Ro,x=cA;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Wr=5:(Wr=0,du=Rl=null,NA(l,l.pendingLanes));var A=l.pendingLanes;if(A===0&&(Tl=null),Cn(p),u=u.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(yt,u,void 0,(u.current.flags&128)===128)}catch{}if(x!==null){u=Q.T,A=Z.p,Z.p=2,Q.T=null;try{for(var M=l.onRecoverableError,te=0;te<x.length;te++){var je=x[te];M(je.value,{componentStack:je.stack})}}finally{Q.T=u,Z.p=A}}(Ro&3)!==0&&fg(),Oi(l),A=l.pendingLanes,(p&261930)!==0&&(A&42)!==0?l===bv?pf++:(pf=0,bv=l):pf=0,gf(0)}}function NA(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,Kh(u)))}function fg(){return wA(),jA(),_A(),kA()}function kA(){if(Wr!==5)return!1;var l=Rl,u=xv;xv=0;var p=Cn(Ro),x=Q.T,A=Z.p;try{Z.p=32>p?32:p,Q.T=null,p=yv,yv=null;var M=Rl,te=Ro;if(Wr=0,du=Rl=null,Ro=0,(Ds&6)!==0)throw Error(n(331));var je=Ds;if(Ds|=4,iA(M.current),rA(M,M.current,te,p),Ds=je,gf(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(yt,M)}catch{}return!0}finally{Z.p=A,Q.T=x,NA(l,u)}}function SA(l,u,p){u=La(p,u),u=Zb(l.stateNode,u,2),l=Nl(l,u,2),l!==null&&(ht(l,2),Oi(l))}function Ps(l,u,p){if(l.tag===3)SA(l,l,p);else for(;u!==null;){if(u.tag===3){SA(u,l,p);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Tl===null||!Tl.has(x))){l=La(p,l),p=CC(2),x=Nl(u,p,2),x!==null&&(AC(p,x,u,l),ht(x,2),Oi(x));break}}u=u.return}}function jv(l,u,p){var x=l.pingCache;if(x===null){x=l.pingCache=new fz;var A=new Set;x.set(u,A)}else A=x.get(u),A===void 0&&(A=new Set,x.set(u,A));A.has(p)||(mv=!0,A.add(p),l=yz.bind(null,l,u,p),u.then(l,l))}function yz(l,u,p){var x=l.pingCache;x!==null&&x.delete(u),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,Ws===l&&(ms&p)===p&&(_r===4||_r===3&&(ms&62914560)===ms&&300>Re()-og?(Ds&2)===0&&uu(l,0):pv|=p,cu===ms&&(cu=0)),Oi(l)}function CA(l,u){u===0&&(u=Gs()),l=Pc(l,u),l!==null&&(ht(l,u),Oi(l))}function bz(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),CA(l,p)}function vz(l,u){var p=0;switch(l.tag){case 31:case 13:var x=l.stateNode,A=l.memoizedState;A!==null&&(p=A.retryLane);break;case 19:x=l.stateNode;break;case 22:x=l.stateNode._retryCache;break;default:throw Error(n(314))}x!==null&&x.delete(u),CA(l,p)}function wz(l,u){return Ne(l,u)}var mg=null,fu=null,_v=!1,pg=!1,Nv=!1,Ml=0;function Oi(l){l!==fu&&l.next===null&&(fu===null?mg=fu=l:fu=fu.next=l),pg=!0,_v||(_v=!0,_z())}function gf(l,u){if(!Nv&&pg){Nv=!0;do for(var p=!1,x=mg;x!==null;){if(l!==0){var A=x.pendingLanes;if(A===0)var M=0;else{var te=x.suspendedLanes,je=x.pingedLanes;M=(1<<31-Te(42|l)+1)-1,M&=A&~(te&~je),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(p=!0,RA(x,M))}else M=ms,M=Dt(x,x===Ws?M:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(M&3)===0||we(x,M)||(p=!0,RA(x,M));x=x.next}while(p);Nv=!1}}function jz(){AA()}function AA(){pg=_v=!1;var l=0;Ml!==0&&Mz()&&(l=Ml);for(var u=Re(),p=null,x=mg;x!==null;){var A=x.next,M=EA(x,u);M===0?(x.next=null,p===null?mg=A:p.next=A,A===null&&(fu=p)):(p=x,(l!==0||(M&3)!==0)&&(pg=!0)),x=A}Wr!==0&&Wr!==5||gf(l),Ml!==0&&(Ml=0)}function EA(l,u){for(var p=l.suspendedLanes,x=l.pingedLanes,A=l.expirationTimes,M=l.pendingLanes&-62914561;0<M;){var te=31-Te(M),je=1<<te,Oe=A[te];Oe===-1?((je&p)===0||(je&x)!==0)&&(A[te]=Rt(je,u)):Oe<=u&&(l.expiredLanes|=je),M&=~je}if(u=Ws,p=ms,p=Dt(l,l===u?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x=l.callbackNode,p===0||l===u&&(Ms===2||Ms===9)||l.cancelPendingCommit!==null)return x!==null&&x!==null&&X(x),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||we(l,p)){if(u=p&-p,u===l.callbackPriority)return u;switch(x!==null&&X(x),Cn(p)){case 2:case 8:p=Ie;break;case 32:p=We;break;case 268435456:p=gt;break;default:p=We}return x=TA.bind(null,l),p=Ne(p,x),l.callbackPriority=u,l.callbackNode=p,u}return x!==null&&x!==null&&X(x),l.callbackPriority=2,l.callbackNode=null,2}function TA(l,u){if(Wr!==0&&Wr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(fg()&&l.callbackNode!==p)return null;var x=ms;return x=Dt(l,l===Ws?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x===0?null:(uA(l,x,u),EA(l,Re()),l.callbackNode!=null&&l.callbackNode===p?TA.bind(null,l):null)}function RA(l,u){if(fg())return null;uA(l,u,!0)}function _z(){Oz(function(){(Ds&6)!==0?Ne(Se,jz):AA()})}function kv(){if(Ml===0){var l=Qd;l===0&&(l=Pt,Pt<<=1,(Pt&261888)===0&&(Pt=256)),Ml=l}return Ml}function DA(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:dl(""+l)}function MA(l,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,l.id&&p.setAttribute("form",l.id),u.parentNode.insertBefore(p,u),l=new FormData(l),p.parentNode.removeChild(p),l}function Nz(l,u,p,x,A){if(u==="submit"&&p&&p.stateNode===A){var M=DA((A[vr]||null).action),te=x.submitter;te&&(u=(u=te[vr]||null)?DA(u.formAction):te.getAttribute("formAction"),u!==null&&(M=u,te=null));var je=new ne("action","action",null,x,A);l.push({event:je,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Ml!==0){var Oe=te?MA(A,te):new FormData(A);qb(p,{pending:!0,data:Oe,method:A.method,action:M},null,Oe)}}else typeof M=="function"&&(je.preventDefault(),Oe=te?MA(A,te):new FormData(A),qb(p,{pending:!0,data:Oe,method:A.method,action:M},M,Oe))},currentTarget:A}]})}}for(var Sv=0;Sv<lb.length;Sv++){var Cv=lb[Sv],kz=Cv.toLowerCase(),Sz=Cv[0].toUpperCase()+Cv.slice(1);ii(kz,"on"+Sz)}ii(dS,"onAnimationEnd"),ii(uS,"onAnimationIteration"),ii(hS,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii($7,"onTransitionRun"),ii(V7,"onTransitionStart"),ii(H7,"onTransitionCancel"),ii(fS,"onTransitionEnd"),En("onMouseEnter",["mouseout","mouseover"]),En("onMouseLeave",["mouseout","mouseover"]),En("onPointerEnter",["pointerout","pointerover"]),En("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xf));function PA(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var x=l[p],A=x.event;x=x.listeners;e:{var M=void 0;if(u)for(var te=x.length-1;0<=te;te--){var je=x[te],Oe=je.instance,Ve=je.currentTarget;if(je=je.listener,Oe!==M&&A.isPropagationStopped())break e;M=je,A.currentTarget=Ve;try{M(A)}catch(Qe){Tp(Qe)}A.currentTarget=null,M=Oe}else for(te=0;te<x.length;te++){if(je=x[te],Oe=je.instance,Ve=je.currentTarget,je=je.listener,Oe!==M&&A.isPropagationStopped())break e;M=je,A.currentTarget=Ve;try{M(A)}catch(Qe){Tp(Qe)}A.currentTarget=null,M=Oe}}}}function us(l,u){var p=u[co];p===void 0&&(p=u[co]=new Set);var x=l+"__bubble";p.has(x)||(OA(u,l,2,!1),p.add(x))}function Av(l,u,p){var x=0;u&&(x|=4),OA(p,l,x,u)}var gg="_reactListening"+Math.random().toString(36).slice(2);function Ev(l){if(!l[gg]){l[gg]=!0,il.forEach(function(p){p!=="selectionchange"&&(Cz.has(p)||Av(p,!1,l),Av(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[gg]||(u[gg]=!0,Av("selectionchange",!1,u))}}function OA(l,u,p,x){switch(d4(u)){case 2:var A=tU;break;case 8:A=sU;break;default:A=Hv}p=A.bind(null,u,p,l),A=void 0,!Ec||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),x?A!==void 0?l.addEventListener(u,p,{capture:!0,passive:A}):l.addEventListener(u,p,!0):A!==void 0?l.addEventListener(u,p,{passive:A}):l.addEventListener(u,p,!1)}function Tv(l,u,p,x,A){var M=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var te=x.tag;if(te===3||te===4){var je=x.stateNode.containerInfo;if(je===A)break;if(te===4)for(te=x.return;te!==null;){var Oe=te.tag;if((Oe===3||Oe===4)&&te.stateNode.containerInfo===A)return;te=te.return}for(;je!==null;){if(te=Ni(je),te===null)return;if(Oe=te.tag,Oe===5||Oe===6||Oe===26||Oe===27){x=M=te;continue e}je=je.parentNode}}x=x.return}po(function(){var Ve=M,Qe=ul(p),tt=[];e:{var qe=mS.get(l);if(qe!==void 0){var Xe=ne,kt=l;switch(l){case"keypress":if(zn(p)===0)break e;case"keydown":case"keyup":Xe=Gr;break;case"focusin":kt="focus",Xe=Ph;break;case"focusout":kt="blur",Xe=Ph;break;case"beforeblur":case"afterblur":Xe=Ph;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=Pa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=pl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=B;break;case dS:case uS:case hS:Xe=Wy;break;case fS:Xe=Ee;break;case"scroll":case"scrollend":Xe=vt;break;case"wheel":Xe=Je;break;case"copy":case"cut":case"paste":Xe=Ky;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=Np;break;case"toggle":case"beforetoggle":Xe=At}var Bt=(u&4)!==0,Vs=!Bt&&(l==="scroll"||l==="scrollend"),ze=Bt?qe!==null?qe+"Capture":null:qe;Bt=[];for(var Fe=Ve,$e;Fe!==null;){var et=Fe;if($e=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||$e===null||ze===null||(et=Ri(Fe,ze),et!=null&&Bt.push(yf(Fe,et,$e))),Vs)break;Fe=Fe.return}0<Bt.length&&(qe=new Xe(qe,kt,null,p,Qe),tt.push({event:qe,listeners:Bt}))}}if((u&7)===0){e:{if(qe=l==="mouseover"||l==="pointerover",Xe=l==="mouseout"||l==="pointerout",qe&&p!==Ac&&(kt=p.relatedTarget||p.fromElement)&&(Ni(kt)||kt[Fr]))break e;if((Xe||qe)&&(qe=Qe.window===Qe?Qe:(qe=Qe.ownerDocument)?qe.defaultView||qe.parentWindow:window,Xe?(kt=p.relatedTarget||p.toElement,Xe=Ve,kt=kt?Ni(kt):null,kt!==null&&(Vs=i(kt),Bt=kt.tag,kt!==Vs||Bt!==5&&Bt!==27&&Bt!==6)&&(kt=null)):(Xe=null,kt=Ve),Xe!==kt)){if(Bt=Pa,et="onMouseLeave",ze="onMouseEnter",Fe="mouse",(l==="pointerout"||l==="pointerover")&&(Bt=Np,et="onPointerLeave",ze="onPointerEnter",Fe="pointer"),Vs=Xe==null?qe:ki(Xe),$e=kt==null?qe:ki(kt),qe=new Bt(et,Fe+"leave",Xe,p,Qe),qe.target=Vs,qe.relatedTarget=$e,et=null,Ni(Qe)===Ve&&(Bt=new Bt(ze,Fe+"enter",kt,p,Qe),Bt.target=$e,Bt.relatedTarget=Vs,et=Bt),Vs=et,Xe&&kt)t:{for(Bt=Az,ze=Xe,Fe=kt,$e=0,et=ze;et;et=Bt(et))$e++;et=0;for(var Lt=Fe;Lt;Lt=Bt(Lt))et++;for(;0<$e-et;)ze=Bt(ze),$e--;for(;0<et-$e;)Fe=Bt(Fe),et--;for(;$e--;){if(ze===Fe||Fe!==null&&ze===Fe.alternate){Bt=ze;break t}ze=Bt(ze),Fe=Bt(Fe)}Bt=null}else Bt=null;Xe!==null&&LA(tt,qe,Xe,Bt,!1),kt!==null&&Vs!==null&&LA(tt,Vs,kt,Bt,!0)}}e:{if(qe=Ve?ki(Ve):window,Xe=qe.nodeName&&qe.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&qe.type==="file")var Cs=Ap;else if(Ih(qe))if(Ep)Cs=I7;else{Cs=F7;var Et=L7}else Xe=qe.nodeName,!Xe||Xe.toLowerCase()!=="input"||qe.type!=="checkbox"&&qe.type!=="radio"?Ve&&Cc(Ve.elementType)&&(Cs=Ap):Cs=B7;if(Cs&&(Cs=Cs(l,Ve))){zh(tt,Cs,p,Qe);break e}Et&&Et(l,qe,Ve),l==="focusout"&&Ve&&qe.type==="number"&&Ve.memoizedProps.value!=null&&Sc(qe,"number",qe.value)}switch(Et=Ve?ki(Ve):window,l){case"focusin":(Ih(Et)||Et.contentEditable==="true")&&(Hd=Et,ab=Ve,Gh=null);break;case"focusout":Gh=ab=Hd=null;break;case"mousedown":ib=!0;break;case"contextmenu":case"mouseup":case"dragend":ib=!1,lS(tt,p,Qe);break;case"selectionchange":if(U7)break;case"keydown":case"keyup":lS(tt,p,Qe)}var as;if(fs)e:{switch(l){case"compositionstart":var ps="onCompositionStart";break e;case"compositionend":ps="onCompositionEnd";break e;case"compositionupdate":ps="onCompositionUpdate";break e}ps=void 0}else gl?Sp(l,p)&&(ps="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(ps="onCompositionStart");ps&&(Tc&&p.locale!=="ko"&&(gl||ps!=="onCompositionStart"?ps==="onCompositionEnd"&&gl&&(as=$t()):(In=Qe,hl="value"in In?In.value:In.textContent,gl=!0)),Et=xg(Ve,ps),0<Et.length&&(ps=new _p(ps,l,null,p,Qe),tt.push({event:ps,listeners:Et}),as?ps.data=as:(as=Bh(p),as!==null&&(ps.data=as)))),(as=wr?Cp(l,p):sb(l,p))&&(ps=xg(Ve,"onBeforeInput"),0<ps.length&&(Et=new _p("onBeforeInput","beforeinput",null,p,Qe),tt.push({event:Et,listeners:ps}),Et.data=as)),Nz(tt,l,Ve,p,Qe)}PA(tt,u)})}function yf(l,u,p){return{instance:l,listener:u,currentTarget:p}}function xg(l,u){for(var p=u+"Capture",x=[];l!==null;){var A=l,M=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||M===null||(A=Ri(l,p),A!=null&&x.unshift(yf(l,A,M)),A=Ri(l,u),A!=null&&x.push(yf(l,A,M))),l.tag===3)return x;l=l.return}return[]}function Az(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function LA(l,u,p,x,A){for(var M=u._reactName,te=[];p!==null&&p!==x;){var je=p,Oe=je.alternate,Ve=je.stateNode;if(je=je.tag,Oe!==null&&Oe===x)break;je!==5&&je!==26&&je!==27||Ve===null||(Oe=Ve,A?(Ve=Ri(p,M),Ve!=null&&te.unshift(yf(p,Ve,Oe))):A||(Ve=Ri(p,M),Ve!=null&&te.push(yf(p,Ve,Oe)))),p=p.return}te.length!==0&&l.push({event:u,listeners:te})}var Ez=/\r\n?/g,Tz=/\u0000|\uFFFD/g;function FA(l){return(typeof l=="string"?l:""+l).replace(Ez,`
`).replace(Tz,"")}function BA(l,u){return u=FA(u),FA(l)===u}function $s(l,u,p,x,A,M){switch(p){case"children":typeof x=="string"?u==="body"||u==="textarea"&&x===""||Ai(l,x):(typeof x=="number"||typeof x=="bigint")&&u!=="body"&&Ai(l,""+x);break;case"className":fo(l,"class",x);break;case"tabIndex":fo(l,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":fo(l,p,x);break;case"style":Ra(l,x,M);break;case"data":if(u!=="object"){fo(l,"data",x);break}case"src":case"href":if(x===""&&(u!=="a"||p!=="href")){l.removeAttribute(p);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(p);break}x=dl(""+x),l.setAttribute(p,x);break;case"action":case"formAction":if(typeof x=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(p==="formAction"?(u!=="input"&&$s(l,u,"name",A.name,A,null),$s(l,u,"formEncType",A.formEncType,A,null),$s(l,u,"formMethod",A.formMethod,A,null),$s(l,u,"formTarget",A.formTarget,A,null)):($s(l,u,"encType",A.encType,A,null),$s(l,u,"method",A.method,A,null),$s(l,u,"target",A.target,A,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(p);break}x=dl(""+x),l.setAttribute(p,x);break;case"onClick":x!=null&&(l.onclick=Bn);break;case"onScroll":x!=null&&us("scroll",l);break;case"onScrollEnd":x!=null&&us("scrollend",l);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(p=x.__html,p!=null){if(A.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"multiple":l.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":l.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){l.removeAttribute("xlink:href");break}p=dl(""+x),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(p,""+x):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":x===!0?l.setAttribute(p,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(p,x):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?l.setAttribute(p,x):l.removeAttribute(p);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?l.removeAttribute(p):l.setAttribute(p,x);break;case"popover":us("beforetoggle",l),us("toggle",l),ho(l,"popover",x);break;case"xlinkActuate":Fn(l,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Fn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Fn(l,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Fn(l,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Fn(l,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Fn(l,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Fn(l,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Fn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Fn(l,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":ho(l,"is",x);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Dh.get(p)||p,ho(l,p,x))}}function Rv(l,u,p,x,A,M){switch(p){case"style":Ra(l,x,M);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(p=x.__html,p!=null){if(A.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"children":typeof x=="string"?Ai(l,x):(typeof x=="number"||typeof x=="bigint")&&Ai(l,""+x);break;case"onScroll":x!=null&&us("scroll",l);break;case"onScrollEnd":x!=null&&us("scrollend",l);break;case"onClick":x!=null&&(l.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_c.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(A=p.endsWith("Capture"),u=p.slice(2,A?p.length-7:void 0),M=l[vr]||null,M=M!=null?M[p]:null,typeof M=="function"&&l.removeEventListener(u,M,A),typeof x=="function")){typeof M!="function"&&M!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(u,x,A);break e}p in l?l[p]=x:x===!0?l.setAttribute(p,""):ho(l,p,x)}}}function cn(l,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":us("error",l),us("load",l);var x=!1,A=!1,M;for(M in p)if(p.hasOwnProperty(M)){var te=p[M];if(te!=null)switch(M){case"src":x=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:$s(l,u,M,te,p,null)}}A&&$s(l,u,"srcSet",p.srcSet,p,null),x&&$s(l,u,"src",p.src,p,null);return;case"input":us("invalid",l);var je=M=te=A=null,Oe=null,Ve=null;for(x in p)if(p.hasOwnProperty(x)){var Qe=p[x];if(Qe!=null)switch(x){case"name":A=Qe;break;case"type":te=Qe;break;case"checked":Oe=Qe;break;case"defaultChecked":Ve=Qe;break;case"value":M=Qe;break;case"defaultValue":je=Qe;break;case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(n(137,u));break;default:$s(l,u,x,Qe,p,null)}}kc(l,M,je,Oe,Ve,te,A,!1);return;case"select":us("invalid",l),x=te=M=null;for(A in p)if(p.hasOwnProperty(A)&&(je=p[A],je!=null))switch(A){case"value":M=je;break;case"defaultValue":te=je;break;case"multiple":x=je;default:$s(l,u,A,je,p,null)}u=M,p=te,l.multiple=!!x,u!=null?Ci(l,!!x,u,!1):p!=null&&Ci(l,!!x,p,!0);return;case"textarea":us("invalid",l),M=A=x=null;for(te in p)if(p.hasOwnProperty(te)&&(je=p[te],je!=null))switch(te){case"value":x=je;break;case"defaultValue":A=je;break;case"children":M=je;break;case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(91));break;default:$s(l,u,te,je,p,null)}Ud(l,x,A,M);return;case"option":for(Oe in p)if(p.hasOwnProperty(Oe)&&(x=p[Oe],x!=null))switch(Oe){case"selected":l.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:$s(l,u,Oe,x,p,null)}return;case"dialog":us("beforetoggle",l),us("toggle",l),us("cancel",l),us("close",l);break;case"iframe":case"object":us("load",l);break;case"video":case"audio":for(x=0;x<xf.length;x++)us(xf[x],l);break;case"image":us("error",l),us("load",l);break;case"details":us("toggle",l);break;case"embed":case"source":case"link":us("error",l),us("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ve in p)if(p.hasOwnProperty(Ve)&&(x=p[Ve],x!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:$s(l,u,Ve,x,p,null)}return;default:if(Cc(u)){for(Qe in p)p.hasOwnProperty(Qe)&&(x=p[Qe],x!==void 0&&Rv(l,u,Qe,x,p,void 0));return}}for(je in p)p.hasOwnProperty(je)&&(x=p[je],x!=null&&$s(l,u,je,x,p,null))}function Rz(l,u,p,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,M=null,te=null,je=null,Oe=null,Ve=null,Qe=null;for(Xe in p){var tt=p[Xe];if(p.hasOwnProperty(Xe)&&tt!=null)switch(Xe){case"checked":break;case"value":break;case"defaultValue":Oe=tt;default:x.hasOwnProperty(Xe)||$s(l,u,Xe,null,x,tt)}}for(var qe in x){var Xe=x[qe];if(tt=p[qe],x.hasOwnProperty(qe)&&(Xe!=null||tt!=null))switch(qe){case"type":M=Xe;break;case"name":A=Xe;break;case"checked":Ve=Xe;break;case"defaultChecked":Qe=Xe;break;case"value":te=Xe;break;case"defaultValue":je=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(n(137,u));break;default:Xe!==tt&&$s(l,u,qe,Xe,x,tt)}}ri(l,te,je,Oe,Ve,Qe,M,A);return;case"select":Xe=te=je=qe=null;for(M in p)if(Oe=p[M],p.hasOwnProperty(M)&&Oe!=null)switch(M){case"value":break;case"multiple":Xe=Oe;default:x.hasOwnProperty(M)||$s(l,u,M,null,x,Oe)}for(A in x)if(M=x[A],Oe=p[A],x.hasOwnProperty(A)&&(M!=null||Oe!=null))switch(A){case"value":qe=M;break;case"defaultValue":je=M;break;case"multiple":te=M;default:M!==Oe&&$s(l,u,A,M,x,Oe)}u=je,p=te,x=Xe,qe!=null?Ci(l,!!p,qe,!1):!!x!=!!p&&(u!=null?Ci(l,!!p,u,!0):Ci(l,!!p,p?[]:"",!1));return;case"textarea":Xe=qe=null;for(je in p)if(A=p[je],p.hasOwnProperty(je)&&A!=null&&!x.hasOwnProperty(je))switch(je){case"value":break;case"children":break;default:$s(l,u,je,null,x,A)}for(te in x)if(A=x[te],M=p[te],x.hasOwnProperty(te)&&(A!=null||M!=null))switch(te){case"value":qe=A;break;case"defaultValue":Xe=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:A!==M&&$s(l,u,te,A,x,M)}zd(l,qe,Xe);return;case"option":for(var kt in p)if(qe=p[kt],p.hasOwnProperty(kt)&&qe!=null&&!x.hasOwnProperty(kt))switch(kt){case"selected":l.selected=!1;break;default:$s(l,u,kt,null,x,qe)}for(Oe in x)if(qe=x[Oe],Xe=p[Oe],x.hasOwnProperty(Oe)&&qe!==Xe&&(qe!=null||Xe!=null))switch(Oe){case"selected":l.selected=qe&&typeof qe!="function"&&typeof qe!="symbol";break;default:$s(l,u,Oe,qe,x,Xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in p)qe=p[Bt],p.hasOwnProperty(Bt)&&qe!=null&&!x.hasOwnProperty(Bt)&&$s(l,u,Bt,null,x,qe);for(Ve in x)if(qe=x[Ve],Xe=p[Ve],x.hasOwnProperty(Ve)&&qe!==Xe&&(qe!=null||Xe!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(n(137,u));break;default:$s(l,u,Ve,qe,x,Xe)}return;default:if(Cc(u)){for(var Vs in p)qe=p[Vs],p.hasOwnProperty(Vs)&&qe!==void 0&&!x.hasOwnProperty(Vs)&&Rv(l,u,Vs,void 0,x,qe);for(Qe in x)qe=x[Qe],Xe=p[Qe],!x.hasOwnProperty(Qe)||qe===Xe||qe===void 0&&Xe===void 0||Rv(l,u,Qe,qe,x,Xe);return}}for(var ze in p)qe=p[ze],p.hasOwnProperty(ze)&&qe!=null&&!x.hasOwnProperty(ze)&&$s(l,u,ze,null,x,qe);for(tt in x)qe=x[tt],Xe=p[tt],!x.hasOwnProperty(tt)||qe===Xe||qe==null&&Xe==null||$s(l,u,tt,qe,x,Xe)}function IA(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dz(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,p=performance.getEntriesByType("resource"),x=0;x<p.length;x++){var A=p[x],M=A.transferSize,te=A.initiatorType,je=A.duration;if(M&&je&&IA(te)){for(te=0,je=A.responseEnd,x+=1;x<p.length;x++){var Oe=p[x],Ve=Oe.startTime;if(Ve>je)break;var Qe=Oe.transferSize,tt=Oe.initiatorType;Qe&&IA(tt)&&(Oe=Oe.responseEnd,te+=Qe*(Oe<je?1:(je-Ve)/(Oe-Ve)))}if(--x,u+=8*(M+te)/(A.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Dv=null,Mv=null;function yg(l){return l.nodeType===9?l:l.ownerDocument}function zA(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UA(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function Pv(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Ov=null;function Mz(){var l=window.event;return l&&l.type==="popstate"?l===Ov?!1:(Ov=l,!0):(Ov=null,!1)}var $A=typeof setTimeout=="function"?setTimeout:void 0,Pz=typeof clearTimeout=="function"?clearTimeout:void 0,VA=typeof Promise=="function"?Promise:void 0,Oz=typeof queueMicrotask=="function"?queueMicrotask:typeof VA<"u"?function(l){return VA.resolve(null).then(l).catch(Lz)}:$A;function Lz(l){setTimeout(function(){throw l})}function Pl(l){return l==="head"}function HA(l,u){var p=u,x=0;do{var A=p.nextSibling;if(l.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"||p==="/&"){if(x===0){l.removeChild(A),xu(u);return}x--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")x++;else if(p==="html")bf(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,bf(p);for(var M=p.firstChild;M;){var te=M.nextSibling,je=M.nodeName;M[ti]||je==="SCRIPT"||je==="STYLE"||je==="LINK"&&M.rel.toLowerCase()==="stylesheet"||p.removeChild(M),M=te}}else p==="body"&&bf(l.ownerDocument.body);p=A}while(p);xu(u)}function qA(l,u){var p=l;l=0;do{var x=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),x&&x.nodeType===8)if(p=x.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=x}while(p)}function Lv(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Lv(p),jc(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function Fz(l,u,p,x){for(;l.nodeType===1;){var A=p;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!x&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(x){if(!l[ti])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(M=l.getAttribute("rel"),M==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(M!==A.rel||l.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||l.getAttribute("title")!==(A.title==null?null:A.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(M=l.getAttribute("src"),(M!==(A.src==null?null:A.src)||l.getAttribute("type")!==(A.type==null?null:A.type)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&M&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var M=A.name==null?null:""+A.name;if(A.type==="hidden"&&l.getAttribute("name")===M)return l}else return l;if(l=Ua(l.nextSibling),l===null)break}return null}function Bz(l,u,p){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=Ua(l.nextSibling),l===null))return null;return l}function GA(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=Ua(l.nextSibling),l===null))return null;return l}function Fv(l){return l.data==="$?"||l.data==="$~"}function Bv(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function Iz(l,u){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||p.readyState!=="loading")u();else{var x=function(){u(),p.removeEventListener("DOMContentLoaded",x)};p.addEventListener("DOMContentLoaded",x),l._reactRetry=x}}function Ua(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var Iv=null;function WA(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(u===0)return Ua(l.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}l=l.nextSibling}return null}function YA(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return l;u--}else p!=="/$"&&p!=="/&"||u++}l=l.previousSibling}return null}function KA(l,u,p){switch(u=yg(p),l){case"html":if(l=u.documentElement,!l)throw Error(n(452));return l;case"head":if(l=u.head,!l)throw Error(n(453));return l;case"body":if(l=u.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function bf(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);jc(l)}var $a=new Map,XA=new Set;function bg(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Do=Z.d;Z.d={f:zz,r:Uz,D:$z,C:Vz,L:Hz,m:qz,X:Wz,S:Gz,M:Yz};function zz(){var l=Do.f(),u=dg();return l||u}function Uz(l){var u=na(l);u!==null&&u.tag===5&&u.type==="form"?fC(u):Do.r(l)}var mu=typeof document>"u"?null:document;function ZA(l,u,p){var x=mu;if(x&&typeof u=="string"&&u){var A=Br(u);A='link[rel="'+l+'"][href="'+A+'"]',typeof p=="string"&&(A+='[crossorigin="'+p+'"]'),XA.has(A)||(XA.add(A),l={rel:l,crossOrigin:p,href:u},x.querySelector(A)===null&&(u=x.createElement("link"),cn(u,"link",l),zs(u),x.head.appendChild(u)))}}function $z(l){Do.D(l),ZA("dns-prefetch",l,null)}function Vz(l,u){Do.C(l,u),ZA("preconnect",l,u)}function Hz(l,u,p){Do.L(l,u,p);var x=mu;if(x&&l&&u){var A='link[rel="preload"][as="'+Br(u)+'"]';u==="image"&&p&&p.imageSrcSet?(A+='[imagesrcset="'+Br(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(A+='[imagesizes="'+Br(p.imageSizes)+'"]')):A+='[href="'+Br(l)+'"]';var M=A;switch(u){case"style":M=pu(l);break;case"script":M=gu(l)}$a.has(M)||(l=f({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:l,as:u},p),$a.set(M,l),x.querySelector(A)!==null||u==="style"&&x.querySelector(vf(M))||u==="script"&&x.querySelector(wf(M))||(u=x.createElement("link"),cn(u,"link",l),zs(u),x.head.appendChild(u)))}}function qz(l,u){Do.m(l,u);var p=mu;if(p&&l){var x=u&&typeof u.as=="string"?u.as:"script",A='link[rel="modulepreload"][as="'+Br(x)+'"][href="'+Br(l)+'"]',M=A;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=gu(l)}if(!$a.has(M)&&(l=f({rel:"modulepreload",href:l},u),$a.set(M,l),p.querySelector(A)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(wf(M)))return}x=p.createElement("link"),cn(x,"link",l),zs(x),p.head.appendChild(x)}}}function Gz(l,u,p){Do.S(l,u,p);var x=mu;if(x&&l){var A=aa(x).hoistableStyles,M=pu(l);u=u||"default";var te=A.get(M);if(!te){var je={loading:0,preload:null};if(te=x.querySelector(vf(M)))je.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":u},p),(p=$a.get(M))&&zv(l,p);var Oe=te=x.createElement("link");zs(Oe),cn(Oe,"link",l),Oe._p=new Promise(function(Ve,Qe){Oe.onload=Ve,Oe.onerror=Qe}),Oe.addEventListener("load",function(){je.loading|=1}),Oe.addEventListener("error",function(){je.loading|=2}),je.loading|=4,vg(te,u,x)}te={type:"stylesheet",instance:te,count:1,state:je},A.set(M,te)}}}function Wz(l,u){Do.X(l,u);var p=mu;if(p&&l){var x=aa(p).hoistableScripts,A=gu(l),M=x.get(A);M||(M=p.querySelector(wf(A)),M||(l=f({src:l,async:!0},u),(u=$a.get(A))&&Uv(l,u),M=p.createElement("script"),zs(M),cn(M,"link",l),p.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},x.set(A,M))}}function Yz(l,u){Do.M(l,u);var p=mu;if(p&&l){var x=aa(p).hoistableScripts,A=gu(l),M=x.get(A);M||(M=p.querySelector(wf(A)),M||(l=f({src:l,async:!0,type:"module"},u),(u=$a.get(A))&&Uv(l,u),M=p.createElement("script"),zs(M),cn(M,"link",l),p.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},x.set(A,M))}}function QA(l,u,p,x){var A=(A=ye.current)?bg(A):null;if(!A)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=pu(p.href),p=aa(A).hoistableStyles,x=p.get(u),x||(x={type:"style",instance:null,count:0,state:null},p.set(u,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=pu(p.href);var M=aa(A).hoistableStyles,te=M.get(l);if(te||(A=A.ownerDocument||A,te={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(l,te),(M=A.querySelector(vf(l)))&&!M._p&&(te.instance=M,te.state.loading=5),$a.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},$a.set(l,p),M||Kz(A,l,p,te.state))),u&&x===null)throw Error(n(528,""));return te}if(u&&x!==null)throw Error(n(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=gu(p),p=aa(A).hoistableScripts,x=p.get(u),x||(x={type:"script",instance:null,count:0,state:null},p.set(u,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function pu(l){return'href="'+Br(l)+'"'}function vf(l){return'link[rel="stylesheet"]['+l+"]"}function JA(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function Kz(l,u,p,x){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?x.loading=1:(u=l.createElement("link"),x.preload=u,u.addEventListener("load",function(){return x.loading|=1}),u.addEventListener("error",function(){return x.loading|=2}),cn(u,"link",p),zs(u),l.head.appendChild(u))}function gu(l){return'[src="'+Br(l)+'"]'}function wf(l){return"script[async]"+l}function e4(l,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var x=l.querySelector('style[data-href~="'+Br(p.href)+'"]');if(x)return u.instance=x,zs(x),x;var A=f({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return x=(l.ownerDocument||l).createElement("style"),zs(x),cn(x,"style",A),vg(x,p.precedence,l),u.instance=x;case"stylesheet":A=pu(p.href);var M=l.querySelector(vf(A));if(M)return u.state.loading|=4,u.instance=M,zs(M),M;x=JA(p),(A=$a.get(A))&&zv(x,A),M=(l.ownerDocument||l).createElement("link"),zs(M);var te=M;return te._p=new Promise(function(je,Oe){te.onload=je,te.onerror=Oe}),cn(M,"link",x),u.state.loading|=4,vg(M,p.precedence,l),u.instance=M;case"script":return M=gu(p.src),(A=l.querySelector(wf(M)))?(u.instance=A,zs(A),A):(x=p,(A=$a.get(M))&&(x=f({},p),Uv(x,A)),l=l.ownerDocument||l,A=l.createElement("script"),zs(A),cn(A,"link",x),l.head.appendChild(A),u.instance=A);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(x=u.instance,u.state.loading|=4,vg(x,p.precedence,l));return u.instance}function vg(l,u,p){for(var x=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=x.length?x[x.length-1]:null,M=A,te=0;te<x.length;te++){var je=x[te];if(je.dataset.precedence===u)M=je;else if(M!==A)break}M?M.parentNode.insertBefore(l,M.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(l,u.firstChild))}function zv(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function Uv(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var wg=null;function t4(l,u,p){if(wg===null){var x=new Map,A=wg=new Map;A.set(p,x)}else A=wg,x=A.get(p),x||(x=new Map,A.set(p,x));if(x.has(l))return x;for(x.set(l,null),p=p.getElementsByTagName(l),A=0;A<p.length;A++){var M=p[A];if(!(M[ti]||M[Er]||l==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var te=M.getAttribute(u)||"";te=l+te;var je=x.get(te);je?je.push(M):x.set(te,[M])}}return x}function s4(l,u,p){l=l.ownerDocument||l,l.head.insertBefore(p,u==="title"?l.querySelector("head > title"):null)}function Xz(l,u,p){if(p===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function r4(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function Zz(l,u,p,x){if(p.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var A=pu(x.href),M=u.querySelector(vf(A));if(M){u=M._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=jg.bind(l),u.then(l,l)),p.state.loading|=4,p.instance=M,zs(M);return}M=u.ownerDocument||u,x=JA(x),(A=$a.get(A))&&zv(x,A),M=M.createElement("link"),zs(M);var te=M;te._p=new Promise(function(je,Oe){te.onload=je,te.onerror=Oe}),cn(M,"link",x),p.instance=M}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=jg.bind(l),u.addEventListener("load",p),u.addEventListener("error",p))}}var $v=0;function Qz(l,u){return l.stylesheets&&l.count===0&&Ng(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var x=setTimeout(function(){if(l.stylesheets&&Ng(l,l.stylesheets),l.unsuspend){var M=l.unsuspend;l.unsuspend=null,M()}},6e4+u);0<l.imgBytes&&$v===0&&($v=62500*Dz());var A=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Ng(l,l.stylesheets),l.unsuspend)){var M=l.unsuspend;l.unsuspend=null,M()}},(l.imgBytes>$v?50:800)+u);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(x),clearTimeout(A)}}:null}function jg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ng(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var _g=null;function Ng(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,_g=new Map,u.forEach(Jz,l),_g=null,jg.call(l))}function Jz(l,u){if(!(u.state.loading&4)){var p=_g.get(l);if(p)var x=p.get(null);else{p=new Map,_g.set(l,p);for(var A=l.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<A.length;M++){var te=A[M];(te.nodeName==="LINK"||te.getAttribute("media")!=="not all")&&(p.set(te.dataset.precedence,te),x=te)}x&&p.set(null,x)}A=u.instance,te=A.getAttribute("data-precedence"),M=p.get(te)||x,M===x&&p.set(null,A),p.set(te,A),this.count++,x=jg.bind(this),A.addEventListener("load",x),A.addEventListener("error",x),M?M.parentNode.insertBefore(A,M.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(A,l.firstChild)),u.state.loading|=4}}var jf={$$typeof:N,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function eU(l,u,p,x,A,M,te,je,Oe){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.hiddenUpdates=Mt(null),this.identifierPrefix=x,this.onUncaughtError=A,this.onCaughtError=M,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Oe,this.incompleteTransitions=new Map}function n4(l,u,p,x,A,M,te,je,Oe,Ve,Qe,tt){return l=new eU(l,u,p,te,Oe,Ve,Qe,tt,je),u=1,M===!0&&(u|=24),M=da(3,null,null,u),l.current=M,M.stateNode=l,u=wb(),u.refCount++,l.pooledCache=u,u.refCount++,M.memoizedState={element:x,isDehydrated:p,cache:u},kb(M),l}function a4(l){return l?(l=Wd,l):Wd}function i4(l,u,p,x,A,M){A=a4(A),x.context===null?x.context=A:x.pendingContext=A,x=_l(u),x.payload={element:p},M=M===void 0?null:M,M!==null&&(x.callback=M),p=Nl(l,x,u),p!==null&&(qn(p,l,u),Jh(p,l,u))}function o4(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function Vv(l,u){o4(l,u),(l=l.alternate)&&o4(l,u)}function l4(l){if(l.tag===13||l.tag===31){var u=Pc(l,67108864);u!==null&&qn(u,l,67108864),Vv(l,67108864)}}function c4(l){if(l.tag===13||l.tag===31){var u=pa();u=On(u);var p=Pc(l,u);p!==null&&qn(p,l,u),Vv(l,u)}}var kg=!0;function tU(l,u,p,x){var A=Q.T;Q.T=null;var M=Z.p;try{Z.p=2,Hv(l,u,p,x)}finally{Z.p=M,Q.T=A}}function sU(l,u,p,x){var A=Q.T;Q.T=null;var M=Z.p;try{Z.p=8,Hv(l,u,p,x)}finally{Z.p=M,Q.T=A}}function Hv(l,u,p,x){if(kg){var A=qv(x);if(A===null)Tv(l,u,x,Sg,p),u4(l,x);else if(nU(A,l,u,p,x))x.stopPropagation();else if(u4(l,x),u&4&&-1<rU.indexOf(l)){for(;A!==null;){var M=na(A);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var te=Rs(M.pendingLanes);if(te!==0){var je=M;for(je.pendingLanes|=2,je.entangledLanes|=2;te;){var Oe=1<<31-Te(te);je.entanglements[1]|=Oe,te&=~Oe}Oi(M),(Ds&6)===0&&(lg=Re()+500,gf(0))}}break;case 31:case 13:je=Pc(M,2),je!==null&&qn(je,M,2),dg(),Vv(M,2)}if(M=qv(x),M===null&&Tv(l,u,x,Sg,p),M===A)break;A=M}A!==null&&x.stopPropagation()}else Tv(l,u,x,null,p)}}function qv(l){return l=ul(l),Gv(l)}var Sg=null;function Gv(l){if(Sg=null,l=Ni(l),l!==null){var u=i(l);if(u===null)l=null;else{var p=u.tag;if(p===13){if(l=o(u),l!==null)return l;l=null}else if(p===31){if(l=c(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Sg=l,null}function d4(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case Se:return 2;case Ie:return 8;case We:case wt:return 32;case gt:return 268435456;default:return 32}default:return 32}}var Wv=!1,Ol=null,Ll=null,Fl=null,_f=new Map,Nf=new Map,Bl=[],rU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u4(l,u){switch(l){case"focusin":case"focusout":Ol=null;break;case"dragenter":case"dragleave":Ll=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":_f.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nf.delete(u.pointerId)}}function kf(l,u,p,x,A,M){return l===null||l.nativeEvent!==M?(l={blockedOn:u,domEventName:p,eventSystemFlags:x,nativeEvent:M,targetContainers:[A]},u!==null&&(u=na(u),u!==null&&l4(u)),l):(l.eventSystemFlags|=x,u=l.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),l)}function nU(l,u,p,x,A){switch(u){case"focusin":return Ol=kf(Ol,l,u,p,x,A),!0;case"dragenter":return Ll=kf(Ll,l,u,p,x,A),!0;case"mouseover":return Fl=kf(Fl,l,u,p,x,A),!0;case"pointerover":var M=A.pointerId;return _f.set(M,kf(_f.get(M)||null,l,u,p,x,A)),!0;case"gotpointercapture":return M=A.pointerId,Nf.set(M,kf(Nf.get(M)||null,l,u,p,x,A)),!0}return!1}function h4(l){var u=Ni(l.target);if(u!==null){var p=i(u);if(p!==null){if(u=p.tag,u===13){if(u=o(p),u!==null){l.blockedOn=u,Id(l.priority,function(){c4(p)});return}}else if(u===31){if(u=c(p),u!==null){l.blockedOn=u,Id(l.priority,function(){c4(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Cg(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=qv(l.nativeEvent);if(p===null){p=l.nativeEvent;var x=new p.constructor(p.type,p);Ac=x,p.target.dispatchEvent(x),Ac=null}else return u=na(p),u!==null&&l4(u),l.blockedOn=p,!1;u.shift()}return!0}function f4(l,u,p){Cg(l)&&p.delete(u)}function aU(){Wv=!1,Ol!==null&&Cg(Ol)&&(Ol=null),Ll!==null&&Cg(Ll)&&(Ll=null),Fl!==null&&Cg(Fl)&&(Fl=null),_f.forEach(f4),Nf.forEach(f4)}function Ag(l,u){l.blockedOn===u&&(l.blockedOn=null,Wv||(Wv=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,aU)))}var Eg=null;function m4(l){Eg!==l&&(Eg=l,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Eg===l&&(Eg=null);for(var u=0;u<l.length;u+=3){var p=l[u],x=l[u+1],A=l[u+2];if(typeof x!="function"){if(Gv(x||p)===null)continue;break}var M=na(p);M!==null&&(l.splice(u,3),u-=3,qb(M,{pending:!0,data:A,method:p.method,action:x},x,A))}}))}function xu(l){function u(Oe){return Ag(Oe,l)}Ol!==null&&Ag(Ol,l),Ll!==null&&Ag(Ll,l),Fl!==null&&Ag(Fl,l),_f.forEach(u),Nf.forEach(u);for(var p=0;p<Bl.length;p++){var x=Bl[p];x.blockedOn===l&&(x.blockedOn=null)}for(;0<Bl.length&&(p=Bl[0],p.blockedOn===null);)h4(p),p.blockedOn===null&&Bl.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(x=0;x<p.length;x+=3){var A=p[x],M=p[x+1],te=A[vr]||null;if(typeof M=="function")te||m4(p);else if(te){var je=null;if(M&&M.hasAttribute("formAction")){if(A=M,te=M[vr]||null)je=te.formAction;else if(Gv(A)!==null)continue}else je=te.action;typeof je=="function"?p[x+1]=je:(p.splice(x,3),x-=3),m4(p)}}}function p4(){function l(M){M.canIntercept&&M.info==="react-transition"&&M.intercept({handler:function(){return new Promise(function(te){return A=te})},focusReset:"manual",scroll:"manual"})}function u(){A!==null&&(A(),A=null),x||setTimeout(p,20)}function p(){if(!x&&!navigation.transition){var M=navigation.currentEntry;M&&M.url!=null&&navigation.navigate(M.url,{state:M.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,A=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){x=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),A!==null&&(A(),A=null)}}}function Yv(l){this._internalRoot=l}Tg.prototype.render=Yv.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));var p=u.current,x=pa();i4(p,x,l,u,null,null)},Tg.prototype.unmount=Yv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;i4(l.current,2,null,l,null,null),dg(),u[Fr]=null}};function Tg(l){this._internalRoot=l}Tg.prototype.unstable_scheduleHydration=function(l){if(l){var u=_i();l={blockedOn:null,target:l,priority:u};for(var p=0;p<Bl.length&&u!==0&&u<Bl[p].priority;p++);Bl.splice(p,0,l),p===0&&h4(l)}};var g4=t.version;if(g4!=="19.2.1")throw Error(n(527,g4,"19.2.1"));Z.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=h(u),l=l!==null?m(l):null,l=l===null?null:l.stateNode,l};var iU={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rg.isDisabled&&Rg.supportsFiber)try{yt=Rg.inject(iU),Ot=Rg}catch{}}return Sf.createRoot=function(l,u){if(!a(l))throw Error(n(299));var p=!1,x="",A=_C,M=NC,te=kC;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(A=u.onUncaughtError),u.onCaughtError!==void 0&&(M=u.onCaughtError),u.onRecoverableError!==void 0&&(te=u.onRecoverableError)),u=n4(l,1,!1,null,null,p,x,null,A,M,te,p4),l[Fr]=u.current,Ev(l),new Yv(u)},Sf.hydrateRoot=function(l,u,p){if(!a(l))throw Error(n(299));var x=!1,A="",M=_C,te=NC,je=kC,Oe=null;return p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onUncaughtError!==void 0&&(M=p.onUncaughtError),p.onCaughtError!==void 0&&(te=p.onCaughtError),p.onRecoverableError!==void 0&&(je=p.onRecoverableError),p.formState!==void 0&&(Oe=p.formState)),u=n4(l,1,!0,u,p??null,x,A,Oe,M,te,je,p4),u.context=a4(null),p=u.current,x=pa(),x=On(x),A=_l(x),A.callback=null,Nl(p,A,x),p=x,u.current.lanes=p,ht(u,p),Oi(u),l[Fr]=u.current,Ev(l),new Tg(u)},Sf.version="19.2.1",Sf}var N4;function mU(){if(N4)return Xv.exports;N4=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Xv.exports=fU(),Xv.exports}var pU=mU();const gU=B0(pU);var ew={exports:{}},Cf={};var k4;function xU(){if(k4)return Cf;k4=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var c in a)c!=="key"&&(i[c]=a[c])}else i=a;return a=i.ref,{$$typeof:s,type:n,key:o,ref:a!==void 0?a:null,props:i}}return Cf.Fragment=t,Cf.jsx=r,Cf.jsxs=r,Cf}var S4;function yU(){return S4||(S4=1,ew.exports=xU()),ew.exports}var e=yU();const Xt=s=>typeof s=="string",Af=()=>{let s,t;const r=new Promise((n,a)=>{s=n,t=a});return r.resolve=s,r.reject=t,r},C4=s=>s==null?"":""+s,bU=(s,t,r)=>{s.forEach(n=>{t[n]&&(r[n]=t[n])})},vU=/###/g,A4=s=>s&&s.indexOf("###")>-1?s.replace(vU,"."):s,E4=s=>!s||Xt(s),am=(s,t,r)=>{const n=Xt(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(E4(s))return{};const i=A4(n[a]);!s[i]&&r&&(s[i]=new r),Object.prototype.hasOwnProperty.call(s,i)?s=s[i]:s={},++a}return E4(s)?{}:{obj:s,k:A4(n[a])}},T4=(s,t,r)=>{const{obj:n,k:a}=am(s,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let i=t[t.length-1],o=t.slice(0,t.length-1),c=am(s,o,Object);for(;c.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),c=am(s,o,Object),c?.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=r},wU=(s,t,r,n)=>{const{obj:a,k:i}=am(s,t,Object);a[i]=a[i]||[],a[i].push(r)},Yx=(s,t)=>{const{obj:r,k:n}=am(s,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},jU=(s,t,r)=>{const n=Yx(s,r);return n!==void 0?n:Yx(t,r)},P6=(s,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in s?Xt(s[n])||s[n]instanceof String||Xt(t[n])||t[n]instanceof String?r&&(s[n]=t[n]):P6(s[n],t[n],r):s[n]=t[n]);return s},yu=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const NU=s=>Xt(s)?s.replace(/[&<>"'\/]/g,t=>_U[t]):s;class kU{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const SU=[" ",",","?","!",";"],CU=new kU(20),AU=(s,t,r)=>{t=t||"",r=r||"";const n=SU.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const a=CU.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(s);if(!i){const o=s.indexOf(r);o>0&&!a.test(s.substring(0,o))&&(i=!0)}return i},h_=(s,t,r=".")=>{if(!s)return;if(s[t])return Object.prototype.hasOwnProperty.call(s,t)?s[t]:void 0;const n=t.split(r);let a=s;for(let i=0;i<n.length;){if(!a||typeof a!="object")return;let o,c="";for(let d=i;d<n.length;++d)if(d!==i&&(c+=r),c+=n[d],o=a[c],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&d<n.length-1)continue;i+=d-i+1;break}a=o}return a},xm=s=>s?.replace("_","-"),EU={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,t){console?.[s]?.apply?.(console,t)}};class Kx{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||EU,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(Xt(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new Kx(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Kx(this.logger,t)}}var Hi=new Kx;class z0{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a.apply(a,[t,...r])})}}class R4 extends z0{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,a={}){const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,r],n&&(Array.isArray(n)?c.push(...n):Xt(n)&&i?c.push(...n.split(i)):c.push(n)));const d=Yx(this.data,c);return!d&&!r&&!n&&t.indexOf(".")>-1&&(t=c[0],r=c[1],n=c.slice(2).join(".")),d||!o||!Xt(n)?d:h_(this.data?.[t]?.[r],n,i)}addResource(t,r,n,a,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[t,r];n&&(c=c.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(c=t.split("."),a=r,r=c[1]),this.addNamespaces(r),T4(this.data,c,a),i.silent||this.emit("added",t,r,n,a)}addResources(t,r,n,a={silent:!1}){for(const i in n)(Xt(n[i])||Array.isArray(n[i]))&&this.addResource(t,r,i,n[i],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,i,o={silent:!1,skipCopy:!1}){let c=[t,r];t.indexOf(".")>-1&&(c=t.split("."),a=n,n=r,r=c[1]),this.addNamespaces(r);let d=Yx(this.data,c)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?P6(d,n,i):d={...d,...n},T4(this.data,c,d),o.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var O6={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,t,r,n,a){return s.forEach(i=>{t=this.processors[i]?.process(t,r,n,a)??t}),t}};const L6=Symbol("i18next/PATH_KEY");function TU(){const s=[],t=Object.create(null);let r;return t.get=(n,a)=>(r?.revoke?.(),a===L6?s:(s.push(a),r=Proxy.revocable(n,t),r.proxy)),Proxy.revocable(Object.create(null),t).proxy}function f_(s,t){const{[L6]:r}=s(TU());return r.join(t?.keySeparator??".")}const D4={},tw=s=>!Xt(s)&&typeof s!="boolean"&&typeof s!="number";class Xx extends z0{constructor(t,r={}){super(),bU(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Hi.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const a=this.resolve(t,n);if(a?.res===void 0)return!1;const i=tw(a.res);return!(n.returnObjects===!1&&i)}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,c=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!AU(t,n,a);if(o&&!c){const d=t.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:t,namespaces:Xt(i)?[i]:i};const h=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(h[0])>-1)&&(i=h.shift()),t=h.join(a)}return{key:t,namespaces:Xt(i)?[i]:i}}translate(t,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=f_(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const i=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(t[t.length-1],a),h=d[d.length-1];let m=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const f=a.lng||this.language,g=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return g?i?{res:`${h}${m}${c}`,usedKey:c,exactUsedKey:c,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(a)}:`${h}${m}${c}`:i?{res:c,usedKey:c,exactUsedKey:c,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(a)}:c;const b=this.resolve(t,a);let v=b?.res;const y=b?.usedKey||c,_=b?.exactUsedKey||c,j=["[object Number]","[object Function]","[object RegExp]"],S=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,k=a.count!==void 0&&!Xt(a.count),C=Xx.hasDefaultValue(a),z=k?this.pluralResolver.getSuffix(f,a.count,a):"",E=a.ordinal&&k?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",U=k&&!a.ordinal&&a.count===0,T=U&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${z}`]||a[`defaultValue${E}`]||a.defaultValue;let re=v;N&&!v&&C&&(re=T);const Y=tw(re),I=Object.prototype.toString.apply(re);if(N&&re&&Y&&j.indexOf(I)<0&&!(Xt(S)&&Array.isArray(re))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const K=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,re,{...a,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return i?(b.res=K,b.usedParams=this.getUsedParamsDetails(a),b):K}if(o){const K=Array.isArray(re),L=K?[]:{},J=K?_:y;for(const Q in re)if(Object.prototype.hasOwnProperty.call(re,Q)){const Z=`${J}${o}${Q}`;C&&!v?L[Q]=this.translate(Z,{...a,defaultValue:tw(T)?T[Q]:void 0,joinArrays:!1,ns:d}):L[Q]=this.translate(Z,{...a,joinArrays:!1,ns:d}),L[Q]===Z&&(L[Q]=re[Q])}v=L}}else if(N&&Xt(S)&&Array.isArray(v))v=v.join(S),v&&(v=this.extendTranslation(v,t,a,n));else{let K=!1,L=!1;!this.isValidLookup(v)&&C&&(K=!0,v=T),this.isValidLookup(v)||(L=!0,v=c);const Q=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&L?void 0:v,Z=C&&T!==v&&this.options.updateMissing;if(L||K||Z){if(this.logger.log(Z?"updateKey":"missingKey",f,h,c,Z?T:v),o){const q=this.resolve(c,{...a,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&F&&F[0])for(let q=0;q<F.length;q++)ee.push(F[q]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(a.lng||this.language):ee.push(a.lng||this.language);const de=(q,G,ie)=>{const le=C&&ie!==v?ie:Q;this.options.missingKeyHandler?this.options.missingKeyHandler(q,h,G,le,Z,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(q,h,G,le,Z,a),this.emit("missingKey",q,h,G,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?ee.forEach(q=>{const G=this.pluralResolver.getSuffixes(q,a);U&&a[`defaultValue${this.options.pluralSeparator}zero`]&&G.indexOf(`${this.options.pluralSeparator}zero`)<0&&G.push(`${this.options.pluralSeparator}zero`),G.forEach(ie=>{de([q],c+ie,a[`defaultValue${ie}`]||T)})}):de(ee,c,T))}v=this.extendTranslation(v,t,a,b,n),L&&v===c&&this.options.appendNamespaceToMissingKey&&(v=`${h}${m}${c}`),(L||K)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${c}`:c,K?v:void 0,a))}return i?(b.res=v,b.usedParams=this.getUsedParamsDetails(a),b):v}extendTranslation(t,r,n,a,i){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=Xt(t)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const f=t.match(this.interpolator.nestingRegexp);h=f&&f.length}let m=n.replace&&!Xt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),t=this.interpolator.interpolate(t,m,n.lng||this.language||a.usedLng,n),d){const f=t.match(this.interpolator.nestingRegexp),g=f&&f.length;h<g&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...f)=>i?.[0]===f[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${r[0]}`),null):this.translate(...f,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,c=Xt(o)?[o]:o;return t!=null&&c?.length&&n.applyPostProcessor!==!1&&(t=O6.handle(c,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,a,i,o,c;return Xt(t)&&(t=[t]),t.forEach(d=>{if(this.isValidLookup(n))return;const h=this.extractFromKey(d,r),m=h.key;a=m;let f=h.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const g=r.count!==void 0&&!Xt(r.count),b=g&&!r.ordinal&&r.count===0,v=r.context!==void 0&&(Xt(r.context)||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(_=>{this.isValidLookup(n)||(c=_,!D4[`${y[0]}-${_}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(D4[`${y[0]}-${_}`]=!0,this.logger.warn(`key "${a}" for languages "${y.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(j=>{if(this.isValidLookup(n))return;o=j;const S=[m];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(S,m,j,_,r);else{let k;g&&(k=this.pluralResolver.getSuffix(j,r.count,r));const C=`${this.options.pluralSeparator}zero`,z=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(r.ordinal&&k.indexOf(z)===0&&S.push(m+k.replace(z,this.options.pluralSeparator)),S.push(m+k),b&&S.push(m+C)),v){const E=`${m}${this.options.contextSeparator||"_"}${r.context}`;S.push(E),g&&(r.ordinal&&k.indexOf(z)===0&&S.push(E+k.replace(z,this.options.pluralSeparator)),S.push(E+k),b&&S.push(E+C))}}let N;for(;N=S.pop();)this.isValidLookup(n)||(i=N,n=this.getResource(j,_,N,r))}))})}),{res:n,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:c}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Xt(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const i of r)delete a[i]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class M4{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Hi.create("languageUtils")}getScriptPartFromCode(t){if(t=xm(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=xm(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Xt(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Xt(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Xt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Xt(t)&&i(this.formatLanguageCode(t)),n.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}const P4={zero:0,one:1,two:2,few:3,many:4,other:5},O4={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class RU{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=Hi.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=xm(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),O4;if(!t.match(/-|_/))return O4;const d=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(d,r)}return this.pluralRulesCache[i]=o,o}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,i)=>P4[a]-P4[i]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,n={}){const a=this.getRule(t,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const L4=(s,t,r,n=".",a=!0)=>{let i=jU(s,t,r);return!i&&a&&Xt(r)&&(i=h_(s,r,n),i===void 0&&(i=h_(t,r,n))),i},sw=s=>s.replace(/\$/g,"$$$$");class F4{constructor(t={}){this.logger=Hi.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:c,suffixEscaped:d,formatSeparator:h,unescapeSuffix:m,unescapePrefix:f,nestingPrefix:g,nestingPrefixEscaped:b,nestingSuffix:v,nestingSuffixEscaped:y,nestingOptionsSeparator:_,maxReplaces:j,alwaysFormat:S}=t.interpolation;this.escape=r!==void 0?r:NU,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?yu(i):o||"{{",this.suffix=c?yu(c):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=g?yu(g):b||yu("$t("),this.nestingSuffix=v?yu(v):y||yu(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=j||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,a){let i,o,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=b=>{if(b.indexOf(this.formatSeparator)<0){const j=L4(r,d,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,n,{...a,...r,interpolationkey:b}):j}const v=b.split(this.formatSeparator),y=v.shift().trim(),_=v.join(this.formatSeparator).trim();return this.format(L4(r,d,y,this.options.keySeparator,this.options.ignoreJSONStructure),_,n,{...a,...r,interpolationkey:y})};this.resetRegExp();const m=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>sw(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?sw(this.escape(b)):sw(b)}].forEach(b=>{for(c=0;i=b.regex.exec(t);){const v=i[1].trim();if(o=h(v),o===void 0)if(typeof m=="function"){const _=m(t,i,a);o=Xt(_)?_:""}else if(a&&Object.prototype.hasOwnProperty.call(a,v))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${t}`),o="";else!Xt(o)&&!this.useRawValueToEscape&&(o=C4(o));const y=b.safeValue(o);if(t=t.replace(i[0],y),f?(b.regex.lastIndex+=o.length,b.regex.lastIndex-=i[0].length):b.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),t}nest(t,r,n={}){let a,i,o;const c=(d,h)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const f=d.split(new RegExp(`${m}[ ]*{`));let g=`{${f[1]}`;d=f[0],g=this.interpolate(g,o);const b=g.match(/'/g),v=g.match(/"/g);((b?.length??0)%2===0&&!v||v.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),h&&(o={...h,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,y),`${d}${m}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,d};for(;a=this.nestingRegexp.exec(t);){let d=[];o={...n},o=o.replace&&!Xt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const h=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(h!==-1&&(d=a[1].slice(h).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),a[1]=a[1].slice(0,h)),i=r(c.call(this,a[1].trim(),o),o),i&&a[0]===t&&!Xt(i))return i;Xt(i)||(i=C4(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),d.length&&(i=d.reduce((m,f)=>this.format(m,f,n.lng,{...n,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}const DU=s=>{let t=s.toLowerCase().trim();const r={};if(s.indexOf("(")>-1){const n=s.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[c,...d]=o.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),m=c.trim();r[m]||(r[m]=h),h==="false"&&(r[m]=!1),h==="true"&&(r[m]=!0),isNaN(h)||(r[m]=parseInt(h,10))}})}return{formatName:t,formatOptions:r}},B4=s=>{const t={};return(r,n,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=n+JSON.stringify(i);let c=t[o];return c||(c=s(xm(n),a),t[o]=c),c(r)}},MU=s=>(t,r,n)=>s(xm(r),n)(t);let PU=class{constructor(t={}){this.logger=Hi.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?B4:MU;this.formats={number:n((a,i)=>{const o=new Intl.NumberFormat(a,{...i});return c=>o.format(c)}),currency:n((a,i)=>{const o=new Intl.NumberFormat(a,{...i,style:"currency"});return c=>o.format(c)}),datetime:n((a,i)=>{const o=new Intl.DateTimeFormat(a,{...i});return c=>o.format(c)}),relativetime:n((a,i)=>{const o=new Intl.RelativeTimeFormat(a,{...i});return c=>o.format(c,i.range||"day")}),list:n((a,i)=>{const o=new Intl.ListFormat(a,{...i});return c=>o.format(c)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=B4(r)}format(t,r,n,a={}){const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(d=>d.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,d)=>{const{formatName:h,formatOptions:m}=DU(d);if(this.formats[h]){let f=c;try{const g=a?.formatParams?.[a.interpolationkey]||{},b=g.locale||g.lng||a.locale||a.lng||n;f=this.formats[h](c,b,{...m,...a,...g})}catch(g){this.logger.warn(g)}return f}else this.logger.warn(`there was no format function for ${h}`);return c},t)}};const OU=(s,t)=>{s.pending[t]!==void 0&&(delete s.pending[t],s.pendingCount--)};class LU extends z0{constructor(t,r,n,a={}){super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=Hi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,a.backend,a)}queueLoad(t,r,n,a){const i={},o={},c={},d={};return t.forEach(h=>{let m=!0;r.forEach(f=>{const g=`${h}|${f}`;!n.reload&&this.store.hasResourceBundle(h,f)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,m=!1,o[g]===void 0&&(o[g]=!0),i[g]===void 0&&(i[g]=!0),d[f]===void 0&&(d[f]=!0)))}),m||(c[h]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(t,r,n){const a=t.split("|"),i=a[0],o=a[1];r&&this.emit("failedLoading",i,o,r),!r&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const c={};this.queue.forEach(d=>{wU(d.loaded,[i],o),OU(d,t),r&&d.errors.push(r),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{c[h]||(c[h]={});const m=d.loaded[h];m.length&&m.forEach(f=>{c[h][f]===void 0&&(c[h][f]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(t,r,n,a=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:i,callback:o});return}this.readingCalls++;const c=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(h&&m&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,i*2,o)},i);return}o(h,m)},d=this.backend[n].bind(this.backend);if(d.length===2){try{const h=d(t,r);h&&typeof h.then=="function"?h.then(m=>c(null,m)).catch(c):c(null,h)}catch(h){c(h)}return}return d(t,r,c)}prepareLoading(t,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Xt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Xt(r)&&(r=[r]);const i=this.queueLoad(t,r,n,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),a=n[0],i=n[1];this.read(a,i,"read",void 0,void 0,(o,c)=>{o&&this.logger.warn(`${r}loading namespace ${i} for language ${a} failed`,o),!o&&c&&this.logger.log(`${r}loaded namespace ${i} for language ${a}`,c),this.loaded(t,o,c)})}saveMissing(t,r,n,a,i,o={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const d={...o,isUpdate:i},h=this.backend.create.bind(this.backend);if(h.length<6)try{let m;h.length===5?m=h(t,r,n,a,d):m=h(t,r,n,a),m&&typeof m.then=="function"?m.then(f=>c(null,f)).catch(c):c(null,m)}catch(m){c(m)}else h(t,r,n,a,c,d)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const I4=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let t={};if(typeof s[1]=="object"&&(t=s[1]),Xt(s[1])&&(t.defaultValue=s[1]),Xt(s[2])&&(t.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const r=s[3]||s[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),z4=s=>(Xt(s.ns)&&(s.ns=[s.ns]),Xt(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),Xt(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs?.indexOf?.("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s),Dg=()=>{},FU=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(r=>{typeof s[r]=="function"&&(s[r]=s[r].bind(s))})};class im extends z0{constructor(t={},r){if(super(),this.options=z4(t),this.services={},this.logger=Hi,this.modules={external:[]},FU(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Xt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=I4();this.options={...n,...this.options,...z4(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Hi.init(a(this.modules.logger),this.options):Hi.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=PU;const m=new M4(this.options);this.store=new R4(this.options.resources,this.options);const f=this.services;f.logger=Hi,f.resourceStore=this.store,f.languageUtils=m,f.pluralResolver=new RU(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(h),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new F4(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new LU(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(b,...v)=>{this.emit(b,...v)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Xx(this.services,this.options),this.translator.on("*",(b,...v)=>{this.emit(b,...v)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Dg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const c=Af(),d=()=>{const h=(m,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(f),r(m,f)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(t,r=Dg){let n=r;const a=Xt(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],o=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&i.indexOf(h)<0&&i.push(h)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>o(d)),this.options.preload?.forEach?.(c=>o(c)),this.services.backendConnector.load(i,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(c)})}else n(null)}reloadResources(t,r,n){const a=Af();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=Dg),this.services.backendConnector.reload(t,r,i=>{a.resolve(),n(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&O6.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=Af();this.emit("languageChanging",t);const a=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,d)=>{d?this.isLanguageChangingTo===t&&(a(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,n.resolve((...h)=>this.t(...h)),r&&r(c,(...h)=>this.t(...h))},o=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const d=Xt(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Xt(c)?[c]:c);h&&(this.language||a(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,m=>{i(m,h)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),n}getFixedT(t,r,n){const a=(i,o,...c)=>{let d;typeof o!="object"?d=this.options.overloadTranslationOptionHandler([i,o].concat(c)):d={...o},d.lng=d.lng||a.lng,d.lngs=d.lngs||a.lngs,d.ns=d.ns||a.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||n||a.keyPrefix);const h=this.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(i)?m=i.map(f=>(typeof f=="function"&&(f=f_(f,{...this.options,...o})),`${d.keyPrefix}${h}${f}`)):(typeof i=="function"&&(i=f_(i,{...this.options,...o})),m=d.keyPrefix?`${d.keyPrefix}${h}${i}`:i),this.t(m,d)};return Xt(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(c,d)=>{const h=this.services.backendConnector.state[`${c}|${d}`];return h===-1||h===0||h===2};if(r.precheck){const c=r.precheck(this,o);if(c!==void 0)return c}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!a||o(i,t)))}loadNamespaces(t,r){const n=Af();return this.options.ns?(Xt(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=Af();Xt(t)&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const a=new Intl.Locale(t);if(a&&a.getTextInfo){const i=a.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new M4(I4());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const n=new im(t,r);return n.createInstance=im.createInstance,n}cloneInstance(t={},r=Dg){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new im(a);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const c=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((m,f)=>(m[f]={...d[h][f]},m),d[h]),d),{});i.store=new R4(c,a),i.services.resourceStore=i.store}return t.interpolation&&(i.services.interpolator=new F4(a)),i.translator=new Xx(i.services,a),i.translator.on("*",(c,...d)=>{i.emit(c,...d)}),i.init(a,r),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Mn=im.createInstance();Mn.createInstance;Mn.dir;Mn.init;Mn.loadResources;Mn.reloadResources;Mn.use;Mn.changeLanguage;Mn.getFixedT;Mn.t;Mn.exists;Mn.setDefaultNamespace;Mn.hasLoadedNamespace;Mn.loadNamespaces;Mn.loadLanguages;const BU=(s,t,r,n)=>{const a=[r,{code:t,...n||{}}];if(s?.services?.logger?.forward)return s.services.logger.forward(a,"warn","react-i18next::",!0);_d(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),s?.services?.logger?.warn?s.services.logger.warn(...a):console?.warn&&console.warn(...a)},U4={},F6=(s,t,r,n)=>{_d(r)&&U4[r]||(_d(r)&&(U4[r]=new Date),BU(s,t,r,n))},B6=(s,t)=>()=>{if(s.isInitialized)t();else{const r=()=>{setTimeout(()=>{s.off("initialized",r)},0),t()};s.on("initialized",r)}},m_=(s,t,r)=>{s.loadNamespaces(t,B6(s,r))},$4=(s,t,r,n)=>{if(_d(r)&&(r=[r]),s.options.preload&&s.options.preload.indexOf(t)>-1)return m_(s,r,n);r.forEach(a=>{s.options.ns.indexOf(a)<0&&s.options.ns.push(a)}),s.loadLanguages(t,B6(s,n))},IU=(s,t,r={})=>!t.languages||!t.languages.length?(F6(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(s,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,s))return!1}}),_d=s=>typeof s=="string",zU=s=>typeof s=="object"&&s!==null,UU=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$U={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},VU=s=>$U[s],HU=s=>s.replace(UU,VU);let p_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:HU};const qU=(s={})=>{p_={...p_,...s}},GU=()=>p_;let I6;const WU=s=>{I6=s},YU=()=>I6,KU={type:"3rdParty",init(s){qU(s.options.react),WU(s)}},XU=w.createContext();class ZU{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var rw={exports:{}},nw={};var V4;function QU(){if(V4)return nw;V4=1;var s=I0();function t(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=s.useState,a=s.useEffect,i=s.useLayoutEffect,o=s.useDebugValue;function c(f,g){var b=g(),v=n({inst:{value:b,getSnapshot:g}}),y=v[0].inst,_=v[1];return i(function(){y.value=b,y.getSnapshot=g,d(y)&&_({inst:y})},[f,b,g]),a(function(){return d(y)&&_({inst:y}),f(function(){d(y)&&_({inst:y})})},[f]),o(b),b}function d(f){var g=f.getSnapshot;f=f.value;try{var b=g();return!r(f,b)}catch{return!0}}function h(f,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return nw.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:m,nw}var H4;function JU(){return H4||(H4=1,rw.exports=QU()),rw.exports}var e$=JU();const t$=(s,t)=>_d(t)?t:zU(t)&&_d(t.defaultValue)?t.defaultValue:Array.isArray(s)?s[s.length-1]:s,s$={t:t$,ready:!1},r$=()=>()=>{},n$=(s,t={})=>{const{i18n:r}=t,{i18n:n,defaultNS:a}=w.useContext(XU)||{},i=r||n||YU();i&&!i.reportNamespaces&&(i.reportNamespaces=new ZU),i||F6(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=w.useMemo(()=>({...GU(),...i?.options?.react,...t}),[i,t]),{useSuspense:c,keyPrefix:d}=o,h=a||i?.options?.defaultNS,m=_d(h)?[h]:h||["translation"],f=w.useMemo(()=>m,m);i?.reportNamespaces?.addUsedNamespaces?.(f);const g=w.useRef(0),b=w.useCallback(T=>{if(!i)return r$;const{bindI18n:re,bindI18nStore:Y}=o,I=()=>{g.current+=1,T()};return re&&i.on(re,I),Y&&i.store.on(Y,I),()=>{re&&re.split(" ").forEach(K=>i.off(K,I)),Y&&Y.split(" ").forEach(K=>i.store.off(K,I))}},[i,o]),v=w.useRef(),y=w.useCallback(()=>{if(!i)return s$;const T=!!(i.isInitialized||i.initializedStoreOnce)&&f.every(J=>IU(J,i,o)),re=t.lng||i.language,Y=g.current,I=v.current;if(I&&I.ready===T&&I.lng===re&&I.keyPrefix===d&&I.revision===Y)return I;const L={t:i.getFixedT(re,o.nsMode==="fallback"?f:f[0],d),ready:T,lng:re,keyPrefix:d,revision:Y};return v.current=L,L},[i,f,d,o,t.lng]),[_,j]=w.useState(0),{t:S,ready:N}=e$.useSyncExternalStore(b,y,y);w.useEffect(()=>{if(i&&!N&&!c){const T=()=>j(re=>re+1);t.lng?$4(i,t.lng,f,T):m_(i,f,T)}},[i,t.lng,f,N,c,_]);const k=i||{},C=w.useRef(null),z=w.useRef(),E=T=>{const re=Object.getOwnPropertyDescriptors(T);re.__original&&delete re.__original;const Y=Object.create(Object.getPrototypeOf(T),re);if(!Object.prototype.hasOwnProperty.call(Y,"__original"))try{Object.defineProperty(Y,"__original",{value:T,writable:!1,enumerable:!1,configurable:!1})}catch{}return Y},U=w.useMemo(()=>{const T=k,re=T?.language;let Y=T;T&&(C.current&&C.current.__original===T?z.current!==re?(Y=E(T),C.current=Y,z.current=re):Y=C.current:(Y=E(T),C.current=Y,z.current=re));const I=[S,Y,N];return I.t=S,I.i18n=Y,I.ready=N,I},[S,k,N,k.resolvedLanguage,k.language,k.languages]);if(i&&c&&!N)throw new Promise(T=>{const re=()=>T();t.lng?$4(i,t.lng,f,re):m_(i,f,re)});return U},{slice:a$,forEach:i$}=[];function o$(s){return i$.call(a$.call(arguments,1),t=>{if(t)for(const r in t)s[r]===void 0&&(s[r]=t[r])}),s}function l$(s){return typeof s!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(s))}const q4=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,c$=function(s,t){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(t);let i=`${s}=${a}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!q4.test(n.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${n.domain}`}if(n.path){if(!q4.test(n.path))throw new TypeError("option path is invalid");i+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(i+="; Partitioned"),i},G4={create(s,t,r,n){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),n&&(a.domain=n),document.cookie=c$(s,t,a)},read(s){const t=`${s}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let a=r[n];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove(s,t){this.create(s,"",-1,t)}};var d$={name:"cookie",lookup(s){let{lookupCookie:t}=s;if(t&&typeof document<"u")return G4.read(t)||void 0},cacheUserLanguage(s,t){let{lookupCookie:r,cookieMinutes:n,cookieDomain:a,cookieOptions:i}=t;r&&typeof document<"u"&&G4.create(r,s,n,a,i)}},u$={name:"querystring",lookup(s){let{lookupQuerystring:t}=s,r;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const i=n.substring(1).split("&");for(let o=0;o<i.length;o++){const c=i[o].indexOf("=");c>0&&i[o].substring(0,c)===t&&(r=i[o].substring(c+1))}}return r}},h$={name:"hash",lookup(s){let{lookupHash:t,lookupFromHashIndex:r}=s,n;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const i=a.substring(1);if(t){const o=i.split("&");for(let c=0;c<o.length;c++){const d=o[c].indexOf("=");d>0&&o[c].substring(0,d)===t&&(n=o[c].substring(d+1))}}if(n)return n;if(!n&&r>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return n}};let bu=null;const W4=()=>{if(bu!==null)return bu;try{if(bu=typeof window<"u"&&window.localStorage!==null,!bu)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{bu=!1}return bu};var f$={name:"localStorage",lookup(s){let{lookupLocalStorage:t}=s;if(t&&W4())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(s,t){let{lookupLocalStorage:r}=t;r&&W4()&&window.localStorage.setItem(r,s)}};let vu=null;const Y4=()=>{if(vu!==null)return vu;try{if(vu=typeof window<"u"&&window.sessionStorage!==null,!vu)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{vu=!1}return vu};var m$={name:"sessionStorage",lookup(s){let{lookupSessionStorage:t}=s;if(t&&Y4())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(s,t){let{lookupSessionStorage:r}=t;r&&Y4()&&window.sessionStorage.setItem(r,s)}},p$={name:"navigator",lookup(s){const t=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:a}=navigator;if(r)for(let i=0;i<r.length;i++)t.push(r[i]);n&&t.push(n),a&&t.push(a)}return t.length>0?t:void 0}},g$={name:"htmlTag",lookup(s){let{htmlTag:t}=s,r;const n=t||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},x$={name:"path",lookup(s){let{lookupFromPathIndex:t}=s;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof t=="number"?t:0]?.replace("/",""):void 0}},y$={name:"subdomain",lookup(s){let{lookupFromSubdomainIndex:t}=s;const r=typeof t=="number"?t+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};let z6=!1;try{document.cookie,z6=!0}catch{}const U6=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];z6||U6.splice(1,1);const b$=()=>({order:U6,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class $6{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,r)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=o$(r,this.options||{},b$()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(d$),this.addDetector(u$),this.addDetector(f$),this.addDetector(m$),this.addDetector(p$),this.addDetector(g$),this.addDetector(x$),this.addDetector(y$),this.addDetector(h$)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return t.forEach(n=>{if(this.detectors[n]){let a=this.detectors[n].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(r=r.concat(a))}}),r=r.filter(n=>n!=null&&!l$(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(t,this.options)}))}}$6.type="languageDetector";const v$={name:"RENTO",tagline:"Your premium car rental experience"},w$={home:"Home",browseCars:"Browse Cars",about:"About",contact:"Contact",favorites:"Favorites",logout:"Logout",lightMode:"Light Mode",darkMode:"Dark Mode",myAccount:"My Account"},j$={badge:"Premium Car Rental Service",title:"Experience Luxury",titleAccent:"On Every Journey",description:"Discover Lebanons 10,000+ premium cars  the only platform with full search and filters.",searchBtn:"Search Available Cars",location:"Location",pickupDate:"Pickup Date",returnDate:"Return Date"},_$={customers:"Happy Customers",vehicles:"Luxury Vehicles",experience:"Years Experience",satisfaction:"Satisfaction Rate"},N$={badge:"Our Fleet",title:"Featured Luxury Vehicles",description:"Explore our handpicked selection of premium vehicles, ready to elevate your driving experience",viewAll:"View All Vehicles"},k$={badge:"Why Choose Us",title:"Premium Service, Unforgettable Experience",description:"We're committed to providing exceptional service and the finest vehicles for your journey",insurance:{title:"Premium Insurance",description:"Comprehensive coverage included with every rental for your peace of mind"},support:{title:"24/7 Support",description:"Round-the-clock customer service to assist you whenever you need"},price:{title:"Best Price Guarantee",description:"Competitive rates with no hidden fees or surprises"},fleet:{title:"Premium Fleet",description:"Exclusive selection of luxury and high-performance vehicles"}},S$={badge:"Testimonials",title:"What Our Customers Say",description:"Real experiences from our valued customers who trust us for their luxury car needs"},C$={title:"Ready to Experience Luxury?",description:"Book your dream car today and enjoy an unforgettable driving experience",browseFleet:"Browse Our Fleet",contactUs:"Contact Us"},A$={badge:"Browse Fleet",title:"Discover Your Perfect Ride",description:"Explore our premium collection of {{count}} luxury vehicles",showing:"Showing",vehicles:"vehicles",sortBy:"Sort by:",featured:"Featured",priceLow:"Price: Low to High",priceHigh:"Price: High to Low",rating:"Highest Rated",popular:"Most Popular",filters:"Filters",reset:"Reset",search:"Search",brand:"Brand",vehicleType:"Vehicle Type",transmission:"Transmission",priceRange:"Price Range",allBrands:"All Brands",allTypes:"All Types",all:"All",perDay:"/day",viewDetails:"View Details",noResults:"No vehicles found",tryAdjusting:"Try adjusting your filters to see more results",resetFilters:"Reset Filters"},E$={backToCars:"Back to Cars",rentalPrice:"Rental Price",bookNow:"Book Now",specifications:"Specifications",seats:"Seats",people:"People",fuelType:"Fuel Type",features:"Features & Amenities",reviews:"reviews"},T$={title:"Book {{car}}",description:"Fill in your details to complete the booking. We'll contact you to confirm.",fullName:"Full Name",email:"Email",phone:"Phone Number",pickupLocation:"Pickup Location",pickupDate:"Pickup Date",returnDate:"Return Date",dailyRate:"Daily Rate",duration:"Duration",day:"day",days:"days",totalPrice:"Total Price",confirmBooking:"Confirm Booking",success:"Booking confirmed for {{car}}! We'll contact you shortly."},R$={badge:"Favorites",title:"Your Favorite Vehicles",count:"You have {{count}} vehicle in your favorites",count_plural:"You have {{count}} vehicles in your favorites",empty:"No favorites yet. Start exploring our fleet!",emptyTitle:"No Favorites Yet",emptyDescription:"Start adding vehicles to your favorites to keep track of the cars you love. Click the heart icon on any vehicle card to add it here.",browseCars:"Browse Our Fleet"},D$={badge:"About Us",title:"Redefining Luxury Car Rental",description:"For over 15 years, RENTO has been the trusted name in premium vehicle rentals, providing discerning customers with access to the world's finest automobiles.",stats:{years:"Years in Business",customers:"Happy Customers",vehicles:"Premium Vehicles",cities:"Cities Covered"},story:{badge:"Our Story",title:"Passion for Automotive Excellence",p1:"RENTO was born from a simple vision: to make the world's most prestigious vehicles accessible to those who appreciate the finer things in life. Founded in 2008 by automotive enthusiasts, we've grown from a small boutique operation to a leading name in luxury car rentals.",p2:"Every vehicle in our fleet is carefully selected and maintained to the highest standards. We believe that driving a premium vehicle isn't just about transportationit's about experiencing craftsmanship, performance, and luxury in their purest forms.",p3:"Today, we're proud to serve thousands of satisfied customers across 25 cities, offering everything from exotic sports cars to elegant luxury sedans. Our commitment to excellence and customer satisfaction remains as strong as ever."},values:{badge:"Our Values",title:"What Drives Us Forward",description:"Our core values guide every decision we make and every service we provide",customer:{title:"Customer First",description:"Your satisfaction and experience are at the heart of everything we do"},trust:{title:"Trust & Safety",description:"Every vehicle is meticulously maintained and fully insured for your protection"},excellence:{title:"Excellence",description:"We strive for perfection in service quality and vehicle condition"},accessibility:{title:"Accessibility",description:"Premium vehicles available across multiple locations for your convenience"}},team:{badge:"Meet Our Team",title:"The People Behind the Wheels",description:"Our passionate team of automotive experts is dedicated to making your experience exceptional"},cta:{title:"Experience the RENTO Difference",description:"Join thousands of satisfied customers who trust us for their luxury vehicle needs"}},M$={badge:"Contact Us",title:"Get in Touch",description:"Have questions? We're here to help. Reach out to our team for any inquiries about our vehicles or services.",visitUs:"Visit Us",callUs:"Call Us",emailUs:"Email Us",businessHours:"Business Hours",sendMessage:"Send Us a Message",name:"Full Name",email:"Email Address",phone:"Phone Number",subject:"Subject",message:"Message",send:"Send Message",success:"Message sent successfully! We'll get back to you soon.",locations:"Our Locations",faq:{badge:"FAQ",title:"Frequently Asked Questions",description:"Find quick answers to common questions about our services"}},P$={welcome:"Welcome",description:"Sign in to your account or create a new one",login:"Login",register:"Register",email:"Email",password:"Password",confirmPassword:"Confirm Password",fullName:"Full Name",phone:"Phone Number",rememberMe:"Remember me",forgotPassword:"Forgot password?",signIn:"Sign In",createAccount:"Create Account",orContinueWith:"OR CONTINUE WITH",google:"Google",apple:"Apple",continueAsGuest:"Continue as guest",terms:"By continuing, you agree to our",termsOfService:"Terms of Service",and:"and",privacyPolicy:"Privacy Policy",back:"Back",loginSuccess:"Welcome back! Login successful.",registerSuccess:"Account created successfully! Welcome to RENTO.",fillFields:"Please fill in all required fields",passwordMatch:"Passwords do not match",passwordLength:"Password must be at least 6 characters",logoutSuccess:"Logged out successfully"},O$={skip:"Skip",next:"Next",getStarted:"Get Started",of:"of",slides:{fleet:{title:"Premium Luxury Fleet",description:"Access the world's finest vehicles. From sports cars to luxury SUVs, find your perfect ride for any occasion."},safe:{title:"Safe & Secure",description:"Every vehicle is fully insured with comprehensive coverage. Drive with complete peace of mind."},support:{title:"24/7 Support",description:"Our dedicated team is always here to help. Book instantly and get support whenever you need it."},price:{title:"Best Price Guarantee",description:"Competitive rates with no hidden fees. Experience luxury without breaking the bank."}}},L$={from:"From",to:"to",popular:"Popular",sports:"Sports",luxury:"Luxury",electric:"Electric",suv:"SUV",sedan:"Sedan",convertible:"Convertible",automatic:"Automatic",manual:"Manual",petrol:"Petrol",diesel:"Diesel",hybrid:"Hybrid"},F$={brand:v$,nav:w$,hero:j$,stats:_$,featured:N$,features:k$,testimonials:S$,cta:C$,cars:A$,carDetail:E$,booking:T$,favorites:R$,about:D$,contact:M$,auth:P$,intro:O$,common:L$},B$={name:"",tagline:"   "},I$={home:"",browseCars:" ",about:" ",contact:" ",favorites:"",logout:" ",lightMode:" ",darkMode:" ",myAccount:""},z$={badge:"   ",title:" ",titleAccent:"  ",description:"    .              .",searchBtn:"   ",location:"",pickupDate:" ",returnDate:" "},U$={customers:" ",vehicles:" ",experience:"  ",satisfaction:" "},$$={badge:"",title:"  ",description:"             ",viewAll:"  "},V$={badge:" ",title:"    ",description:"       ",insurance:{title:" ",description:"       "},support:{title:" 24/7",description:"       "},price:{title:"  ",description:"      "},fleet:{title:" ",description:"      "}},H$={badge:" ",title:"  ",description:"           "},q$={title:"    ",description:"        ",browseFleet:" ",contactUs:" "},G$={badge:" ",title:"  ",description:"    {{count}}  ",showing:"",vehicles:"",sortBy:" :",featured:"",priceLow:":   ",priceHigh:":   ",rating:" ",popular:" ",filters:"",reset:" ",search:"",brand:"",vehicleType:" ",transmission:" ",priceRange:" ",allBrands:" ",allTypes:" ",all:"",perDay:"/",viewDetails:" ",noResults:"    ",tryAdjusting:"      ",resetFilters:"  "},W$={backToCars:" ",rentalPrice:" ",bookNow:" ",specifications:"",seats:"",people:"",fuelType:" ",features:" ",reviews:""},Y$={title:" {{car}}",description:"   .   .",fullName:" ",email:" ",phone:" ",pickupLocation:" ",pickupDate:" ",returnDate:" ",dailyRate:" ",duration:"",day:"",days:"",totalPrice:" ",confirmBooking:" ",success:"   {{car}}!   ."},K$={badge:"",title:" ",count:" {{count}}   ",count_plural:" {{count}}   ",empty:"   .   !",emptyTitle:"   ",emptyDescription:"        .          .",browseCars:" "},X$={badge:" ",title:"    ",description:"  15                    .",stats:{years:"  ",customers:" ",vehicles:" ",cities:" "},story:{badge:"",title:"    ",p1:"    :               .    2008               .",p2:"          .          -        .",p3:"        25            .          ."},values:{badge:"",title:"  ",description:"        ",customer:{title:" ",description:"       "},trust:{title:" ",description:"       "},excellence:{title:"",description:"      "},accessibility:{title:" ",description:"      "}},team:{badge:"  ",title:"  ",description:"        "},cta:{title:"  ",description:"           "}},Z$={badge:" ",title:"  ",description:"     .         .",visitUs:" ",callUs:" ",emailUs:"",businessHours:" ",sendMessage:"  ",name:" ",email:" ",phone:" ",subject:"",message:"",send:" ",success:"   !   .",locations:"",faq:{badge:" ",title:" ",description:"       "}},Q$={welcome:"",description:"       ",login:" ",register:" ",email:" ",password:" ",confirmPassword:"  ",fullName:" ",phone:" ",rememberMe:"",forgotPassword:"  ",signIn:" ",createAccount:" ",orContinueWith:"  ",google:"",apple:"",continueAsGuest:" ",terms:"   ",termsOfService:" ",and:"",privacyPolicy:" ",back:"",loginSuccess:" !    .",registerSuccess:"   !    .",fillFields:"    ",passwordMatch:"   ",passwordLength:"     6   ",logoutSuccess:"   "},J$={skip:"",next:"",getStarted:" ",of:"",slides:{fleet:{title:"  ",description:"     .              ."},safe:{title:" ",description:"      .     ."},support:{title:" 24/7",description:"    .       ."},price:{title:"  ",description:"    .     ."}}},eV={from:"",to:"",popular:"",sports:"",luxury:"",electric:"",suv:" ",sedan:"",convertible:" ",automatic:"",manual:"",petrol:"",diesel:"",hybrid:""},tV={brand:B$,nav:I$,hero:z$,stats:U$,featured:$$,features:V$,testimonials:H$,cta:q$,cars:G$,carDetail:W$,booking:Y$,favorites:K$,about:X$,contact:Z$,auth:Q$,intro:J$,common:eV},sV={en:{translation:F$},ar:{translation:tV}};Mn.use($6).use(KU).init({resources:sV,fallbackLng:"en",lng:localStorage.getItem("language")||"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}});var K4="popstate";function rV(s={}){function t(n,a){let{pathname:i,search:o,hash:c}=n.location;return g_("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ym(a)}return aV(t,r,null,s)}function cr(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function ka(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nV(){return Math.random().toString(36).substring(2,10)}function X4(s,t){return{usr:s.state,key:s.key,idx:t}}function g_(s,t,r=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?ph(t):t,state:r,key:t&&t.key||n||nV()}}function ym({pathname:s="/",search:t="",hash:r=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function ph(s){let t={};if(s){let r=s.indexOf("#");r>=0&&(t.hash=s.substring(r),s=s.substring(0,r));let n=s.indexOf("?");n>=0&&(t.search=s.substring(n),s=s.substring(0,n)),s&&(t.pathname=s)}return t}function aV(s,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,c="POP",d=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function f(){c="POP";let _=m(),j=_==null?null:_-h;h=_,d&&d({action:c,location:y.location,delta:j})}function g(_,j){c="PUSH";let S=g_(y.location,_,j);h=m()+1;let N=X4(S,h),k=y.createHref(S);try{o.pushState(N,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(k)}i&&d&&d({action:c,location:y.location,delta:1})}function b(_,j){c="REPLACE";let S=g_(y.location,_,j);h=m();let N=X4(S,h),k=y.createHref(S);o.replaceState(N,"",k),i&&d&&d({action:c,location:y.location,delta:0})}function v(_){return iV(_)}let y={get action(){return c},get location(){return s(a,o)},listen(_){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(K4,f),d=_,()=>{a.removeEventListener(K4,f),d=null}},createHref(_){return t(a,_)},createURL:v,encodeLocation(_){let j=v(_);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:g,replace:b,go(_){return o.go(_)}};return y}function iV(s,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),cr(r,"No window.location.(origin|href) available to create URL");let n=typeof s=="string"?s:ym(s);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function V6(s,t,r="/"){return oV(s,t,r,!1)}function oV(s,t,r,n){let a=typeof t=="string"?ph(t):t,i=Wo(a.pathname||"/",r);if(i==null)return null;let o=H6(s);lV(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=bV(i);c=xV(o[d],h,n)}return c}function H6(s,t=[],r=[],n="",a=!1){let i=(o,c,d=a,h)=>{let m={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&d)return;cr(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let f=qo([n,m.relativePath]),g=r.concat(m);o.children&&o.children.length>0&&(cr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),H6(o.children,t,g,f,d)),!(o.path==null&&!o.index)&&t.push({path:f,score:pV(f,o.index),routesMeta:g})};return s.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))i(o,c);else for(let d of q6(o.path))i(o,c,!0,d)}),t}function q6(s){let t=s.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=q6(n.join("/")),c=[];return c.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...o),c.map(d=>s.startsWith("/")&&d===""?"/":d)}function lV(s){s.sort((t,r)=>t.score!==r.score?r.score-t.score:gV(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var cV=/^:[\w-]+$/,dV=3,uV=2,hV=1,fV=10,mV=-2,Z4=s=>s==="*";function pV(s,t){let r=s.split("/"),n=r.length;return r.some(Z4)&&(n+=mV),t&&(n+=uV),r.filter(a=>!Z4(a)).reduce((a,i)=>a+(cV.test(i)?dV:i===""?hV:fV),n)}function gV(s,t){return s.length===t.length&&s.slice(0,-1).every((n,a)=>n===t[a])?s[s.length-1]-t[t.length-1]:0}function xV(s,t,r=!1){let{routesMeta:n}=s,a={},i="/",o=[];for(let c=0;c<n.length;++c){let d=n[c],h=c===n.length-1,m=i==="/"?t:t.slice(i.length)||"/",f=Zx({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),g=d.route;if(!f&&h&&r&&!n[n.length-1].route.index&&(f=Zx({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:qo([i,f.pathname]),pathnameBase:_V(qo([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=qo([i,f.pathnameBase]))}return o}function Zx(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,n]=yV(s.path,s.caseSensitive,s.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((h,{paramName:m,isOptional:f},g)=>{if(m==="*"){let v=c[g]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const b=c[g];return f&&!b?h[m]=void 0:h[m]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:s}}function yV(s,t=!1,r=!0){ka(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(n.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function bV(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ka(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Wo(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=s.charAt(r);return n&&n!=="/"?null:s.slice(r)||"/"}var G6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vV=s=>G6.test(s);function wV(s,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof s=="string"?ph(s):s,i;if(r)if(vV(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ka(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=Q4(r.substring(1),"/"):i=Q4(r,t)}else i=t;return{pathname:i,search:NV(n),hash:kV(a)}}function Q4(s,t){let r=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function aw(s,t,r,n){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jV(s){return s.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function zN(s){let t=jV(s);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function UN(s,t,r,n=!1){let a;typeof s=="string"?a=ph(s):(a={...s},cr(!a.pathname||!a.pathname.includes("?"),aw("?","pathname","search",a)),cr(!a.pathname||!a.pathname.includes("#"),aw("#","pathname","hash",a)),cr(!a.search||!a.search.includes("#"),aw("#","search","hash",a)));let i=s===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;a.pathname=g.join("/")}c=f>=0?t[f]:"/"}let d=wV(a,c),h=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var qo=s=>s.join("/").replace(/\/\/+/g,"/"),_V=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),NV=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,kV=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,SV=class{constructor(s,t,r,n=!1){this.status=s,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function CV(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function AV(s){return s.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var W6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Y6(s,t){let r=s;if(typeof r!="string"||!G6.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(W6)try{let i=new URL(window.location.href),o=r.startsWith("//")?new URL(i.protocol+r):new URL(r),c=Wo(o.pathname,t);o.origin===i.origin&&c!=null?r=c+o.search+o.hash:a=!0}catch{ka(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var K6=["POST","PUT","PATCH","DELETE"];new Set(K6);var EV=["GET",...K6];new Set(EV);var gh=w.createContext(null);gh.displayName="DataRouter";var U0=w.createContext(null);U0.displayName="DataRouterState";var TV=w.createContext(!1),X6=w.createContext({isTransitioning:!1});X6.displayName="ViewTransition";var RV=w.createContext(new Map);RV.displayName="Fetchers";var DV=w.createContext(null);DV.displayName="Await";var Ca=w.createContext(null);Ca.displayName="Navigation";var zm=w.createContext(null);zm.displayName="Location";var Ja=w.createContext({outlet:null,matches:[],isDataRoute:!1});Ja.displayName="Route";var $N=w.createContext(null);$N.displayName="RouteError";var Z6="REACT_ROUTER_ERROR",MV="REDIRECT",PV="ROUTE_ERROR_RESPONSE";function OV(s){if(s.startsWith(`${Z6}:${MV}:{`))try{let t=JSON.parse(s.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function LV(s){if(s.startsWith(`${Z6}:${PV}:{`))try{let t=JSON.parse(s.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new SV(t.status,t.statusText,t.data)}catch{}}function FV(s,{relative:t}={}){cr(xh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(Ca),{hash:a,pathname:i,search:o}=Um(s,{relative:t}),c=i;return r!=="/"&&(c=i==="/"?r:qo([r,i])),n.createHref({pathname:c,search:o,hash:a})}function xh(){return w.useContext(zm)!=null}function ra(){return cr(xh(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(zm).location}var Q6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J6(s){w.useContext(Ca).static||w.useLayoutEffect(s)}function br(){let{isDataRoute:s}=w.useContext(Ja);return s?JV():BV()}function BV(){cr(xh(),"useNavigate() may be used only in the context of a <Router> component.");let s=w.useContext(gh),{basename:t,navigator:r}=w.useContext(Ca),{matches:n}=w.useContext(Ja),{pathname:a}=ra(),i=JSON.stringify(zN(n)),o=w.useRef(!1);return J6(()=>{o.current=!0}),w.useCallback((d,h={})=>{if(ka(o.current,Q6),!o.current)return;if(typeof d=="number"){r.go(d);return}let m=UN(d,JSON.parse(i),a,h.relative==="path");s==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:qo([t,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[t,r,i,a,s])}var IV=w.createContext(null);function zV(s){let t=w.useContext(Ja).outlet;return w.useMemo(()=>t&&w.createElement(IV.Provider,{value:s},t),[t,s])}function UV(){let{matches:s}=w.useContext(Ja),t=s[s.length-1];return t?t.params:{}}function Um(s,{relative:t}={}){let{matches:r}=w.useContext(Ja),{pathname:n}=ra(),a=JSON.stringify(zN(r));return w.useMemo(()=>UN(s,JSON.parse(a),n,t==="path"),[s,a,n,t])}function $V(s,t){return eM(s,t)}function eM(s,t,r,n,a){cr(xh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(Ca),{matches:o}=w.useContext(Ja),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",f=c&&c.route;{let S=f&&f.path||"";sM(h,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=ra(),b;if(t){let S=typeof t=="string"?ph(t):t;cr(m==="/"||S.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),b=S}else b=g;let v=b.pathname||"/",y=v;if(m!=="/"){let S=m.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=V6(s,{pathname:y});ka(f||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ka(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=WV(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:qo([m,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:qo([m,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,r,n,a);return t&&j?w.createElement(zm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},j):j}function VV(){let s=QV(),t=CV(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",s),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,o)}var HV=w.createElement(VV,null),tM=class extends w.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.onError?this.props.onError(s,t):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const r=LV(s.digest);r&&(s=r)}let t=s!==void 0?w.createElement(Ja.Provider,{value:this.props.routeContext},w.createElement($N.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?w.createElement(qV,{error:s},t):t}};tM.contextType=TV;var iw=new WeakMap;function qV({children:s,error:t}){let{basename:r}=w.useContext(Ca);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=OV(t.digest);if(n){let a=iw.get(t);if(a)throw a;let i=Y6(n.location,r);if(W6&&!iw.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw iw.set(t,o),o}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return s}function GV({routeContext:s,match:t,children:r}){let n=w.useContext(gh);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Ja.Provider,{value:s},r)}function WV(s,t=[],r=null,n=null,a=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let i=s,o=r?.errors;if(o!=null){let m=i.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);cr(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,d=-1;if(r)for(let m=0;m<i.length;m++){let f=i[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=m),f.route.id){let{loaderData:g,errors:b}=r,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!b||b[f.route.id]===void 0);if(f.route.lazy||v){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let h=r&&n?(m,f)=>{n(m,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:AV(r.matches),errorInfo:f})}:void 0;return i.reduceRight((m,f,g)=>{let b,v=!1,y=null,_=null;r&&(b=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||HV,c&&(d<0&&g===0?(sM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,_=null):d===g&&(v=!0,_=f.route.hydrateFallbackElement||null)));let j=t.concat(i.slice(0,g+1)),S=()=>{let N;return b?N=y:v?N=_:f.route.Component?N=w.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=m,w.createElement(GV,{match:f,routeContext:{outlet:m,matches:j,isDataRoute:r!=null},children:N})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?w.createElement(tM,{location:r.location,revalidation:r.revalidation,component:y,error:b,children:S(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:h}):S()},null)}function VN(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YV(s){let t=w.useContext(gh);return cr(t,VN(s)),t}function KV(s){let t=w.useContext(U0);return cr(t,VN(s)),t}function XV(s){let t=w.useContext(Ja);return cr(t,VN(s)),t}function HN(s){let t=XV(s),r=t.matches[t.matches.length-1];return cr(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function ZV(){return HN("useRouteId")}function QV(){let s=w.useContext($N),t=KV("useRouteError"),r=HN("useRouteError");return s!==void 0?s:t.errors?.[r]}function JV(){let{router:s}=YV("useNavigate"),t=HN("useNavigate"),r=w.useRef(!1);return J6(()=>{r.current=!0}),w.useCallback(async(a,i={})=>{ka(r.current,Q6),r.current&&(typeof a=="number"?await s.navigate(a):await s.navigate(a,{fromRouteId:t,...i}))},[s,t])}var J4={};function sM(s,t,r){!t&&!J4[s]&&(J4[s]=!0,ka(!1,r))}w.memo(eH);function eH({routes:s,future:t,state:r,onError:n}){return eM(s,void 0,r,n,t)}function Go({to:s,replace:t,state:r,relative:n}){cr(xh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(Ca);ka(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(Ja),{pathname:o}=ra(),c=br(),d=UN(s,zN(i),o,n==="path"),h=JSON.stringify(d);return w.useEffect(()=>{c(JSON.parse(h),{replace:t,state:r,relative:n})},[c,h,n,t,r]),null}function tH(s){return zV(s.context)}function Ht(s){cr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sH({basename:s="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){cr(!xh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=s.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[c,a,i,o]);typeof r=="string"&&(r=ph(r));let{pathname:h="/",search:m="",hash:f="",state:g=null,key:b="default"}=r,v=w.useMemo(()=>{let y=Wo(h,c);return y==null?null:{location:{pathname:y,search:m,hash:f,state:g,key:b},navigationType:n}},[c,h,m,f,g,b,n]);return ka(v!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:w.createElement(Ca.Provider,{value:d},w.createElement(zm.Provider,{children:t,value:v}))}function rH({children:s,location:t}){return $V(x_(s),t)}function x_(s,t=[]){let r=[];return w.Children.forEach(s,(n,a)=>{if(!w.isValidElement(n))return;let i=[...t,a];if(n.type===w.Fragment){r.push.apply(r,x_(n.props.children,i));return}cr(n.type===Ht,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=x_(n.props.children,i)),r.push(o)}),r}var Ax="get",Ex="application/x-www-form-urlencoded";function $0(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function nH(s){return $0(s)&&s.tagName.toLowerCase()==="button"}function aH(s){return $0(s)&&s.tagName.toLowerCase()==="form"}function iH(s){return $0(s)&&s.tagName.toLowerCase()==="input"}function oH(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function lH(s,t){return s.button===0&&(!t||t==="_self")&&!oH(s)}function y_(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((t,r)=>{let n=s[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function cH(s,t){let r=y_(s);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var Mg=null;function dH(){if(Mg===null)try{new FormData(document.createElement("form"),0),Mg=!1}catch{Mg=!0}return Mg}var uH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ow(s){return s!=null&&!uH.has(s)?(ka(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ex}"`),null):s}function hH(s,t){let r,n,a,i,o;if(aH(s)){let c=s.getAttribute("action");n=c?Wo(c,t):null,r=s.getAttribute("method")||Ax,a=ow(s.getAttribute("enctype"))||Ex,i=new FormData(s)}else if(nH(s)||iH(s)&&(s.type==="submit"||s.type==="image")){let c=s.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=s.getAttribute("formaction")||c.getAttribute("action");if(n=d?Wo(d,t):null,r=s.getAttribute("formmethod")||c.getAttribute("method")||Ax,a=ow(s.getAttribute("formenctype"))||ow(c.getAttribute("enctype"))||Ex,i=new FormData(c,s),!dH()){let{name:h,type:m,value:f}=s;if(m==="image"){let g=h?`${h}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else h&&i.append(h,f)}}else{if($0(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ax,n=null,a=Ex,o=s}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qN(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function fH(s,t,r,n){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&Wo(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function mH(s,t){if(s.id in t)return t[s.id];try{let r=await import(s.module);return t[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pH(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function gH(s,t,r){let n=await Promise.all(s.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await mH(i,r);return o.links?o.links():[]}return[]}));return vH(n.flat(1).filter(pH).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function eE(s,t,r,n,a,i){let o=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,c=(d,h)=>r[h].pathname!==d.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==d.params["*"];return i==="assets"?t.filter((d,h)=>o(d,h)||c(d,h)):i==="data"?t.filter((d,h)=>{let m=n.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let f=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function xH(s,t,{includeHydrateFallback:r}={}){return yH(s.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function yH(s){return[...new Set(s)]}function bH(s){let t={},r=Object.keys(s).sort();for(let n of r)t[n]=s[n];return t}function vH(s,t){let r=new Set;return new Set(t),s.reduce((n,a)=>{let i=JSON.stringify(bH(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function rM(){let s=w.useContext(gh);return qN(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function wH(){let s=w.useContext(U0);return qN(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var GN=w.createContext(void 0);GN.displayName="FrameworkContext";function nM(){let s=w.useContext(GN);return qN(s,"You must render this element inside a <HydratedRouter> element"),s}function jH(s,t){let r=w.useContext(GN),[n,a]=w.useState(!1),[i,o]=w.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:f}=t,g=w.useRef(null);w.useEffect(()=>{if(s==="render"&&o(!0),s==="viewport"){let y=j=>{j.forEach(S=>{o(S.isIntersecting)})},_=new IntersectionObserver(y,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[s]),w.useEffect(()=>{if(n){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[n]);let b=()=>{a(!0)},v=()=>{a(!1),o(!1)};return r?s!=="intent"?[i,g,{}]:[i,g,{onFocus:Ef(c,b),onBlur:Ef(d,v),onMouseEnter:Ef(h,b),onMouseLeave:Ef(m,v),onTouchStart:Ef(f,b)}]:[!1,g,{}]}function Ef(s,t){return r=>{s&&s(r),r.defaultPrevented||t(r)}}function _H({page:s,...t}){let{router:r}=rM(),n=w.useMemo(()=>V6(r.routes,s,r.basename),[r.routes,s,r.basename]);return n?w.createElement(kH,{page:s,matches:n,...t}):null}function NH(s){let{manifest:t,routeModules:r}=nM(),[n,a]=w.useState([]);return w.useEffect(()=>{let i=!1;return gH(s,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[s,t,r]),n}function kH({page:s,matches:t,...r}){let n=ra(),{future:a,manifest:i,routeModules:o}=nM(),{basename:c}=rM(),{loaderData:d,matches:h}=wH(),m=w.useMemo(()=>eE(s,t,h,i,n,"data"),[s,t,h,i,n]),f=w.useMemo(()=>eE(s,t,h,i,n,"assets"),[s,t,h,i,n]),g=w.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let y=new Set,_=!1;if(t.forEach(S=>{let N=i.routes[S.route.id];!N||!N.hasLoader||(!m.some(k=>k.route.id===S.route.id)&&S.route.id in d&&o[S.route.id]?.shouldRevalidate||N.hasClientLoader?_=!0:y.add(S.route.id))}),y.size===0)return[];let j=fH(s,c,a.unstable_trailingSlashAwareDataRequests,"data");return _&&y.size>0&&j.searchParams.set("_routes",t.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[j.pathname+j.search]},[c,a.unstable_trailingSlashAwareDataRequests,d,n,i,m,t,s,o]),b=w.useMemo(()=>xH(f,i),[f,i]),v=NH(f);return w.createElement(w.Fragment,null,g.map(y=>w.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),b.map(y=>w.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),v.map(({key:y,link:_})=>w.createElement("link",{key:y,nonce:r.nonce,..._})))}function SH(...s){return t=>{s.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var CH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CH&&(window.__reactRouterVersion="7.12.0")}catch{}function AH({basename:s,children:t,unstable_useTransitions:r,window:n}){let a=w.useRef();a.current==null&&(a.current=rV({window:n,v5Compat:!0}));let i=a.current,[o,c]=w.useState({action:i.action,location:i.location}),d=w.useCallback(h=>{r===!1?c(h):w.startTransition(()=>c(h))},[r]);return w.useLayoutEffect(()=>i.listen(d),[i,d]),w.createElement(sH,{basename:s,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r})}var aM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fs=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:c,target:d,to:h,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:g,...b},v){let{basename:y,unstable_useTransitions:_}=w.useContext(Ca),j=typeof h=="string"&&aM.test(h),S=Y6(h,y);h=S.to;let N=FV(h,{relative:a}),[k,C,z]=jH(n,b),E=RH(h,{replace:o,state:c,target:d,preventScrollReset:m,relative:a,viewTransition:f,unstable_defaultShouldRevalidate:g,unstable_useTransitions:_});function U(re){t&&t(re),re.defaultPrevented||E(re)}let T=w.createElement("a",{...b,...z,href:S.absoluteURL||N,onClick:S.isExternal||i?t:U,ref:SH(v,C),target:d,"data-discover":!j&&r==="render"?"true":void 0});return k&&!j?w.createElement(w.Fragment,null,T,w.createElement(_H,{page:N})):T});Fs.displayName="Link";var iM=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:c,children:d,...h},m){let f=Um(o,{relative:h.relative}),g=ra(),b=w.useContext(U0),{navigator:v,basename:y}=w.useContext(Ca),_=b!=null&&FH(f)&&c===!0,j=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,S=g.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(S=S.toLowerCase(),N=N?N.toLowerCase():null,j=j.toLowerCase()),N&&y&&(N=Wo(N,y)||N);const k=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let C=S===j||!a&&S.startsWith(j)&&S.charAt(k)==="/",z=N!=null&&(N===j||!a&&N.startsWith(j)&&N.charAt(j.length)==="/"),E={isActive:C,isPending:z,isTransitioning:_},U=C?t:void 0,T;typeof n=="function"?T=n(E):T=[n,C?"active":null,z?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let re=typeof i=="function"?i(E):i;return w.createElement(Fs,{...h,"aria-current":U,className:T,ref:m,style:re,to:o,viewTransition:c},typeof d=="function"?d(E):d)});iM.displayName="NavLink";var EH=w.forwardRef(({discover:s="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=Ax,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:g,...b},v)=>{let{unstable_useTransitions:y}=w.useContext(Ca),_=OH(),j=LH(c,{relative:h}),S=o.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&aM.test(c),k=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let z=C.nativeEvent.submitter,E=z?.getAttribute("formmethod")||o,U=()=>_(z||C.currentTarget,{fetcherKey:t,method:E,navigate:r,replace:a,state:i,relative:h,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:g});y&&r!==!1?w.startTransition(()=>U()):U()};return w.createElement("form",{ref:v,method:S,action:j,onSubmit:n?d:k,...b,"data-discover":!N&&s==="render"?"true":void 0})});EH.displayName="Form";function TH(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oM(s){let t=w.useContext(gh);return cr(t,TH(s)),t}function RH(s,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let h=br(),m=ra(),f=Um(s,{relative:i});return w.useCallback(g=>{if(lH(g,t)){g.preventDefault();let b=r!==void 0?r:ym(m)===ym(f),v=()=>h(s,{replace:b,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:c});d?w.startTransition(()=>v()):v()}},[m,h,f,r,n,t,s,a,i,o,c,d])}function DH(s){ka(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=w.useRef(y_(s)),r=w.useRef(!1),n=ra(),a=w.useMemo(()=>cH(n.search,r.current?null:t.current),[n.search]),i=br(),o=w.useCallback((c,d)=>{const h=y_(typeof c=="function"?c(new URLSearchParams(a)):c);r.current=!0,i("?"+h,d)},[i,a]);return[a,o]}var MH=0,PH=()=>`__${String(++MH)}__`;function OH(){let{router:s}=oM("useSubmit"),{basename:t}=w.useContext(Ca),r=ZV(),n=s.fetch,a=s.navigate;return w.useCallback(async(i,o={})=>{let{action:c,method:d,encType:h,formData:m,body:f}=hH(i,t);if(o.navigate===!1){let g=o.fetcherKey||PH();await n(g,r,o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:f,formMethod:o.method||d,formEncType:o.encType||h,flushSync:o.flushSync})}else await a(o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:f,formMethod:o.method||d,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,t,r])}function LH(s,{relative:t}={}){let{basename:r}=w.useContext(Ca),n=w.useContext(Ja);cr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Um(s||".",{relative:t})},o=ra();if(s==null){i.search=o.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(f=>f).forEach(f=>c.append("index",f));let m=c.toString();i.search=m?`?${m}`:""}}return(!s||s===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:qo([r,i.pathname])),ym(i)}function FH(s,{relative:t}={}){let r=w.useContext(X6);cr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=oM("useViewTransitionState"),a=Um(s,{relative:t});if(!r.isTransitioning)return!1;let i=Wo(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Wo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Zx(a.pathname,o)!=null||Zx(a.pathname,i)!=null}var $m=M6();const lM=B0($m);var BH=(s,t,r,n,a,i,o,c)=>{let d=document.documentElement,h=["light","dark"];function m(b){(Array.isArray(s)?s:[s]).forEach(v=>{let y=v==="class",_=y&&i?a.map(j=>i[j]||j):a;y?(d.classList.remove(..._),d.classList.add(i&&i[b]?i[b]:b)):d.setAttribute(v,b)}),f(b)}function f(b){c&&h.includes(b)&&(d.style.colorScheme=b)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)m(n);else try{let b=localStorage.getItem(t)||r,v=o&&b==="system"?g():b;m(v)}catch{}},IH=w.createContext(void 0),zH={setTheme:s=>{},themes:[]},UH=()=>{var s;return(s=w.useContext(IH))!=null?s:zH};w.memo(({forcedTheme:s,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,themes:c,nonce:d,scriptProps:h})=>{let m=JSON.stringify([r,t,i,s,c,o,n,a]).slice(1,-1);return w.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${BH.toString()})(${m})`}})});function $H(s){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=s:r.appendChild(document.createTextNode(s))}const VH=s=>{switch(s){case"success":return GH;case"info":return YH;case"warning":return WH;case"error":return KH;default:return null}},HH=Array(12).fill(0),qH=({visible:s,className:t})=>ct.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":s},ct.createElement("div",{className:"sonner-spinner"},HH.map((r,n)=>ct.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),GH=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),WH=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),YH=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),KH=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XH=ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ct.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ct.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ZH=()=>{const[s,t]=ct.useState(document.hidden);return ct.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),s};let b_=1;class QH{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:b_++,o=this.toasts.find(d=>d.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:c,title:n}):d):this.addToast({title:n,...a,dismissible:c,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const c=a.then(async h=>{if(o=["resolve",h],ct.isValidElement(h))i=!1,this.create({id:n,type:"default",message:h});else if(eq(h)&&!h.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${h.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${h.status}`):r.description,v=typeof f=="object"&&!ct.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:g,...v})}else if(h instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(h):r.error,g=typeof r.description=="function"?await r.description(h):r.description,v=typeof f=="object"&&!ct.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:g,...v})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(h):r.success,g=typeof r.description=="function"?await r.description(h):r.description,v=typeof f=="object"&&!ct.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:g,...v})}}).catch(async h=>{if(o=["reject",h],r.error!==void 0){i=!1;const m=typeof r.error=="function"?await r.error(h):r.error,f=typeof r.description=="function"?await r.description(h):r.description,b=typeof m=="object"&&!ct.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:f,...b})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((h,m)=>c.then(()=>o[0]==="reject"?m(o[1]):h(o[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=r?.id||b_++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Yn=new QH,JH=(s,t)=>{const r=t?.id||b_++;return Yn.addToast({title:s,...t,id:r}),r},eq=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",tq=JH,sq=()=>Yn.toasts,rq=()=>Yn.getActiveToasts(),xe=Object.assign(tq,{success:Yn.success,info:Yn.info,warning:Yn.warning,error:Yn.error,custom:Yn.custom,message:Yn.message,promise:Yn.promise,dismiss:Yn.dismiss,loading:Yn.loading},{getHistory:sq,getToasts:rq});$H("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Pg(s){return s.label!==void 0}const nq=3,aq="24px",iq="16px",tE=4e3,oq=356,lq=14,cq=45,dq=200;function Li(...s){return s.filter(Boolean).join(" ")}function uq(s){const[t,r]=s.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const hq=s=>{var t,r,n,a,i,o,c,d,h;const{invert:m,toast:f,unstyled:g,interacting:b,setHeights:v,visibleToasts:y,heights:_,index:j,toasts:S,expanded:N,removeToast:k,defaultRichColors:C,closeButton:z,style:E,cancelButtonStyle:U,actionButtonStyle:T,className:re="",descriptionClassName:Y="",duration:I,position:K,gap:L,expandByDefault:J,classNames:Q,icons:Z,closeButtonAriaLabel:ee="Close toast"}=s,[F,de]=ct.useState(null),[q,G]=ct.useState(null),[ie,le]=ct.useState(!1),[be,ye]=ct.useState(!1),[$,V]=ct.useState(!1),[me,ce]=ct.useState(!1),[he,O]=ct.useState(!1),[oe,D]=ct.useState(0),[Ce,H]=ct.useState(0),R=ct.useRef(f.duration||I||tE),P=ct.useRef(null),W=ct.useRef(null),Ne=j===0,X=j+1<=y,pe=f.type,ge=f.dismissible!==!1,Re=f.className||"",De=f.descriptionClassName||"",Se=ct.useMemo(()=>_.findIndex(Dt=>Dt.toastId===f.id)||0,[_,f.id]),Ie=ct.useMemo(()=>{var Dt;return(Dt=f.closeButton)!=null?Dt:z},[f.closeButton,z]),We=ct.useMemo(()=>f.duration||I||tE,[f.duration,I]),wt=ct.useRef(0),gt=ct.useRef(0),pt=ct.useRef(0),Nt=ct.useRef(null),[yt,Ot]=K.split("-"),Ze=ct.useMemo(()=>_.reduce((Dt,we,Rt)=>Rt>=Se?Dt:Dt+we.height,0),[_,Se]),Te=ZH(),Be=f.invert||m,xt=pe==="loading";gt.current=ct.useMemo(()=>Se*L+Ze,[Se,Ze]),ct.useEffect(()=>{R.current=We},[We]),ct.useEffect(()=>{le(!0)},[]),ct.useEffect(()=>{const Dt=W.current;if(Dt){const we=Dt.getBoundingClientRect().height;return H(we),v(Rt=>[{toastId:f.id,height:we,position:f.position},...Rt]),()=>v(Rt=>Rt.filter(Gs=>Gs.toastId!==f.id))}},[v,f.id]),ct.useLayoutEffect(()=>{if(!ie)return;const Dt=W.current,we=Dt.style.height;Dt.style.height="auto";const Rt=Dt.getBoundingClientRect().height;Dt.style.height=we,H(Rt),v(Gs=>Gs.find(ht=>ht.toastId===f.id)?Gs.map(ht=>ht.toastId===f.id?{...ht,height:Rt}:ht):[{toastId:f.id,height:Rt,position:f.position},...Gs])},[ie,f.title,f.description,v,f.id,f.jsx,f.action,f.cancel]);const jt=ct.useCallback(()=>{ye(!0),D(gt.current),v(Dt=>Dt.filter(we=>we.toastId!==f.id)),setTimeout(()=>{k(f)},dq)},[f,k,v,gt]);ct.useEffect(()=>{if(f.promise&&pe==="loading"||f.duration===1/0||f.type==="loading")return;let Dt;return N||b||Te?(()=>{if(pt.current<wt.current){const Gs=new Date().getTime()-wt.current;R.current=R.current-Gs}pt.current=new Date().getTime()})():(()=>{R.current!==1/0&&(wt.current=new Date().getTime(),Dt=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),jt()},R.current))})(),()=>clearTimeout(Dt)},[N,b,f,pe,Te,jt]),ct.useEffect(()=>{f.delete&&(jt(),f.onDismiss==null||f.onDismiss.call(f,f))},[jt,f.delete]);function Pt(){var Dt;if(Z?.loading){var we;return ct.createElement("div",{className:Li(Q?.loader,f==null||(we=f.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":pe==="loading"},Z.loading)}return ct.createElement(qH,{className:Li(Q?.loader,f==null||(Dt=f.classNames)==null?void 0:Dt.loader),visible:pe==="loading"})}const Is=f.icon||Z?.[pe]||VH(pe);var cs,Rs;return ct.createElement("li",{tabIndex:0,ref:W,className:Li(re,Re,Q?.toast,f==null||(t=f.classNames)==null?void 0:t.toast,Q?.default,Q?.[pe],f==null||(r=f.classNames)==null?void 0:r[pe]),"data-sonner-toast":"","data-rich-colors":(cs=f.richColors)!=null?cs:C,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":ie,"data-promise":!!f.promise,"data-swiped":he,"data-removed":be,"data-visible":X,"data-y-position":yt,"data-x-position":Ot,"data-index":j,"data-front":Ne,"data-swiping":$,"data-dismissible":ge,"data-type":pe,"data-invert":Be,"data-swipe-out":me,"data-swipe-direction":q,"data-expanded":!!(N||J&&ie),"data-testid":f.testId,style:{"--index":j,"--toasts-before":j,"--z-index":S.length-j,"--offset":`${be?oe:gt.current}px`,"--initial-height":J?"auto":`${Ce}px`,...E,...f.style},onDragEnd:()=>{V(!1),de(null),Nt.current=null},onPointerDown:Dt=>{Dt.button!==2&&(xt||!ge||(P.current=new Date,D(gt.current),Dt.target.setPointerCapture(Dt.pointerId),Dt.target.tagName!=="BUTTON"&&(V(!0),Nt.current={x:Dt.clientX,y:Dt.clientY})))},onPointerUp:()=>{var Dt,we,Rt;if(me||!ge)return;Nt.current=null;const Gs=Number(((Dt=W.current)==null?void 0:Dt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Mt=Number(((we=W.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ht=new Date().getTime()-((Rt=P.current)==null?void 0:Rt.getTime()),Ns=F==="x"?Gs:Mt,mr=Math.abs(Ns)/ht;if(Math.abs(Ns)>=cq||mr>.11){D(gt.current),f.onDismiss==null||f.onDismiss.call(f,f),G(F==="x"?Gs>0?"right":"left":Mt>0?"down":"up"),jt(),ce(!0);return}else{var Ys,qr;(Ys=W.current)==null||Ys.style.setProperty("--swipe-amount-x","0px"),(qr=W.current)==null||qr.style.setProperty("--swipe-amount-y","0px")}O(!1),V(!1),de(null)},onPointerMove:Dt=>{var we,Rt,Gs;if(!Nt.current||!ge||((we=window.getSelection())==null?void 0:we.toString().length)>0)return;const ht=Dt.clientY-Nt.current.y,Ns=Dt.clientX-Nt.current.x;var mr;const Ys=(mr=s.swipeDirections)!=null?mr:uq(K);!F&&(Math.abs(Ns)>1||Math.abs(ht)>1)&&de(Math.abs(Ns)>Math.abs(ht)?"x":"y");let qr={x:0,y:0};const On=Cn=>1/(1.5+Math.abs(Cn)/20);if(F==="y"){if(Ys.includes("top")||Ys.includes("bottom"))if(Ys.includes("top")&&ht<0||Ys.includes("bottom")&&ht>0)qr.y=ht;else{const Cn=ht*On(ht);qr.y=Math.abs(Cn)<Math.abs(ht)?Cn:ht}}else if(F==="x"&&(Ys.includes("left")||Ys.includes("right")))if(Ys.includes("left")&&Ns<0||Ys.includes("right")&&Ns>0)qr.x=Ns;else{const Cn=Ns*On(Ns);qr.x=Math.abs(Cn)<Math.abs(Ns)?Cn:Ns}(Math.abs(qr.x)>0||Math.abs(qr.y)>0)&&O(!0),(Rt=W.current)==null||Rt.style.setProperty("--swipe-amount-x",`${qr.x}px`),(Gs=W.current)==null||Gs.style.setProperty("--swipe-amount-y",`${qr.y}px`)}},Ie&&!f.jsx&&pe!=="loading"?ct.createElement("button",{"aria-label":ee,"data-disabled":xt,"data-close-button":!0,onClick:xt||!ge?()=>{}:()=>{jt(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Li(Q?.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(Rs=Z?.close)!=null?Rs:XH):null,(pe||f.icon||f.promise)&&f.icon!==null&&(Z?.[pe]!==null||f.icon)?ct.createElement("div",{"data-icon":"",className:Li(Q?.icon,f==null||(a=f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Pt():null,f.type!=="loading"?Is:null):null,ct.createElement("div",{"data-content":"",className:Li(Q?.content,f==null||(i=f.classNames)==null?void 0:i.content)},ct.createElement("div",{"data-title":"",className:Li(Q?.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?ct.createElement("div",{"data-description":"",className:Li(Y,De,Q?.description,f==null||(c=f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),ct.isValidElement(f.cancel)?f.cancel:f.cancel&&Pg(f.cancel)?ct.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||U,onClick:Dt=>{Pg(f.cancel)&&ge&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Dt),jt())},className:Li(Q?.cancelButton,f==null||(d=f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,ct.isValidElement(f.action)?f.action:f.action&&Pg(f.action)?ct.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:Dt=>{Pg(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Dt),!Dt.defaultPrevented&&jt())},className:Li(Q?.actionButton,f==null||(h=f.classNames)==null?void 0:h.actionButton)},f.action.label):null)};function sE(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function fq(s,t){const r={};return[s,t].forEach((n,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",c=i?iq:aq;function d(h){["top","right","bottom","left"].forEach(m=>{r[`${o}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${o}-${h}`]=c:r[`${o}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):d(c)}),r}const mq=ct.forwardRef(function(t,r){const{id:n,invert:a,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:d,className:h,offset:m,mobileOffset:f,theme:g="light",richColors:b,duration:v,style:y,visibleToasts:_=nq,toastOptions:j,dir:S=sE(),gap:N=lq,icons:k,containerAriaLabel:C="Notifications"}=t,[z,E]=ct.useState([]),U=ct.useMemo(()=>n?z.filter(ie=>ie.toasterId===n):z.filter(ie=>!ie.toasterId),[z,n]),T=ct.useMemo(()=>Array.from(new Set([i].concat(U.filter(ie=>ie.position).map(ie=>ie.position)))),[U,i]),[re,Y]=ct.useState([]),[I,K]=ct.useState(!1),[L,J]=ct.useState(!1),[Q,Z]=ct.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=ct.useRef(null),F=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),de=ct.useRef(null),q=ct.useRef(!1),G=ct.useCallback(ie=>{E(le=>{var be;return(be=le.find(ye=>ye.id===ie.id))!=null&&be.delete||Yn.dismiss(ie.id),le.filter(({id:ye})=>ye!==ie.id)})},[]);return ct.useEffect(()=>Yn.subscribe(ie=>{if(ie.dismiss){requestAnimationFrame(()=>{E(le=>le.map(be=>be.id===ie.id?{...be,delete:!0}:be))});return}setTimeout(()=>{lM.flushSync(()=>{E(le=>{const be=le.findIndex(ye=>ye.id===ie.id);return be!==-1?[...le.slice(0,be),{...le[be],...ie},...le.slice(be+1)]:[ie,...le]})})})}),[z]),ct.useEffect(()=>{if(g!=="system"){Z(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:le})=>{Z(le?"dark":"light")})}catch{ie.addListener(({matches:be})=>{try{Z(be?"dark":"light")}catch(ye){console.error(ye)}})}},[g]),ct.useEffect(()=>{z.length<=1&&K(!1)},[z]),ct.useEffect(()=>{const ie=le=>{var be;if(o.every(V=>le[V]||le.code===V)){var $;K(!0),($=ee.current)==null||$.focus()}le.code==="Escape"&&(document.activeElement===ee.current||(be=ee.current)!=null&&be.contains(document.activeElement))&&K(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[o]),ct.useEffect(()=>{if(ee.current)return()=>{de.current&&(de.current.focus({preventScroll:!0}),de.current=null,q.current=!1)}},[ee.current]),ct.createElement("section",{ref:r,"aria-label":`${C} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((ie,le)=>{var be;const[ye,$]=ie.split("-");return U.length?ct.createElement("ol",{key:ie,dir:S==="auto"?sE():S,tabIndex:-1,ref:ee,className:h,"data-sonner-toaster":!0,"data-sonner-theme":Q,"data-y-position":ye,"data-x-position":$,style:{"--front-toast-height":`${((be=re[0])==null?void 0:be.height)||0}px`,"--width":`${oq}px`,"--gap":`${N}px`,...y,...fq(m,f)},onBlur:V=>{q.current&&!V.currentTarget.contains(V.relatedTarget)&&(q.current=!1,de.current&&(de.current.focus({preventScroll:!0}),de.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||q.current||(q.current=!0,de.current=V.relatedTarget)},onMouseEnter:()=>K(!0),onMouseMove:()=>K(!0),onMouseLeave:()=>{L||K(!1)},onDragEnd:()=>K(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},U.filter(V=>!V.position&&le===0||V.position===ie).map((V,me)=>{var ce,he;return ct.createElement(hq,{key:V.id,icons:k,index:me,toast:V,defaultRichColors:b,duration:(ce=j?.duration)!=null?ce:v,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:a,visibleToasts:_,closeButton:(he=j?.closeButton)!=null?he:d,interacting:L,position:ie,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:G,toasts:U.filter(O=>O.position==V.position),heights:re.filter(O=>O.position==V.position),setHeights:Y,expandByDefault:c,gap:N,expanded:I,swipeDirections:t.swipeDirections})})):null}))}),pq=({...s})=>{const{theme:t="system"}=UH();return e.jsx(mq,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s})};function rE(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function tl(...s){return t=>{let r=!1;const n=s.map(a=>{const i=rE(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():rE(s[a],null)}}}}function is(...s){return w.useCallback(tl(...s),s)}var gq=Symbol.for("react.lazy"),Qx=IN[" use ".trim().toString()];function xq(s){return typeof s=="object"&&s!==null&&"then"in s}function cM(s){return s!=null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===gq&&"_payload"in s&&xq(s._payload)}function WN(s){const t=bq(s),r=w.forwardRef((n,a)=>{let{children:i,...o}=n;cM(i)&&typeof Qx=="function"&&(i=Qx(i._payload));const c=w.Children.toArray(i),d=c.find(wq);if(d){const h=d.props.children,m=c.map(f=>f===d?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:f);return e.jsx(t,{...o,ref:a,children:w.isValidElement(h)?w.cloneElement(h,void 0,m):null})}return e.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}var yq=WN("Slot");function bq(s){const t=w.forwardRef((r,n)=>{let{children:a,...i}=r;if(cM(a)&&typeof Qx=="function"&&(a=Qx(a._payload)),w.isValidElement(a)){const o=_q(a),c=jq(i,a.props);return a.type!==w.Fragment&&(c.ref=n?tl(n,o):o),w.cloneElement(a,c)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var vq=Symbol("radix.slottable");function wq(s){return w.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===vq}function jq(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function _q(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}function dM(s){var t,r,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var a=s.length;for(t=0;t<a;t++)s[t]&&(r=dM(s[t]))&&(n&&(n+=" "),n+=r)}else for(r in s)s[r]&&(n&&(n+=" "),n+=r);return n}function uM(){for(var s,t,r=0,n="",a=arguments.length;r<a;r++)(s=arguments[r])&&(t=dM(s))&&(n&&(n+=" "),n+=t);return n}const nE=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,aE=uM,YN=(s,t)=>r=>{var n;if(t?.variants==null)return aE(s,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(h=>{const m=r?.[h],f=i?.[h];if(m===null)return null;const g=nE(m)||nE(f);return a[h][g]}),c=r&&Object.entries(r).reduce((h,m)=>{let[f,g]=m;return g===void 0||(h[f]=g),h},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,m)=>{let{class:f,className:g,...b}=m;return Object.entries(b).every(v=>{let[y,_]=v;return Array.isArray(_)?_.includes({...i,...c}[y]):{...i,...c}[y]===_})?[...h,f,g]:h},[]);return aE(s,o,d,r?.class,r?.className)},Nq=(s,t)=>{const r=new Array(s.length+t.length);for(let n=0;n<s.length;n++)r[n]=s[n];for(let n=0;n<t.length;n++)r[s.length+n]=t[n];return r},kq=(s,t)=>({classGroupId:s,validator:t}),hM=(s=new Map,t=null,r)=>({nextPart:s,validators:t,classGroupId:r}),Jx="-",iE=[],Sq="arbitrary..",Cq=s=>{const t=Eq(s),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=s;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Aq(o);const c=o.split(Jx),d=c[0]===""&&c.length>1?1:0;return fM(c,d,t)},getConflictingClassGroupIds:(o,c)=>{if(c){const d=n[o],h=r[o];return d?h?Nq(h,d):d:h||iE}return r[o]||iE}}},fM=(s,t,r)=>{if(s.length-t===0)return r.classGroupId;const a=s[t],i=r.nextPart.get(a);if(i){const h=fM(s,t+1,i);if(h)return h}const o=r.validators;if(o===null)return;const c=t===0?s.join(Jx):s.slice(t).join(Jx),d=o.length;for(let h=0;h<d;h++){const m=o[h];if(m.validator(c))return m.classGroupId}},Aq=s=>s.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=s.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?Sq+n:void 0})(),Eq=s=>{const{theme:t,classGroups:r}=s;return Tq(r,t)},Tq=(s,t)=>{const r=hM();for(const n in s){const a=s[n];KN(a,r,n,t)}return r},KN=(s,t,r,n)=>{const a=s.length;for(let i=0;i<a;i++){const o=s[i];Rq(o,t,r,n)}},Rq=(s,t,r,n)=>{if(typeof s=="string"){Dq(s,t,r);return}if(typeof s=="function"){Mq(s,t,r,n);return}Pq(s,t,r,n)},Dq=(s,t,r)=>{const n=s===""?t:mM(t,s);n.classGroupId=r},Mq=(s,t,r,n)=>{if(Oq(s)){KN(s(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(kq(r,s))},Pq=(s,t,r,n)=>{const a=Object.entries(s),i=a.length;for(let o=0;o<i;o++){const[c,d]=a[o];KN(d,mM(t,c),r,n)}},mM=(s,t)=>{let r=s;const n=t.split(Jx),a=n.length;for(let i=0;i<a;i++){const o=n[i];let c=r.nextPart.get(o);c||(c=hM(),r.nextPart.set(o,c)),r=c}return r},Oq=s=>"isThemeGetter"in s&&s.isThemeGetter===!0,Lq=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>s&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},v_="!",oE=":",Fq=[],lE=(s,t,r,n,a)=>({modifiers:s,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),Bq=s=>{const{prefix:t,experimentalParseClassName:r}=s;let n=a=>{const i=[];let o=0,c=0,d=0,h;const m=a.length;for(let y=0;y<m;y++){const _=a[y];if(o===0&&c===0){if(_===oE){i.push(a.slice(d,y)),d=y+1;continue}if(_==="/"){h=y;continue}}_==="["?o++:_==="]"?o--:_==="("?c++:_===")"&&c--}const f=i.length===0?a:a.slice(d);let g=f,b=!1;f.endsWith(v_)?(g=f.slice(0,-1),b=!0):f.startsWith(v_)&&(g=f.slice(1),b=!0);const v=h&&h>d?h-d:void 0;return lE(i,b,g,v)};if(t){const a=t+oE,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):lE(Fq,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},Iq=s=>{const t=new Map;return s.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],c=o[0]==="[",d=t.has(o);c||d?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},zq=s=>({cache:Lq(s.cacheSize),parseClassName:Bq(s),sortModifiers:Iq(s),...Cq(s)}),Uq=/\s+/,$q=(s,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],c=s.trim().split(Uq);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:f,modifiers:g,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:y}=r(m);if(f){d=m+(d.length>0?" "+d:d);continue}let _=!!y,j=n(_?v.substring(0,y):v);if(!j){if(!_){d=m+(d.length>0?" "+d:d);continue}if(j=n(v),!j){d=m+(d.length>0?" "+d:d);continue}_=!1}const S=g.length===0?"":g.length===1?g[0]:i(g).join(":"),N=b?S+v_:S,k=N+j;if(o.indexOf(k)>-1)continue;o.push(k);const C=a(j,_);for(let z=0;z<C.length;++z){const E=C[z];o.push(N+E)}d=m+(d.length>0?" "+d:d)}return d},Vq=(...s)=>{let t=0,r,n,a="";for(;t<s.length;)(r=s[t++])&&(n=pM(r))&&(a&&(a+=" "),a+=n);return a},pM=s=>{if(typeof s=="string")return s;let t,r="";for(let n=0;n<s.length;n++)s[n]&&(t=pM(s[n]))&&(r&&(r+=" "),r+=t);return r},Hq=(s,...t)=>{let r,n,a,i;const o=d=>{const h=t.reduce((m,f)=>f(m),s());return r=zq(h),n=r.cache.get,a=r.cache.set,i=c,c(d)},c=d=>{const h=n(d);if(h)return h;const m=$q(d,r);return a(d,m),m};return i=o,(...d)=>i(Vq(...d))},qq=[],Yr=s=>{const t=r=>r[s]||qq;return t.isThemeGetter=!0,t},gM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Gq=/^\d+\/\d+$/,Wq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Xq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wu=s=>Gq.test(s),os=s=>!!s&&!Number.isNaN(Number(s)),zl=s=>!!s&&Number.isInteger(Number(s)),lw=s=>s.endsWith("%")&&os(s.slice(0,-1)),Mo=s=>Wq.test(s),Qq=()=>!0,Jq=s=>Yq.test(s)&&!Kq.test(s),yM=()=>!1,eG=s=>Xq.test(s),tG=s=>Zq.test(s),sG=s=>!St(s)&&!Ct(s),rG=s=>yh(s,wM,yM),St=s=>gM.test(s),Wc=s=>yh(s,jM,Jq),cw=s=>yh(s,lG,os),cE=s=>yh(s,bM,yM),nG=s=>yh(s,vM,tG),Og=s=>yh(s,_M,eG),Ct=s=>xM.test(s),Tf=s=>bh(s,jM),aG=s=>bh(s,cG),dE=s=>bh(s,bM),iG=s=>bh(s,wM),oG=s=>bh(s,vM),Lg=s=>bh(s,_M,!0),yh=(s,t,r)=>{const n=gM.exec(s);return n?n[1]?t(n[1]):r(n[2]):!1},bh=(s,t,r=!1)=>{const n=xM.exec(s);return n?n[1]?t(n[1]):r:!1},bM=s=>s==="position"||s==="percentage",vM=s=>s==="image"||s==="url",wM=s=>s==="length"||s==="size"||s==="bg-size",jM=s=>s==="length",lG=s=>s==="number",cG=s=>s==="family-name",_M=s=>s==="shadow",dG=()=>{const s=Yr("color"),t=Yr("font"),r=Yr("text"),n=Yr("font-weight"),a=Yr("tracking"),i=Yr("leading"),o=Yr("breakpoint"),c=Yr("container"),d=Yr("spacing"),h=Yr("radius"),m=Yr("shadow"),f=Yr("inset-shadow"),g=Yr("text-shadow"),b=Yr("drop-shadow"),v=Yr("blur"),y=Yr("perspective"),_=Yr("aspect"),j=Yr("ease"),S=Yr("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...k(),Ct,St],z=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],U=()=>[Ct,St,d],T=()=>[wu,"full","auto",...U()],re=()=>[zl,"none","subgrid",Ct,St],Y=()=>["auto",{span:["full",zl,Ct,St]},zl,Ct,St],I=()=>[zl,"auto",Ct,St],K=()=>["auto","min","max","fr",Ct,St],L=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...U()],Z=()=>[wu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],ee=()=>[s,Ct,St],F=()=>[...k(),dE,cE,{position:[Ct,St]}],de=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",iG,rG,{size:[Ct,St]}],G=()=>[lw,Tf,Wc],ie=()=>["","none","full",h,Ct,St],le=()=>["",os,Tf,Wc],be=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>[os,lw,dE,cE],V=()=>["","none",v,Ct,St],me=()=>["none",os,Ct,St],ce=()=>["none",os,Ct,St],he=()=>[os,Ct,St],O=()=>[wu,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Mo],breakpoint:[Mo],color:[Qq],container:[Mo],"drop-shadow":[Mo],ease:["in","out","in-out"],font:[sG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Mo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Mo],shadow:[Mo],spacing:["px",os],text:[Mo],"text-shadow":[Mo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",wu,St,Ct,_]}],container:["container"],columns:[{columns:[os,St,Ct,c]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[zl,"auto",Ct,St]}],basis:[{basis:[wu,"full","auto",c,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[os,wu,"auto","initial","none",St]}],grow:[{grow:["",os,Ct,St]}],shrink:[{shrink:["",os,Ct,St]}],order:[{order:[zl,"first","last","none",Ct,St]}],"grid-cols":[{"grid-cols":re()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":re()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...L(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...L()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":L()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[c,"screen",...Z()]}],"min-w":[{"min-w":[c,"screen","none",...Z()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",r,Tf,Wc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ct,cw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lw,St]}],"font-family":[{font:[aG,St,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ct,St]}],"line-clamp":[{"line-clamp":[os,"none",Ct,cw]}],leading:[{leading:[i,...U()]}],"list-image":[{"list-image":["none",Ct,St]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ct,St]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[os,"from-font","auto",Ct,Wc]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[os,"auto",Ct,St]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ct,St]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ct,St]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:de()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zl,Ct,St],radial:["",Ct,St],conic:[zl,Ct,St]},oG,nG]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[os,Ct,St]}],"outline-w":[{outline:["",os,Tf,Wc]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",m,Lg,Og]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",f,Lg,Og]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[os,Wc]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",g,Lg,Og]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[os,Ct,St]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[os]}],"mask-image-linear-from-pos":[{"mask-linear-from":$()}],"mask-image-linear-to-pos":[{"mask-linear-to":$()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":$()}],"mask-image-t-to-pos":[{"mask-t-to":$()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":$()}],"mask-image-r-to-pos":[{"mask-r-to":$()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":$()}],"mask-image-b-to-pos":[{"mask-b-to":$()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":$()}],"mask-image-l-to-pos":[{"mask-l-to":$()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":$()}],"mask-image-x-to-pos":[{"mask-x-to":$()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":$()}],"mask-image-y-to-pos":[{"mask-y-to":$()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[Ct,St]}],"mask-image-radial-from-pos":[{"mask-radial-from":$()}],"mask-image-radial-to-pos":[{"mask-radial-to":$()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[os]}],"mask-image-conic-from-pos":[{"mask-conic-from":$()}],"mask-image-conic-to-pos":[{"mask-conic-to":$()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:de()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ct,St]}],filter:[{filter:["","none",Ct,St]}],blur:[{blur:V()}],brightness:[{brightness:[os,Ct,St]}],contrast:[{contrast:[os,Ct,St]}],"drop-shadow":[{"drop-shadow":["","none",b,Lg,Og]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",os,Ct,St]}],"hue-rotate":[{"hue-rotate":[os,Ct,St]}],invert:[{invert:["",os,Ct,St]}],saturate:[{saturate:[os,Ct,St]}],sepia:[{sepia:["",os,Ct,St]}],"backdrop-filter":[{"backdrop-filter":["","none",Ct,St]}],"backdrop-blur":[{"backdrop-blur":V()}],"backdrop-brightness":[{"backdrop-brightness":[os,Ct,St]}],"backdrop-contrast":[{"backdrop-contrast":[os,Ct,St]}],"backdrop-grayscale":[{"backdrop-grayscale":["",os,Ct,St]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[os,Ct,St]}],"backdrop-invert":[{"backdrop-invert":["",os,Ct,St]}],"backdrop-opacity":[{"backdrop-opacity":[os,Ct,St]}],"backdrop-saturate":[{"backdrop-saturate":[os,Ct,St]}],"backdrop-sepia":[{"backdrop-sepia":["",os,Ct,St]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ct,St]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[os,"initial",Ct,St]}],ease:[{ease:["linear","initial",j,Ct,St]}],delay:[{delay:[os,Ct,St]}],animate:[{animate:["none",S,Ct,St]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Ct,St]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:ce()}],"scale-x":[{"scale-x":ce()}],"scale-y":[{"scale-y":ce()}],"scale-z":[{"scale-z":ce()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[Ct,St,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:O()}],"translate-x":[{"translate-x":O()}],"translate-y":[{"translate-y":O()}],"translate-z":[{"translate-z":O()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ct,St]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ct,St]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[os,Tf,Wc,cw]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uG=Hq(dG);function Tt(...s){return uG(uM(s))}const XN=YN("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),fe=w.forwardRef(({className:s,variant:t,size:r,asChild:n=!1,children:a,"aria-label":i,"aria-labelledby":o,...c},d)=>{const h=n?yq:"button";return w.useEffect(()=>{},[a,i,o,c.title,r]),e.jsx(h,{className:Tt(XN({variant:t,size:r,className:s})),ref:d,"aria-label":i,"aria-labelledby":o,...c,children:a})});fe.displayName="Button";const hG=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fG=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),uE=s=>{const t=fG(s);return t.charAt(0).toUpperCase()+t.slice(1)},NM=(...s)=>s.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),mG=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var pG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gG=w.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...c},d)=>w.createElement("svg",{ref:d,...pG,width:t,height:t,stroke:s,strokeWidth:n?Number(r)*24/Number(t):r,className:NM("lucide",a),...!i&&!mG(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,m])=>w.createElement(h,m)),...Array.isArray(i)?i:[i]]));const rt=(s,t)=>{const r=w.forwardRef(({className:n,...a},i)=>w.createElement(gG,{ref:i,iconNode:t,className:NM(`lucide-${hG(uE(s))}`,`lucide-${s}`,n),...a}));return r.displayName=uE(s),r};const xG=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],bm=rt("activity",xG);const yG=[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]],bG=rt("anchor",yG);const vG=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ki=rt("arrow-left",vG);const wG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Nd=rt("arrow-right",wG);const jG=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],_G=rt("arrow-up-down",jG);const NG=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],w_=rt("award",NG);const kG=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hE=rt("badge-check",kG);const SG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],kM=rt("ban",SG);const CG=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],xd=rt("bell",CG);const AG=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],fE=rt("bookmark",AG);const EG=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],sc=rt("briefcase",EG);const TG=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],wa=rt("building-2",TG);const RG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],ZN=rt("calendar-check",RG);const DG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],e0=rt("calendar-days",DG);const MG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bs=rt("calendar",MG);const PG=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Qt=rt("car",PG);const OG=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],qi=rt("chart-column",OG);const LG=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],QN=rt("check-check",LG);const FG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qn=rt("check",FG);const BG=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],SM=rt("chevron-down",BG);const IG=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],vi=rt("chevron-left",IG);const zG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zr=rt("chevron-right",zG);const UG=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$G=rt("chevron-up",UG);const VG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rc=rt("circle-alert",VG);const HG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kn=rt("circle-check-big",HG);const qG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xr=rt("circle-check",qG);const GG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ta=rt("circle-x",GG);const WG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],t0=rt("circle",WG);const YG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],KG=rt("clock-4",YG);const XG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],mc=rt("clock",XG);const ZG=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],mE=rt("credit-card",ZG);const QG=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],dr=rt("dollar-sign",QG);const JG=[["path",{d:"M10 12h.01",key:"1kxr2c"}],["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}]],eW=rt("door-closed",JG);const tW=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],sW=rt("door-open",tW);const rW=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],vm=rt("download",rW);const nW=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],s0=rt("external-link",nW);const aW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],er=rt("eye",aW);const iW=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],CM=rt("facebook",iW);const oW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],r0=rt("file-check",oW);const lW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],cW=rt("file-down",lW);const dW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],to=rt("file-text",dW);const uW=[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]],V0=rt("fuel",uW);const hW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fW=rt("funnel",hW);const mW=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Wl=rt("gauge",mW);const pW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],gW=rt("globe",pW);const xW=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],nc=rt("heart",xW);const yW=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],AM=rt("house",yW);const bW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Lu=rt("image",bW);const vW=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],EM=rt("instagram",vW);const wW=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],$u=rt("key-round",wW);const jW=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],JN=rt("layout-dashboard",jW);const _W=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],NW=rt("lightbulb",_W);const kW=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],pE=rt("link-2",kW);const SW=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],TM=rt("linkedin",SW);const CW=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],gE=rt("list",CW);const AW=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fn=rt("loader-circle",AW);const EW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Gl=rt("lock",EW);const TW=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ac=rt("log-out",TW);const RW=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],xE=rt("log-in",RW);const DW=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ja=rt("mail",DW);const MW=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],js=rt("map-pin",MW);const PW=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],RM=rt("megaphone",PW);const OW=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],DM=rt("menu",OW);const LW=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],_a=rt("message-circle",LW);const FW=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],H0=rt("message-square",FW);const BW=[["path",{d:"M5 12h14",key:"1ays0h"}]],IW=rt("minus",BW);const zW=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],n0=rt("moon",zW);const UW=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],Jl=rt("mouse-pointer-click",UW);const $W=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],q0=rt("navigation",$W);const VW=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Gi=rt("package",VW);const HW=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],qW=rt("palette",HW);const GW=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],MM=rt("paperclip",GW);const WW=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],j_=rt("pen",WW);const YW=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],yE=rt("percent",YW);const KW=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Za=rt("phone",KW);const XW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nr=rt("plus",XW);const ZW=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],dw=rt("receipt",ZW);const QW=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],ic=rt("refresh-ccw",QW);const JW=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ft=rt("refresh-cw",JW);const eY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tY=rt("save",eY);const sY=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],PM=rt("scale",sY);const rY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Mr=rt("search",rY);const nY=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],G0=rt("send",nY);const aY=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],bE=rt("settings-2",aY);const iY=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vm=rt("settings",iY);const oY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lY=rt("shield-check",oY);const cY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Dn=rt("shield",cY);const dY=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],uY=rt("sliders-horizontal",dY);const hY=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],fY=rt("smartphone",hY);const mY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],OM=rt("smile",mY);const pY=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Yl=rt("sparkles",pY);const gY=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xr=rt("square-pen",gY);const xY=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ir=rt("star",xY);const yY=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],bY=rt("store",yY);const vY=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],a0=rt("sun",vY);const wY=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],jY=rt("table-2",wY);const _Y=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],i0=rt("tag",_Y);const NY=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],__=rt("timer",NY);const kY=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],tr=rt("trash-2",kY);const SY=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Hm=rt("trash",SY);const CY=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],oc=rt("trending-up",CY);const AY=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vu=rt("triangle-alert",AY);const EY=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],LM=rt("twitter",EY);const TY=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],N_=rt("upload",TY);const RY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Qu=rt("user-check",RY);const DY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],MY=rt("user-plus",DY);const PY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],OY=rt("user-x",PY);const LY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],so=rt("user",LY);const FY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_s=rt("users",FY);const BY=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],wm=rt("wallet",BY);const IY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sr=rt("x",IY);const zY=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],UY=rt("youtube",zY);const $Y=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],o0=rt("zap",$Y);function FM(s,t){return function(){return s.apply(t,arguments)}}const{toString:VY}=Object.prototype,{getPrototypeOf:e2}=Object,{iterator:W0,toStringTag:BM}=Symbol,Y0=(s=>t=>{const r=VY.call(t);return s[r]||(s[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),wi=s=>(s=s.toLowerCase(),t=>Y0(t)===s),K0=s=>t=>typeof t===s,{isArray:vh}=Array,Ju=K0("undefined");function qm(s){return s!==null&&!Ju(s)&&s.constructor!==null&&!Ju(s.constructor)&&Jn(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const IM=wi("ArrayBuffer");function HY(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&IM(s.buffer),t}const qY=K0("string"),Jn=K0("function"),zM=K0("number"),Gm=s=>s!==null&&typeof s=="object",GY=s=>s===!0||s===!1,Tx=s=>{if(Y0(s)!=="object")return!1;const t=e2(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(BM in s)&&!(W0 in s)},WY=s=>{if(!Gm(s)||qm(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},YY=wi("Date"),KY=wi("File"),XY=wi("Blob"),ZY=wi("FileList"),QY=s=>Gm(s)&&Jn(s.pipe),JY=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||Jn(s.append)&&((t=Y0(s))==="formdata"||t==="object"&&Jn(s.toString)&&s.toString()==="[object FormData]"))},eK=wi("URLSearchParams"),[tK,sK,rK,nK]=["ReadableStream","Request","Response","Headers"].map(wi),aK=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wm(s,t,{allOwnKeys:r=!1}={}){if(s===null||typeof s>"u")return;let n,a;if(typeof s!="object"&&(s=[s]),vh(s))for(n=0,a=s.length;n<a;n++)t.call(null,s[n],n,s);else{if(qm(s))return;const i=r?Object.getOwnPropertyNames(s):Object.keys(s),o=i.length;let c;for(n=0;n<o;n++)c=i[n],t.call(null,s[c],c,s)}}function UM(s,t){if(qm(s))return null;t=t.toLowerCase();const r=Object.keys(s);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const ud=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$M=s=>!Ju(s)&&s!==ud;function k_(){const{caseless:s,skipUndefined:t}=$M(this)&&this||{},r={},n=(a,i)=>{if(i==="__proto__"||i==="constructor"||i==="prototype")return;const o=s&&UM(r,i)||i;Tx(r[o])&&Tx(a)?r[o]=k_(r[o],a):Tx(a)?r[o]=k_({},a):vh(a)?r[o]=a.slice():(!t||!Ju(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Wm(arguments[a],n);return r}const iK=(s,t,r,{allOwnKeys:n}={})=>(Wm(t,(a,i)=>{r&&Jn(a)?Object.defineProperty(s,i,{value:FM(a,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(s,i,{value:a,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),s),oK=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),lK=(s,t,r,n)=>{s.prototype=Object.create(t.prototype,n),Object.defineProperty(s.prototype,"constructor",{value:s,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(s,"super",{value:t.prototype}),r&&Object.assign(s.prototype,r)},cK=(s,t,r,n)=>{let a,i,o;const c={};if(t=t||{},s==null)return t;do{for(a=Object.getOwnPropertyNames(s),i=a.length;i-- >0;)o=a[i],(!n||n(o,s,t))&&!c[o]&&(t[o]=s[o],c[o]=!0);s=r!==!1&&e2(s)}while(s&&(!r||r(s,t))&&s!==Object.prototype);return t},dK=(s,t,r)=>{s=String(s),(r===void 0||r>s.length)&&(r=s.length),r-=t.length;const n=s.indexOf(t,r);return n!==-1&&n===r},uK=s=>{if(!s)return null;if(vh(s))return s;let t=s.length;if(!zM(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=s[t];return r},hK=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&e2(Uint8Array)),fK=(s,t)=>{const n=(s&&s[W0]).call(s);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(s,i[0],i[1])}},mK=(s,t)=>{let r;const n=[];for(;(r=s.exec(t))!==null;)n.push(r);return n},pK=wi("HTMLFormElement"),gK=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),vE=(({hasOwnProperty:s})=>(t,r)=>s.call(t,r))(Object.prototype),xK=wi("RegExp"),VM=(s,t)=>{const r=Object.getOwnPropertyDescriptors(s),n={};Wm(r,(a,i)=>{let o;(o=t(a,i,s))!==!1&&(n[i]=o||a)}),Object.defineProperties(s,n)},yK=s=>{VM(s,(t,r)=>{if(Jn(s)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=s[r];if(Jn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},bK=(s,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return vh(s)?n(s):n(String(s).split(t)),r},vK=()=>{},wK=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function jK(s){return!!(s&&Jn(s.append)&&s[BM]==="FormData"&&s[W0])}const _K=s=>{const t=new Array(10),r=(n,a)=>{if(Gm(n)){if(t.indexOf(n)>=0)return;if(qm(n))return n;if(!("toJSON"in n)){t[a]=n;const i=vh(n)?[]:{};return Wm(n,(o,c)=>{const d=r(o,a+1);!Ju(d)&&(i[c]=d)}),t[a]=void 0,i}}return n};return r(s,0)},NK=wi("AsyncFunction"),kK=s=>s&&(Gm(s)||Jn(s))&&Jn(s.then)&&Jn(s.catch),HM=((s,t)=>s?setImmediate:t?((r,n)=>(ud.addEventListener("message",({source:a,data:i})=>{a===ud&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ud.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Jn(ud.postMessage)),SK=typeof queueMicrotask<"u"?queueMicrotask.bind(ud):typeof process<"u"&&process.nextTick||HM,CK=s=>s!=null&&Jn(s[W0]),Ke={isArray:vh,isArrayBuffer:IM,isBuffer:qm,isFormData:JY,isArrayBufferView:HY,isString:qY,isNumber:zM,isBoolean:GY,isObject:Gm,isPlainObject:Tx,isEmptyObject:WY,isReadableStream:tK,isRequest:sK,isResponse:rK,isHeaders:nK,isUndefined:Ju,isDate:YY,isFile:KY,isBlob:XY,isRegExp:xK,isFunction:Jn,isStream:QY,isURLSearchParams:eK,isTypedArray:hK,isFileList:ZY,forEach:Wm,merge:k_,extend:iK,trim:aK,stripBOM:oK,inherits:lK,toFlatObject:cK,kindOf:Y0,kindOfTest:wi,endsWith:dK,toArray:uK,forEachEntry:fK,matchAll:mK,isHTMLForm:pK,hasOwnProperty:vE,hasOwnProp:vE,reduceDescriptors:VM,freezeMethods:yK,toObjectSet:bK,toCamelCase:gK,noop:vK,toFiniteNumber:wK,findKey:UM,global:ud,isContextDefined:$M,isSpecCompliantForm:jK,toJSONObject:_K,isAsyncFn:NK,isThenable:kK,setImmediate:HM,asap:SK,isIterable:CK};let Wt=class qM extends Error{static from(t,r,n,a,i,o){const c=new qM(t.message,r||t.code,n,a,i);return c.cause=t,c.name=t.name,o&&Object.assign(c,o),c}constructor(t,r,n,a,i){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),a&&(this.request=a),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ke.toJSONObject(this.config),code:this.code,status:this.status}}};Wt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Wt.ERR_BAD_OPTION="ERR_BAD_OPTION";Wt.ECONNABORTED="ECONNABORTED";Wt.ETIMEDOUT="ETIMEDOUT";Wt.ERR_NETWORK="ERR_NETWORK";Wt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Wt.ERR_DEPRECATED="ERR_DEPRECATED";Wt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Wt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Wt.ERR_CANCELED="ERR_CANCELED";Wt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Wt.ERR_INVALID_URL="ERR_INVALID_URL";const AK=null;function S_(s){return Ke.isPlainObject(s)||Ke.isArray(s)}function GM(s){return Ke.endsWith(s,"[]")?s.slice(0,-2):s}function wE(s,t,r){return s?s.concat(t).map(function(a,i){return a=GM(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function EK(s){return Ke.isArray(s)&&!s.some(S_)}const TK=Ke.toFlatObject(Ke,{},null,function(t){return/^is[A-Z]/.test(t)});function X0(s,t,r){if(!Ke.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,r=Ke.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,_){return!Ke.isUndefined(_[y])});const n=r.metaTokens,a=r.visitor||m,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&Ke.isSpecCompliantForm(t);if(!Ke.isFunction(a))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(Ke.isDate(v))return v.toISOString();if(Ke.isBoolean(v))return v.toString();if(!d&&Ke.isBlob(v))throw new Wt("Blob is not supported. Use a Buffer instead.");return Ke.isArrayBuffer(v)||Ke.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function m(v,y,_){let j=v;if(v&&!_&&typeof v=="object"){if(Ke.endsWith(y,"{}"))y=n?y:y.slice(0,-2),v=JSON.stringify(v);else if(Ke.isArray(v)&&EK(v)||(Ke.isFileList(v)||Ke.endsWith(y,"[]"))&&(j=Ke.toArray(v)))return y=GM(y),j.forEach(function(N,k){!(Ke.isUndefined(N)||N===null)&&t.append(o===!0?wE([y],k,i):o===null?y:y+"[]",h(N))}),!1}return S_(v)?!0:(t.append(wE(_,y,i),h(v)),!1)}const f=[],g=Object.assign(TK,{defaultVisitor:m,convertValue:h,isVisitable:S_});function b(v,y){if(!Ke.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(v),Ke.forEach(v,function(j,S){(!(Ke.isUndefined(j)||j===null)&&a.call(t,j,Ke.isString(S)?S.trim():S,y,g))===!0&&b(j,y?y.concat(S):[S])}),f.pop()}}if(!Ke.isObject(s))throw new TypeError("data must be an object");return b(s),t}function jE(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function t2(s,t){this._pairs=[],s&&X0(s,this,t)}const WM=t2.prototype;WM.append=function(t,r){this._pairs.push([t,r])};WM.toString=function(t){const r=t?function(n){return t.call(this,n,jE)}:jE;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function RK(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function YM(s,t,r){if(!t)return s;const n=r&&r.encode||RK,a=Ke.isFunction(r)?{serialize:r}:r,i=a&&a.serialize;let o;if(i?o=i(t,a):o=Ke.isURLSearchParams(t)?t.toString():new t2(t,a).toString(n),o){const c=s.indexOf("#");c!==-1&&(s=s.slice(0,c)),s+=(s.indexOf("?")===-1?"?":"&")+o}return s}class _E{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ke.forEach(this.handlers,function(n){n!==null&&t(n)})}}const s2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},DK=typeof URLSearchParams<"u"?URLSearchParams:t2,MK=typeof FormData<"u"?FormData:null,PK=typeof Blob<"u"?Blob:null,OK={isBrowser:!0,classes:{URLSearchParams:DK,FormData:MK,Blob:PK},protocols:["http","https","file","blob","url","data"]},r2=typeof window<"u"&&typeof document<"u",C_=typeof navigator=="object"&&navigator||void 0,LK=r2&&(!C_||["ReactNative","NativeScript","NS"].indexOf(C_.product)<0),FK=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BK=r2&&window.location.href||"http://localhost",IK=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:r2,hasStandardBrowserEnv:LK,hasStandardBrowserWebWorkerEnv:FK,navigator:C_,origin:BK},Symbol.toStringTag,{value:"Module"})),bn={...IK,...OK};function zK(s,t){return X0(s,new bn.classes.URLSearchParams,{visitor:function(r,n,a,i){return bn.isNode&&Ke.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function UK(s){return Ke.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $K(s){const t={},r=Object.keys(s);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=s[i];return t}function KM(s){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=i>=r.length;return o=!o&&Ke.isArray(a)?a.length:o,d?(Ke.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!c):((!a[o]||!Ke.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&Ke.isArray(a[o])&&(a[o]=$K(a[o])),!c)}if(Ke.isFormData(s)&&Ke.isFunction(s.entries)){const r={};return Ke.forEachEntry(s,(n,a)=>{t(UK(n),a,r,0)}),r}return null}function VK(s,t,r){if(Ke.isString(s))try{return(t||JSON.parse)(s),Ke.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(s)}const Ym={transitional:s2,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=Ke.isObject(t);if(i&&Ke.isHTMLForm(t)&&(t=new FormData(t)),Ke.isFormData(t))return a?JSON.stringify(KM(t)):t;if(Ke.isArrayBuffer(t)||Ke.isBuffer(t)||Ke.isStream(t)||Ke.isFile(t)||Ke.isBlob(t)||Ke.isReadableStream(t))return t;if(Ke.isArrayBufferView(t))return t.buffer;if(Ke.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return zK(t,this.formSerializer).toString();if((c=Ke.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return X0(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),VK(t)):t}],transformResponse:[function(t){const r=this.transitional||Ym.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Ke.isResponse(t)||Ke.isReadableStream(t))return t;if(t&&Ke.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?Wt.from(c,Wt.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bn.classes.FormData,Blob:bn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ke.forEach(["delete","get","head","post","put","patch"],s=>{Ym.headers[s]={}});const HK=Ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qK=s=>{const t={};let r,n,a;return s&&s.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&HK[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},NE=Symbol("internals");function Rf(s){return s&&String(s).trim().toLowerCase()}function Rx(s){return s===!1||s==null?s:Ke.isArray(s)?s.map(Rx):String(s)}function GK(s){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(s);)t[n[1]]=n[2];return t}const WK=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function uw(s,t,r,n,a){if(Ke.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Ke.isString(t)){if(Ke.isString(n))return t.indexOf(n)!==-1;if(Ke.isRegExp(n))return n.test(t)}}function YK(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function KK(s,t){const r=Ke.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}let ea=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(c,d,h){const m=Rf(d);if(!m)throw new Error("header name must be a non-empty string");const f=Ke.findKey(a,m);(!f||a[f]===void 0||h===!0||h===void 0&&a[f]!==!1)&&(a[f||d]=Rx(c))}const o=(c,d)=>Ke.forEach(c,(h,m)=>i(h,m,d));if(Ke.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Ke.isString(t)&&(t=t.trim())&&!WK(t))o(qK(t),r);else if(Ke.isObject(t)&&Ke.isIterable(t)){let c={},d,h;for(const m of t){if(!Ke.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(d=c[h])?Ke.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}o(c,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Rf(t),t){const n=Ke.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return GK(a);if(Ke.isFunction(r))return r.call(this,a,n);if(Ke.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Rf(t),t){const n=Ke.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||uw(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=Rf(o),o){const c=Ke.findKey(n,o);c&&(!r||uw(n,n[c],c,r))&&(delete n[c],a=!0)}}return Ke.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||uw(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return Ke.forEach(this,(a,i)=>{const o=Ke.findKey(n,i);if(o){r[o]=Rx(a),delete r[i];return}const c=t?YK(i):String(i).trim();c!==i&&delete r[i],r[c]=Rx(a),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ke.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Ke.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[NE]=this[NE]={accessors:{}}).accessors,a=this.prototype;function i(o){const c=Rf(o);n[c]||(KK(a,o),n[c]=!0)}return Ke.isArray(t)?t.forEach(i):i(t),this}};ea.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ke.reduceDescriptors(ea.prototype,({value:s},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(n){this[r]=n}}});Ke.freezeMethods(ea);function hw(s,t){const r=this||Ym,n=t||r,a=ea.from(n.headers);let i=n.data;return Ke.forEach(s,function(c){i=c.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function XM(s){return!!(s&&s.__CANCEL__)}let Km=class extends Wt{constructor(t,r,n){super(t??"canceled",Wt.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function ZM(s,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?s(r):t(new Wt("Request failed with status code "+r.status,[Wt.ERR_BAD_REQUEST,Wt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function XK(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function ZK(s,t){s=s||10;const r=new Array(s),n=new Array(s);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const h=Date.now(),m=n[i];o||(o=h),r[a]=d,n[a]=h;let f=i,g=0;for(;f!==a;)g+=r[f++],f=f%s;if(a=(a+1)%s,a===i&&(i=(i+1)%s),h-o<t)return;const b=m&&h-m;return b?Math.round(g*1e3/b):void 0}}function QK(s,t){let r=0,n=1e3/t,a,i;const o=(h,m=Date.now())=>{r=m,a=null,i&&(clearTimeout(i),i=null),s(...h)};return[(...h)=>{const m=Date.now(),f=m-r;f>=n?o(h,m):(a=h,i||(i=setTimeout(()=>{i=null,o(a)},n-f)))},()=>a&&o(a)]}const l0=(s,t,r=3)=>{let n=0;const a=ZK(50,250);return QK(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,d=o-n,h=a(d),m=o<=c;n=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&m?(c-o)/h:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};s(f)},r)},kE=(s,t)=>{const r=s!=null;return[n=>t[0]({lengthComputable:r,total:s,loaded:n}),t[1]]},SE=s=>(...t)=>Ke.asap(()=>s(...t)),JK=bn.hasStandardBrowserEnv?((s,t)=>r=>(r=new URL(r,bn.origin),s.protocol===r.protocol&&s.host===r.host&&(t||s.port===r.port)))(new URL(bn.origin),bn.navigator&&/(msie|trident)/i.test(bn.navigator.userAgent)):()=>!0,eX=bn.hasStandardBrowserEnv?{write(s,t,r,n,a,i,o){if(typeof document>"u")return;const c=[`${s}=${encodeURIComponent(t)}`];Ke.isNumber(r)&&c.push(`expires=${new Date(r).toUTCString()}`),Ke.isString(n)&&c.push(`path=${n}`),Ke.isString(a)&&c.push(`domain=${a}`),i===!0&&c.push("secure"),Ke.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(s){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function tX(s){return typeof s!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function sX(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function QM(s,t,r){let n=!tX(t);return s&&(n||r==!1)?sX(s,t):t}const CE=s=>s instanceof ea?{...s}:s;function kd(s,t){t=t||{};const r={};function n(h,m,f,g){return Ke.isPlainObject(h)&&Ke.isPlainObject(m)?Ke.merge.call({caseless:g},h,m):Ke.isPlainObject(m)?Ke.merge({},m):Ke.isArray(m)?m.slice():m}function a(h,m,f,g){if(Ke.isUndefined(m)){if(!Ke.isUndefined(h))return n(void 0,h,f,g)}else return n(h,m,f,g)}function i(h,m){if(!Ke.isUndefined(m))return n(void 0,m)}function o(h,m){if(Ke.isUndefined(m)){if(!Ke.isUndefined(h))return n(void 0,h)}else return n(void 0,m)}function c(h,m,f){if(f in t)return n(h,m);if(f in s)return n(void 0,h)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,m,f)=>a(CE(h),CE(m),f,!0)};return Ke.forEach(Object.keys({...s,...t}),function(m){if(m==="__proto__"||m==="constructor"||m==="prototype")return;const f=Ke.hasOwnProp(d,m)?d[m]:a,g=f(s[m],t[m],m);Ke.isUndefined(g)&&f!==c||(r[m]=g)}),r}const JM=s=>{const t=kd({},s);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:c}=t;if(t.headers=o=ea.from(o),t.url=YM(QM(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Ke.isFormData(r)){if(bn.hasStandardBrowserEnv||bn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ke.isFunction(r.getHeaders)){const d=r.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([m,f])=>{h.includes(m.toLowerCase())&&o.set(m,f)})}}if(bn.hasStandardBrowserEnv&&(n&&Ke.isFunction(n)&&(n=n(t)),n||n!==!1&&JK(t.url))){const d=a&&i&&eX.read(i);d&&o.set(a,d)}return t},rX=typeof XMLHttpRequest<"u",nX=rX&&function(s){return new Promise(function(r,n){const a=JM(s);let i=a.data;const o=ea.from(a.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=a,m,f,g,b,v;function y(){b&&b(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let _=new XMLHttpRequest;_.open(a.method.toUpperCase(),a.url,!0),_.timeout=a.timeout;function j(){if(!_)return;const N=ea.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),C={data:!c||c==="text"||c==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:N,config:s,request:_};ZM(function(E){r(E),y()},function(E){n(E),y()},C),_=null}"onloadend"in _?_.onloadend=j:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(j)},_.onabort=function(){_&&(n(new Wt("Request aborted",Wt.ECONNABORTED,s,_)),_=null)},_.onerror=function(k){const C=k&&k.message?k.message:"Network Error",z=new Wt(C,Wt.ERR_NETWORK,s,_);z.event=k||null,n(z),_=null},_.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||s2;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),n(new Wt(k,C.clarifyTimeoutError?Wt.ETIMEDOUT:Wt.ECONNABORTED,s,_)),_=null},i===void 0&&o.setContentType(null),"setRequestHeader"in _&&Ke.forEach(o.toJSON(),function(k,C){_.setRequestHeader(C,k)}),Ke.isUndefined(a.withCredentials)||(_.withCredentials=!!a.withCredentials),c&&c!=="json"&&(_.responseType=a.responseType),h&&([g,v]=l0(h,!0),_.addEventListener("progress",g)),d&&_.upload&&([f,b]=l0(d),_.upload.addEventListener("progress",f),_.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(m=N=>{_&&(n(!N||N.type?new Km(null,s,_):N),_.abort(),_=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const S=XK(a.url);if(S&&bn.protocols.indexOf(S)===-1){n(new Wt("Unsupported protocol "+S+":",Wt.ERR_BAD_REQUEST,s));return}_.send(i||null)})},aX=(s,t)=>{const{length:r}=s=s?s.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(h){if(!a){a=!0,c();const m=h instanceof Error?h:this.reason;n.abort(m instanceof Wt?m:new Km(m instanceof Error?m.message:m))}};let o=t&&setTimeout(()=>{o=null,i(new Wt(`timeout of ${t}ms exceeded`,Wt.ETIMEDOUT))},t);const c=()=>{s&&(o&&clearTimeout(o),o=null,s.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),s=null)};s.forEach(h=>h.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>Ke.asap(c),d}},iX=function*(s,t){let r=s.byteLength;if(r<t){yield s;return}let n=0,a;for(;n<r;)a=n+t,yield s.slice(n,a),n=a},oX=async function*(s,t){for await(const r of lX(s))yield*iX(r,t)},lX=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},AE=(s,t,r,n)=>{const a=oX(s,t);let i=0,o,c=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await a.next();if(h){c(),d.close();return}let f=m.byteLength;if(r){let g=i+=f;r(g)}d.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(d){return c(d),a.return()}},{highWaterMark:2})},EE=64*1024,{isFunction:Fg}=Ke,cX=(({Request:s,Response:t})=>({Request:s,Response:t}))(Ke.global),{ReadableStream:TE,TextEncoder:RE}=Ke.global,DE=(s,...t)=>{try{return!!s(...t)}catch{return!1}},dX=s=>{s=Ke.merge.call({skipUndefined:!0},cX,s);const{fetch:t,Request:r,Response:n}=s,a=t?Fg(t):typeof fetch=="function",i=Fg(r),o=Fg(n);if(!a)return!1;const c=a&&Fg(TE),d=a&&(typeof RE=="function"?(v=>y=>v.encode(y))(new RE):async v=>new Uint8Array(await new r(v).arrayBuffer())),h=i&&c&&DE(()=>{let v=!1;const y=new r(bn.origin,{body:new TE,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!y}),m=o&&c&&DE(()=>Ke.isReadableStream(new n("").body)),f={stream:m&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(y,_)=>{let j=y&&y[v];if(j)return j.call(y);throw new Wt(`Response type '${v}' is not supported`,Wt.ERR_NOT_SUPPORT,_)})});const g=async v=>{if(v==null)return 0;if(Ke.isBlob(v))return v.size;if(Ke.isSpecCompliantForm(v))return(await new r(bn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Ke.isArrayBufferView(v)||Ke.isArrayBuffer(v))return v.byteLength;if(Ke.isURLSearchParams(v)&&(v=v+""),Ke.isString(v))return(await d(v)).byteLength},b=async(v,y)=>{const _=Ke.toFiniteNumber(v.getContentLength());return _??g(y)};return async v=>{let{url:y,method:_,data:j,signal:S,cancelToken:N,timeout:k,onDownloadProgress:C,onUploadProgress:z,responseType:E,headers:U,withCredentials:T="same-origin",fetchOptions:re}=JM(v),Y=t||fetch;E=E?(E+"").toLowerCase():"text";let I=aX([S,N&&N.toAbortSignal()],k),K=null;const L=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let J;try{if(z&&h&&_!=="get"&&_!=="head"&&(J=await b(U,j))!==0){let q=new r(y,{method:"POST",body:j,duplex:"half"}),G;if(Ke.isFormData(j)&&(G=q.headers.get("content-type"))&&U.setContentType(G),q.body){const[ie,le]=kE(J,l0(SE(z)));j=AE(q.body,EE,ie,le)}}Ke.isString(T)||(T=T?"include":"omit");const Q=i&&"credentials"in r.prototype,Z={...re,signal:I,method:_.toUpperCase(),headers:U.normalize().toJSON(),body:j,duplex:"half",credentials:Q?T:void 0};K=i&&new r(y,Z);let ee=await(i?Y(K,re):Y(y,Z));const F=m&&(E==="stream"||E==="response");if(m&&(C||F&&L)){const q={};["status","statusText","headers"].forEach(be=>{q[be]=ee[be]});const G=Ke.toFiniteNumber(ee.headers.get("content-length")),[ie,le]=C&&kE(G,l0(SE(C),!0))||[];ee=new n(AE(ee.body,EE,ie,()=>{le&&le(),L&&L()}),q)}E=E||"text";let de=await f[Ke.findKey(f,E)||"text"](ee,v);return!F&&L&&L(),await new Promise((q,G)=>{ZM(q,G,{data:de,headers:ea.from(ee.headers),status:ee.status,statusText:ee.statusText,config:v,request:K})})}catch(Q){throw L&&L(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Wt("Network Error",Wt.ERR_NETWORK,v,K,Q&&Q.response),{cause:Q.cause||Q}):Wt.from(Q,Q&&Q.code,v,K,Q&&Q.response)}}},uX=new Map,eP=s=>{let t=s&&s.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let o=i.length,c=o,d,h,m=uX;for(;c--;)d=i[c],h=m.get(d),h===void 0&&m.set(d,h=c?new Map:dX(t)),m=h;return h};eP();const n2={http:AK,xhr:nX,fetch:{get:eP}};Ke.forEach(n2,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const ME=s=>`- ${s}`,hX=s=>Ke.isFunction(s)||s===null||s===!1;function fX(s,t){s=Ke.isArray(s)?s:[s];const{length:r}=s;let n,a;const i={};for(let o=0;o<r;o++){n=s[o];let c;if(a=n,!hX(n)&&(a=n2[(c=String(n)).toLowerCase()],a===void 0))throw new Wt(`Unknown adapter '${c}'`);if(a&&(Ke.isFunction(a)||(a=a.get(t))))break;i[c||"#"+o]=a}if(!a){const o=Object.entries(i).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=r?o.length>1?`since :
`+o.map(ME).join(`
`):" "+ME(o[0]):"as no adapter specified";throw new Wt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a}const tP={getAdapter:fX,adapters:n2};function fw(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Km(null,s)}function PE(s){return fw(s),s.headers=ea.from(s.headers),s.data=hw.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),tP.getAdapter(s.adapter||Ym.adapter,s)(s).then(function(n){return fw(s),n.data=hw.call(s,s.transformResponse,n),n.headers=ea.from(n.headers),n},function(n){return XM(n)||(fw(s),n&&n.response&&(n.response.data=hw.call(s,s.transformResponse,n.response),n.response.headers=ea.from(n.response.headers))),Promise.reject(n)})}const sP="1.13.5",Z0={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{Z0[s]=function(n){return typeof n===s||"a"+(t<1?"n ":" ")+s}});const OE={};Z0.transitional=function(t,r,n){function a(i,o){return"[Axios v"+sP+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,c)=>{if(t===!1)throw new Wt(a(o," has been removed"+(r?" in "+r:"")),Wt.ERR_DEPRECATED);return r&&!OE[o]&&(OE[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,c):!0}};Z0.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function mX(s,t,r){if(typeof s!="object")throw new Wt("options must be an object",Wt.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const c=s[i],d=c===void 0||o(c,i,s);if(d!==!0)throw new Wt("option "+i+" must be "+d,Wt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Wt("Unknown option "+i,Wt.ERR_BAD_OPTION)}}const Dx={assertOptions:mX,validators:Z0},Va=Dx.validators;let yd=class{constructor(t){this.defaults=t||{},this.interceptors={request:new _E,response:new _E}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=kd(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&Dx.assertOptions(n,{silentJSONParsing:Va.transitional(Va.boolean),forcedJSONParsing:Va.transitional(Va.boolean),clarifyTimeoutError:Va.transitional(Va.boolean),legacyInterceptorReqResOrdering:Va.transitional(Va.boolean)},!1),a!=null&&(Ke.isFunction(a)?r.paramsSerializer={serialize:a}:Dx.assertOptions(a,{encode:Va.function,serialize:Va.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Dx.assertOptions(r,{baseUrl:Va.spelling("baseURL"),withXsrfToken:Va.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Ke.merge(i.common,i[r.method]);i&&Ke.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=ea.concat(o,i);const c=[];let d=!0;this.interceptors.request.forEach(function(y){if(typeof y.runWhen=="function"&&y.runWhen(r)===!1)return;d=d&&y.synchronous;const _=r.transitional||s2;_&&_.legacyInterceptorReqResOrdering?c.unshift(y.fulfilled,y.rejected):c.push(y.fulfilled,y.rejected)});const h=[];this.interceptors.response.forEach(function(y){h.push(y.fulfilled,y.rejected)});let m,f=0,g;if(!d){const v=[PE.bind(this),void 0];for(v.unshift(...c),v.push(...h),g=v.length,m=Promise.resolve(r);f<g;)m=m.then(v[f++],v[f++]);return m}g=c.length;let b=r;for(;f<g;){const v=c[f++],y=c[f++];try{b=v(b)}catch(_){y.call(this,_);break}}try{m=PE.call(this,b)}catch(v){return Promise.reject(v)}for(f=0,g=h.length;f<g;)m=m.then(h[f++],h[f++]);return m}getUri(t){t=kd(this.defaults,t);const r=QM(t.baseURL,t.url,t.allowAbsoluteUrls);return YM(r,t.params,t.paramsSerializer)}};Ke.forEach(["delete","get","head","options"],function(t){yd.prototype[t]=function(r,n){return this.request(kd(n||{},{method:t,url:r,data:(n||{}).data}))}});Ke.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,c){return this.request(kd(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}yd.prototype[t]=r(),yd.prototype[t+"Form"]=r(!0)});let pX=class rP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(c=>{n.subscribe(c),i=c}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,c){n.reason||(n.reason=new Km(i,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new rP(function(a){t=a}),cancel:t}}};function gX(s){return function(r){return s.apply(null,r)}}function xX(s){return Ke.isObject(s)&&s.isAxiosError===!0}const A_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(A_).forEach(([s,t])=>{A_[t]=s});function nP(s){const t=new yd(s),r=FM(yd.prototype.request,t);return Ke.extend(r,yd.prototype,t,{allOwnKeys:!0}),Ke.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return nP(kd(s,a))},r}const Pr=nP(Ym);Pr.Axios=yd;Pr.CanceledError=Km;Pr.CancelToken=pX;Pr.isCancel=XM;Pr.VERSION=sP;Pr.toFormData=X0;Pr.AxiosError=Wt;Pr.Cancel=Pr.CanceledError;Pr.all=function(t){return Promise.all(t)};Pr.spread=gX;Pr.isAxiosError=xX;Pr.mergeConfig=kd;Pr.AxiosHeaders=ea;Pr.formToJSON=s=>KM(Ke.isHTMLForm(s)?new FormData(s):s);Pr.getAdapter=tP.getAdapter;Pr.HttpStatusCode=A_;Pr.default=Pr;const{Axios:Bje,AxiosError:Ije,CanceledError:zje,isCancel:Uje,CancelToken:$je,VERSION:Vje,all:Hje,Cancel:qje,isAxiosError:Gje,spread:Wje,toFormData:Yje,AxiosHeaders:Kje,HttpStatusCode:Xje,formToJSON:Zje,getAdapter:Qje,mergeConfig:Jje}=Pr;let E_="https://rento-lb.com/api/api";E_=E_.trim().replace(/\/+$/,"");const Le=Pr.create({baseURL:E_,headers:{Accept:"application/json","Content-Type":"application/json"}});Le.interceptors.request.use(s=>{const t=localStorage.getItem("token")||localStorage.getItem("authToken");return t&&(s.headers.Authorization=`Bearer ${t}`),s},s=>Promise.reject(s));Le.interceptors.response.use(s=>s,s=>(s.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("user")),Promise.reject(s)));const Md=()=>{const[s,t]=w.useState(null),[r,n]=w.useState(!1),[a,i]=w.useState(!0);w.useEffect(()=>{const y=()=>{try{const j=localStorage.getItem("token")||localStorage.getItem("authToken"),S=localStorage.getItem("user");if(j&&S){const N=JSON.parse(S);t(N),n(!0)}else t(null),n(!1)}catch(j){console.error("Error loading user:",j),t(null),n(!1)}finally{i(!1)}};y();const _=j=>{(j.key==="user"||j.key==="token"||j.key==="authToken")&&y()};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[]);const o=y=>{y?(localStorage.setItem("user",JSON.stringify(y)),t(y),n(!0)):(localStorage.removeItem("user"),t(null),n(!1))},c=()=>{localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),t(null),n(!1)},d=s?.role==="client",h=s?.role==="agency"||s?.role==="agent",m=s?.role==="agency",f=s?.role==="agent",g=s?.role==="admin";return{user:s,isAuthenticated:r,loading:a,updateUser:o,logout:c,isClient:d,isAgent:h,isAgency:m,isAgentRole:f,isAdmin:g,hasRole:y=>s?Array.isArray(y)?y.includes(s.role):s.role===y:!1,hasPermission:y=>s?({client:["view_cars","book_cars","view_own_bookings","manage_own_profile","view_favorites"],agency:["view_cars","manage_cars","view_all_bookings","manage_bookings","view_dashboard","view_statistics","manage_own_profile"],agent:["view_cars","manage_cars","view_all_bookings","manage_bookings","view_dashboard","view_statistics","manage_own_profile"]}[s.role]||[]).includes(y):!1}},yX=()=>{const[s,t]=w.useState(!1),[r,n]=w.useState(!0),[a,i]=w.useState(0),[o,c]=w.useState(!1),d=ra(),h=br(),{isAuthenticated:m,isClient:f,isAgent:g,user:b,logout:v}=Md();w.useEffect(()=>{const E=localStorage.getItem("theme"),U=window.matchMedia("(prefers-color-scheme: dark)").matches,T=E==="dark"||!E&&U;n(T),T&&document.documentElement.classList.add("dark")},[]);const y=w.useCallback(async()=>{try{const E=await Le.get("/cars/favorites/list",{params:{page:1,per_page:1}}),U=Number(E.data?.favorites?.total??0);i(Number.isFinite(U)?U:0)}catch(E){console.error("Fav count fetch error:",E),i(0)}},[]);w.useEffect(()=>{if(!m){i(0);return}y();const E=()=>y();return window.addEventListener("favoritesUpdated",E),()=>window.removeEventListener("favoritesUpdated",E)},[m,y,d.pathname]),w.useEffect(()=>{const E=()=>c(window.scrollY>20);return window.addEventListener("scroll",E),()=>window.removeEventListener("scroll",E)},[]);const _=()=>{const E=!r;n(E),E?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},j=async()=>{try{await Le.post("/logout")}catch(E){console.error("Logout error:",E)}v(),xe.success("Logged out successfully"),h("/"),t(!1)},S=[{to:"/",label:"Home"},{to:"/luxury-car-rental-lebanon",label:"Browse Cars"},{to:"/socialmedia",label:"About"},{to:"/contact",label:"Contact"}],N=f?[{to:"/ClientBookings",label:"My Bookings",icon:Bs}]:[],k=g?[{to:"/Dashboard",label:"Dashboard",icon:JN},{to:"/Mycars",label:"My Cars",icon:Qt},{to:"/Mycars-bookings",label:"Bookings",icon:Bs}]:[],C=[...S],z=E=>d.pathname===E;return e.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 glass-strong shadow-lg transition-all duration-300 ${o?"backdrop-blur":""}`,children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 md:h-12",children:[e.jsxs(Fs,{to:"/",className:"flex items-center space-x-2 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-transparent flex items-center justify-center hover-glow",children:e.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"})}),e.jsx("span",{className:"text-xl md:text-2xl text-primary-foreground font-bold gradient-text hidden sm:block",children:"RENTO LB"})]}),e.jsxs("div",{className:"hidden md:flex text-primary-foreground items-center space-x-1",children:[C.map(E=>e.jsx(Fs,{to:E.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${z(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:E.label},E.to)),g&&k.map(E=>e.jsxs(Fs,{to:E.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${z(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[E.icon&&e.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.to)),f&&N.map(E=>e.jsxs(Fs,{to:E.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${z(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[E.icon&&e.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.to))]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[m&&e.jsx(Fs,{to:"/favorites",children:e.jsxs(fe,{variant:"ghost",size:"icon",className:"relative hover-glow","aria-label":"Open favorites",children:[e.jsx(nc,{className:`w-5 h-5 ${a>0?"fill-accent text-accent":""}`,"aria-hidden":"true"}),a>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-accent text-accent-foreground text-xs font-bold rounded-full flex items-center justify-center",children:a})]})}),m?e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary/10 text-primary-foreground",children:[e.jsx(so,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:b?.username||"User"})]}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:j,className:"hover-glow hover:bg-red-500/10 hover:text-red-500","aria-label":"Logout",children:e.jsx(ac,{className:"w-5 h-5"})})]}):e.jsx(Fs,{to:"/auth",className:"hidden md:block",children:e.jsxs(fe,{variant:"default",size:"sm",className:"hover-glow",children:[e.jsx(xE,{className:"w-4 h-4 mr-2"}),"Login"]})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:_,className:"hover-glow hidden sm:flex","aria-label":r?"Switch to light mode":"Switch to dark mode",children:r?e.jsx(a0,{className:"w-5 h-5","aria-hidden":"true"}):e.jsx(n0,{className:"w-5 h-5","aria-hidden":"true"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>t(!s),className:"md:hidden","aria-label":s?"Close menu":"Open menu","aria-expanded":s,"aria-controls":"mobile-nav",children:s?e.jsx(Sr,{className:"w-6 h-6","aria-hidden":"true"}):e.jsx(DM,{className:"w-6 h-6","aria-hidden":"true"})})]})]}),s&&e.jsxs("div",{id:"mobile-nav",className:"md:hidden pb-4 space-y-2",children:[C.map(E=>e.jsx(Fs,{to:E.to,onClick:()=>t(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all ${z(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:E.label},E.to)),g&&k.map(E=>e.jsxs(Fs,{to:E.to,onClick:()=>t(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${z(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:[E.icon&&e.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.to)),f&&N.map(E=>e.jsxs(Fs,{to:E.to,onClick:()=>t(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${z(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:[E.icon&&e.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.to)),m?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700 mt-2 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-2 py-2 rounded-lg bg-primary/10 text-primary-foreground mb-2",children:[e.jsx(so,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:b?.username||"User"})]}),e.jsxs("button",{onClick:j,className:"w-full px-4 py-3 rounded-lg text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-500/10 text-left flex items-center gap-2",children:[e.jsx(ac,{className:"w-4 h-4"}),"Logout"]})]})}):e.jsxs(Fs,{to:"/auth",onClick:()=>t(!1),className:"block px-4 py-3 rounded-lg text-sm font-medium bg-primary text-primary-foreground hover:opacity-90 transition-all flex items-center gap-2",children:[e.jsx(xE,{className:"w-4 h-4"}),"Login / Register"]}),e.jsxs("button",{onClick:()=>{_(),t(!1)},className:"w-full px-4 py-3 rounded-lg text-sm font-medium text-foreground hover:bg-muted text-left flex items-center justify-between","aria-label":r?"Switch to light mode":"Switch to dark mode",children:[e.jsx("span",{children:r?"Light Mode":"Dark Mode"}),r?e.jsx(a0,{className:"w-5 h-5","aria-hidden":"true"}):e.jsx(n0,{className:"w-5 h-5","aria-hidden":"true"})]})]})]})})},bX=()=>Le.get("/me"),vX=()=>Le.post("/me/active"),wX=s=>Le.post("/mobile-app/click",s),jX=()=>Le.get("/bookings/feedback-templates"),_X=(s,t)=>Le.post(`/bookings/${s}/client-rating`,{rating:t.rating,template_selections:t.template_selections||[],comment:(t.comment||"").slice(0,1e3)}),NX=async()=>{const r=((await Le.get("/driver/bookings")).data?.data||[]).filter(o=>o.booking_request_status==="confirmed"||o.booking_request_status==="completed"),n=r.reduce((o,c)=>o+parseFloat(c.total_booking_price||0),0),a=r.reduce((o,c)=>o+(Number(c.app_fees_amount)||0),0);let i=null;try{const o=await Le.get("/profile");i=o.data?.user?.agent?.app_fees??o.data?.agent?.app_fees??null}catch{}return{total_amount:n,app_fees_amount:a,net_earnings:n-a,bookings_count:r.length,app_fees_percentage:i}},aP=async()=>{try{return await Le.get("/owner/earnings")}catch(s){if(s.response?.status===404)return{data:await NX()};throw s}},iP=(s={})=>Le.get("/notifications",{params:s}),oP=()=>Le.get("/notifications/unread-count"),kX=(s={})=>Le.post("/notifications/mark-read",s),SX=(s={})=>Le.get("/frequent-searches/statistics",{params:s}),lP="https://play.google.com/store/apps/details?id=com.rentolb.app&pcampaignid=web_share",cP="https://apps.apple.com/us/app/rento-lb/id6756906813?l=en-GB",T_={appstore:cP,playstore:lP};async function eh(s,t){s?.preventDefault?.();const r=T_[t]||(t==="appstore"?cP:lP);try{const a=await(await fetch("https://ipapi.co/json")).json();await wX({...a,store:t})}catch{}window.open(r,"_blank","noopener,noreferrer")}const Nr={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"},CX=()=>{const s=new Date().getFullYear(),t={company:[{label:"About Us",to:"/about"},{label:"Our Fleet",to:"/luxury-car-rental-lebanon"},{label:"Contact",to:"/contact"},{label:"Careers",to:"#"}],support:[{label:"Help Center",to:"#"},{label:"Safety",to:"#"},{label:"Terms of Service",to:"/Terms-and-Conditions"},{label:"Privacy Policy",to:"/Privacy-Policy"}],services:[{label:"Airport Pickup",to:"#"},{label:"Long-term Rental",to:"#"},{label:"Chauffeur Service",to:"#"},{label:"Corporate Plans",to:"#"}]},r=[{icon:CM,href:"https://www.facebook.com/profile.php?id=61585450048575",label:"Facebook",color:Nr.darkBlue},{icon:LM,href:"https://x.com/RENTO_lb",label:"Twitter",color:Nr.teal},{icon:EM,href:"https://www.instagram.com/rentolebanon/?hl=en",label:"Instagram",color:Nr.limeGreen},{icon:TM,href:"https://www.linkedin.com/company/rento-lb/about/",label:"LinkedIn",color:Nr.darkBlue}];return w.useEffect(()=>{const n="https://images.dmca.com/Badges/DMCABadgeHelper.min.js";if(document.querySelector(`script[src="${n}"]`))return;const i=document.createElement("script");i.src=n,i.async=!0,document.body.appendChild(i)},[]),e.jsx("footer",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 mt-12",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 sm:py-10",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-6 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 mb-4 sm:mb-0",children:[e.jsxs(Fs,{to:"/",className:"flex items-center space-x-2 mb-4",children:[e.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"}),e.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${Nr.darkBlue}, ${Nr.teal}, ${Nr.limeGreen})`},children:"RENTO LB"})]}),e.jsxs("div",{className:"space-y-2.5 text-sm",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(js,{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:Nr.teal}}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-snug",children:"124-128 City Road, London, England, EC1V 2NX"})})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(js,{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:Nr.teal}}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-snug",children:"Mount Lebanon, Baouchrieh, Lebanon"})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Za,{className:"w-4 h-4 flex-shrink-0",style:{color:Nr.darkBlue}}),e.jsx("a",{href:"tel:+96181001301",className:"text-gray-700 dark:text-gray-300 hover:underline",style:{color:Nr.darkBlue},children:"+961 (81) 001-301"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ja,{className:"w-4 h-4 flex-shrink-0",style:{color:Nr.limeGreen}}),e.jsx("a",{href:"mailto:social@rento-lb.com",className:"text-gray-700 dark:text-gray-300 hover:underline",style:{color:Nr.limeGreen},children:"social@rento-lb.com"})]})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:Nr.darkBlue},children:"Company"}),e.jsx("ul",{className:"space-y-2",children:t.company.map(n=>e.jsx("li",{children:e.jsx(Fs,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]}),e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:Nr.teal},children:"Support"}),e.jsx("ul",{className:"space-y-2",children:t.support.map(n=>e.jsx("li",{children:e.jsx(Fs,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:Nr.limeGreen},children:"Services"}),e.jsx("ul",{className:"space-y-2",children:t.services.map(n=>e.jsx("li",{children:e.jsx(Fs,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white flex items-center gap-2",style:{color:Nr.teal},children:[e.jsx(fY,{className:"w-4 h-4"}),"Get the App"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Book on the go with our mobile app"}),e.jsx(Fs,{to:"/mobile-app",className:"text-xs hover:underline mb-2 block",style:{color:Nr.teal},children:"Learn more"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("a",{href:"#",onClick:n=>eh(n,"playstore"),className:"inline-flex items-center justify-center rounded-lg overflow-hidden transition-all hover:scale-105 hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-teal-500/50","aria-label":"Get it on Google Play",children:e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg",alt:"Get it on Google Play",className:"h-10 w-auto"})}),e.jsx("a",{href:"#",onClick:n=>eh(n,"appstore"),className:"inline-flex items-center justify-center rounded-lg overflow-hidden transition-all hover:scale-105 hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-teal-500/50","aria-label":"Download on the App Store",children:e.jsx("img",{src:"https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg",alt:"Download on the App Store",className:"h-10 w-auto"})})]})]})]}),e.jsx("div",{className:"my-8 border-t border-gray-200 dark:border-gray-800"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 text-center sm:text-left",children:"Follow Us"}),e.jsx("div",{className:"flex justify-center sm:justify-start items-center gap-3",children:r.map(n=>e.jsx("a",{href:n.href,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full flex items-center justify-center transition-all hover:scale-110 shadow-md hover:shadow-lg",style:{background:n.color},"aria-label":n.label,children:e.jsx(n.icon,{className:"w-5 h-5 text-white","aria-hidden":"true"})},n.label))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 text-center sm:text-left",children:"Trust & Security"}),e.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start items-center gap-3",children:[e.jsx("a",{href:"https://www.dmca.com/r/em2gpk5",title:"DMCA.com Protection Status",className:"dmca-badge",target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:"https://images.dmca.com/Badges/DMCA_logo-std-btn120w.png?ID=25eee832-1169-46e9-9a63-19f82b7e1b01",alt:"DMCA.com Protection Status",className:"h-8 w-auto"})}),e.jsx("a",{href:"https://www.trustpilot.com/evaluate/rento-lb.com",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md hover:shadow-lg transition-all hover:scale-105",style:{background:Nr.teal},children:" Trustpilot Review"}),e.jsx("span",{className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md",style:{background:Nr.limeGreen},children:" Google Verified"}),e.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16292007",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md hover:shadow-lg transition-all hover:scale-105",style:{background:Nr.darkBlue},children:" UK Registered"})]})]}),e.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",s," ",e.jsx("span",{className:"font-semibold",style:{color:Nr.teal},children:"RENTO LB"}),". All rights reserved."]}),e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-4 text-xs text-gray-500 dark:text-gray-500",children:[e.jsx(Fs,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Privacy Policy"}),e.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:""}),e.jsx(Fs,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Terms of Service"}),e.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:""}),e.jsx(Fs,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cookie Policy"})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Made with ",e.jsx("span",{className:"text-red-500",children:""})," in Lebanon & UK"]})]})})]})})},AX=()=>{const s=ra(),t=br(),{user:r,logout:n}=Md(),[a,i]=w.useState(!1),[o,c]=w.useState(!1);w.useEffect(()=>{const f=()=>i(window.scrollY>20);return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]);const d=async()=>{try{await Le.post("/logout")}catch(f){console.error("Logout error:",f)}n(),xe.success("Logged out successfully"),t("/")},h=[{to:"/Dashboard",label:"Dashboard",icon:JN},{to:"/Statistic",label:"Statistics",icon:qi},{to:"/Mycars",label:"My Cars",icon:Qt},{to:"/Mycars-bookings",label:"Bookings",icon:Bs},{to:"/BookingChat",label:"Chats",icon:_a},{to:"/Balance",label:"Balance",icon:wm},{to:"/add-car",label:"Add Car",icon:nr},{to:"/Add/car/qualification",label:"Qualifications",icon:r0}],m=f=>f==="/Dashboard"?s.pathname==="/Dashboard":s.pathname.startsWith(f);return e.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 glass-strong shadow-lg transition-all duration-300 ${a?"backdrop-blur":""}`,children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 md:h-12",children:[e.jsxs(Fs,{to:"/",className:"flex items-center space-x-2 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-transparent flex items-center justify-center hover-glow",children:e.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"})}),e.jsx("span",{className:"text-xl md:text-2xl text-primary-foreground font-bold gradient-text hidden sm:block",children:"RENTO LB"})]}),e.jsx("div",{className:"hidden md:flex text-primary-foreground items-center space-x-1 flex-1 justify-center",children:h.map(f=>e.jsxs(Fs,{to:f.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${m(f.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[f.icon&&e.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.to))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fs,{to:"/",children:e.jsx(fe,{variant:"ghost",size:"icon",className:"hover-glow","aria-label":"Go to home",children:e.jsx(AM,{className:"w-5 h-5"})})}),e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary/10 text-primary-foreground",children:[e.jsx(so,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:r?.username||"Agent"})]}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:d,className:"hover-glow hover:bg-red-500/10 hover:text-red-500","aria-label":"Logout",children:e.jsx(ac,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"md:hidden",children:e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>c(!o),className:"hover-glow","aria-label":"Menu",children:o?e.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})})]})]}),o&&e.jsx("div",{className:"md:hidden pb-4 border-t border-border/40 mt-2 pt-4",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[h.map(f=>e.jsxs(Fs,{to:f.to,onClick:()=>c(!1),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${m(f.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[f.icon&&e.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.to)),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mt-2",children:[e.jsx(so,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:r?.username||"Agent"})]}),e.jsxs(fe,{variant:"ghost",onClick:()=>{c(!1),d()},className:"w-full justify-start hover:bg-red-500/10 hover:text-red-500",children:[e.jsx(ac,{className:"w-4 h-4 mr-2"}),"Logout"]})]})})]})})},Yc=({children:s,noIndex:t=!1})=>e.jsxs(e.Fragment,{children:[e.jsx(AX,{}),e.jsx("main",{className:"pt-16 md:pt-12 min-h-screen",children:s})]}),LE="rento_device_id",Kf=64;function FE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const t=Math.random()*16|0;return(s==="x"?t:t&3|8).toString(16)})}function dP(){try{let s=typeof localStorage<"u"?localStorage.getItem(LE):null;return(!s||s.length>Kf)&&(s=FE(),s.length>Kf&&(s=s.slice(0,Kf)),typeof localStorage<"u"&&localStorage.setItem(LE,s)),s}catch{return FE().slice(0,Kf)}}const uP=async(s,t)=>{const r=typeof s=="string"&&s.trim()?s.trim().startsWith("+")?s.trim():`+${s.trim()}`:"",n=t&&String(t).slice(0,Kf)||dP();return(await Le.post("/auth/send-otp",{phone_number:r,device_id:n})).data},EX=async s=>{const t=s.trim().startsWith("+")?s.trim():`+${s.trim()}`;return(await Le.post("/auth/forgot-password",{phone_number:t})).data},hP=async(s,t)=>{const r=s.replace(/^\+/,"");return(await Le.post("/auth/verify-otp",{phone_number:r,otp_code:t})).data},Ae=w.forwardRef(({className:s,type:t,...r},n)=>e.jsx("input",{type:t,className:Tt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:n,...r}));Ae.displayName="Input";var TX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],RX=TX.reduce((s,t)=>{const r=WN(`Primitive.${t}`),n=w.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...s,[t]:n}},{}),DX="Label",fP=w.forwardRef((s,t)=>e.jsx(RX.label,{...s,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(s.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));fP.displayName=DX;var mP=fP;const MX=YN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ue=w.forwardRef(({className:s,...t},r)=>e.jsx(mP,{ref:r,className:Tt(MX(),s),...t}));ue.displayName=mP.displayName;const Ue=w.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:Tt("rounded-xl border bg-card text-card-foreground shadow",s),...t}));Ue.displayName="Card";const ts=w.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:Tt("flex flex-col space-y-1.5 p-6",s),...t}));ts.displayName="CardHeader";const ss=w.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:Tt("font-semibold leading-none tracking-tight",s),...t}));ss.displayName="CardTitle";const jm=w.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:Tt("text-sm text-muted-foreground",s),...t}));jm.displayName="CardDescription";const He=w.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:Tt("p-6 pt-0",s),...t}));He.displayName="CardContent";const PX=w.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:Tt("flex items-center p-6 pt-0",s),...t}));PX.displayName="CardFooter";function bt(s,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(s?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function OX(s,t){const r=w.createContext(t),n=i=>{const{children:o,...c}=i,d=w.useMemo(()=>c,Object.values(c));return e.jsx(r.Provider,{value:d,children:o})};n.displayName=s+"Provider";function a(i){const o=w.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${s}\``)}return[n,a]}function Aa(s,t=[]){let r=[];function n(i,o){const c=w.createContext(o),d=r.length;r=[...r,o];const h=f=>{const{scope:g,children:b,...v}=f,y=g?.[s]?.[d]||c,_=w.useMemo(()=>v,Object.values(v));return e.jsx(y.Provider,{value:_,children:b})};h.displayName=i+"Provider";function m(f,g){const b=g?.[s]?.[d]||c,v=w.useContext(b);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[h,m]}const a=()=>{const i=r.map(o=>w.createContext(o));return function(c){const d=c?.[s]||i;return w.useMemo(()=>({[`__scope${s}`]:{...c,[s]:d}}),[c,d])}};return a.scopeName=s,[n,LX(a,...t)]}function LX(...s){const t=s[0];if(s.length===1)return t;const r=()=>{const n=s.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((c,{useScope:d,scopeName:h})=>{const f=d(i)[`__scope${h}`];return{...c,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function BE(s){const t=FX(s),r=w.forwardRef((n,a)=>{const{children:i,...o}=n,c=w.Children.toArray(i),d=c.find(IX);if(d){const h=d.props.children,m=c.map(f=>f===d?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:f);return e.jsx(t,{...o,ref:a,children:w.isValidElement(h)?w.cloneElement(h,void 0,m):null})}return e.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}function FX(s){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const o=UX(a),c=zX(i,a.props);return a.type!==w.Fragment&&(c.ref=n?tl(n,o):o),w.cloneElement(a,c)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var BX=Symbol("radix.slottable");function IX(s){return w.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===BX}function zX(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function UX(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}function Q0(s){const t=s+"CollectionProvider",[r,n]=Aa(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:j}=y,S=ct.useRef(null),N=ct.useRef(new Map).current;return e.jsx(a,{scope:_,itemMap:N,collectionRef:S,children:j})};o.displayName=t;const c=s+"CollectionSlot",d=BE(c),h=ct.forwardRef((y,_)=>{const{scope:j,children:S}=y,N=i(c,j),k=is(_,N.collectionRef);return e.jsx(d,{ref:k,children:S})});h.displayName=c;const m=s+"CollectionItemSlot",f="data-radix-collection-item",g=BE(m),b=ct.forwardRef((y,_)=>{const{scope:j,children:S,...N}=y,k=ct.useRef(null),C=is(_,k),z=i(m,j);return ct.useEffect(()=>(z.itemMap.set(k,{ref:k,...N}),()=>void z.itemMap.delete(k))),e.jsx(g,{[f]:"",ref:C,children:S})});b.displayName=m;function v(y){const _=i(s+"CollectionConsumer",y);return ct.useCallback(()=>{const S=_.collectionRef.current;if(!S)return[];const N=Array.from(S.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((z,E)=>N.indexOf(z.ref.current)-N.indexOf(E.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:h,ItemSlot:b},v,n]}var Nn=globalThis?.document?w.useLayoutEffect:()=>{},$X=IN[" useId ".trim().toString()]||(()=>{}),VX=0;function Xi(s){const[t,r]=w.useState($X());return Nn(()=>{r(n=>n??String(VX++))},[s]),t?`radix-${t}`:""}function HX(s){const t=qX(s),r=w.forwardRef((n,a)=>{const{children:i,...o}=n,c=w.Children.toArray(i),d=c.find(WX);if(d){const h=d.props.children,m=c.map(f=>f===d?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:f);return e.jsx(t,{...o,ref:a,children:w.isValidElement(h)?w.cloneElement(h,void 0,m):null})}return e.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}function qX(s){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const o=KX(a),c=YX(i,a.props);return a.type!==w.Fragment&&(c.ref=n?tl(n,o):o),w.cloneElement(a,c)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var GX=Symbol("radix.slottable");function WX(s){return w.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===GX}function YX(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function KX(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}var XX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qt=XX.reduce((s,t)=>{const r=HX(`Primitive.${t}`),n=w.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...s,[t]:n}},{});function pP(s,t){s&&$m.flushSync(()=>s.dispatchEvent(t))}function ro(s){const t=w.useRef(s);return w.useEffect(()=>{t.current=s}),w.useMemo(()=>(...r)=>t.current?.(...r),[])}var ZX=IN[" useInsertionEffect ".trim().toString()]||Nn;function Yo({prop:s,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=QX({defaultProp:t,onChange:r}),c=s!==void 0,d=c?s:a;{const m=w.useRef(s!==void 0);w.useEffect(()=>{const f=m.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,n])}const h=w.useCallback(m=>{if(c){const f=JX(m)?m(s):m;f!==s&&o.current?.(f)}else i(m)},[c,s,i,o]);return[d,h]}function QX({defaultProp:s,onChange:t}){const[r,n]=w.useState(s),a=w.useRef(r),i=w.useRef(t);return ZX(()=>{i.current=t},[t]),w.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function JX(s){return typeof s=="function"}var eZ=w.createContext(void 0);function Xm(s){const t=w.useContext(eZ);return s||t||"ltr"}var mw="rovingFocusGroup.onEntryFocus",tZ={bubbles:!1,cancelable:!0},Zm="RovingFocusGroup",[R_,gP,sZ]=Q0(Zm),[rZ,J0]=Aa(Zm,[sZ]),[nZ,aZ]=rZ(Zm),xP=w.forwardRef((s,t)=>e.jsx(R_.Provider,{scope:s.__scopeRovingFocusGroup,children:e.jsx(R_.Slot,{scope:s.__scopeRovingFocusGroup,children:e.jsx(iZ,{...s,ref:t})})}));xP.displayName=Zm;var iZ=w.forwardRef((s,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...f}=s,g=w.useRef(null),b=is(t,g),v=Xm(i),[y,_]=Yo({prop:o,defaultProp:c??null,onChange:d,caller:Zm}),[j,S]=w.useState(!1),N=ro(h),k=gP(r),C=w.useRef(!1),[z,E]=w.useState(0);return w.useEffect(()=>{const U=g.current;if(U)return U.addEventListener(mw,N),()=>U.removeEventListener(mw,N)},[N]),e.jsx(nZ,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:y,onItemFocus:w.useCallback(U=>_(U),[_]),onItemShiftTab:w.useCallback(()=>S(!0),[]),onFocusableItemAdd:w.useCallback(()=>E(U=>U+1),[]),onFocusableItemRemove:w.useCallback(()=>E(U=>U-1),[]),children:e.jsx(qt.div,{tabIndex:j||z===0?-1:0,"data-orientation":n,...f,ref:b,style:{outline:"none",...s.style},onMouseDown:bt(s.onMouseDown,()=>{C.current=!0}),onFocus:bt(s.onFocus,U=>{const T=!C.current;if(U.target===U.currentTarget&&T&&!j){const re=new CustomEvent(mw,tZ);if(U.currentTarget.dispatchEvent(re),!re.defaultPrevented){const Y=k().filter(Q=>Q.focusable),I=Y.find(Q=>Q.active),K=Y.find(Q=>Q.id===y),J=[I,K,...Y].filter(Boolean).map(Q=>Q.ref.current);vP(J,m)}}C.current=!1}),onBlur:bt(s.onBlur,()=>S(!1))})})}),yP="RovingFocusGroupItem",bP=w.forwardRef((s,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...c}=s,d=Xi(),h=i||d,m=aZ(yP,r),f=m.currentTabStopId===h,g=gP(r),{onFocusableItemAdd:b,onFocusableItemRemove:v,currentTabStopId:y}=m;return w.useEffect(()=>{if(n)return b(),()=>v()},[n,b,v]),e.jsx(R_.ItemSlot,{scope:r,id:h,focusable:n,active:a,children:e.jsx(qt.span,{tabIndex:f?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:bt(s.onMouseDown,_=>{n?m.onItemFocus(h):_.preventDefault()}),onFocus:bt(s.onFocus,()=>m.onItemFocus(h)),onKeyDown:bt(s.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const j=cZ(_,m.orientation,m.dir);if(j!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let N=g().filter(k=>k.focusable).map(k=>k.ref.current);if(j==="last")N.reverse();else if(j==="prev"||j==="next"){j==="prev"&&N.reverse();const k=N.indexOf(_.currentTarget);N=m.loop?dZ(N,k+1):N.slice(k+1)}setTimeout(()=>vP(N))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:y!=null}):o})})});bP.displayName=yP;var oZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lZ(s,t){return t!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function cZ(s,t,r){const n=lZ(s.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return oZ[n]}function vP(s,t=!1){const r=document.activeElement;for(const n of s)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function dZ(s,t){return s.map((r,n)=>s[(t+n)%s.length])}var wP=xP,jP=bP;function uZ(s,t){return w.useReducer((r,n)=>t[r][n]??r,s)}var ei=s=>{const{present:t,children:r}=s,n=hZ(t),a=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=is(n.ref,fZ(a));return typeof r=="function"||n.isPresent?w.cloneElement(a,{ref:i}):null};ei.displayName="Presence";function hZ(s){const[t,r]=w.useState(),n=w.useRef(null),a=w.useRef(s),i=w.useRef("none"),o=s?"mounted":"unmounted",[c,d]=uZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=Bg(n.current);i.current=c==="mounted"?h:"none"},[c]),Nn(()=>{const h=n.current,m=a.current;if(m!==s){const g=i.current,b=Bg(h);s?d("MOUNT"):b==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&g!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=s}},[s,d]),Nn(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,f=b=>{const y=Bg(n.current).includes(CSS.escape(b.animationName));if(b.target===t&&y&&(d("ANIMATION_END"),!a.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},g=b=>{b.target===t&&(i.current=Bg(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Bg(s){return s?.animationName||"none"}function fZ(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}var ey="Tabs",[mZ]=Aa(ey,[J0]),_P=J0(),[pZ,a2]=mZ(ey),NP=w.forwardRef((s,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:d="automatic",...h}=s,m=Xm(c),[f,g]=Yo({prop:n,onChange:a,defaultProp:i??"",caller:ey});return e.jsx(pZ,{scope:r,baseId:Xi(),value:f,onValueChange:g,orientation:o,dir:m,activationMode:d,children:e.jsx(qt.div,{dir:m,"data-orientation":o,...h,ref:t})})});NP.displayName=ey;var kP="TabsList",SP=w.forwardRef((s,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=s,i=a2(kP,r),o=_P(r);return e.jsx(wP,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:e.jsx(qt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});SP.displayName=kP;var CP="TabsTrigger",AP=w.forwardRef((s,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=s,o=a2(CP,r),c=_P(r),d=RP(o.baseId,n),h=DP(o.baseId,n),m=n===o.value;return e.jsx(jP,{asChild:!0,...c,focusable:!a,active:m,children:e.jsx(qt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:t,onMouseDown:bt(s.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:bt(s.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:bt(s.onFocus,()=>{const f=o.activationMode!=="manual";!m&&!a&&f&&o.onValueChange(n)})})})});AP.displayName=CP;var EP="TabsContent",TP=w.forwardRef((s,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=s,c=a2(EP,r),d=RP(c.baseId,n),h=DP(c.baseId,n),m=n===c.value,f=w.useRef(m);return w.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),e.jsx(ei,{present:a||m,children:({present:g})=>e.jsx(qt.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:h,tabIndex:0,...o,ref:t,style:{...s.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});TP.displayName=EP;function RP(s,t){return`${s}-trigger-${t}`}function DP(s,t){return`${s}-content-${t}`}var gZ=NP,MP=SP,PP=AP,OP=TP;const Ko=gZ,no=w.forwardRef(({className:s,...t},r)=>e.jsx(MP,{ref:r,className:Tt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s),...t}));no.displayName=MP.displayName;const Yt=w.forwardRef(({className:s,...t},r)=>e.jsx(PP,{ref:r,className:Tt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s),...t}));Yt.displayName=PP.displayName;const ns=w.forwardRef(({className:s,...t},r)=>e.jsx(OP,{ref:r,className:Tt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));ns.displayName=OP.displayName;function c0(s,[t,r]){return Math.min(r,Math.max(t,s))}function xZ(s,t=globalThis?.document){const r=ro(s);w.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var yZ="DismissableLayer",D_="dismissableLayer.update",bZ="dismissableLayer.pointerDownOutside",vZ="dismissableLayer.focusOutside",IE,LP=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qm=w.forwardRef((s,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=s,h=w.useContext(LP),[m,f]=w.useState(null),g=m?.ownerDocument??globalThis?.document,[,b]=w.useState({}),v=is(t,E=>f(E)),y=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),j=y.indexOf(_),S=m?y.indexOf(m):-1,N=h.layersWithOutsidePointerEventsDisabled.size>0,k=S>=j,C=_Z(E=>{const U=E.target,T=[...h.branches].some(re=>re.contains(U));!k||T||(a?.(E),o?.(E),E.defaultPrevented||c?.())},g),z=NZ(E=>{const U=E.target;[...h.branches].some(re=>re.contains(U))||(i?.(E),o?.(E),E.defaultPrevented||c?.())},g);return xZ(E=>{S===h.layers.size-1&&(n?.(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},g),w.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(IE=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),zE(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=IE)}},[m,g,r,h]),w.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),zE())},[m,h]),w.useEffect(()=>{const E=()=>b({});return document.addEventListener(D_,E),()=>document.removeEventListener(D_,E)},[]),e.jsx(qt.div,{...d,ref:v,style:{pointerEvents:N?k?"auto":"none":void 0,...s.style},onFocusCapture:bt(s.onFocusCapture,z.onFocusCapture),onBlurCapture:bt(s.onBlurCapture,z.onBlurCapture),onPointerDownCapture:bt(s.onPointerDownCapture,C.onPointerDownCapture)})});Qm.displayName=yZ;var wZ="DismissableLayerBranch",jZ=w.forwardRef((s,t)=>{const r=w.useContext(LP),n=w.useRef(null),a=is(t,n);return w.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),e.jsx(qt.div,{...s,ref:a})});jZ.displayName=wZ;function _Z(s,t=globalThis?.document){const r=ro(s),n=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let d=function(){FP(bZ,r,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function NZ(s,t=globalThis?.document){const r=ro(s),n=w.useRef(!1);return w.useEffect(()=>{const a=i=>{i.target&&!n.current&&FP(vZ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function zE(){const s=new CustomEvent(D_);document.dispatchEvent(s)}function FP(s,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(s,t,{once:!0}),n?pP(a,i):a.dispatchEvent(i)}var pw=0;function i2(){w.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??UE()),document.body.insertAdjacentElement("beforeend",s[1]??UE()),pw++,()=>{pw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),pw--}},[])}function UE(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var gw="focusScope.autoFocusOnMount",xw="focusScope.autoFocusOnUnmount",$E={bubbles:!1,cancelable:!0},kZ="FocusScope",ty=w.forwardRef((s,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=s,[c,d]=w.useState(null),h=ro(a),m=ro(i),f=w.useRef(null),g=is(t,y=>d(y)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let y=function(N){if(b.paused||!c)return;const k=N.target;c.contains(k)?f.current=k:Hl(f.current,{select:!0})},_=function(N){if(b.paused||!c)return;const k=N.relatedTarget;k!==null&&(c.contains(k)||Hl(f.current,{select:!0}))},j=function(N){if(document.activeElement===document.body)for(const C of N)C.removedNodes.length>0&&Hl(c)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const S=new MutationObserver(j);return c&&S.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),S.disconnect()}}},[n,c,b.paused]),w.useEffect(()=>{if(c){HE.add(b);const y=document.activeElement;if(!c.contains(y)){const j=new CustomEvent(gw,$E);c.addEventListener(gw,h),c.dispatchEvent(j),j.defaultPrevented||(SZ(RZ(BP(c)),{select:!0}),document.activeElement===y&&Hl(c))}return()=>{c.removeEventListener(gw,h),setTimeout(()=>{const j=new CustomEvent(xw,$E);c.addEventListener(xw,m),c.dispatchEvent(j),j.defaultPrevented||Hl(y??document.body,{select:!0}),c.removeEventListener(xw,m),HE.remove(b)},0)}}},[c,h,m,b]);const v=w.useCallback(y=>{if(!r&&!n||b.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,j=document.activeElement;if(_&&j){const S=y.currentTarget,[N,k]=CZ(S);N&&k?!y.shiftKey&&j===k?(y.preventDefault(),r&&Hl(N,{select:!0})):y.shiftKey&&j===N&&(y.preventDefault(),r&&Hl(k,{select:!0})):j===S&&y.preventDefault()}},[r,n,b.paused]);return e.jsx(qt.div,{tabIndex:-1,...o,ref:g,onKeyDown:v})});ty.displayName=kZ;function SZ(s,{select:t=!1}={}){const r=document.activeElement;for(const n of s)if(Hl(n,{select:t}),document.activeElement!==r)return}function CZ(s){const t=BP(s),r=VE(t,s),n=VE(t.reverse(),s);return[r,n]}function BP(s){const t=[],r=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function VE(s,t){for(const r of s)if(!AZ(r,{upTo:t}))return r}function AZ(s,{upTo:t}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(t!==void 0&&s===t)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function EZ(s){return s instanceof HTMLInputElement&&"select"in s}function Hl(s,{select:t=!1}={}){if(s&&s.focus){const r=document.activeElement;s.focus({preventScroll:!0}),s!==r&&EZ(s)&&t&&s.select()}}var HE=TZ();function TZ(){let s=[];return{add(t){const r=s[0];t!==r&&r?.pause(),s=qE(s,t),s.unshift(t)},remove(t){s=qE(s,t),s[0]?.resume()}}}function qE(s,t){const r=[...s],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function RZ(s){return s.filter(t=>t.tagName!=="A")}const DZ=["top","right","bottom","left"],lc=Math.min,ba=Math.max,d0=Math.round,Ig=Math.floor,Zi=s=>({x:s,y:s}),MZ={left:"right",right:"left",bottom:"top",top:"bottom"},PZ={start:"end",end:"start"};function M_(s,t,r){return ba(s,lc(t,r))}function Xo(s,t){return typeof s=="function"?s(t):s}function Zo(s){return s.split("-")[0]}function wh(s){return s.split("-")[1]}function o2(s){return s==="x"?"y":"x"}function l2(s){return s==="y"?"height":"width"}const OZ=new Set(["top","bottom"]);function Wi(s){return OZ.has(Zo(s))?"y":"x"}function c2(s){return o2(Wi(s))}function LZ(s,t,r){r===void 0&&(r=!1);const n=wh(s),a=c2(s),i=l2(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=u0(o)),[o,u0(o)]}function FZ(s){const t=u0(s);return[P_(s),t,P_(t)]}function P_(s){return s.replace(/start|end/g,t=>PZ[t])}const GE=["left","right"],WE=["right","left"],BZ=["top","bottom"],IZ=["bottom","top"];function zZ(s,t,r){switch(s){case"top":case"bottom":return r?t?WE:GE:t?GE:WE;case"left":case"right":return t?BZ:IZ;default:return[]}}function UZ(s,t,r,n){const a=wh(s);let i=zZ(Zo(s),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(P_)))),i}function u0(s){return s.replace(/left|right|bottom|top/g,t=>MZ[t])}function $Z(s){return{top:0,right:0,bottom:0,left:0,...s}}function IP(s){return typeof s!="number"?$Z(s):{top:s,right:s,bottom:s,left:s}}function h0(s){const{x:t,y:r,width:n,height:a}=s;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function YE(s,t,r){let{reference:n,floating:a}=s;const i=Wi(t),o=c2(t),c=l2(o),d=Zo(t),h=i==="y",m=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,g=n[c]/2-a[c]/2;let b;switch(d){case"top":b={x:m,y:n.y-a.height};break;case"bottom":b={x:m,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:f};break;case"left":b={x:n.x-a.width,y:f};break;default:b={x:n.x,y:n.y}}switch(wh(t)){case"start":b[o]-=g*(r&&h?-1:1);break;case"end":b[o]+=g*(r&&h?-1:1);break}return b}const VZ=async(s,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,c=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let h=await o.getElementRects({reference:s,floating:t,strategy:a}),{x:m,y:f}=YE(h,n,d),g=n,b={},v=0;for(let y=0;y<c.length;y++){const{name:_,fn:j}=c[y],{x:S,y:N,data:k,reset:C}=await j({x:m,y:f,initialPlacement:n,placement:g,strategy:a,middlewareData:b,rects:h,platform:o,elements:{reference:s,floating:t}});m=S??m,f=N??f,b={...b,[_]:{...b[_],...k}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(g=C.placement),C.rects&&(h=C.rects===!0?await o.getElementRects({reference:s,floating:t,strategy:a}):C.rects),{x:m,y:f}=YE(h,g,d)),y=-1)}return{x:m,y:f,placement:g,strategy:a,middlewareData:b}};async function _m(s,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:c,strategy:d}=s,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:g=!1,padding:b=0}=Xo(t,s),v=IP(b),_=c[g?f==="floating"?"reference":"floating":f],j=h0(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(_)))==null||r?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),S=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),k=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},C=h0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:S,offsetParent:N,strategy:d}):S);return{top:(j.top-C.top+v.top)/k.y,bottom:(C.bottom-j.bottom+v.bottom)/k.y,left:(j.left-C.left+v.left)/k.x,right:(C.right-j.right+v.right)/k.x}}const HZ=s=>({name:"arrow",options:s,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:c,middlewareData:d}=t,{element:h,padding:m=0}=Xo(s,t)||{};if(h==null)return{};const f=IP(m),g={x:r,y:n},b=c2(a),v=l2(b),y=await o.getDimensions(h),_=b==="y",j=_?"top":"left",S=_?"bottom":"right",N=_?"clientHeight":"clientWidth",k=i.reference[v]+i.reference[b]-g[b]-i.floating[v],C=g[b]-i.reference[b],z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let E=z?z[N]:0;(!E||!await(o.isElement==null?void 0:o.isElement(z)))&&(E=c.floating[N]||i.floating[v]);const U=k/2-C/2,T=E/2-y[v]/2-1,re=lc(f[j],T),Y=lc(f[S],T),I=re,K=E-y[v]-Y,L=E/2-y[v]/2+U,J=M_(I,L,K),Q=!d.arrow&&wh(a)!=null&&L!==J&&i.reference[v]/2-(L<I?re:Y)-y[v]/2<0,Z=Q?L<I?L-I:L-K:0;return{[b]:g[b]+Z,data:{[b]:J,centerOffset:L-J-Z,...Q&&{alignmentOffset:Z}},reset:Q}}}),qZ=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:c,platform:d,elements:h}=t,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,..._}=Xo(s,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=Zo(a),S=Wi(c),N=Zo(c)===c,k=await(d.isRTL==null?void 0:d.isRTL(h.floating)),C=g||(N||!y?[u0(c)]:FZ(c)),z=v!=="none";!g&&z&&C.push(...UZ(c,y,v,k));const E=[c,...C],U=await _m(t,_),T=[];let re=((n=i.flip)==null?void 0:n.overflows)||[];if(m&&T.push(U[j]),f){const L=LZ(a,o,k);T.push(U[L[0]],U[L[1]])}if(re=[...re,{placement:a,overflows:T}],!T.every(L=>L<=0)){var Y,I;const L=(((Y=i.flip)==null?void 0:Y.index)||0)+1,J=E[L];if(J&&(!(f==="alignment"?S!==Wi(J):!1)||re.every(ee=>Wi(ee.placement)===S?ee.overflows[0]>0:!0)))return{data:{index:L,overflows:re},reset:{placement:J}};let Q=(I=re.filter(Z=>Z.overflows[0]<=0).sort((Z,ee)=>Z.overflows[1]-ee.overflows[1])[0])==null?void 0:I.placement;if(!Q)switch(b){case"bestFit":{var K;const Z=(K=re.filter(ee=>{if(z){const F=Wi(ee.placement);return F===S||F==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(F=>F>0).reduce((F,de)=>F+de,0)]).sort((ee,F)=>ee[1]-F[1])[0])==null?void 0:K[0];Z&&(Q=Z);break}case"initialPlacement":Q=c;break}if(a!==Q)return{reset:{placement:Q}}}return{}}}};function KE(s,t){return{top:s.top-t.height,right:s.right-t.width,bottom:s.bottom-t.height,left:s.left-t.width}}function XE(s){return DZ.some(t=>s[t]>=0)}const GZ=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Xo(s,t);switch(n){case"referenceHidden":{const i=await _m(t,{...a,elementContext:"reference"}),o=KE(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:XE(o)}}}case"escaped":{const i=await _m(t,{...a,altBoundary:!0}),o=KE(i,r.floating);return{data:{escapedOffsets:o,escaped:XE(o)}}}default:return{}}}}},zP=new Set(["left","top"]);async function WZ(s,t){const{placement:r,platform:n,elements:a}=s,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Zo(r),c=wh(r),d=Wi(r)==="y",h=zP.has(o)?-1:1,m=i&&d?-1:1,f=Xo(t,s);let{mainAxis:g,crossAxis:b,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof v=="number"&&(b=c==="end"?v*-1:v),d?{x:b*m,y:g*h}:{x:g*h,y:b*m}}const YZ=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:c}=t,d=await WZ(t,s);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:o}}}}},KZ=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:_=>{let{x:j,y:S}=_;return{x:j,y:S}}},...d}=Xo(s,t),h={x:r,y:n},m=await _m(t,d),f=Wi(Zo(a)),g=o2(f);let b=h[g],v=h[f];if(i){const _=g==="y"?"top":"left",j=g==="y"?"bottom":"right",S=b+m[_],N=b-m[j];b=M_(S,b,N)}if(o){const _=f==="y"?"top":"left",j=f==="y"?"bottom":"right",S=v+m[_],N=v-m[j];v=M_(S,v,N)}const y=c.fn({...t,[g]:b,[f]:v});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[g]:i,[f]:o}}}}}},XZ=function(s){return s===void 0&&(s={}),{options:s,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Xo(s,t),m={x:r,y:n},f=Wi(a),g=o2(f);let b=m[g],v=m[f];const y=Xo(c,t),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(d){const N=g==="y"?"height":"width",k=i.reference[g]-i.floating[N]+_.mainAxis,C=i.reference[g]+i.reference[N]-_.mainAxis;b<k?b=k:b>C&&(b=C)}if(h){var j,S;const N=g==="y"?"width":"height",k=zP.has(Zo(a)),C=i.reference[f]-i.floating[N]+(k&&((j=o.offset)==null?void 0:j[f])||0)+(k?0:_.crossAxis),z=i.reference[f]+i.reference[N]+(k?0:((S=o.offset)==null?void 0:S[f])||0)-(k?_.crossAxis:0);v<C?v=C:v>z&&(v=z)}return{[g]:b,[f]:v}}}},ZZ=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:c}=t,{apply:d=()=>{},...h}=Xo(s,t),m=await _m(t,h),f=Zo(a),g=wh(a),b=Wi(a)==="y",{width:v,height:y}=i.floating;let _,j;f==="top"||f==="bottom"?(_=f,j=g===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(j=f,_=g==="end"?"top":"bottom");const S=y-m.top-m.bottom,N=v-m.left-m.right,k=lc(y-m[_],S),C=lc(v-m[j],N),z=!t.middlewareData.shift;let E=k,U=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(U=N),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=S),z&&!g){const re=ba(m.left,0),Y=ba(m.right,0),I=ba(m.top,0),K=ba(m.bottom,0);b?U=v-2*(re!==0||Y!==0?re+Y:ba(m.left,m.right)):E=y-2*(I!==0||K!==0?I+K:ba(m.top,m.bottom))}await d({...t,availableWidth:U,availableHeight:E});const T=await o.getDimensions(c.floating);return v!==T.width||y!==T.height?{reset:{rects:!0}}:{}}}};function sy(){return typeof window<"u"}function jh(s){return UP(s)?(s.nodeName||"").toLowerCase():"#document"}function Na(s){var t;return(s==null||(t=s.ownerDocument)==null?void 0:t.defaultView)||window}function oo(s){var t;return(t=(UP(s)?s.ownerDocument:s.document)||window.document)==null?void 0:t.documentElement}function UP(s){return sy()?s instanceof Node||s instanceof Na(s).Node:!1}function yi(s){return sy()?s instanceof Element||s instanceof Na(s).Element:!1}function ao(s){return sy()?s instanceof HTMLElement||s instanceof Na(s).HTMLElement:!1}function ZE(s){return!sy()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Na(s).ShadowRoot}const QZ=new Set(["inline","contents"]);function Jm(s){const{overflow:t,overflowX:r,overflowY:n,display:a}=bi(s);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!QZ.has(a)}const JZ=new Set(["table","td","th"]);function eQ(s){return JZ.has(jh(s))}const tQ=[":popover-open",":modal"];function ry(s){return tQ.some(t=>{try{return s.matches(t)}catch{return!1}})}const sQ=["transform","translate","scale","rotate","perspective"],rQ=["transform","translate","scale","rotate","perspective","filter"],nQ=["paint","layout","strict","content"];function d2(s){const t=u2(),r=yi(s)?bi(s):s;return sQ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||rQ.some(n=>(r.willChange||"").includes(n))||nQ.some(n=>(r.contain||"").includes(n))}function aQ(s){let t=cc(s);for(;ao(t)&&!th(t);){if(d2(t))return t;if(ry(t))return null;t=cc(t)}return null}function u2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iQ=new Set(["html","body","#document"]);function th(s){return iQ.has(jh(s))}function bi(s){return Na(s).getComputedStyle(s)}function ny(s){return yi(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function cc(s){if(jh(s)==="html")return s;const t=s.assignedSlot||s.parentNode||ZE(s)&&s.host||oo(s);return ZE(t)?t.host:t}function $P(s){const t=cc(s);return th(t)?s.ownerDocument?s.ownerDocument.body:s.body:ao(t)&&Jm(t)?t:$P(t)}function Nm(s,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=$P(s),i=a===((n=s.ownerDocument)==null?void 0:n.body),o=Na(a);if(i){const c=O_(o);return t.concat(o,o.visualViewport||[],Jm(a)?a:[],c&&r?Nm(c):[])}return t.concat(a,Nm(a,[],r))}function O_(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function VP(s){const t=bi(s);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ao(s),i=a?s.offsetWidth:r,o=a?s.offsetHeight:n,c=d0(r)!==i||d0(n)!==o;return c&&(r=i,n=o),{width:r,height:n,$:c}}function h2(s){return yi(s)?s:s.contextElement}function Hu(s){const t=h2(s);if(!ao(t))return Zi(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=VP(t);let o=(i?d0(r.width):r.width)/n,c=(i?d0(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const oQ=Zi(0);function HP(s){const t=Na(s);return!u2()||!t.visualViewport?oQ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lQ(s,t,r){return t===void 0&&(t=!1),!r||t&&r!==Na(s)?!1:t}function Sd(s,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=s.getBoundingClientRect(),i=h2(s);let o=Zi(1);t&&(n?yi(n)&&(o=Hu(n)):o=Hu(s));const c=lQ(i,r,n)?HP(i):Zi(0);let d=(a.left+c.x)/o.x,h=(a.top+c.y)/o.y,m=a.width/o.x,f=a.height/o.y;if(i){const g=Na(i),b=n&&yi(n)?Na(n):n;let v=g,y=O_(v);for(;y&&n&&b!==v;){const _=Hu(y),j=y.getBoundingClientRect(),S=bi(y),N=j.left+(y.clientLeft+parseFloat(S.paddingLeft))*_.x,k=j.top+(y.clientTop+parseFloat(S.paddingTop))*_.y;d*=_.x,h*=_.y,m*=_.x,f*=_.y,d+=N,h+=k,v=Na(y),y=O_(v)}}return h0({width:m,height:f,x:d,y:h})}function ay(s,t){const r=ny(s).scrollLeft;return t?t.left+r:Sd(oo(s)).left+r}function qP(s,t){const r=s.getBoundingClientRect(),n=r.left+t.scrollLeft-ay(s,r),a=r.top+t.scrollTop;return{x:n,y:a}}function cQ(s){let{elements:t,rect:r,offsetParent:n,strategy:a}=s;const i=a==="fixed",o=oo(n),c=t?ry(t.floating):!1;if(n===o||c&&i)return r;let d={scrollLeft:0,scrollTop:0},h=Zi(1);const m=Zi(0),f=ao(n);if((f||!f&&!i)&&((jh(n)!=="body"||Jm(o))&&(d=ny(n)),ao(n))){const b=Sd(n);h=Hu(n),m.x=b.x+n.clientLeft,m.y=b.y+n.clientTop}const g=o&&!f&&!i?qP(o,d):Zi(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+m.x+g.x,y:r.y*h.y-d.scrollTop*h.y+m.y+g.y}}function dQ(s){return Array.from(s.getClientRects())}function uQ(s){const t=oo(s),r=ny(s),n=s.ownerDocument.body,a=ba(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ba(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+ay(s);const c=-r.scrollTop;return bi(n).direction==="rtl"&&(o+=ba(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:c}}const QE=25;function hQ(s,t){const r=Na(s),n=oo(s),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,c=0,d=0;if(a){i=a.width,o=a.height;const m=u2();(!m||m&&t==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}const h=ay(n);if(h<=0){const m=n.ownerDocument,f=m.body,g=getComputedStyle(f),b=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-b);v<=QE&&(i-=v)}else h<=QE&&(i+=h);return{width:i,height:o,x:c,y:d}}const fQ=new Set(["absolute","fixed"]);function mQ(s,t){const r=Sd(s,!0,t==="fixed"),n=r.top+s.clientTop,a=r.left+s.clientLeft,i=ao(s)?Hu(s):Zi(1),o=s.clientWidth*i.x,c=s.clientHeight*i.y,d=a*i.x,h=n*i.y;return{width:o,height:c,x:d,y:h}}function JE(s,t,r){let n;if(t==="viewport")n=hQ(s,r);else if(t==="document")n=uQ(oo(s));else if(yi(t))n=mQ(t,r);else{const a=HP(s);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return h0(n)}function GP(s,t){const r=cc(s);return r===t||!yi(r)||th(r)?!1:bi(r).position==="fixed"||GP(r,t)}function pQ(s,t){const r=t.get(s);if(r)return r;let n=Nm(s,[],!1).filter(c=>yi(c)&&jh(c)!=="body"),a=null;const i=bi(s).position==="fixed";let o=i?cc(s):s;for(;yi(o)&&!th(o);){const c=bi(o),d=d2(o);!d&&c.position==="fixed"&&(a=null),(i?!d&&!a:!d&&c.position==="static"&&!!a&&fQ.has(a.position)||Jm(o)&&!d&&GP(s,o))?n=n.filter(m=>m!==o):a=c,o=cc(o)}return t.set(s,n),n}function gQ(s){let{element:t,boundary:r,rootBoundary:n,strategy:a}=s;const o=[...r==="clippingAncestors"?ry(t)?[]:pQ(t,this._c):[].concat(r),n],c=o[0],d=o.reduce((h,m)=>{const f=JE(t,m,a);return h.top=ba(f.top,h.top),h.right=lc(f.right,h.right),h.bottom=lc(f.bottom,h.bottom),h.left=ba(f.left,h.left),h},JE(t,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function xQ(s){const{width:t,height:r}=VP(s);return{width:t,height:r}}function yQ(s,t,r){const n=ao(t),a=oo(t),i=r==="fixed",o=Sd(s,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=Zi(0);function h(){d.x=ay(a)}if(n||!n&&!i)if((jh(t)!=="body"||Jm(a))&&(c=ny(t)),n){const b=Sd(t,!0,i,t);d.x=b.x+t.clientLeft,d.y=b.y+t.clientTop}else a&&h();i&&!n&&a&&h();const m=a&&!n&&!i?qP(a,c):Zi(0),f=o.left+c.scrollLeft-d.x-m.x,g=o.top+c.scrollTop-d.y-m.y;return{x:f,y:g,width:o.width,height:o.height}}function yw(s){return bi(s).position==="static"}function eT(s,t){if(!ao(s)||bi(s).position==="fixed")return null;if(t)return t(s);let r=s.offsetParent;return oo(s)===r&&(r=r.ownerDocument.body),r}function WP(s,t){const r=Na(s);if(ry(s))return r;if(!ao(s)){let a=cc(s);for(;a&&!th(a);){if(yi(a)&&!yw(a))return a;a=cc(a)}return r}let n=eT(s,t);for(;n&&eQ(n)&&yw(n);)n=eT(n,t);return n&&th(n)&&yw(n)&&!d2(n)?r:n||aQ(s)||r}const bQ=async function(s){const t=this.getOffsetParent||WP,r=this.getDimensions,n=await r(s.floating);return{reference:yQ(s.reference,await t(s.floating),s.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function vQ(s){return bi(s).direction==="rtl"}const wQ={convertOffsetParentRelativeRectToViewportRelativeRect:cQ,getDocumentElement:oo,getClippingRect:gQ,getOffsetParent:WP,getElementRects:bQ,getClientRects:dQ,getDimensions:xQ,getScale:Hu,isElement:yi,isRTL:vQ};function YP(s,t){return s.x===t.x&&s.y===t.y&&s.width===t.width&&s.height===t.height}function jQ(s,t){let r=null,n;const a=oo(s);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const h=s.getBoundingClientRect(),{left:m,top:f,width:g,height:b}=h;if(c||t(),!g||!b)return;const v=Ig(f),y=Ig(a.clientWidth-(m+g)),_=Ig(a.clientHeight-(f+b)),j=Ig(m),N={rootMargin:-v+"px "+-y+"px "+-_+"px "+-j+"px",threshold:ba(0,lc(1,d))||1};let k=!0;function C(z){const E=z[0].intersectionRatio;if(E!==d){if(!k)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!YP(h,s.getBoundingClientRect())&&o(),k=!1}try{r=new IntersectionObserver(C,{...N,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,N)}r.observe(s)}return o(!0),i}function _Q(s,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=h2(s),m=a||i?[...h?Nm(h):[],...Nm(t)]:[];m.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const f=h&&c?jQ(h,r):null;let g=-1,b=null;o&&(b=new ResizeObserver(j=>{let[S]=j;S&&S.target===h&&b&&(b.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(t)})),r()}),h&&!d&&b.observe(h),b.observe(t));let v,y=d?Sd(s):null;d&&_();function _(){const j=Sd(s);y&&!YP(y,j)&&r(),y=j,v=requestAnimationFrame(_)}return r(),()=>{var j;m.forEach(S=>{a&&S.removeEventListener("scroll",r),i&&S.removeEventListener("resize",r)}),f?.(),(j=b)==null||j.disconnect(),b=null,d&&cancelAnimationFrame(v)}}const NQ=YZ,kQ=KZ,SQ=qZ,CQ=ZZ,AQ=GZ,tT=HZ,EQ=XZ,TQ=(s,t,r)=>{const n=new Map,a={platform:wQ,...r},i={...a.platform,_c:n};return VZ(s,t,{...a,platform:i})};var RQ=typeof document<"u",DQ=function(){},Mx=RQ?w.useLayoutEffect:DQ;function f0(s,t){if(s===t)return!0;if(typeof s!=typeof t)return!1;if(typeof s=="function"&&s.toString()===t.toString())return!0;let r,n,a;if(s&&t&&typeof s=="object"){if(Array.isArray(s)){if(r=s.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!f0(s[n],t[n]))return!1;return!0}if(a=Object.keys(s),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&s.$$typeof)&&!f0(s[i],t[i]))return!1}return!0}return s!==s&&t!==t}function KP(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function sT(s,t){const r=KP(s);return Math.round(t*r)/r}function bw(s){const t=w.useRef(s);return Mx(()=>{t.current=s}),t}function MQ(s){s===void 0&&(s={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:d,open:h}=s,[m,f]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,b]=w.useState(n);f0(g,n)||b(n);const[v,y]=w.useState(null),[_,j]=w.useState(null),S=w.useCallback(ee=>{ee!==z.current&&(z.current=ee,y(ee))},[]),N=w.useCallback(ee=>{ee!==E.current&&(E.current=ee,j(ee))},[]),k=i||v,C=o||_,z=w.useRef(null),E=w.useRef(null),U=w.useRef(m),T=d!=null,re=bw(d),Y=bw(a),I=bw(h),K=w.useCallback(()=>{if(!z.current||!E.current)return;const ee={placement:t,strategy:r,middleware:g};Y.current&&(ee.platform=Y.current),TQ(z.current,E.current,ee).then(F=>{const de={...F,isPositioned:I.current!==!1};L.current&&!f0(U.current,de)&&(U.current=de,$m.flushSync(()=>{f(de)}))})},[g,t,r,Y,I]);Mx(()=>{h===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,f(ee=>({...ee,isPositioned:!1})))},[h]);const L=w.useRef(!1);Mx(()=>(L.current=!0,()=>{L.current=!1}),[]),Mx(()=>{if(k&&(z.current=k),C&&(E.current=C),k&&C){if(re.current)return re.current(k,C,K);K()}},[k,C,K,re,T]);const J=w.useMemo(()=>({reference:z,floating:E,setReference:S,setFloating:N}),[S,N]),Q=w.useMemo(()=>({reference:k,floating:C}),[k,C]),Z=w.useMemo(()=>{const ee={position:r,left:0,top:0};if(!Q.floating)return ee;const F=sT(Q.floating,m.x),de=sT(Q.floating,m.y);return c?{...ee,transform:"translate("+F+"px, "+de+"px)",...KP(Q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:de}},[r,c,Q.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:K,refs:J,elements:Q,floatingStyles:Z}),[m,K,J,Q,Z])}const PQ=s=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:s,fn(r){const{element:n,padding:a}=typeof s=="function"?s(r):s;return n&&t(n)?n.current!=null?tT({element:n.current,padding:a}).fn(r):{}:n?tT({element:n,padding:a}).fn(r):{}}}},OQ=(s,t)=>({...NQ(s),options:[s,t]}),LQ=(s,t)=>({...kQ(s),options:[s,t]}),FQ=(s,t)=>({...EQ(s),options:[s,t]}),BQ=(s,t)=>({...SQ(s),options:[s,t]}),IQ=(s,t)=>({...CQ(s),options:[s,t]}),zQ=(s,t)=>({...AQ(s),options:[s,t]}),UQ=(s,t)=>({...PQ(s),options:[s,t]});var $Q="Arrow",XP=w.forwardRef((s,t)=>{const{children:r,width:n=10,height:a=5,...i}=s;return e.jsx(qt.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});XP.displayName=$Q;var VQ=XP;function iy(s){const[t,r]=w.useState(void 0);return Nn(()=>{if(s){r({width:s.offsetWidth,height:s.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,c;if("borderBoxSize"in i){const d=i.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,c=h.blockSize}else o=s.offsetWidth,c=s.offsetHeight;r({width:o,height:c})});return n.observe(s,{box:"border-box"}),()=>n.unobserve(s)}else r(void 0)},[s]),t}var f2="Popper",[ZP,_h]=Aa(f2),[HQ,QP]=ZP(f2),JP=s=>{const{__scopePopper:t,children:r}=s,[n,a]=w.useState(null);return e.jsx(HQ,{scope:t,anchor:n,onAnchorChange:a,children:r})};JP.displayName=f2;var eO="PopperAnchor",tO=w.forwardRef((s,t)=>{const{__scopePopper:r,virtualRef:n,...a}=s,i=QP(eO,r),o=w.useRef(null),c=is(t,o),d=w.useRef(null);return w.useEffect(()=>{const h=d.current;d.current=n?.current||o.current,h!==d.current&&i.onAnchorChange(d.current)}),n?null:e.jsx(qt.div,{...a,ref:c})});tO.displayName=eO;var m2="PopperContent",[qQ,GQ]=ZP(m2),sO=w.forwardRef((s,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:b="optimized",onPlaced:v,...y}=s,_=QP(m2,r),[j,S]=w.useState(null),N=is(t,$=>S($)),[k,C]=w.useState(null),z=iy(k),E=z?.width??0,U=z?.height??0,T=n+(i!=="center"?"-"+i:""),re=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Y=Array.isArray(h)?h:[h],I=Y.length>0,K={padding:re,boundary:Y.filter(YQ),altBoundary:I},{refs:L,floatingStyles:J,placement:Q,isPositioned:Z,middlewareData:ee}=MQ({strategy:"fixed",placement:T,whileElementsMounted:(...$)=>_Q(...$,{animationFrame:b==="always"}),elements:{reference:_.anchor},middleware:[OQ({mainAxis:a+U,alignmentAxis:o}),d&&LQ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?FQ():void 0,...K}),d&&BQ({...K}),IQ({...K,apply:({elements:$,rects:V,availableWidth:me,availableHeight:ce})=>{const{width:he,height:O}=V.reference,oe=$.floating.style;oe.setProperty("--radix-popper-available-width",`${me}px`),oe.setProperty("--radix-popper-available-height",`${ce}px`),oe.setProperty("--radix-popper-anchor-width",`${he}px`),oe.setProperty("--radix-popper-anchor-height",`${O}px`)}}),k&&UQ({element:k,padding:c}),KQ({arrowWidth:E,arrowHeight:U}),g&&zQ({strategy:"referenceHidden",...K})]}),[F,de]=aO(Q),q=ro(v);Nn(()=>{Z&&q?.()},[Z,q]);const G=ee.arrow?.x,ie=ee.arrow?.y,le=ee.arrow?.centerOffset!==0,[be,ye]=w.useState();return Nn(()=>{j&&ye(window.getComputedStyle(j).zIndex)},[j]),e.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:Z?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:e.jsx(qQ,{scope:r,placedSide:F,onArrowChange:C,arrowX:G,arrowY:ie,shouldHideArrow:le,children:e.jsx(qt.div,{"data-side":F,"data-align":de,...y,ref:N,style:{...y.style,animation:Z?void 0:"none"}})})})});sO.displayName=m2;var rO="PopperArrow",WQ={top:"bottom",right:"left",bottom:"top",left:"right"},nO=w.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=GQ(rO,n),o=WQ[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(VQ,{...a,ref:r,style:{...a.style,display:"block"}})})});nO.displayName=rO;function YQ(s){return s!==null}var KQ=s=>({name:"transformOrigin",options:s,fn(t){const{placement:r,rects:n,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,c=o?0:s.arrowWidth,d=o?0:s.arrowHeight,[h,m]=aO(r),f={start:"0%",center:"50%",end:"100%"}[m],g=(a.arrow?.x??0)+c/2,b=(a.arrow?.y??0)+d/2;let v="",y="";return h==="bottom"?(v=o?f:`${g}px`,y=`${-d}px`):h==="top"?(v=o?f:`${g}px`,y=`${n.floating.height+d}px`):h==="right"?(v=`${-d}px`,y=o?f:`${b}px`):h==="left"&&(v=`${n.floating.width+d}px`,y=o?f:`${b}px`),{data:{x:v,y}}}});function aO(s){const[t,r="center"]=s.split("-");return[t,r]}var iO=JP,p2=tO,g2=sO,x2=nO,XQ="Portal",ep=w.forwardRef((s,t)=>{const{container:r,...n}=s,[a,i]=w.useState(!1);Nn(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?lM.createPortal(e.jsx(qt.div,{...n,ref:t}),o):null});ep.displayName=XQ;function ZQ(s){const t=QQ(s),r=w.forwardRef((n,a)=>{const{children:i,...o}=n,c=w.Children.toArray(i),d=c.find(eJ);if(d){const h=d.props.children,m=c.map(f=>f===d?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:f);return e.jsx(t,{...o,ref:a,children:w.isValidElement(h)?w.cloneElement(h,void 0,m):null})}return e.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}function QQ(s){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const o=sJ(a),c=tJ(i,a.props);return a.type!==w.Fragment&&(c.ref=n?tl(n,o):o),w.cloneElement(a,c)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var JQ=Symbol("radix.slottable");function eJ(s){return w.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===JQ}function tJ(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function sJ(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}function oy(s){const t=w.useRef({value:s,previous:s});return w.useMemo(()=>(t.current.value!==s&&(t.current.previous=t.current.value,t.current.value=s),t.current.previous),[s])}var oO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rJ="VisuallyHidden",lO=w.forwardRef((s,t)=>e.jsx(qt.span,{...s,ref:t,style:{...oO,...s.style}}));lO.displayName=rJ;var nJ=lO,aJ=function(s){if(typeof document>"u")return null;var t=Array.isArray(s)?s[0]:s;return t.ownerDocument.body},ju=new WeakMap,zg=new WeakMap,Ug={},vw=0,cO=function(s){return s&&(s.host||cO(s.parentNode))},iJ=function(s,t){return t.map(function(r){if(s.contains(r))return r;var n=cO(r);return n&&s.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",s,". Doing nothing"),null)}).filter(function(r){return!!r})},oJ=function(s,t,r,n){var a=iJ(t,Array.isArray(s)?s:[s]);Ug[r]||(Ug[r]=new WeakMap);var i=Ug[r],o=[],c=new Set,d=new Set(a),h=function(f){!f||c.has(f)||(c.add(f),h(f.parentNode))};a.forEach(h);var m=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(g){if(c.has(g))m(g);else try{var b=g.getAttribute(n),v=b!==null&&b!=="false",y=(ju.get(g)||0)+1,_=(i.get(g)||0)+1;ju.set(g,y),i.set(g,_),o.push(g),y===1&&v&&zg.set(g,!0),_===1&&g.setAttribute(r,"true"),v||g.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",g,j)}})};return m(t),c.clear(),vw++,function(){o.forEach(function(f){var g=ju.get(f)-1,b=i.get(f)-1;ju.set(f,g),i.set(f,b),g||(zg.has(f)||f.removeAttribute(n),zg.delete(f)),b||f.removeAttribute(r)}),vw--,vw||(ju=new WeakMap,ju=new WeakMap,zg=new WeakMap,Ug={})}},y2=function(s,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(s)?s:[s]),a=aJ(s);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),oJ(n,a,r,"aria-hidden")):function(){return null}},Vi=function(){return Vi=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Vi.apply(this,arguments)};function dO(s,t){var r={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(r[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(s);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(s,n[a])&&(r[n[a]]=s[n[a]]);return r}function lJ(s,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return s.concat(i||Array.prototype.slice.call(t))}var Px="right-scroll-bar-position",Ox="width-before-scroll-bar",cJ="with-scroll-bars-hidden",dJ="--removed-body-scroll-bar-size";function ww(s,t){return typeof s=="function"?s(t):s&&(s.current=t),s}function uJ(s,t){var r=w.useState(function(){return{value:s,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var hJ=typeof window<"u"?w.useLayoutEffect:w.useEffect,rT=new WeakMap;function fJ(s,t){var r=uJ(null,function(n){return s.forEach(function(a){return ww(a,n)})});return hJ(function(){var n=rT.get(r);if(n){var a=new Set(n),i=new Set(s),o=r.current;a.forEach(function(c){i.has(c)||ww(c,null)}),i.forEach(function(c){a.has(c)||ww(c,o)})}rT.set(r,s)},[s]),r}function mJ(s){return s}function pJ(s,t){t===void 0&&(t=mJ);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:s},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(i),o=r}var d=function(){var m=o;o=[],m.forEach(i)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(m){o.push(m),h()},filter:function(m){return o=o.filter(m),r}}}};return a}function gJ(s){s===void 0&&(s={});var t=pJ(null);return t.options=Vi({async:!0,ssr:!1},s),t}var uO=function(s){var t=s.sideCar,r=dO(s,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,Vi({},r))};uO.isSideCarExport=!0;function xJ(s,t){return s.useMedium(t),uO}var hO=gJ(),jw=function(){},ly=w.forwardRef(function(s,t){var r=w.useRef(null),n=w.useState({onScrollCapture:jw,onWheelCapture:jw,onTouchMoveCapture:jw}),a=n[0],i=n[1],o=s.forwardProps,c=s.children,d=s.className,h=s.removeScrollBar,m=s.enabled,f=s.shards,g=s.sideCar,b=s.noRelative,v=s.noIsolation,y=s.inert,_=s.allowPinchZoom,j=s.as,S=j===void 0?"div":j,N=s.gapMode,k=dO(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=g,z=fJ([r,t]),E=Vi(Vi({},k),a);return w.createElement(w.Fragment,null,m&&w.createElement(C,{sideCar:hO,removeScrollBar:h,shards:f,noRelative:b,noIsolation:v,inert:y,setCallbacks:i,allowPinchZoom:!!_,lockRef:r,gapMode:N}),o?w.cloneElement(w.Children.only(c),Vi(Vi({},E),{ref:z})):w.createElement(S,Vi({},E,{className:d,ref:z}),c))});ly.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ly.classNames={fullWidth:Ox,zeroRight:Px};var yJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bJ(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var t=yJ();return t&&s.setAttribute("nonce",t),s}function vJ(s,t){s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}function wJ(s){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(s)}var jJ=function(){var s=0,t=null;return{add:function(r){s==0&&(t=bJ())&&(vJ(t,r),wJ(t)),s++},remove:function(){s--,!s&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_J=function(){var s=jJ();return function(t,r){w.useEffect(function(){return s.add(t),function(){s.remove()}},[t&&r])}},fO=function(){var s=_J(),t=function(r){var n=r.styles,a=r.dynamic;return s(n,a),null};return t},NJ={left:0,top:0,right:0,gap:0},_w=function(s){return parseInt(s||"",10)||0},kJ=function(s){var t=window.getComputedStyle(document.body),r=t[s==="padding"?"paddingLeft":"marginLeft"],n=t[s==="padding"?"paddingTop":"marginTop"],a=t[s==="padding"?"paddingRight":"marginRight"];return[_w(r),_w(n),_w(a)]},SJ=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return NJ;var t=kJ(s),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},CJ=fO(),qu="data-scroll-locked",AJ=function(s,t,r,n){var a=s.left,i=s.top,o=s.right,c=s.gap;return r===void 0&&(r="margin"),`
  .`.concat(cJ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(qu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Px,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Ox,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Px," .").concat(Px,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ox," .").concat(Ox,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(qu,`] {
    `).concat(dJ,": ").concat(c,`px;
  }
`)},nT=function(){var s=parseInt(document.body.getAttribute(qu)||"0",10);return isFinite(s)?s:0},EJ=function(){w.useEffect(function(){return document.body.setAttribute(qu,(nT()+1).toString()),function(){var s=nT()-1;s<=0?document.body.removeAttribute(qu):document.body.setAttribute(qu,s.toString())}},[])},TJ=function(s){var t=s.noRelative,r=s.noImportant,n=s.gapMode,a=n===void 0?"margin":n;EJ();var i=w.useMemo(function(){return SJ(a)},[a]);return w.createElement(CJ,{styles:AJ(i,!t,a,r?"":"!important")})},L_=!1;if(typeof window<"u")try{var $g=Object.defineProperty({},"passive",{get:function(){return L_=!0,!0}});window.addEventListener("test",$g,$g),window.removeEventListener("test",$g,$g)}catch{L_=!1}var _u=L_?{passive:!1}:!1,RJ=function(s){return s.tagName==="TEXTAREA"},mO=function(s,t){if(!(s instanceof Element))return!1;var r=window.getComputedStyle(s);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!RJ(s)&&r[t]==="visible")},DJ=function(s){return mO(s,"overflowY")},MJ=function(s){return mO(s,"overflowX")},aT=function(s,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=pO(s,n);if(a){var i=gO(s,n),o=i[1],c=i[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},PJ=function(s){var t=s.scrollTop,r=s.scrollHeight,n=s.clientHeight;return[t,r,n]},OJ=function(s){var t=s.scrollLeft,r=s.scrollWidth,n=s.clientWidth;return[t,r,n]},pO=function(s,t){return s==="v"?DJ(t):MJ(t)},gO=function(s,t){return s==="v"?PJ(t):OJ(t)},LJ=function(s,t){return s==="h"&&t==="rtl"?-1:1},FJ=function(s,t,r,n,a){var i=LJ(s,window.getComputedStyle(t).direction),o=i*n,c=r.target,d=t.contains(c),h=!1,m=o>0,f=0,g=0;do{if(!c)break;var b=gO(s,c),v=b[0],y=b[1],_=b[2],j=y-_-i*v;(v||j)&&pO(s,c)&&(f+=j,g+=v);var S=c.parentNode;c=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(m&&Math.abs(f)<1||!m&&Math.abs(g)<1)&&(h=!0),h},Vg=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},iT=function(s){return[s.deltaX,s.deltaY]},oT=function(s){return s&&"current"in s?s.current:s},BJ=function(s,t){return s[0]===t[0]&&s[1]===t[1]},IJ=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},zJ=0,Nu=[];function UJ(s){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),a=w.useState(zJ++)[0],i=w.useState(fO)[0],o=w.useRef(s);w.useEffect(function(){o.current=s},[s]),w.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(a));var y=lJ([s.lockRef.current],(s.shards||[]).map(oT),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(a))})}}},[s.inert,s.lockRef.current,s.shards]);var c=w.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var j=Vg(y),S=r.current,N="deltaX"in y?y.deltaX:S[0]-j[0],k="deltaY"in y?y.deltaY:S[1]-j[1],C,z=y.target,E=Math.abs(N)>Math.abs(k)?"h":"v";if("touches"in y&&E==="h"&&z.type==="range")return!1;var U=window.getSelection(),T=U&&U.anchorNode,re=T?T===z||T.contains(z):!1;if(re)return!1;var Y=aT(E,z);if(!Y)return!0;if(Y?C=E:(C=E==="v"?"h":"v",Y=aT(E,z)),!Y)return!1;if(!n.current&&"changedTouches"in y&&(N||k)&&(n.current=C),!C)return!0;var I=n.current||C;return FJ(I,_,y,I==="h"?N:k)},[]),d=w.useCallback(function(y){var _=y;if(!(!Nu.length||Nu[Nu.length-1]!==i)){var j="deltaY"in _?iT(_):Vg(_),S=t.current.filter(function(C){return C.name===_.type&&(C.target===_.target||_.target===C.shadowParent)&&BJ(C.delta,j)})[0];if(S&&S.should){_.cancelable&&_.preventDefault();return}if(!S){var N=(o.current.shards||[]).map(oT).filter(Boolean).filter(function(C){return C.contains(_.target)}),k=N.length>0?c(_,N[0]):!o.current.noIsolation;k&&_.cancelable&&_.preventDefault()}}},[]),h=w.useCallback(function(y,_,j,S){var N={name:y,delta:_,target:j,should:S,shadowParent:$J(j)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(k){return k!==N})},1)},[]),m=w.useCallback(function(y){r.current=Vg(y),n.current=void 0},[]),f=w.useCallback(function(y){h(y.type,iT(y),y.target,c(y,s.lockRef.current))},[]),g=w.useCallback(function(y){h(y.type,Vg(y),y.target,c(y,s.lockRef.current))},[]);w.useEffect(function(){return Nu.push(i),s.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",d,_u),document.addEventListener("touchmove",d,_u),document.addEventListener("touchstart",m,_u),function(){Nu=Nu.filter(function(y){return y!==i}),document.removeEventListener("wheel",d,_u),document.removeEventListener("touchmove",d,_u),document.removeEventListener("touchstart",m,_u)}},[]);var b=s.removeScrollBar,v=s.inert;return w.createElement(w.Fragment,null,v?w.createElement(i,{styles:IJ(a)}):null,b?w.createElement(TJ,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function $J(s){for(var t=null;s!==null;)s instanceof ShadowRoot&&(t=s.host,s=s.host),s=s.parentNode;return t}const VJ=xJ(hO,UJ);var cy=w.forwardRef(function(s,t){return w.createElement(ly,Vi({},s,{ref:t,sideCar:VJ}))});cy.classNames=ly.classNames;var HJ=[" ","Enter","ArrowUp","ArrowDown"],qJ=[" ","Enter"],Cd="Select",[dy,uy,GJ]=Q0(Cd),[Nh]=Aa(Cd,[GJ,_h]),hy=_h(),[WJ,pc]=Nh(Cd),[YJ,KJ]=Nh(Cd),xO=s=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:f,disabled:g,required:b,form:v}=s,y=hy(t),[_,j]=w.useState(null),[S,N]=w.useState(null),[k,C]=w.useState(!1),z=Xm(h),[E,U]=Yo({prop:n,defaultProp:a??!1,onChange:i,caller:Cd}),[T,re]=Yo({prop:o,defaultProp:c,onChange:d,caller:Cd}),Y=w.useRef(null),I=_?v||!!_.closest("form"):!0,[K,L]=w.useState(new Set),J=Array.from(K).map(Q=>Q.props.value).join(";");return e.jsx(iO,{...y,children:e.jsxs(WJ,{required:b,scope:t,trigger:_,onTriggerChange:j,valueNode:S,onValueNodeChange:N,valueNodeHasChildren:k,onValueNodeHasChildrenChange:C,contentId:Xi(),value:T,onValueChange:re,open:E,onOpenChange:U,dir:z,triggerPointerDownPosRef:Y,disabled:g,children:[e.jsx(dy.Provider,{scope:t,children:e.jsx(YJ,{scope:s.__scopeSelect,onNativeOptionAdd:w.useCallback(Q=>{L(Z=>new Set(Z).add(Q))},[]),onNativeOptionRemove:w.useCallback(Q=>{L(Z=>{const ee=new Set(Z);return ee.delete(Q),ee})},[]),children:r})}),I?e.jsxs(UO,{"aria-hidden":!0,required:b,tabIndex:-1,name:m,autoComplete:f,value:T,onChange:Q=>re(Q.target.value),disabled:g,form:v,children:[T===void 0?e.jsx("option",{value:""}):null,Array.from(K)]},J):null]})})};xO.displayName=Cd;var yO="SelectTrigger",bO=w.forwardRef((s,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=s,i=hy(r),o=pc(yO,r),c=o.disabled||n,d=is(t,o.onTriggerChange),h=uy(r),m=w.useRef("touch"),[f,g,b]=VO(y=>{const _=h().filter(N=>!N.disabled),j=_.find(N=>N.value===o.value),S=HO(_,y,j);S!==void 0&&o.onValueChange(S.value)}),v=y=>{c||(o.onOpenChange(!0),b()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return e.jsx(p2,{asChild:!0,...i,children:e.jsx(qt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":$O(o.value)?"":void 0,...a,ref:d,onClick:bt(a.onClick,y=>{y.currentTarget.focus(),m.current!=="mouse"&&v(y)}),onPointerDown:bt(a.onPointerDown,y=>{m.current=y.pointerType;const _=y.target;_.hasPointerCapture(y.pointerId)&&_.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:bt(a.onKeyDown,y=>{const _=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(_&&y.key===" ")&&HJ.includes(y.key)&&(v(),y.preventDefault())})})})});bO.displayName=yO;var vO="SelectValue",wO=w.forwardRef((s,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...c}=s,d=pc(vO,r),{onValueNodeHasChildrenChange:h}=d,m=i!==void 0,f=is(t,d.onValueNodeChange);return Nn(()=>{h(m)},[h,m]),e.jsx(qt.span,{...c,ref:f,style:{pointerEvents:"none"},children:$O(d.value)?e.jsx(e.Fragment,{children:o}):i})});wO.displayName=vO;var XJ="SelectIcon",jO=w.forwardRef((s,t)=>{const{__scopeSelect:r,children:n,...a}=s;return e.jsx(qt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});jO.displayName=XJ;var ZJ="SelectPortal",_O=s=>e.jsx(ep,{asChild:!0,...s});_O.displayName=ZJ;var Ad="SelectContent",NO=w.forwardRef((s,t)=>{const r=pc(Ad,s.__scopeSelect),[n,a]=w.useState();if(Nn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?$m.createPortal(e.jsx(kO,{scope:s.__scopeSelect,children:e.jsx(dy.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),i):null}return e.jsx(SO,{...s,ref:t})});NO.displayName=Ad;var hi=10,[kO,gc]=Nh(Ad),QJ="SelectContentImpl",JJ=ZQ("SelectContent.RemoveScroll"),SO=w.forwardRef((s,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:b,sticky:v,hideWhenDetached:y,avoidCollisions:_,...j}=s,S=pc(Ad,r),[N,k]=w.useState(null),[C,z]=w.useState(null),E=is(t,$=>k($)),[U,T]=w.useState(null),[re,Y]=w.useState(null),I=uy(r),[K,L]=w.useState(!1),J=w.useRef(!1);w.useEffect(()=>{if(N)return y2(N)},[N]),i2();const Q=w.useCallback($=>{const[V,...me]=I().map(O=>O.ref.current),[ce]=me.slice(-1),he=document.activeElement;for(const O of $)if(O===he||(O?.scrollIntoView({block:"nearest"}),O===V&&C&&(C.scrollTop=0),O===ce&&C&&(C.scrollTop=C.scrollHeight),O?.focus(),document.activeElement!==he))return},[I,C]),Z=w.useCallback(()=>Q([U,N]),[Q,U,N]);w.useEffect(()=>{K&&Z()},[K,Z]);const{onOpenChange:ee,triggerPointerDownPosRef:F}=S;w.useEffect(()=>{if(N){let $={x:0,y:0};const V=ce=>{$={x:Math.abs(Math.round(ce.pageX)-(F.current?.x??0)),y:Math.abs(Math.round(ce.pageY)-(F.current?.y??0))}},me=ce=>{$.x<=10&&$.y<=10?ce.preventDefault():N.contains(ce.target)||ee(!1),document.removeEventListener("pointermove",V),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",me,{capture:!0})}}},[N,ee,F]),w.useEffect(()=>{const $=()=>ee(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[ee]);const[de,q]=VO($=>{const V=I().filter(he=>!he.disabled),me=V.find(he=>he.ref.current===document.activeElement),ce=HO(V,$,me);ce&&setTimeout(()=>ce.ref.current.focus())}),G=w.useCallback(($,V,me)=>{const ce=!J.current&&!me;(S.value!==void 0&&S.value===V||ce)&&(T($),ce&&(J.current=!0))},[S.value]),ie=w.useCallback(()=>N?.focus(),[N]),le=w.useCallback(($,V,me)=>{const ce=!J.current&&!me;(S.value!==void 0&&S.value===V||ce)&&Y($)},[S.value]),be=n==="popper"?F_:CO,ye=be===F_?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:b,sticky:v,hideWhenDetached:y,avoidCollisions:_}:{};return e.jsx(kO,{scope:r,content:N,viewport:C,onViewportChange:z,itemRefCallback:G,selectedItem:U,onItemLeave:ie,itemTextRefCallback:le,focusSelectedItem:Z,selectedItemText:re,position:n,isPositioned:K,searchRef:de,children:e.jsx(cy,{as:JJ,allowPinchZoom:!0,children:e.jsx(ty,{asChild:!0,trapped:S.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:bt(a,$=>{S.trigger?.focus({preventScroll:!0}),$.preventDefault()}),children:e.jsx(Qm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:e.jsx(be,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:$=>$.preventDefault(),...j,...ye,onPlaced:()=>L(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:bt(j.onKeyDown,$=>{const V=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!V&&$.key.length===1&&q($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let ce=I().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes($.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const he=$.target,O=ce.indexOf(he);ce=ce.slice(O+1)}setTimeout(()=>Q(ce)),$.preventDefault()}})})})})})})});SO.displayName=QJ;var eee="SelectItemAlignedPosition",CO=w.forwardRef((s,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=s,i=pc(Ad,r),o=gc(Ad,r),[c,d]=w.useState(null),[h,m]=w.useState(null),f=is(t,E=>m(E)),g=uy(r),b=w.useRef(!1),v=w.useRef(!0),{viewport:y,selectedItem:_,selectedItemText:j,focusSelectedItem:S}=o,N=w.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&h&&y&&_&&j){const E=i.trigger.getBoundingClientRect(),U=h.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),re=j.getBoundingClientRect();if(i.dir!=="rtl"){const he=re.left-U.left,O=T.left-he,oe=E.left-O,D=E.width+oe,Ce=Math.max(D,U.width),H=window.innerWidth-hi,R=c0(O,[hi,Math.max(hi,H-Ce)]);c.style.minWidth=D+"px",c.style.left=R+"px"}else{const he=U.right-re.right,O=window.innerWidth-T.right-he,oe=window.innerWidth-E.right-O,D=E.width+oe,Ce=Math.max(D,U.width),H=window.innerWidth-hi,R=c0(O,[hi,Math.max(hi,H-Ce)]);c.style.minWidth=D+"px",c.style.right=R+"px"}const Y=g(),I=window.innerHeight-hi*2,K=y.scrollHeight,L=window.getComputedStyle(h),J=parseInt(L.borderTopWidth,10),Q=parseInt(L.paddingTop,10),Z=parseInt(L.borderBottomWidth,10),ee=parseInt(L.paddingBottom,10),F=J+Q+K+ee+Z,de=Math.min(_.offsetHeight*5,F),q=window.getComputedStyle(y),G=parseInt(q.paddingTop,10),ie=parseInt(q.paddingBottom,10),le=E.top+E.height/2-hi,be=I-le,ye=_.offsetHeight/2,$=_.offsetTop+ye,V=J+Q+$,me=F-V;if(V<=le){const he=Y.length>0&&_===Y[Y.length-1].ref.current;c.style.bottom="0px";const O=h.clientHeight-y.offsetTop-y.offsetHeight,oe=Math.max(be,ye+(he?ie:0)+O+Z),D=V+oe;c.style.height=D+"px"}else{const he=Y.length>0&&_===Y[0].ref.current;c.style.top="0px";const oe=Math.max(le,J+y.offsetTop+(he?G:0)+ye)+me;c.style.height=oe+"px",y.scrollTop=V-le+y.offsetTop}c.style.margin=`${hi}px 0`,c.style.minHeight=de+"px",c.style.maxHeight=I+"px",n?.(),requestAnimationFrame(()=>b.current=!0)}},[g,i.trigger,i.valueNode,c,h,y,_,j,i.dir,n]);Nn(()=>N(),[N]);const[k,C]=w.useState();Nn(()=>{h&&C(window.getComputedStyle(h).zIndex)},[h]);const z=w.useCallback(E=>{E&&v.current===!0&&(N(),S?.(),v.current=!1)},[N,S]);return e.jsx(see,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:z,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:e.jsx(qt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});CO.displayName=eee;var tee="SelectPopperPosition",F_=w.forwardRef((s,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=hi,...i}=s,o=hy(r);return e.jsx(g2,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});F_.displayName=tee;var[see,b2]=Nh(Ad,{}),B_="SelectViewport",AO=w.forwardRef((s,t)=>{const{__scopeSelect:r,nonce:n,...a}=s,i=gc(B_,r),o=b2(B_,r),c=is(t,i.onViewportChange),d=w.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(dy.Slot,{scope:r,children:e.jsx(qt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:bt(a.onScroll,h=>{const m=h.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g?.current&&f){const b=Math.abs(d.current-m.scrollTop);if(b>0){const v=window.innerHeight-hi*2,y=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),j=Math.max(y,_);if(j<v){const S=j+b,N=Math.min(v,S),k=S-N;f.style.height=N+"px",f.style.bottom==="0px"&&(m.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});AO.displayName=B_;var EO="SelectGroup",[ree,nee]=Nh(EO),aee=w.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s,a=Xi();return e.jsx(ree,{scope:r,id:a,children:e.jsx(qt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});aee.displayName=EO;var TO="SelectLabel",RO=w.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s,a=nee(TO,r);return e.jsx(qt.div,{id:a.id,...n,ref:t})});RO.displayName=TO;var m0="SelectItem",[iee,DO]=Nh(m0),MO=w.forwardRef((s,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=s,c=pc(m0,r),d=gc(m0,r),h=c.value===n,[m,f]=w.useState(i??""),[g,b]=w.useState(!1),v=is(t,S=>d.itemRefCallback?.(S,n,a)),y=Xi(),_=w.useRef("touch"),j=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(iee,{scope:r,value:n,disabled:a,textId:y,isSelected:h,onItemTextChange:w.useCallback(S=>{f(N=>N||(S?.textContent??"").trim())},[]),children:e.jsx(dy.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:e.jsx(qt.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:bt(o.onFocus,()=>b(!0)),onBlur:bt(o.onBlur,()=>b(!1)),onClick:bt(o.onClick,()=>{_.current!=="mouse"&&j()}),onPointerUp:bt(o.onPointerUp,()=>{_.current==="mouse"&&j()}),onPointerDown:bt(o.onPointerDown,S=>{_.current=S.pointerType}),onPointerMove:bt(o.onPointerMove,S=>{_.current=S.pointerType,a?d.onItemLeave?.():_.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:bt(o.onPointerLeave,S=>{S.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:bt(o.onKeyDown,S=>{d.searchRef?.current!==""&&S.key===" "||(qJ.includes(S.key)&&j(),S.key===" "&&S.preventDefault())})})})})});MO.displayName=m0;var Xf="SelectItemText",PO=w.forwardRef((s,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=s,o=pc(Xf,r),c=gc(Xf,r),d=DO(Xf,r),h=KJ(Xf,r),[m,f]=w.useState(null),g=is(t,j=>f(j),d.onItemTextChange,j=>c.itemTextRefCallback?.(j,d.value,d.disabled)),b=m?.textContent,v=w.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:y,onNativeOptionRemove:_}=h;return Nn(()=>(y(v),()=>_(v)),[y,_,v]),e.jsxs(e.Fragment,{children:[e.jsx(qt.span,{id:d.textId,...i,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$m.createPortal(i.children,o.valueNode):null]})});PO.displayName=Xf;var OO="SelectItemIndicator",LO=w.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s;return DO(OO,r).isSelected?e.jsx(qt.span,{"aria-hidden":!0,...n,ref:t}):null});LO.displayName=OO;var I_="SelectScrollUpButton",FO=w.forwardRef((s,t)=>{const r=gc(I_,s.__scopeSelect),n=b2(I_,s.__scopeSelect),[a,i]=w.useState(!1),o=is(t,n.onScrollButtonChange);return Nn(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=d.scrollTop>0;i(h)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?e.jsx(IO,{...s,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});FO.displayName=I_;var z_="SelectScrollDownButton",BO=w.forwardRef((s,t)=>{const r=gc(z_,s.__scopeSelect),n=b2(z_,s.__scopeSelect),[a,i]=w.useState(!1),o=is(t,n.onScrollButtonChange);return Nn(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;i(m)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?e.jsx(IO,{...s,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});BO.displayName=z_;var IO=w.forwardRef((s,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=s,i=gc("SelectScrollButton",r),o=w.useRef(null),c=uy(r),d=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>d(),[d]),Nn(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),e.jsx(qt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:bt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:bt(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:bt(a.onPointerLeave,()=>{d()})})}),oee="SelectSeparator",zO=w.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s;return e.jsx(qt.div,{"aria-hidden":!0,...n,ref:t})});zO.displayName=oee;var U_="SelectArrow",lee=w.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s,a=hy(r),i=pc(U_,r),o=gc(U_,r);return i.open&&o.position==="popper"?e.jsx(x2,{...a,...n,ref:t}):null});lee.displayName=U_;var cee="SelectBubbleInput",UO=w.forwardRef(({__scopeSelect:s,value:t,...r},n)=>{const a=w.useRef(null),i=is(n,a),o=oy(t);return w.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&m){const f=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(f)}},[o,t]),e.jsx(qt.select,{...r,style:{...oO,...r.style},ref:i,defaultValue:t})});UO.displayName=cee;function $O(s){return s===""||s===void 0}function VO(s){const t=ro(s),r=w.useRef(""),n=w.useRef(0),a=w.useCallback(o=>{const c=r.current+o;t(c),(function d(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),i=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function HO(s,t,r){const a=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,i=r?s.indexOf(r):-1;let o=dee(s,Math.max(i,0));a.length===1&&(o=o.filter(h=>h!==r));const d=o.find(h=>h.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function dee(s,t){return s.map((r,n)=>s[(t+n)%s.length])}var uee=xO,qO=bO,hee=wO,fee=jO,mee=_O,GO=NO,pee=AO,WO=RO,YO=MO,gee=PO,xee=LO,KO=FO,XO=BO,ZO=zO;const ot=uee,lt=hee,at=w.forwardRef(({className:s,children:t,...r},n)=>e.jsxs(qO,{ref:n,className:Tt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...r,children:[t,e.jsx(fee,{asChild:!0,children:e.jsx(SM,{className:"h-4 w-4 opacity-50"})})]}));at.displayName=qO.displayName;const QO=w.forwardRef(({className:s,...t},r)=>e.jsx(KO,{ref:r,className:Tt("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx($G,{className:"h-4 w-4"})}));QO.displayName=KO.displayName;const JO=w.forwardRef(({className:s,...t},r)=>e.jsx(XO,{ref:r,className:Tt("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(SM,{className:"h-4 w-4"})}));JO.displayName=XO.displayName;const it=w.forwardRef(({className:s,children:t,position:r="popper",...n},a)=>e.jsx(mee,{children:e.jsxs(GO,{ref:a,className:Tt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...n,children:[e.jsx(QO,{}),e.jsx(pee,{className:Tt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(JO,{})]})}));it.displayName=GO.displayName;const yee=w.forwardRef(({className:s,...t},r)=>e.jsx(WO,{ref:r,className:Tt("px-2 py-1.5 text-sm font-semibold",s),...t}));yee.displayName=WO.displayName;const ke=w.forwardRef(({className:s,children:t,...r},n)=>e.jsxs(YO,{ref:n,className:Tt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(xee,{children:e.jsx(Qn,{className:"h-4 w-4"})})}),e.jsx(gee,{children:t})]}));ke.displayName=YO.displayName;const bee=w.forwardRef(({className:s,...t},r)=>e.jsx(ZO,{ref:r,className:Tt("-mx-1 my-1 h-px bg-muted",s),...t}));bee.displayName=ZO.displayName;const eL=JSON.parse('[{"name":"Afghanistan","iso2":"AF","dialCode":"+93"},{"name":"Albania","iso2":"AL","dialCode":"+355"},{"name":"Algeria","iso2":"DZ","dialCode":"+213"},{"name":"American Samoa","iso2":"AS","dialCode":"+1684"},{"name":"Andorra","iso2":"AD","dialCode":"+376"},{"name":"Angola","iso2":"AO","dialCode":"+244"},{"name":"Anguilla","iso2":"AI","dialCode":"+1264"},{"name":"Antarctica","iso2":"AQ","dialCode":"+672"},{"name":"Antigua and Barbuda","iso2":"AG","dialCode":"+1268"},{"name":"Argentina","iso2":"AR","dialCode":"+54"},{"name":"Armenia","iso2":"AM","dialCode":"+374"},{"name":"Aruba","iso2":"AW","dialCode":"+297"},{"name":"Australia","iso2":"AU","dialCode":"+61"},{"name":"Austria","iso2":"AT","dialCode":"+43"},{"name":"Azerbaijan","iso2":"AZ","dialCode":"+994"},{"name":"Bahamas","iso2":"BS","dialCode":"+1242"},{"name":"Bahrain","iso2":"BH","dialCode":"+973"},{"name":"Bangladesh","iso2":"BD","dialCode":"+880"},{"name":"Barbados","iso2":"BB","dialCode":"+1246"},{"name":"Belarus","iso2":"BY","dialCode":"+375"},{"name":"Belgium","iso2":"BE","dialCode":"+32"},{"name":"Belize","iso2":"BZ","dialCode":"+501"},{"name":"Benin","iso2":"BJ","dialCode":"+229"},{"name":"Bermuda","iso2":"BM","dialCode":"+1441"},{"name":"Bhutan","iso2":"BT","dialCode":"+975"},{"name":"Bolivia","iso2":"BO","dialCode":"+591"},{"name":"Bosnia and Herzegovina","iso2":"BA","dialCode":"+387"},{"name":"Botswana","iso2":"BW","dialCode":"+267"},{"name":"Brazil","iso2":"BR","dialCode":"+55"},{"name":"British Indian Ocean Territory","iso2":"IO","dialCode":"+246"},{"name":"Brunei Darussalam","iso2":"BN","dialCode":"+673"},{"name":"Bulgaria","iso2":"BG","dialCode":"+359"},{"name":"Burkina Faso","iso2":"BF","dialCode":"+226"},{"name":"Burundi","iso2":"BI","dialCode":"+257"},{"name":"Cambodia","iso2":"KH","dialCode":"+855"},{"name":"Cameroon","iso2":"CM","dialCode":"+237"},{"name":"Canada","iso2":"CA","dialCode":"+1"},{"name":"Cape Verde","iso2":"CV","dialCode":"+238"},{"name":"Cayman Islands","iso2":"KY","dialCode":"+1345"},{"name":"Central African Republic","iso2":"CF","dialCode":"+236"},{"name":"Chad","iso2":"TD","dialCode":"+235"},{"name":"Chile","iso2":"CL","dialCode":"+56"},{"name":"China","iso2":"CN","dialCode":"+86"},{"name":"Colombia","iso2":"CO","dialCode":"+57"},{"name":"Comoros","iso2":"KM","dialCode":"+269"},{"name":"Congo","iso2":"CG","dialCode":"+242"},{"name":"Costa Rica","iso2":"CR","dialCode":"+506"},{"name":"Croatia","iso2":"HR","dialCode":"+385"},{"name":"Cuba","iso2":"CU","dialCode":"+53"},{"name":"Cyprus","iso2":"CY","dialCode":"+357"},{"name":"Czech Republic","iso2":"CZ","dialCode":"+420"},{"name":"Denmark","iso2":"DK","dialCode":"+45"},{"name":"Djibouti","iso2":"DJ","dialCode":"+253"},{"name":"Dominica","iso2":"DM","dialCode":"+1767"},{"name":"Dominican Republic","iso2":"DO","dialCode":"+1849"},{"name":"Ecuador","iso2":"EC","dialCode":"+593"},{"name":"Egypt","iso2":"EG","dialCode":"+20"},{"name":"El Salvador","iso2":"SV","dialCode":"+503"},{"name":"Equatorial Guinea","iso2":"GQ","dialCode":"+240"},{"name":"Eritrea","iso2":"ER","dialCode":"+291"},{"name":"Estonia","iso2":"EE","dialCode":"+372"},{"name":"Ethiopia","iso2":"ET","dialCode":"+251"},{"name":"Fiji","iso2":"FJ","dialCode":"+679"},{"name":"Finland","iso2":"FI","dialCode":"+358"},{"name":"France","iso2":"FR","dialCode":"+33"},{"name":"Gabon","iso2":"GA","dialCode":"+241"},{"name":"Gambia","iso2":"GM","dialCode":"+220"},{"name":"Georgia","iso2":"GE","dialCode":"+995"},{"name":"Germany","iso2":"DE","dialCode":"+49"},{"name":"Ghana","iso2":"GH","dialCode":"+233"},{"name":"Greece","iso2":"GR","dialCode":"+30"},{"name":"Greenland","iso2":"GL","dialCode":"+299"},{"name":"Guatemala","iso2":"GT","dialCode":"+502"},{"name":"Guinea","iso2":"GN","dialCode":"+224"},{"name":"GuineaBissau","iso2":"GW","dialCode":"+245"},{"name":"Guyana","iso2":"GY","dialCode":"+592"},{"name":"Haiti","iso2":"HT","dialCode":"+509"},{"name":"Honduras","iso2":"HN","dialCode":"+504"},{"name":"Hungary","iso2":"HU","dialCode":"+36"},{"name":"Iceland","iso2":"IS","dialCode":"+354"},{"name":"India","iso2":"IN","dialCode":"+91"},{"name":"Indonesia","iso2":"ID","dialCode":"+62"},{"name":"Iran","iso2":"IR","dialCode":"+98"},{"name":"Iraq","iso2":"IQ","dialCode":"+964"},{"name":"Ireland","iso2":"IE","dialCode":"+353"},{"name":"Israel","iso2":"IL","dialCode":"+972"},{"name":"Italy","iso2":"IT","dialCode":"+39"},{"name":"Jamaica","iso2":"JM","dialCode":"+1876"},{"name":"Japan","iso2":"JP","dialCode":"+81"},{"name":"Jordan","iso2":"JO","dialCode":"+962"},{"name":"Kazakhstan","iso2":"KZ","dialCode":"+7"},{"name":"Kenya","iso2":"KE","dialCode":"+254"},{"name":"Kiribati","iso2":"KI","dialCode":"+686"},{"name":"Kuwait","iso2":"KW","dialCode":"+965"},{"name":"Kyrgyzstan","iso2":"KG","dialCode":"+996"},{"name":"Laos","iso2":"LA","dialCode":"+856"},{"name":"Latvia","iso2":"LV","dialCode":"+371"},{"name":"Lebanon","iso2":"LB","dialCode":"+961"},{"name":"Lesotho","iso2":"LS","dialCode":"+266"},{"name":"Liberia","iso2":"LR","dialCode":"+231"},{"name":"Libya","iso2":"LY","dialCode":"+218"},{"name":"Liechtenstein","iso2":"LI","dialCode":"+423"},{"name":"Lithuania","iso2":"LT","dialCode":"+370"},{"name":"Luxembourg","iso2":"LU","dialCode":"+352"},{"name":"Madagascar","iso2":"MG","dialCode":"+261"},{"name":"Malawi","iso2":"MW","dialCode":"+265"},{"name":"Malaysia","iso2":"MY","dialCode":"+60"},{"name":"Maldives","iso2":"MV","dialCode":"+960"},{"name":"Mali","iso2":"ML","dialCode":"+223"},{"name":"Malta","iso2":"MT","dialCode":"+356"},{"name":"Marshall Islands","iso2":"MH","dialCode":"+692"},{"name":"Mauritania","iso2":"MR","dialCode":"+222"},{"name":"Mauritius","iso2":"MU","dialCode":"+230"},{"name":"Mexico","iso2":"MX","dialCode":"+52"},{"name":"Micronesia","iso2":"FM","dialCode":"+691"},{"name":"Moldova","iso2":"MD","dialCode":"+373"},{"name":"Monaco","iso2":"MC","dialCode":"+377"},{"name":"Mongolia","iso2":"MN","dialCode":"+976"},{"name":"Montenegro","iso2":"ME","dialCode":"+382"},{"name":"Morocco","iso2":"MA","dialCode":"+212"},{"name":"Mozambique","iso2":"MZ","dialCode":"+258"},{"name":"Myanmar","iso2":"MM","dialCode":"+95"},{"name":"Namibia","iso2":"NA","dialCode":"+264"},{"name":"Nauru","iso2":"NR","dialCode":"+674"},{"name":"Nepal","iso2":"NP","dialCode":"+977"},{"name":"Netherlands","iso2":"NL","dialCode":"+31"},{"name":"New Zealand","iso2":"NZ","dialCode":"+64"},{"name":"Nicaragua","iso2":"NI","dialCode":"+505"},{"name":"Niger","iso2":"NE","dialCode":"+227"},{"name":"Nigeria","iso2":"NG","dialCode":"+234"},{"name":"North Korea","iso2":"KP","dialCode":"+850"},{"name":"North Macedonia","iso2":"MK","dialCode":"+389"},{"name":"Norway","iso2":"NO","dialCode":"+47"},{"name":"Oman","iso2":"OM","dialCode":"+968"},{"name":"Pakistan","iso2":"PK","dialCode":"+92"},{"name":"Palau","iso2":"PW","dialCode":"+680"},{"name":"Palestine","iso2":"PS","dialCode":"+970"},{"name":"Panama","iso2":"PA","dialCode":"+507"},{"name":"Papua New Guinea","iso2":"PG","dialCode":"+675"},{"name":"Paraguay","iso2":"PY","dialCode":"+595"},{"name":"Peru","iso2":"PE","dialCode":"+51"},{"name":"Philippines","iso2":"PH","dialCode":"+63"},{"name":"Poland","iso2":"PL","dialCode":"+48"},{"name":"Portugal","iso2":"PT","dialCode":"+351"},{"name":"Puerto Rico","iso2":"PR","dialCode":"+1"},{"name":"Qatar","iso2":"QA","dialCode":"+974"},{"name":"Romania","iso2":"RO","dialCode":"+40"},{"name":"Russia","iso2":"RU","dialCode":"+7"},{"name":"Rwanda","iso2":"RW","dialCode":"+250"},{"name":"Saint Kitts and Nevis","iso2":"KN","dialCode":"+1869"},{"name":"Saint Lucia","iso2":"LC","dialCode":"+1758"},{"name":"Saint Vincent and the Grenadines","iso2":"VC","dialCode":"+1784"},{"name":"Samoa","iso2":"WS","dialCode":"+685"},{"name":"San Marino","iso2":"SM","dialCode":"+378"},{"name":"Sao Tome and Principe","iso2":"ST","dialCode":"+239"},{"name":"Saudi Arabia","iso2":"SA","dialCode":"+966"},{"name":"Senegal","iso2":"SN","dialCode":"+221"},{"name":"Serbia","iso2":"RS","dialCode":"+381"},{"name":"Seychelles","iso2":"SC","dialCode":"+248"},{"name":"Sierra Leone","iso2":"SL","dialCode":"+232"},{"name":"Singapore","iso2":"SG","dialCode":"+65"},{"name":"Slovakia","iso2":"SK","dialCode":"+421"},{"name":"Slovenia","iso2":"SI","dialCode":"+386"},{"name":"Solomon Islands","iso2":"SB","dialCode":"+677"},{"name":"Somalia","iso2":"SO","dialCode":"+252"},{"name":"South Africa","iso2":"ZA","dialCode":"+27"},{"name":"South Korea","iso2":"KR","dialCode":"+82"},{"name":"South Sudan","iso2":"SS","dialCode":"+211"},{"name":"Spain","iso2":"ES","dialCode":"+34"},{"name":"Sri Lanka","iso2":"LK","dialCode":"+94"},{"name":"Sudan","iso2":"SD","dialCode":"+249"},{"name":"Suriname","iso2":"SR","dialCode":"+597"},{"name":"Sweden","iso2":"SE","dialCode":"+46"},{"name":"Switzerland","iso2":"CH","dialCode":"+41"},{"name":"Syria","iso2":"SY","dialCode":"+963"},{"name":"Taiwan","iso2":"TW","dialCode":"+886"},{"name":"Tajikistan","iso2":"TJ","dialCode":"+992"},{"name":"Tanzania","iso2":"TZ","dialCode":"+255"},{"name":"Thailand","iso2":"TH","dialCode":"+66"},{"name":"Timor-Leste","iso2":"TL","dialCode":"+670"},{"name":"Togo","iso2":"TG","dialCode":"+228"},{"name":"Tonga","iso2":"TO","dialCode":"+676"},{"name":"Trinidad and Tobago","iso2":"TT","dialCode":"+1868"},{"name":"Tunisia","iso2":"TN","dialCode":"+216"},{"name":"Turkey","iso2":"TR","dialCode":"+90"},{"name":"Turkmenistan","iso2":"TM","dialCode":"+993"},{"name":"Tuvalu","iso2":"TV","dialCode":"+688"},{"name":"Uganda","iso2":"UG","dialCode":"+256"},{"name":"Ukraine","iso2":"UA","dialCode":"+380"},{"name":"United Arab Emirates","iso2":"AE","dialCode":"+971"},{"name":"United Kingdom","iso2":"GB","dialCode":"+44"},{"name":"United States","iso2":"US","dialCode":"+1"},{"name":"Uruguay","iso2":"UY","dialCode":"+598"},{"name":"Uzbekistan","iso2":"UZ","dialCode":"+998"},{"name":"Vanuatu","iso2":"VU","dialCode":"+678"},{"name":"Vatican City","iso2":"VA","dialCode":"+379"},{"name":"Venezuela","iso2":"VE","dialCode":"+58"},{"name":"Vietnam","iso2":"VN","dialCode":"+84"},{"name":"Yemen","iso2":"YE","dialCode":"+967"},{"name":"Zambia","iso2":"ZM","dialCode":"+260"},{"name":"Zimbabwe","iso2":"ZW","dialCode":"+263"}]'),vee=s=>s.replace(/\D/g,""),Nw=({countries:s,iso2:t,setIso2:r,phone:n,setPhone:a,disabledPhone:i})=>e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx("select",{value:t,onChange:o=>r(o.target.value),className:"w-[100px] sm:w-[120px] shrink-0 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-[#00A19C] focus:border-transparent transition-all",disabled:i,children:s.map(o=>e.jsxs("option",{value:o.iso2,children:[o.iso2," (",o.dialCode,")"]},o.iso2))}),e.jsx("input",{type:"tel",inputMode:"numeric",value:n,onChange:o=>a(vee(o.target.value)),placeholder:"70123456",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-800 text-sm focus:ring-2 focus:ring-[#00A19C] focus:border-transparent transition-all",disabled:i})]});function wee(){const s=br(),[t,r]=w.useState("login"),[n,a]=w.useState(!1),[i,o]=w.useState(!1),c=w.useMemo(()=>eL.map(Ze=>({name:Ze.name,iso2:Ze.iso2,dialCode:Ze.dialCode.startsWith("+")?Ze.dialCode:`+${Ze.dialCode}`})).sort((Ze,Te)=>Ze.name.localeCompare(Te.name)),[]),d=w.useMemo(()=>{const Ze=new Map;for(const Te of c)Ze.set(Te.iso2,Te.dialCode);return Ze},[c]),h=Ze=>d.get(Ze)||"+961",[m,f]=w.useState(""),[g,b]=w.useState("LB"),[v,y]=w.useState(""),_=async()=>{const Ze=`${h(g)}${m.replace(/^0+/,"")}`;if(!m||!v)return xe.error("Please fill all fields");if(!/^\+\d{8,15}$/.test(Ze))return xe.error("Invalid phone number.");try{a(!0);const Te=await Le.post("/auth/login",{phone_number:Ze,password:v});if(localStorage.setItem("authToken",Te.data.token),localStorage.setItem("token",Te.data.token),localStorage.setItem("user",JSON.stringify(Te.data.user)),xe.success("Login successful!"),!Te.data.user.profile_complete){s("/Complete-Profile");return}Te.data.user.role==="agency"||Te.data.user.role==="agency"?s("/Dashboard"):s("/")}catch(Te){xe.error(Te.response?.data?.message||"Login failed.")}finally{a(!1)}},[j,S]=w.useState(""),[N,k]=w.useState("LB"),[C,z]=w.useState(!1),[E,U]=w.useState(""),[T,re]=w.useState(!1),[Y,I]=w.useState(!1),[K,L]=w.useState(0),[J,Q]=w.useState({username:"",first_name:"",last_name:"",license_number:"",password:"",password_confirmation:"",role:"client",business_type:""}),[Z,ee]=w.useState({username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1}),[F,de]=w.useState(!1),q=w.useRef(null),G=w.useRef(null),ie=w.useRef(null),le=w.useRef(null),be=w.useRef(null),ye=w.useRef(null),$=w.useRef(null);w.useEffect(()=>{let Ze;return K>0&&(Ze=setInterval(()=>{L(Te=>Te<=1?(I(!0),0):Te-1)},1e3)),()=>clearInterval(Ze)},[K]);const V=()=>{S(""),z(!1),U(""),re(!1),I(!1),L(0),de(!1),Q({username:"",first_name:"",last_name:"",license_number:"",password:"",password_confirmation:"",role:"client",business_type:""}),ee({username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1})},me=()=>{z(!1),U(""),re(!1),I(!1),L(0),S("")},ce=async()=>{if(!j)return xe.error("Please enter a phone number.");const Ze=`${h(N)}${j.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test(Ze))return xe.error("Please enter a valid phone number with country code.");try{a(!0);const Te=dP(),Be=await uP(Ze,Te);Be.message&&xe.success(Be.message),Be.warning&&xe.warning(Be.warning),z(!0),I(!1),L(60)}catch(Te){if(Te.response?.status===429){const Be=Te.response?.headers?.["retry-after"],xt=Be?parseInt(Be,10):60;!Number.isNaN(xt)&&xt>0?xe.error(`Too many attempts. Try again in ${xt} second${xt!==1?"s":""}.`):xe.error("Too many attempts. Try again in a minute.")}else if(Te.response?.status===422&&Te.response?.data?.errors){const Be=Te.response.data.errors;Object.keys(Be).forEach(xt=>{(Be[xt]||[]).forEach(jt=>xe.error(jt))})}else Te.response?.data?.error?xe.error(Te.response.data.error):xe.error(Te.response?.data?.message||"Failed to send OTP. Please try again.")}finally{a(!1)}},he=async()=>{Y&&await ce()},O=async()=>{if(!E)return xe.error("Please enter the OTP code.");if(E.length!==6)return xe.error("OTP code must be 6 digits.");const Ze=`${h(N)}${j.replace(/^0+/,"")}`;try{a(!0);const Te=await hP(Ze,E);Te.message?xe.success(Te.message):xe.success("OTP verified! Complete your registration."),re(!0)}catch(Te){Te.response?.data?.error?xe.error(Te.response.data.error):xe.error(Te.response?.data?.message||"Invalid or expired OTP.")}finally{a(!1)}},oe=async()=>{let Ze=!1;const Te={username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1};if(J.username.trim()||(Te.username=!0,Ze=!0),J.first_name.trim()||(Te.first_name=!0,Ze=!0),J.last_name.trim()||(Te.last_name=!0,Ze=!0),J.role==="client"&&!J.license_number.trim()&&(Te.license_number=!0,Ze=!0),J.password||(Te.password=!0,Ze=!0),J.password!==J.password_confirmation&&(Te.password=!0,Te.password_confirmation=!0,Ze=!0),J.password.length<6&&(Te.password=!0,Ze=!0),J.password_confirmation||(Te.password_confirmation=!0,Ze=!0),F||(Te.terms=!0,Ze=!0),Ze){ee(Te);const xt=["username","first_name","last_name","license_number","password","password_confirmation","terms"],jt={username:q,first_name:G,last_name:ie,license_number:le,password:be,password_confirmation:ye,terms:$},Pt=xt.find(Is=>Te[Is]);if(Pt){const cs=jt[Pt]?.current;cs&&(typeof cs.focus=="function"&&cs.focus(),cs.scrollIntoView({behavior:"smooth",block:"center"}))}xe.error("Please fill in the required fields highlighted in red.");return}const Be=`${h(N)}${j.replace(/^0+/,"")}`;try{a(!0);const jt={phone_number:Be.replace(/^\+/,""),otp_code:E,...J,role:"client"},Pt=await Le.post("/auth/register",jt);localStorage.setItem("authToken",Pt.data.token),localStorage.setItem("token",Pt.data.token),localStorage.setItem("user",JSON.stringify(Pt.data.user)),xe.success("Registration successful! Please complete your profile."),s("/Complete-Profile")}catch(xt){xt.response?.data?.errors?Object.keys(xt.response.data.errors).forEach(jt=>{xt.response.data.errors[jt].forEach(Pt=>xe.error(Pt))}):xe.error(xt.response?.data?.message||"Registration failed.")}finally{a(!1)}},[D,Ce]=w.useState(""),[H,R]=w.useState("LB"),[P,W]=w.useState(!1),[Ne,X]=w.useState(""),[pe,ge]=w.useState(""),[Re,De]=w.useState(""),[Se,Ie]=w.useState(!1),[We,wt]=w.useState(0);w.useEffect(()=>{let Ze;return We>0&&(Ze=setInterval(()=>{wt(Te=>Te<=1?(Ie(!0),0):Te-1)},1e3)),()=>clearInterval(Ze)},[We]);const gt=()=>{o(!1),Ce(""),W(!1),X(""),ge(""),De(""),Ie(!1),wt(0)},pt=()=>{Ce(""),W(!1),X(""),ge(""),De(""),Ie(!1),wt(0)},Nt=async()=>{if(!D)return xe.error("Please enter your phone number.");const Ze=`${h(H)}${D.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test(Ze))return xe.error("Please enter a valid phone number with country code.");try{a(!0);const Te=await EX(Ze);Te.message&&xe.success(Te.message),Te.warning&&xe.warning(Te.warning),W(!0),Ie(!1),wt(60)}catch(Te){if(Te.response?.status===429)xe.error("Too many requests. Please try again in a minute.");else if(Te.response?.data?.error)xe.error(Te.response.data.error);else if(Te.response?.data?.errors){const Be=Te.response.data.errors;Object.keys(Be).forEach(xt=>{Be[xt].forEach(jt=>xe.error(jt))})}else xe.error(Te.response?.data?.message||"Failed to send OTP.")}finally{a(!1)}},yt=async()=>{Se&&await Nt()},Ot=async()=>{if(!Ne)return xe.error("Please enter the OTP code.");if(Ne.length!==6)return xe.error("OTP code must be 6 digits.");if(!pe||!Re)return xe.error("Please enter your new password.");if(pe!==Re)return xe.error("Passwords do not match!");if(pe.length<6)return xe.error("Password must be at least 6 characters long.");const Ze=`${h(H)}${D.replace(/^0+/,"")}`,Te=Ze.trim().startsWith("+")?Ze:`+${Ze}`;try{a(!0);const Be=await Le.post("/auth/reset-password",{phone_number:Te,otp_code:Ne,new_password:pe,new_password_confirmation:Re});xe.success(Be.data?.message||"Password reset successfully! You can now login."),gt(),r("login")}catch(Be){if(Be.response?.data?.error)xe.error(Be.response.data.error);else if(Be.response?.data?.errors){const xt=Be.response.data.errors;Object.keys(xt).forEach(jt=>{xt[jt].forEach(Pt=>xe.error(Pt))})}else xe.error(Be.response?.data?.message||"Failed to reset password.")}finally{a(!1)}};return i?e.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"})]}),e.jsxs("div",{className:"w-full max-w-md relative z-10 animate-fade-in-up",children:[e.jsxs(fe,{variant:"ghost",onClick:gt,className:"mb-6 hover:bg-[#00A19C]/10 transition-all hover:scale-105",children:[e.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),e.jsxs("div",{className:"flex flex-col items-center mb-8 animate-fade-in",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] flex items-center justify-center shadow-xl shadow-[#00A19C]/30 mb-4 animate-float",children:e.jsx(Qt,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent",children:"Rento LB"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2 font-medium",children:"Reset Your Password"})]}),e.jsxs(Ue,{className:"border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm",children:[e.jsxs(ts,{children:[e.jsx(ss,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reset Password"}),e.jsx(jm,{children:"Enter your phone number to receive an OTP"})]}),e.jsx(He,{children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Phone Number"}),e.jsx(Nw,{countries:c,iso2:H,setIso2:R,phone:D,setPhone:Ce,disabledPhone:!1}),P&&e.jsx(fe,{type:"button",variant:"link",size:"sm",onClick:pt,className:"px-0 text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:"Change number"})]}),P&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 animate-fade-in-up",children:[e.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"OTP Code"}),e.jsx(Ae,{type:"text",inputMode:"numeric",value:Ne,onChange:Ze=>{const Te=Ze.target.value.replace(/\D/g,"");Te.length<=6&&X(Te)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check your phone"}),We>0?e.jsxs("p",{className:"text-xs text-[#00A19C] font-semibold",children:["Resend in ",We,"s"]}):e.jsxs(fe,{type:"button",variant:"link",size:"sm",onClick:yt,disabled:!Se||n,className:"h-auto p-0 text-xs text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:[e.jsx(Ft,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),e.jsxs("div",{className:"space-y-2 animate-fade-in-up animation-delay-200",children:[e.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Gl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ae,{type:"password",value:pe,onChange:Ze=>ge(Ze.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",minLength:6,placeholder:"At least 6 characters"})]})]}),e.jsxs("div",{className:"space-y-2 animate-fade-in-up animation-delay-300",children:[e.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Gl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ae,{type:"password",value:Re,onChange:Ze=>De(Ze.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",placeholder:"Re-enter password"})]})]})]}),P?e.jsx(fe,{onClick:Ot,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"w-4 h-4 animate-spin"}),"Resetting..."]}):"Reset Password"}):e.jsx(fe,{onClick:Nt,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):"Send OTP"})]})})]})]})]}):e.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"}),e.jsx("div",{className:"absolute top-[10%] left-[15%] w-3 h-3 bg-[#00A19C] rounded-full animate-float animation-delay-500 opacity-20"}),e.jsx("div",{className:"absolute top-[60%] left-[80%] w-4 h-4 bg-[#8EDC81] rounded-full animate-float animation-delay-1000 opacity-20"}),e.jsx("div",{className:"absolute top-[80%] left-[20%] w-2 h-2 bg-[#1e5f7a] rounded-full animate-float animation-delay-1500 opacity-20"}),e.jsx("div",{className:"absolute top-[30%] left-[70%] w-3 h-3 bg-[#00A19C] rounded-full animate-float animation-delay-2000 opacity-20"})]}),e.jsxs("div",{className:"w-full max-w-md relative z-10 animate-fade-in-up",children:[e.jsxs(fe,{variant:"ghost",onClick:()=>s("/"),className:"mb-6 hover:bg-[#00A19C]/10 transition-all hover:scale-105 group",children:[e.jsx(Ki,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Home"]}),e.jsxs("div",{className:"flex flex-col items-center mb-8 animate-fade-in",children:[e.jsx("div",{className:"w-24 h-24 rounded-2xl flex items-center justify-center mb-4 animate-float hover:scale-110 transition-transform duration-300 cursor-pointer shadow-md shadow-gray-400/20",children:e.jsx("img",{src:"/rentologo.png",alt:"Rento LB Logo",className:"w-24 h-24 object-contain"})}),e.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent mb-2",children:"Rento LB"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 font-medium flex items-center gap-2",children:[e.jsx(Yl,{className:"w-4 h-4 text-[#00A19C]"}),"Lebanon's Premier Car Rental",e.jsx(Yl,{className:"w-4 h-4 text-[#8EDC81]"})]})]}),e.jsxs(Ue,{className:"border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm",children:[e.jsxs(ts,{className:"text-center",children:[e.jsx(ss,{className:"text-3xl font-black text-gray-900 dark:text-white",children:"Welcome Back"}),e.jsx(jm,{className:"text-base",children:"Login or register to access your account"})]}),e.jsxs(He,{children:[e.jsxs(Ko,{value:t,onValueChange:Ze=>{r(Ze),Ze==="register"&&V()},className:"w-full",children:[e.jsxs(no,{className:"grid w-full grid-cols-2 mb-6 bg-gray-100 dark:bg-gray-700 p-1 rounded-xl",children:[e.jsx(Yt,{value:"login",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#1e5f7a] data-[state=active]:via-[#00A19C] data-[state=active]:to-[#8EDC81] data-[state=active]:text-white font-semibold transition-all",children:"Login"}),e.jsx(Yt,{value:"register",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#1e5f7a] data-[state=active]:via-[#00A19C] data-[state=active]:to-[#8EDC81] data-[state=active]:text-white font-semibold transition-all",children:"Register"})]}),e.jsx(ns,{value:"login",className:"animate-fade-in",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(Za,{className:"w-4 h-4 text-[#00A19C]"}),"Phone Number"]}),e.jsx(Nw,{countries:c,iso2:g,setIso2:b,phone:m,setPhone:f,disabledPhone:!1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(Gl,{className:"w-4 h-4 text-[#00A19C]"}),"Password"]}),e.jsxs("div",{className:"relative",children:[e.jsx(Gl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ae,{type:"password",value:v,onChange:Ze=>y(Ze.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",placeholder:"Enter your password",onKeyPress:Ze=>Ze.key==="Enter"&&_()})]})]}),e.jsx(fe,{type:"button",variant:"link",className:"w-full text-sm p-0 h-auto text-[#00A19C] hover:text-[#8EDC81] font-semibold transition-colors",onClick:()=>o(!0),children:"Forgot Password?"}),e.jsx(fe,{onClick:_,disabled:n,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105 group",children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"w-5 h-5 animate-spin"}),"Logging in..."]}):e.jsxs("span",{className:"flex items-center gap-2",children:["Login",e.jsx(Ki,{className:"w-5 h-5 rotate-180 group-hover:translate-x-1 transition-transform"})]})})]})}),e.jsx(ns,{value:"register",className:"animate-fade-in",children:T?e.jsxs("div",{className:"space-y-5 animate-fade-in",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(so,{className:"w-4 h-4 text-[#00A19C]"}),"Username"]}),e.jsxs("div",{className:"relative",children:[e.jsx(so,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ae,{type:"text",ref:q,value:J.username,onChange:Ze=>{Q({...J,username:Ze.target.value}),ee(Te=>({...Te,username:!1}))},className:`pl-10 border-2 ${Z.username?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Choose a username"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"First Name"}),e.jsx(Ae,{type:"text",ref:G,value:J.first_name,onChange:Ze=>{Q({...J,first_name:Ze.target.value}),ee(Te=>({...Te,first_name:!1}))},className:`border-2 ${Z.first_name?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"First name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Last Name"}),e.jsx(Ae,{type:"text",ref:ie,value:J.last_name,onChange:Ze=>{Q({...J,last_name:Ze.target.value}),ee(Te=>({...Te,last_name:!1}))},className:`border-2 ${Z.last_name?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Last name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Driver's License Number"}),e.jsx(Ae,{type:"text",ref:le,value:J.license_number,onChange:Ze=>{Q({...J,license_number:Ze.target.value}),ee(Te=>({...Te,license_number:!1}))},className:`border-2 ${Z.license_number?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"License number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(Gl,{className:"w-4 h-4 text-[#00A19C]"}),"Password"]}),e.jsx(Ae,{type:"password",ref:be,value:J.password,onChange:Ze=>{Q({...J,password:Ze.target.value}),ee(Te=>({...Te,password:!1}))},minLength:6,className:`border-2 ${Z.password?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"At least 6 characters"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Minimum 6 characters"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Confirm Password"}),e.jsx(Ae,{type:"password",ref:ye,value:J.password_confirmation,onChange:Ze=>{Q({...J,password_confirmation:Ze.target.value}),ee(Te=>({...Te,password_confirmation:!1}))},className:`border-2 ${Z.password_confirmation?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Re-enter password"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",id:"terms-accept",ref:$,checked:F,onChange:Ze=>{de(Ze.target.checked),ee(Te=>({...Te,terms:!1}))},className:`mt-1 h-4 w-4 rounded ${Z.terms?"border-red-500":"border-gray-300"} text-[#00A19C] focus:ring-[#00A19C]`}),e.jsxs(ue,{htmlFor:"terms-accept",className:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer leading-tight",children:["I accept the"," ",e.jsx("a",{href:"/Terms-and-Conditions",target:"_blank",rel:"noopener noreferrer",className:"text-[#00A19C] hover:underline font-medium",children:"Terms of Use"})," ","and"," ",e.jsx("a",{href:"/Privacy-Policy",target:"_blank",rel:"noopener noreferrer",className:"text-[#00A19C] hover:underline font-medium",children:"Privacy Policy"}),e.jsx("span",{className:"text-red-500",children:" *"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(fe,{variant:"outline",onClick:()=>re(!1),className:"w-1/3 border-2 border-gray-300 hover:border-[#00A19C] hover:bg-[#00A19C]/10 transition-all",disabled:n,children:"Back"}),e.jsx(fe,{onClick:oe,className:"w-2/3 bg-gradient-to-r from-[#00A19C] to-[#8EDC81] hover:from-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"w-5 h-5 animate-spin"}),"Registering..."]}):"Complete Registration"})]})]}):e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(Za,{className:"w-4 h-4 text-[#00A19C]"}),"Phone Number"]}),e.jsx(Nw,{countries:c,iso2:N,setIso2:k,phone:j,setPhone:S,disabledPhone:C})]}),C&&e.jsxs("div",{className:"space-y-2 animate-fade-in-up",children:[e.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"OTP Code"}),e.jsx(Ae,{type:"text",inputMode:"numeric",value:E,onChange:Ze=>{const Te=Ze.target.value.replace(/\D/g,"");Te.length<=6&&U(Te)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all text-center text-2xl font-bold tracking-widest"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check your phone"}),K>0?e.jsxs("p",{className:"text-xs text-[#00A19C] font-semibold",children:["Resend in ",K,"s"]}):e.jsxs(fe,{type:"button",variant:"link",size:"sm",onClick:he,disabled:!Y||n,className:"h-auto p-0 text-xs text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:[e.jsx(Ft,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),e.jsx("div",{className:"flex gap-2",children:C?e.jsxs(e.Fragment,{children:[e.jsx(fe,{variant:"outline",onClick:me,className:"w-1/3 border-2 border-gray-300 hover:border-[#00A19C] hover:bg-[#00A19C]/10 transition-all",disabled:n,children:"Change"}),e.jsx(fe,{onClick:O,className:"w-2/3 bg-gradient-to-r from-[#00A19C] to-[#8EDC81] hover:from-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):"Verify OTP"})]}):e.jsx(fe,{onClick:ce,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"w-5 h-5 animate-spin"}),"Sending..."]}):"Send OTP"})})]})})]}),e.jsx("div",{className:"mt-6 text-center border-t border-gray-200 dark:border-gray-700 pt-6",children:e.jsxs("button",{onClick:()=>s("/"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-[#00A19C] dark:hover:text-[#8EDC81] transition-colors font-medium flex items-center gap-2 mx-auto group",children:[e.jsx(Yl,{className:"w-4 h-4 group-hover:animate-pulse"}),"Continue as Guest",e.jsx(Yl,{className:"w-4 h-4 group-hover:animate-pulse"})]})})]})]}),e.jsx("div",{className:"mt-6 text-center text-xs text-gray-500 dark:text-gray-400",children:e.jsx("p",{children:" 2024 Rento LB. All rights reserved."})})]})]})}const jee=YN("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ge({className:s,variant:t,...r}){return e.jsx("div",{className:Tt(jee({variant:t}),s),...r})}const _ee=({feedbacks:s,onClose:t})=>e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",onClick:t,children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-gray-700 animate-scale-in",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(H0,{className:"w-5 h-5 text-[#00A19C]"}),"Customer Feedback"]}),e.jsx("button",{onClick:t,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors hover:scale-110 w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 flex items-center justify-center","aria-label":"Close feedbacks",children:""})]}),s&&s.length>0?e.jsx("ul",{className:"space-y-4",children:s.map((r,n)=>e.jsxs("li",{className:"border-b border-gray-200 dark:border-gray-700 pb-4 last:border-0 animate-fade-in-up",style:{animationDelay:`${n*.1}s`},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ir,{className:"w-4 h-4 text-[#8EDC81] fill-[#8EDC81]"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:r.rating?`${r.rating}/5`:"N/A"})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.comments||"No comment provided."})]},n))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic text-center py-8",children:"No feedback yet. Be the first to review!"})]})}),Nee=({car:s,forceFavorite:t=!1,onToggleFavoriteApi:r})=>{const[n,a]=w.useState(!1),[i,o]=w.useState(!1),[c,d]=w.useState(!1),[h,m]=w.useState(!1),{isAuthenticated:f}=Md();w.useEffect(()=>{if(t){a(!0);return}a(!1)},[s?.id,t]);const g=async v=>{if(v.preventDefault(),v.stopPropagation(),!s?.id||i)return;if(!f){xe.error("Please log in to save favorites.");return}if(r)return r();const y=!n;a(y),o(!0);try{await Le.post(`/cars/${s.id}/favorite`),window.dispatchEvent(new Event("favoritesUpdated"))}catch(_){console.error("Favorite toggle error:",_),a(!y)}finally{o(!1)}},b={id:s.id,image:s.main_image_url||s.image||"/placeholder.png",brand:s.make||s.brand||"Car",model:s.model||"Model",year:s.year||"N/A",category:s.car_category||s.type||s.category||"Standard",seats:s.seats||4,transmission:s.transmission||"Auto",fuelType:s.fuel_type||s.fuelType||"Petrol",price:s.daily_rate||s.price||0,holidayRate:s.holiday_rate||null,deposit:s.deposit||null,isDeposit:s.is_deposit||!1,feedbacks:s.feedbacks||[],popular:s.popular||!1,location:s.live_location?.address||s.location||null};return e.jsxs(e.Fragment,{children:[e.jsx(Fs,{to:`/cars/${b.id}`,className:"block group",children:e.jsxs(Ue,{className:"relative overflow-hidden h-full flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-300 hover:shadow-lg hover:shadow-[#00A19C]/20 hover:-translate-y-1",children:[e.jsxs("div",{className:"relative overflow-hidden aspect-square bg-gray-100 dark:bg-gray-700",children:[!c&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 animate-pulse"}),e.jsx("img",{src:`/api/storage/${b.image}`,alt:`${b.brand} ${b.model}`,onLoad:()=>d(!0),className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 ${c?"opacity-100":"opacity-0"}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),e.jsx("button",{onClick:g,disabled:i,"aria-label":n?"Remove from favorites":"Add to favorites",className:`absolute top-2 right-2 w-8 h-8 rounded-full backdrop-blur-sm flex items-center justify-center transition-all duration-300 z-20 ${n?"bg-red-500 shadow-md":"bg-white/90 dark:bg-gray-800/90 hover:scale-110"} ${i?"opacity-70 cursor-not-allowed":""}`,children:e.jsx(nc,{className:`w-4 h-4 transition-all ${n?"fill-white text-white":"text-gray-700 dark:text-gray-300"}`})}),e.jsx("div",{className:"absolute top-2 left-2 z-10",children:e.jsx(Ge,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm text-[#00A19C] dark:text-[#8EDC81] border border-[#00A19C]/30 dark:border-[#8EDC81]/30 text-xs font-semibold px-2 py-0.5",children:b.category})}),b.popular&&e.jsx("div",{className:"absolute bottom-2 left-2 z-10",children:e.jsxs(Ge,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-xs font-bold border-0 px-2 py-0.5 flex items-center gap-1",children:[e.jsx(ir,{className:"w-3 h-3 fill-white"}),"Popular"]})}),e.jsx("div",{className:"absolute bottom-2 right-2 z-10",children:e.jsxs(Ge,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-xs font-bold px-2 py-1",children:["$",b.price,"/day"]})})]}),e.jsxs(He,{className:"p-2.5 flex-grow",children:[e.jsxs("div",{className:"mb-1.5",children:[e.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[e.jsx("p",{className:"text-xs font-semibold text-[#00A19C] dark:text-[#8EDC81] uppercase tracking-wide",children:b.brand}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:b.year}),b.location&&e.jsxs("div",{className:"flex items-center gap-0.5 mt-0.5",children:[e.jsx(js,{className:"w-2.5 h-2.5 text-gray-400 dark:text-gray-500"}),e.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 line-clamp-1",children:b.location})]})]})]}),e.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white line-clamp-1 group-hover:text-[#00A19C] dark:group-hover:text-[#8EDC81] transition-colors",children:b.model})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-1 mb-1.5",children:[e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(_s,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300",children:b.seats})]}),e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(Vm,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:b.transmission.slice(0,4)})]}),e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(V0,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:b.fuelType.slice(0,4)})]})]}),(b.holidayRate||b.isDeposit)&&e.jsxs("div",{className:"flex items-center gap-1 mb-1.5 text-[10px]",children:[b.holidayRate&&e.jsxs("div",{className:"flex-1 text-center p-1 bg-gradient-to-br from-[#00A19C]/10 to-[#8EDC81]/10 dark:from-[#1e5f7a]/20 dark:to-[#00A19C]/20 rounded border border-[#00A19C]/20",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[9px] leading-tight",children:"Holiday"}),e.jsxs("p",{className:"font-bold text-[#1e5f7a] dark:text-[#8EDC81] text-xs leading-tight",children:["$",b.holidayRate]})]}),b.isDeposit&&e.jsxs("div",{className:"flex-1 text-center p-1 bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[9px] leading-tight",children:"Deposit"}),e.jsxs("p",{className:"font-bold text-amber-600 dark:text-amber-400 text-xs leading-tight",children:["$",b.deposit]})]})]}),e.jsxs("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),m(!0)},className:"w-full flex items-center justify-between p-1 rounded bg-gray-50 dark:bg-gray-700/50 hover:bg-[#00A19C]/10 dark:hover:bg-[#00A19C]/20 transition-all border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] group/feedback mb-1.5","aria-label":"Open customer feedback",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(H0,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81]"}),e.jsx("span",{className:"text-[10px] font-semibold text-gray-900 dark:text-white",children:"Reviews"})]}),e.jsx(Ge,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[10px] font-bold px-1.5 py-0",children:b.feedbacks.length})]}),e.jsx(fe,{className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-2 text-xs rounded-lg shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02] group/btn",children:e.jsxs("span",{className:"flex items-center justify-center gap-1",children:[e.jsx(er,{className:"w-3 h-3"}),"View Details",e.jsx(Nd,{className:"w-3 h-3 group-hover/btn:translate-x-0.5 transition-transform"})]})})]})]})}),h&&e.jsx(_ee,{feedbacks:b.feedbacks,onClose:()=>m(!1)})]})},kee=()=>{const[s,t]=w.useState({location:"",pickupDate:"",returnDate:""}),[r,n]=w.useState([]),[a,i]=w.useState(!0),[o,c]=w.useState("");w.useEffect(()=>{(async()=>{try{const g=await Le.get("/guest-cars");if(!g.data||!g.data.cars)throw new Error("Invalid response from server");n(g.data.cars)}catch(g){console.error("Error fetching cars:",g.response?.data||g.message),c("Failed to load cars. Please try again later.")}finally{i(!1)}})()},[]);const d=f=>{f.preventDefault(),window.location.href="/luxury-car-rental-lebanon"},h=[{icon:Dn,title:"Premium Insurance",description:"Comprehensive coverage with every rental",gradient:"from-[#1e5f7a] to-[#00A19C]"},{icon:mc,title:"24/7 Support",description:"Round-the-clock customer service",gradient:"from-[#00A19C] to-[#8EDC81]"},{icon:dr,title:"Best Price Guarantee",description:"Competitive rates, no hidden fees",gradient:"from-[#1e5f7a] to-[#8EDC81]"},{icon:w_,title:"Premium Fleet",description:"Luxury and high-performance vehicles",gradient:"from-[#8EDC81] to-[#00A19C]"}],m=[{value:"10K+",label:"Happy Customers",icon:_s,color:"from-[#1e5f7a] to-[#00A19C]"},{value:"50+",label:"Luxury Vehicles",icon:Qt,color:"from-[#00A19C] to-[#8EDC81]"},{value:"15",label:"Years Experience",icon:oc,color:"from-[#1e5f7a] to-[#8EDC81]"},{value:"99%",label:"Satisfaction Rate",icon:ir,color:"from-[#8EDC81] to-[#00A19C]"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800",children:[e.jsxs("section",{className:"relative min-h-[85vh] sm:min-h-[80vh] flex items-center justify-center overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 md:w-96 md:h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-72 h-72 md:w-96 md:h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-72 h-72 md:w-96 md:h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"})]}),e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover opacity-90",poster:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=1920&q=80",children:e.jsx("source",{src:"/hero.mp4",type:"video/mp4"})}),e.jsx("div",{className:"absolute inset-0 bg-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/10 via-transparent to-transparent"})]}),e.jsx("div",{className:"container mx-auto px-4 relative z-10 pt-24 pb-16 sm:pt-32 sm:pb-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-8 sm:mb-12 animate-fade-in-up",children:[e.jsxs(Ge,{className:"mb-4 sm:mb-6 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8fdc81bf] text-white border-0 px-4 sm:px-6 py-2 sm:py-2.5 text-xs sm:text-sm font-bold shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:scale-105 transition-all animate-pulse-glow",children:[e.jsx(Yl,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2 inline"}),"Premium Car Rental Service"]}),e.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl lg:text-7xl font-black text-white mb-4 sm:mb-6 leading-tight drop-shadow-2xl",children:["Rent a Car in Lebanon",e.jsx("span",{className:"block mt-2 bg-gradient-to-r from-[#8EDC81] via-[#00A19C] to-[#1e5f7a] bg-clip-text text-transparent",children:"10,000+ Luxury & Premium Vehicles"})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 mb-6 sm:mb-12",children:[e.jsx("a",{href:"#",onClick:f=>eh(f,"playstore"),className:"inline-flex transition-all hover:scale-105 hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-white/50 rounded-lg overflow-hidden","aria-label":"Get it on Google Play",children:e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg",alt:"Get it on Google Play",className:"h-10 sm:h-12 w-auto"})}),e.jsx("a",{href:"#",onClick:f=>eh(f,"appstore"),className:"inline-flex transition-all hover:scale-105 hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-white/50 rounded-lg overflow-hidden","aria-label":"Download on the App Store",children:e.jsx("img",{src:"https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg",alt:"Download on the App Store",className:"h-10 sm:h-12 w-auto"})})]}),e.jsx("p",{className:"text-base sm:text-xl md:text-2xl text-gray-100 mb-6 sm:mb-12 max-w-2xl mx-auto font-medium drop-shadow-lg px-4",children:"All you need in one place  the only platform with full search and filters"}),e.jsx(Ue,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl border-0 shadow-2xl shadow-black/20 p-4 sm:p-6 md:p-8 rounded-2xl animate-scale-in",children:e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-3 sm:mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),e.jsx(Ae,{type:"text",placeholder:"Location",value:s.location,onChange:f=>t({...s,location:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),e.jsx(Ae,{type:"date",value:s.pickupDate,onChange:f=>t({...s,pickupDate:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),e.jsx(Ae,{type:"date",value:s.returnDate,onChange:f=>t({...s,returnDate:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]})]}),e.jsxs(fe,{type:"submit",size:"lg",className:"w-full h-14 sm:h-16 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold text-base sm:text-lg rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-[1.02] group",children:[e.jsx(Mr,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2 sm:mr-3 group-hover:rotate-90 transition-transform duration-300"}),"Search Available Cars",e.jsx(Nd,{className:"w-5 h-5 sm:w-6 sm:h-6 ml-2 sm:ml-3 group-hover:translate-x-1 transition-transform"})]})]})})]})})]}),e.jsx("section",{className:"py-16 sm:py-24 bg-gradient-to-br from-gray-50 to-[#8EDC81]/10 dark:from-gray-950 dark:to-gray-900",children:e.jsx("div",{className:"container mx-auto px-4",children:a?e.jsxs("div",{className:"flex flex-col justify-center items-center py-16 sm:py-20",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 border-4 border-[#00A19C] border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm sm:text-base",children:"Loading premium vehicles..."})]}):o?e.jsxs("div",{className:"text-center py-16 sm:py-20 px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Qt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-500"})}),e.jsx("p",{className:"text-lg sm:text-xl text-red-500 font-semibold mb-2",children:o}),e.jsx(fe,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4 border-red-300 text-red-600 hover:bg-red-50",children:"Try Again"})]}):r.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-10 sm:mb-12",children:r.slice(0,4).map((f,g)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${g*.1}s`},children:e.jsx(Nee,{car:f})},f.id))}),e.jsx("div",{className:"text-center",children:e.jsx(Fs,{to:"/luxury-car-rental-lebanon",children:e.jsxs(fe,{size:"lg",className:"bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold px-8 sm:px-10 py-6 sm:py-7 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105 text-base sm:text-lg group",children:["View All Vehicles",e.jsx(Nd,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})})})]}):e.jsxs("div",{className:"text-center py-16 sm:py-20 px-4",children:[e.jsx(Qt,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-500 dark:text-gray-400",children:"No cars available at the moment."})]})})}),e.jsxs("section",{className:"py-12 sm:py-20 bg-white dark:bg-gray-900 relative overflow-hidden border-y border-gray-200 dark:border-gray-800",children:[e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81]"})}),e.jsx("div",{className:"container mx-auto px-4 relative z-10",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-8",children:m.map((f,g)=>e.jsxs("div",{className:"text-center group cursor-default animate-fade-in-up",style:{animationDelay:`${g*.1}s`},children:[e.jsx("div",{className:`w-14 h-14 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br ${f.color} flex items-center justify-center mx-auto mb-3 sm:mb-4 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-lg shadow-[#00A19C]/20`,children:e.jsx(f.icon,{className:"w-7 h-7 sm:w-10 sm:h-10 text-white"})}),e.jsx("p",{className:"text-3xl sm:text-4xl md:text-5xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent mb-1 sm:mb-2 group-hover:scale-105 transition-transform",children:f.value}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-600 dark:text-gray-400 font-semibold",children:f.label})]},g))})})]}),e.jsx("section",{className:"py-16 sm:py-24 bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12 sm:mb-16 animate-fade-in",children:[e.jsxs(Ge,{className:"mb-3 sm:mb-4 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] text-white border-0 px-4 sm:px-5 py-1.5 sm:py-2 font-bold shadow-lg shadow-[#00A19C]/20 text-xs sm:text-sm",children:[e.jsx(w_,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 inline mr-1.5 sm:mr-2"}),"Why Choose Us"]}),e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-gray-900 dark:text-white mb-3 sm:mb-4 px-4",children:"All Cars, All Options"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto px-4",children:"Connecting you with the perfect car for every journey"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:h.map((f,g)=>e.jsx(Ue,{className:"text-center border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] dark:hover:border-[#8EDC81] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 hover:-translate-y-2 bg-white dark:bg-gray-800 group/card animate-fade-in-up",style:{animationDelay:`${g*.1}s`},children:e.jsxs(He,{className:"pt-8 sm:pt-10 pb-8 sm:pb-10 px-4",children:[e.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br ${f.gradient} flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg shadow-[#00A19C]/20 group-hover/card:scale-110 group-hover/card:rotate-3 transition-all duration-300`,children:e.jsx(f.icon,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-3 sm:mb-4 text-gray-900 dark:text-white group-hover/card:text-[#00A19C] dark:group-hover/card:text-[#8EDC81] transition-colors",children:f.title}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 leading-relaxed",children:f.description})]})},g))})]})})]})};var fy="Checkbox",[See]=Aa(fy),[Cee,v2]=See(fy);function Aee(s){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:c,onCheckedChange:d,required:h,value:m="on",internal_do_not_use_render:f}=s,[g,b]=Yo({prop:r,defaultProp:a??!1,onChange:d,caller:fy}),[v,y]=w.useState(null),[_,j]=w.useState(null),S=w.useRef(!1),N=v?!!o||!!v.closest("form"):!0,k={checked:g,disabled:i,setChecked:b,control:v,setControl:y,name:c,form:o,value:m,hasConsumerStoppedPropagationRef:S,required:h,defaultChecked:ec(a)?!1:a,isFormControl:N,bubbleInput:_,setBubbleInput:j};return e.jsx(Cee,{scope:t,...k,children:Eee(f)?f(k):n})}var tL="CheckboxTrigger",sL=w.forwardRef(({__scopeCheckbox:s,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:c,checked:d,required:h,setControl:m,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:b,bubbleInput:v}=v2(tL,s),y=is(a,m),_=w.useRef(d);return w.useEffect(()=>{const j=i?.form;if(j){const S=()=>f(_.current);return j.addEventListener("reset",S),()=>j.removeEventListener("reset",S)}},[i,f]),e.jsx(qt.button,{type:"button",role:"checkbox","aria-checked":ec(d)?"mixed":d,"aria-required":h,"data-state":oL(d),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:y,onKeyDown:bt(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:bt(r,j=>{f(S=>ec(S)?!0:!S),v&&b&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})})});sL.displayName=tL;var w2=w.forwardRef((s,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:c,value:d,onCheckedChange:h,form:m,...f}=s;return e.jsx(Aee,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:c,required:o,onCheckedChange:h,name:n,form:m,value:d,internal_do_not_use_render:({isFormControl:g})=>e.jsxs(e.Fragment,{children:[e.jsx(sL,{...f,ref:t,__scopeCheckbox:r}),g&&e.jsx(iL,{__scopeCheckbox:r})]})})});w2.displayName=fy;var rL="CheckboxIndicator",nL=w.forwardRef((s,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=s,i=v2(rL,r);return e.jsx(ei,{present:n||ec(i.checked)||i.checked===!0,children:e.jsx(qt.span,{"data-state":oL(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...s.style}})})});nL.displayName=rL;var aL="CheckboxBubbleInput",iL=w.forwardRef(({__scopeCheckbox:s,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:c,disabled:d,name:h,value:m,form:f,bubbleInput:g,setBubbleInput:b}=v2(aL,s),v=is(r,b),y=oy(i),_=iy(n);w.useEffect(()=>{const S=g;if(!S)return;const N=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(N,"checked").set,z=!a.current;if(y!==i&&C){const E=new Event("click",{bubbles:z});S.indeterminate=ec(i),C.call(S,ec(i)?!1:i),S.dispatchEvent(E)}},[g,y,i,a]);const j=w.useRef(ec(i)?!1:i);return e.jsx(qt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:c,disabled:d,name:h,value:m,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});iL.displayName=aL;function Eee(s){return typeof s=="function"}function ec(s){return s==="indeterminate"}function oL(s){return ec(s)?"indeterminate":s?"checked":"unchecked"}const Zf=w.forwardRef(({className:s,...t},r)=>e.jsx(w2,{ref:r,className:Tt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:e.jsx(nL,{className:Tt("flex items-center justify-center text-current"),children:e.jsx(Qn,{className:"h-4 w-4"})})}));Zf.displayName=w2.displayName;function Tee(s){const t=Ree(s),r=w.forwardRef((n,a)=>{const{children:i,...o}=n,c=w.Children.toArray(i),d=c.find(Mee);if(d){const h=d.props.children,m=c.map(f=>f===d?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:f);return e.jsx(t,{...o,ref:a,children:w.isValidElement(h)?w.cloneElement(h,void 0,m):null})}return e.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}function Ree(s){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const o=Oee(a),c=Pee(i,a.props);return a.type!==w.Fragment&&(c.ref=n?tl(n,o):o),w.cloneElement(a,c)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var Dee=Symbol("radix.slottable");function Mee(s){return w.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Dee}function Pee(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function Oee(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}var my="Dialog",[lL,cL]=Aa(my),[Lee,ji]=lL(my),dL=s=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=s,c=w.useRef(null),d=w.useRef(null),[h,m]=Yo({prop:n,defaultProp:a??!1,onChange:i,caller:my});return e.jsx(Lee,{scope:t,triggerRef:c,contentRef:d,contentId:Xi(),titleId:Xi(),descriptionId:Xi(),open:h,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(f=>!f),[m]),modal:o,children:r})};dL.displayName=my;var uL="DialogTrigger",hL=w.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=ji(uL,r),i=is(t,a.triggerRef);return e.jsx(qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":N2(a.open),...n,ref:i,onClick:bt(s.onClick,a.onOpenToggle)})});hL.displayName=uL;var j2="DialogPortal",[Fee,fL]=lL(j2,{forceMount:void 0}),mL=s=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=s,i=ji(j2,t);return e.jsx(Fee,{scope:t,forceMount:r,children:w.Children.map(n,o=>e.jsx(ei,{present:r||i.open,children:e.jsx(ep,{asChild:!0,container:a,children:o})}))})};mL.displayName=j2;var p0="DialogOverlay",pL=w.forwardRef((s,t)=>{const r=fL(p0,s.__scopeDialog),{forceMount:n=r.forceMount,...a}=s,i=ji(p0,s.__scopeDialog);return i.modal?e.jsx(ei,{present:n||i.open,children:e.jsx(Iee,{...a,ref:t})}):null});pL.displayName=p0;var Bee=Tee("DialogOverlay.RemoveScroll"),Iee=w.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=ji(p0,r);return e.jsx(cy,{as:Bee,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(qt.div,{"data-state":N2(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ed="DialogContent",gL=w.forwardRef((s,t)=>{const r=fL(Ed,s.__scopeDialog),{forceMount:n=r.forceMount,...a}=s,i=ji(Ed,s.__scopeDialog);return e.jsx(ei,{present:n||i.open,children:i.modal?e.jsx(zee,{...a,ref:t}):e.jsx(Uee,{...a,ref:t})})});gL.displayName=Ed;var zee=w.forwardRef((s,t)=>{const r=ji(Ed,s.__scopeDialog),n=w.useRef(null),a=is(t,r.contentRef,n);return w.useEffect(()=>{const i=n.current;if(i)return y2(i)},[]),e.jsx(xL,{...s,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bt(s.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:bt(s.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:bt(s.onFocusOutside,i=>i.preventDefault())})}),Uee=w.forwardRef((s,t)=>{const r=ji(Ed,s.__scopeDialog),n=w.useRef(!1),a=w.useRef(!1);return e.jsx(xL,{...s,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{s.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{s.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),xL=w.forwardRef((s,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=s,c=ji(Ed,r),d=w.useRef(null),h=is(t,d);return i2(),e.jsxs(e.Fragment,{children:[e.jsx(ty,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(Qm,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":N2(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Vee,{titleId:c.titleId}),e.jsx(qee,{contentRef:d,descriptionId:c.descriptionId})]})]})}),_2="DialogTitle",yL=w.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=ji(_2,r);return e.jsx(qt.h2,{id:a.titleId,...n,ref:t})});yL.displayName=_2;var bL="DialogDescription",vL=w.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=ji(bL,r);return e.jsx(qt.p,{id:a.descriptionId,...n,ref:t})});vL.displayName=bL;var wL="DialogClose",jL=w.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=ji(wL,r);return e.jsx(qt.button,{type:"button",...n,ref:t,onClick:bt(s.onClick,()=>a.onOpenChange(!1))})});jL.displayName=wL;function N2(s){return s?"open":"closed"}var _L="DialogTitleWarning",[$ee,NL]=OX(_L,{contentName:Ed,titleName:_2,docsSlug:"dialog"}),Vee=({titleId:s})=>{const t=NL(_L),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{s&&(document.getElementById(s)||console.error(r))},[r,s]),null},Hee="DialogDescriptionWarning",qee=({contentRef:s,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NL(Hee).contentName}}.`;return w.useEffect(()=>{const a=s.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,s,t]),null},kL=dL,SL=hL,CL=mL,k2=pL,S2=gL,C2=yL,A2=vL,E2=jL;const yr=kL,Gee=SL,Wee=CL,AL=w.forwardRef(({className:s,...t},r)=>e.jsx(k2,{ref:r,className:Tt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));AL.displayName=k2.displayName;const ur=w.forwardRef(({className:s,children:t,...r},n)=>e.jsxs(Wee,{children:[e.jsx(AL,{}),e.jsxs(S2,{ref:n,className:Tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r,children:[t,e.jsxs(E2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Sr,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ur.displayName=S2.displayName;const hr=({className:s,...t})=>e.jsx("div",{className:Tt("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});hr.displayName="DialogHeader";const $_=({className:s,...t})=>e.jsx("div",{className:Tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});$_.displayName="DialogFooter";const fr=w.forwardRef(({className:s,...t},r)=>e.jsx(C2,{ref:r,className:Tt("text-lg font-semibold leading-none tracking-tight",s),...t}));fr.displayName=C2.displayName;const xi=w.forwardRef(({className:s,...t},r)=>e.jsx(A2,{ref:r,className:Tt("text-sm text-muted-foreground",s),...t}));xi.displayName=A2.displayName;var EL=["PageUp","PageDown"],TL=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],RL={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},kh="Slider",[V_,Yee,Kee]=Q0(kh),[DL]=Aa(kh,[Kee]),[Xee,py]=DL(kh),ML=w.forwardRef((s,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[n],value:m,onValueChange:f=()=>{},onValueCommit:g=()=>{},inverted:b=!1,form:v,...y}=s,_=w.useRef(new Set),j=w.useRef(0),N=o==="horizontal"?Zee:Qee,[k=[],C]=Yo({prop:m,defaultProp:h,onChange:Y=>{[..._.current][j.current]?.focus(),f(Y)}}),z=w.useRef(k);function E(Y){const I=rte(k,Y);re(Y,I)}function U(Y){re(Y,j.current)}function T(){const Y=z.current[j.current];k[j.current]!==Y&&g(k)}function re(Y,I,{commit:K}={commit:!1}){const L=ote(i),J=lte(Math.round((Y-n)/i)*i+n,L),Q=c0(J,[n,a]);C((Z=[])=>{const ee=tte(Z,Q,I);if(ite(ee,d*i)){j.current=ee.indexOf(Q);const F=String(ee)!==String(Z);return F&&K&&g(ee),F?ee:Z}else return Z})}return e.jsx(Xee,{scope:s.__scopeSlider,name:r,disabled:c,min:n,max:a,valueIndexToChangeRef:j,thumbs:_.current,values:k,orientation:o,form:v,children:e.jsx(V_.Provider,{scope:s.__scopeSlider,children:e.jsx(V_.Slot,{scope:s.__scopeSlider,children:e.jsx(N,{"aria-disabled":c,"data-disabled":c?"":void 0,...y,ref:t,onPointerDown:bt(y.onPointerDown,()=>{c||(z.current=k)}),min:n,max:a,inverted:b,onSlideStart:c?void 0:E,onSlideMove:c?void 0:U,onSlideEnd:c?void 0:T,onHomeKeyDown:()=>!c&&re(n,0,{commit:!0}),onEndKeyDown:()=>!c&&re(a,k.length-1,{commit:!0}),onStepKeyDown:({event:Y,direction:I})=>{if(!c){const J=EL.includes(Y.key)||Y.shiftKey&&TL.includes(Y.key)?10:1,Q=j.current,Z=k[Q],ee=i*J*I;re(Z+ee,Q,{commit:!0})}}})})})})});ML.displayName=kh;var[PL,OL]=DL(kh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Zee=w.forwardRef((s,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...m}=s,[f,g]=w.useState(null),b=is(t,N=>g(N)),v=w.useRef(void 0),y=Xm(a),_=y==="ltr",j=_&&!i||!_&&i;function S(N){const k=v.current||f.getBoundingClientRect(),C=[0,k.width],E=T2(C,j?[r,n]:[n,r]);return v.current=k,E(N-k.left)}return e.jsx(PL,{scope:s.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:e.jsx(LL,{dir:y,"data-orientation":"horizontal",...m,ref:b,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const k=S(N.clientX);o?.(k)},onSlideMove:N=>{const k=S(N.clientX);c?.(k)},onSlideEnd:()=>{v.current=void 0,d?.()},onStepKeyDown:N=>{const C=RL[j?"from-left":"from-right"].includes(N.key);h?.({event:N,direction:C?-1:1})}})})}),Qee=w.forwardRef((s,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:c,onStepKeyDown:d,...h}=s,m=w.useRef(null),f=is(t,m),g=w.useRef(void 0),b=!a;function v(y){const _=g.current||m.current.getBoundingClientRect(),j=[0,_.height],N=T2(j,b?[n,r]:[r,n]);return g.current=_,N(y-_.top)}return e.jsx(PL,{scope:s.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:e.jsx(LL,{"data-orientation":"vertical",...h,ref:f,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const _=v(y.clientY);i?.(_)},onSlideMove:y=>{const _=v(y.clientY);o?.(_)},onSlideEnd:()=>{g.current=void 0,c?.()},onStepKeyDown:y=>{const j=RL[b?"from-bottom":"from-top"].includes(y.key);d?.({event:y,direction:j?-1:1})}})})}),LL=w.forwardRef((s,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:c,onStepKeyDown:d,...h}=s,m=py(kh,r);return e.jsx(qt.span,{...h,ref:t,onKeyDown:bt(s.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(c(f),f.preventDefault()):EL.concat(TL).includes(f.key)&&(d(f),f.preventDefault())}),onPointerDown:bt(s.onPointerDown,f=>{const g=f.target;g.setPointerCapture(f.pointerId),f.preventDefault(),m.thumbs.has(g)?g.focus():n(f)}),onPointerMove:bt(s.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:bt(s.onPointerUp,f=>{const g=f.target;g.hasPointerCapture(f.pointerId)&&(g.releasePointerCapture(f.pointerId),i(f))})})}),FL="SliderTrack",BL=w.forwardRef((s,t)=>{const{__scopeSlider:r,...n}=s,a=py(FL,r);return e.jsx(qt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});BL.displayName=FL;var H_="SliderRange",IL=w.forwardRef((s,t)=>{const{__scopeSlider:r,...n}=s,a=py(H_,r),i=OL(H_,r),o=w.useRef(null),c=is(t,o),d=a.values.length,h=a.values.map(g=>$L(g,a.min,a.max)),m=d>1?Math.min(...h):0,f=100-Math.max(...h);return e.jsx(qt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:c,style:{...s.style,[i.startEdge]:m+"%",[i.endEdge]:f+"%"}})});IL.displayName=H_;var q_="SliderThumb",zL=w.forwardRef((s,t)=>{const r=Yee(s.__scopeSlider),[n,a]=w.useState(null),i=is(t,c=>a(c)),o=w.useMemo(()=>n?r().findIndex(c=>c.ref.current===n):-1,[r,n]);return e.jsx(Jee,{...s,ref:i,index:o})}),Jee=w.forwardRef((s,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=s,o=py(q_,r),c=OL(q_,r),[d,h]=w.useState(null),m=is(t,S=>h(S)),f=d?o.form||!!d.closest("form"):!0,g=iy(d),b=o.values[n],v=b===void 0?0:$L(b,o.min,o.max),y=ste(n,o.values.length),_=g?.[c.size],j=_?nte(_,v,c.direction):0;return w.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${v}% + ${j}px)`},children:[e.jsx(V_.ItemSlot,{scope:s.__scopeSlider,children:e.jsx(qt.span,{role:"slider","aria-label":s["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":b,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:m,style:b===void 0?{display:"none"}:s.style,onFocus:bt(s.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&e.jsx(UL,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:b},n)]})});zL.displayName=q_;var ete="RadioBubbleInput",UL=w.forwardRef(({__scopeSlider:s,value:t,...r},n)=>{const a=w.useRef(null),i=is(a,n),o=oy(t);return w.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&m){const f=new Event("input",{bubbles:!0});m.call(c,t),c.dispatchEvent(f)}},[o,t]),e.jsx(qt.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});UL.displayName=ete;function tte(s=[],t,r){const n=[...s];return n[r]=t,n.sort((a,i)=>a-i)}function $L(s,t,r){const i=100/(r-t)*(s-t);return c0(i,[0,100])}function ste(s,t){return t>2?`Value ${s+1} of ${t}`:t===2?["Minimum","Maximum"][s]:void 0}function rte(s,t){if(s.length===1)return 0;const r=s.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function nte(s,t,r){const n=s/2,i=T2([0,50],[0,n]);return(n-i(t)*r)*r}function ate(s){return s.slice(0,-1).map((t,r)=>s[r+1]-t)}function ite(s,t){if(t>0){const r=ate(s);return Math.min(...r)>=t}return!0}function T2(s,t){return r=>{if(s[0]===s[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(s[1]-s[0]);return t[0]+n*(r-s[0])}}function ote(s){return(String(s).split(".")[1]||"").length}function lte(s,t){const r=Math.pow(10,t);return Math.round(s*r)/r}var VL=ML,cte=BL,dte=IL,ute=zL;const HL=w.forwardRef(({className:s,...t},r)=>e.jsxs(VL,{ref:r,className:Tt("relative flex w-full touch-none select-none items-center",s),...t,children:[e.jsx(cte,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:e.jsx(dte,{className:"absolute h-full bg-primary"})}),e.jsx(ute,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));HL.displayName=VL.displayName;const hte=({feedbacks:s,onClose:t})=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Customer Feedback"}),e.jsx("button",{onClick:t,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200","aria-label":"Close feedbacks",children:""})]}),s&&s.length>0?e.jsx("ul",{className:"space-y-4",children:s.map((r,n)=>e.jsxs("li",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ir,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:r.rating?`${r.rating}/5`:"N/A"})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.comments||"No comment provided."})]},n))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic",children:"No feedback yet."})]})}),R2=({car:s,forceFavorite:t=!1,onToggleFavoriteApi:r})=>{const[n,a]=w.useState(!1),[i,o]=w.useState(!1),[c,d]=w.useState(!1),[h,m]=w.useState(!1),{isAuthenticated:f}=Md();w.useEffect(()=>{if(t){a(!0);return}a(!1)},[s?.id,t]);const g=async _=>{if(_.preventDefault(),_.stopPropagation(),!s?.id||i)return;if(!f){xe.error("Please log in to save favorites.");return}if(r)return r();const j=!n;a(j),o(!0);try{await Le.post(`/cars/${s.id}/favorite`),xe.success(j?"Added to favorites":"Removed from favorites"),window.dispatchEvent(new Event("favoritesUpdated"))}catch(S){console.error("Favorite toggle error:",S),a(!j),xe.error("Failed to update favorite. Please try again.")}finally{o(!1)}},b={id:s.id,image:s.main_image_url||s.image||"/placeholder.png",brand:s.make||s.brand||"Car",model:s.model||"Model",year:s.year||"N/A",category:s.car_category||s.type||s.category||"Standard",seats:s.seats||4,transmission:s.transmission||"Auto",fuelType:s.fuel_type||s.fuelType||"Petrol",price:s.daily_rate||s.price||0,holidayRate:s.holiday_rate||null,deposit:s.deposit||null,isDeposit:s.is_deposit||!1,feedbacks:s.feedbacks||[],popular:s.popular||!1,location:s.live_location?.address||s.location||null},y=(_=>_.startsWith("data:")||/^https?:\/\//i.test(_)||_.startsWith("/api/")?_:_.startsWith("/storage/")?`/api${_}`:`/api/storage/${_.replace(/^storage\//i,"")}`)(b.image);return e.jsxs(Fs,{to:`/cars/${b.id}`,className:"block group",children:[e.jsxs(Ue,{className:"relative overflow-hidden h-full flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-300 hover:shadow-lg hover:shadow-[#00A19C]/20 hover:-translate-y-1 aspect-[2/3]",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gray-100 dark:bg-gray-700",style:{height:"60%"},children:[!c&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 animate-pulse"}),e.jsx("img",{src:y,alt:`${b.brand} ${b.model}`,onLoad:()=>d(!0),onError:_=>{_.currentTarget.src.endsWith("/placeholder.png")||(_.currentTarget.onerror=null,_.currentTarget.src="/placeholder.png",d(!0))},className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 ${c?"opacity-100":"opacity-0"}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),e.jsx("button",{onClick:g,disabled:i,"aria-label":n?"Remove from favorites":"Add to favorites",className:`absolute top-1.5 right-1.5 w-7 h-7 rounded-full backdrop-blur-sm flex items-center justify-center transition-all duration-300 z-20 ${n?"bg-red-500 shadow-md":"bg-white/90 dark:bg-gray-800/90 hover:scale-110"} ${i?"opacity-70 cursor-not-allowed":""}`,children:e.jsx(nc,{className:`w-3.5 h-3.5 transition-all ${n?"fill-white text-white":"text-gray-700 dark:text-gray-300"}`})}),e.jsx("div",{className:"absolute top-1.5 left-1.5 z-10",children:e.jsx(Ge,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm text-[#00A19C] dark:text-[#8EDC81] border border-[#00A19C]/30 dark:border-[#8EDC81]/30 text-[10px] font-semibold px-1.5 py-0.5",children:b.category})}),b.popular&&e.jsx("div",{className:"absolute bottom-1.5 left-1.5 z-10",children:e.jsxs(Ge,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-[10px] font-bold border-0 px-1.5 py-0.5 flex items-center gap-0.5",children:[e.jsx(ir,{className:"w-2.5 h-2.5 fill-white"}),"Popular"]})}),e.jsx("div",{className:"absolute bottom-1.5 right-1.5 z-10",children:e.jsxs(Ge,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[10px] font-bold px-1.5 py-0.5",children:["$",b.price,"/day"]})})]}),e.jsxs(He,{className:"p-2 flex-grow flex flex-col",style:{height:"40%"},children:[e.jsx("div",{className:"mb-1",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[10px] font-semibold text-[#00A19C] dark:text-[#8EDC81] uppercase tracking-wide",children:b.brand}),e.jsx("h3",{className:"text-xs font-bold text-gray-900 dark:text-white line-clamp-1 group-hover:text-[#00A19C] dark:group-hover:text-[#8EDC81] transition-colors",children:b.model})]}),e.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[e.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400",children:b.year}),b.location&&b.location.trim()!==""&&e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(js,{className:"w-2.5 h-2.5 text-gray-400 dark:text-gray-500"}),e.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 line-clamp-1",children:b.location.trim()})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-1 mb-1",children:[e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(_s,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300",children:b.seats})]}),e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(Vm,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:b.transmission.slice(0,4)})]}),e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(V0,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:b.fuelType.slice(0,4)})]})]}),(b.holidayRate||b.isDeposit)&&e.jsxs("div",{className:"flex items-center gap-1 mb-1 text-[9px]",children:[b.holidayRate&&e.jsxs("div",{className:"flex-1 text-center p-1 bg-gradient-to-br from-[#00A19C]/10 to-[#8EDC81]/10 dark:from-[#1e5f7a]/20 dark:to-[#00A19C]/20 rounded border border-[#00A19C]/20",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[8px] leading-tight",children:"Holiday"}),e.jsxs("p",{className:"font-bold text-[#1e5f7a] dark:text-[#8EDC81] text-[10px] leading-tight",children:["$",b.holidayRate]})]}),b.isDeposit&&e.jsxs("div",{className:"flex-1 text-center p-1 bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[8px] leading-tight",children:"Deposit"}),e.jsxs("p",{className:"font-bold text-amber-600 dark:text-amber-400 text-[10px] leading-tight",children:["$",b.deposit]})]})]}),e.jsxs("button",{onClick:_=>{_.preventDefault(),_.stopPropagation(),m(!0)},className:"w-full flex items-center justify-between p-1 rounded bg-gray-50 dark:bg-gray-700/50 hover:bg-[#00A19C]/10 dark:hover:bg-[#00A19C]/20 transition-all border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] group/feedback mb-1","aria-label":"Open customer feedback",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(H0,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81]"}),e.jsx("span",{className:"text-[9px] font-semibold text-gray-900 dark:text-white",children:"Reviews"})]}),e.jsx(Ge,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[9px] font-bold px-1 py-0",children:b.feedbacks.length})]}),e.jsx(fe,{className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-1.5 text-[10px] rounded-lg shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02] group/btn",children:e.jsxs("span",{className:"flex items-center justify-center gap-1",children:[e.jsx(er,{className:"w-2.5 h-2.5"}),"View Details",e.jsx(Nd,{className:"w-2.5 h-2.5 group-hover/btn:translate-x-0.5 transition-transform"})]})})]})]}),h&&e.jsx(hte,{feedbacks:s.feedbacks||[],onClose:()=>m(!1)})]})},fte=["All Brands","BMW","Mercedes","Audi","Tesla","Porsche","Lexus","Range Rover","Jaguar"],mte=["All Types","Sedan","SUV","Sports","Luxury","Electric","Convertible"],pte=["All","Automatic","Manual"],gte=[{id:1,brand:"BMW",model:"M5 Competition",type:"Sports",transmission:"Automatic",fuelType:"Petrol",seats:5,price:299,rating:4.8,reviews:127,image:"/ali1.jpg",images:["/ali2.jpg","/ali3.jpg","/ali4.jpg"],description:"Experience the perfect blend of luxury and performance with the BMW M5 Competition. This high-performance sedan delivers 617 horsepower and can accelerate from 0-60 mph in just 3.1 seconds.",features:["Sport Mode","Leather Interior","Premium Sound","Navigation","Adaptive Cruise Control","Parking Assist"],popular:!0},{id:2,brand:"Mercedes",model:"S-Class",type:"Luxury",transmission:"Automatic",fuelType:"Hybrid",seats:5,price:349,rating:4.9,reviews:203,image:"/ali6.jpg",images:["https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80","https://images.unsplash.com/photo-1617531653520-bd788a65c79a?w=800&q=80","https://images.unsplash.com/photo-1609521263047-f8f205293f24?w=800&q=80"],description:"The epitome of luxury and innovation. The Mercedes S-Class offers unparalleled comfort with cutting-edge technology and a supremely refined driving experience.",features:["Massage Seats","Ambient Lighting","Executive Rear Seats","Burmester Sound","Active Safety","Night Vision"],popular:!0},{id:3,brand:"Tesla",model:"Model S Plaid",type:"Electric",transmission:"Automatic",fuelType:"Electric",seats:5,price:279,rating:4.7,reviews:189,image:"https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80",images:["https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80","https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80","https://images.unsplash.com/photo-1536700503339-1e4b06520771?w=800&q=80"],description:"The quickest accelerating production car ever made. The Tesla Model S Plaid reaches 0-60 mph in under 2 seconds with a top speed of 200 mph.",features:["Autopilot","Premium Connectivity","Supercharging","Glass Roof","HEPA Air Filter","Gaming Computer"],popular:!0},{id:4,brand:"Range Rover",model:"Sport HSE",type:"SUV",transmission:"Automatic",fuelType:"Diesel",seats:7,price:329,rating:4.6,reviews:145,image:"https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80",images:["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80","https://images.unsplash.com/photo-1519641471654-76ce0107ad1b?w=800&q=80","https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=800&q=80"],description:"Commanding presence meets refined luxury. The Range Rover Sport HSE delivers exceptional off-road capability while maintaining an elegant and comfortable ride.",features:["Terrain Response","Air Suspension","Panoramic Roof","Meridian Sound","Wade Sensing","7-Seater"],popular:!1},{id:5,brand:"Porsche",model:"911 Carrera",type:"Sports",transmission:"Manual",fuelType:"Petrol",seats:2,price:399,rating:4.9,reviews:167,image:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&q=80",images:["https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&q=80","https://images.unsplash.com/photo-1614200187524-dc4b892acf16?w=800&q=80","https://images.unsplash.com/photo-1611651149758-ab7796b5e5ec?w=800&q=80"],description:"The iconic sports car that defines performance excellence. The Porsche 911 Carrera combines timeless design with cutting-edge engineering for an unforgettable driving experience.",features:["Sport Chrono","PASM Suspension","Sport Exhaust","Porsche Track Precision","Carbon Fiber","Launch Control"],popular:!0},{id:6,brand:"Audi",model:"e-tron GT",type:"Electric",transmission:"Automatic",fuelType:"Electric",seats:4,price:289,rating:4.7,reviews:134,image:"https://images.unsplash.com/photo-1614162692292-7ac56d7f8f8c?w=800&q=80",images:["https://images.unsplash.com/photo-1614162692292-7ac56d7f8f8c?w=800&q=80","https://images.unsplash.com/photo-1610768764270-790fbec18178?w=800&q=80","https://images.unsplash.com/photo-1606152421802-db97b9c7a11b?w=800&q=80"],description:"Electric performance redefined. The Audi e-tron GT delivers exhilarating acceleration and exceptional range in a stunning grand tourer package.",features:["Quattro AWD","Matrix LED","Virtual Cockpit","Fast Charging","Adaptive Air Suspension","Bang & Olufsen"],popular:!1},{id:7,brand:"Lexus",model:"LC 500",type:"Luxury",transmission:"Automatic",fuelType:"Petrol",seats:2,price:319,rating:4.8,reviews:98,image:"https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=800&q=80",images:["https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=800&q=80","https://images.unsplash.com/photo-1563720360172-67b8f3dce741?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80"],description:"A masterpiece of Japanese craftsmanship. The Lexus LC 500 combines breathtaking design with a naturally aspirated V8 engine for an unforgettable grand touring experience.",features:["Mark Levinson Audio","Adaptive Variable Suspension","Head-Up Display","Handcrafted Interior","Sport Mode","Active Rear Steering"],popular:!1},{id:8,brand:"BMW",model:"X7 M50i",type:"SUV",transmission:"Automatic",fuelType:"Petrol",seats:7,price:359,rating:4.7,reviews:112,image:"https://images.unsplash.com/photo-1617814076367-b759c7d7e738?w=800&q=80",images:["https://images.unsplash.com/photo-1617814076367-b759c7d7e738?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80","https://images.unsplash.com/photo-1606220945770-b5b6c2c55bf1?w=800&q=80"],description:"The ultimate luxury SUV for families who demand both space and performance. The BMW X7 M50i offers seating for seven without compromising on power or prestige.",features:["Sky Lounge Panoramic","Executive Lounge Seating","Gesture Control","Harman Kardon","Wireless Charging","Trailer Assist"],popular:!1},{id:9,brand:"Mercedes",model:"AMG GT",type:"Sports",transmission:"Automatic",fuelType:"Petrol",seats:2,price:429,rating:4.9,reviews:156,image:"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80",images:["https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80","https://images.unsplash.com/photo-1614200187524-dc4b892acf16?w=800&q=80","https://images.unsplash.com/photo-1611651149758-ab7796b5e5ec?w=800&q=80"],description:"Pure automotive passion. The Mercedes-AMG GT combines race-bred performance with everyday usability, delivering an exhilarating driving experience on any road.",features:["AMG Performance Exhaust","AMG Ride Control","Race Mode","Carbon Fiber Package","Performance Seats","AMG Track Pace"],popular:!0},{id:10,brand:"Jaguar",model:"F-Type R",type:"Convertible",transmission:"Automatic",fuelType:"Petrol",seats:2,price:339,rating:4.6,reviews:87,image:"https://images.unsplash.com/photo-1580414057167-d31b2f96f6c8?w=800&q=80",images:["https://images.unsplash.com/photo-1580414057167-d31b2f96f6c8?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80","https://images.unsplash.com/photo-1567818735868-e71b99932e29?w=800&q=80"],description:"British sports car excellence. The Jaguar F-Type R delivers supercharged V8 performance with stunning design and an exhaust note that will make your heart race.",features:["Configurable Dynamics","Active Exhaust","Convertible Top","Meridian Sound","Performance Brakes","Torque Vectoring"],popular:!1},{id:11,brand:"Audi",model:"RS Q8",type:"SUV",transmission:"Automatic",fuelType:"Petrol",seats:5,price:369,rating:4.8,reviews:143,image:"https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80",images:["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80","https://images.unsplash.com/photo-1519641471654-76ce0107ad1b?w=800&q=80","https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=800&q=80"],description:"The pinnacle of performance SUVs. The Audi RS Q8 combines brutal acceleration with sophisticated handling and luxurious comfort for the ultimate all-weather sports car.",features:["Sport Differential","Dynamic All-Wheel Steering","Carbon Ceramic Brakes","RS Sport Exhaust","Matrix LED","Virtual Cockpit Plus"],popular:!1},{id:12,brand:"Tesla",model:"Model X",type:"SUV",transmission:"Automatic",fuelType:"Electric",seats:7,price:299,rating:4.7,reviews:201,image:"https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80",images:["https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80","https://images.unsplash.com/photo-1536700503339-1e4b06520771?w=800&q=80","https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80"],description:"The future of family transportation. The Tesla Model X offers falcon-wing doors, seating for seven, and acceleration that rivals sports cars, all with zero emissions.",features:["Falcon Wing Doors","Full Self-Driving","HEPA Filter","Bioweapon Defense Mode",'17" Touchscreen',"Dog Mode"],popular:!0}];gte.filter(s=>s.popular);const xte=["GPS Navigation","Bluetooth","Backup Camera","Sunroof","Leather Seats","Heated Seats","Apple CarPlay","Android Auto","Parking Sensors","Cruise Control","Lane Assist","Collision Warning","Blind Spot Monitor","Keyless Entry","Push Start","Climate Control","USB Charging","Premium Sound"],yte=[{value:"all",label:"All Fuel Types"},{value:"benz",label:"Gasoline"},{value:"diesel",label:"Diesel"},{value:"electric",label:"Electric"},{value:"hybrid",label:"Hybrid"}],bte=[{value:"all",label:"All Drive Types"},{value:"4x4",label:"4x4 / AWD"},{value:"2_front",label:"Front Wheel Drive"},{value:"2_back",label:"Rear Wheel Drive"},{value:"autoblock",label:"Autoblock"}],vte=["Black","White","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown"],wte=[{value:"all",label:"All Cylinders"},{value:"4",label:"4 Cylinder"},{value:"6",label:"6 Cylinder"},{value:"8",label:"8 Cylinder"},{value:"10",label:"10 Cylinder"},{value:"12",label:"12 Cylinder"}],lT=()=>{const[s,t]=w.useState([]),[r,n]=w.useState([]),[a,i]=w.useState(!0),[o,c]=w.useState({brand:"All Brands",type:"All Types",transmission:"All",priceRange:[0,1500],search:"",startDate:"",endDate:""}),[d,h]=w.useState({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""}),[m,f]=w.useState("featured"),[g,b]=w.useState(!1),[v,y]=w.useState(!1),_=w.useRef(!1),j=w.useRef(null),S=w.useRef(null),N=w.useCallback(Y=>{_.current=!0,c(I=>({...I,...Y}))},[]),k=w.useCallback(Y=>{_.current=!0,h(I=>({...I,...Y}))},[]);w.useEffect(()=>{(async()=>{try{i(!0);const L=((await Le.get("/cars")).data.cars??[]).map(J=>{const Q=J.feedbacks??[],Z=Q.length>0?(Q.reduce((ee,F)=>ee+(Number(F.rating)||0),0)/Q.length).toFixed(1):null;return{id:J.id,brand:J.make,make:J.make,model:J.model,year:J.year,type:J.car_category,category:J.car_category,transmission:J.transmission,price:Number(J.daily_rate),holidayRate:Number(J.holiday_rate||J.daily_rate),image:J.main_image_url,rating:Z,reviews:Q.length,popular:(J.views_count??0)>20,seats:J.seats,doors:J.doors,fuel_type:J.fuel_type,fuelType:J.fuel_type,wheelsDrive:J.wheels_drive,cylinderNumber:J.cylinder_number,color:J.color,mileage:J.mileage,features:J.features||[],withDriver:J.with_driver,isDelivered:J.is_delivered,feedbacks:Q}});n(L),t(L)}catch(I){console.error("Cars fetch error:",I)}finally{i(!1)}})()},[]),w.useEffect(()=>{let Y=[...r];switch(o.search&&(Y=Y.filter(I=>`${I.brand} ${I.model}`.toLowerCase().includes(o.search.toLowerCase()))),o.brand!=="All Brands"&&(Y=Y.filter(I=>I.brand===o.brand)),o.type!=="All Types"&&(Y=Y.filter(I=>I.type===o.type)),o.transmission!=="All"&&(Y=Y.filter(I=>I.transmission===o.transmission)),Y=Y.filter(I=>I.price>=o.priceRange[0]&&I.price<=o.priceRange[1]),d.yearMin&&(Y=Y.filter(I=>I.year>=Number(d.yearMin))),d.yearMax&&(Y=Y.filter(I=>I.year<=Number(d.yearMax))),d.cylinderNumber!=="all"&&(Y=Y.filter(I=>I.cylinderNumber===d.cylinderNumber)),d.color!=="all"&&(Y=Y.filter(I=>I.color?.toLowerCase()===d.color.toLowerCase())),d.mileageMax&&(Y=Y.filter(I=>(I.mileage||0)<=Number(d.mileageMax))),d.fuelType!=="all"&&(Y=Y.filter(I=>I.fuelType===d.fuelType)),d.wheelsDrive!=="all"&&(Y=Y.filter(I=>I.wheelsDrive===d.wheelsDrive)),d.seatsMin&&(Y=Y.filter(I=>(I.seats||0)>=Number(d.seatsMin))),d.doorsMin&&(Y=Y.filter(I=>(I.doors||0)>=Number(d.doorsMin))),d.holidayRateMax&&(Y=Y.filter(I=>(I.holidayRate||I.price)<=Number(d.holidayRateMax))),d.withDriver&&(Y=Y.filter(I=>I.withDriver)),d.isDelivered&&(Y=Y.filter(I=>I.isDelivered)),d.features.length>0&&(Y=Y.filter(I=>{const K=I.features||[];return d.features.every(L=>K.includes(L))})),m){case"price-low":Y.sort((I,K)=>I.price-K.price);break;case"price-high":Y.sort((I,K)=>K.price-I.price);break;case"rating":Y.sort((I,K)=>(Number(K.rating)||0)-(Number(I.rating)||0));break;case"popular":Y.sort((I,K)=>(K.reviews??0)-(I.reviews??0));break;case"year-new":Y.sort((I,K)=>(K.year||0)-(I.year||0));break;case"year-old":Y.sort((I,K)=>(I.year||0)-(K.year||0));break;default:Y.sort((I,K)=>(K.popular?1:0)-(I.popular?1:0))}t(Y)},[o,d,m,r]);const C=Y=>({Sedan:"normal",SUV:"normal",Hatchback:"normal",Coupe:"sport",Convertible:"sport","Sports Car":"sport",Luxury:"luxury","Luxury Sedan":"luxury",Van:"commercial",Minivan:"commercial",Truck:"commercial",Pickup:"commercial",Bus:"commercial",Commercial:"commercial",Industrial:"industrial",Event:"event",Boat:"sea",Yacht:"sea","Jet Ski":"sea"})[Y]||"normal",z=w.useCallback(()=>{const Y={},I=(o.brand||"").trim(),K=(o.type||"").trim(),L=(o.transmission||"").trim(),J=(o.search||"").trim();if(I&&I!=="All Brands")Y.make=I,J&&(Y.model=J);else if(J){const ee=J.split(/\s+/).filter(Boolean);ee.length>=2?(Y.make=ee[0],Y.model=ee.slice(1).join(" ")):ee.length===1&&(Y.model=J)}K&&K!=="All Types"&&(Y.car_category=C(K)),L&&L!=="All"&&(Y.transmission=L.toLowerCase());const[Q,Z]=o.priceRange;return Q>0&&(Y.daily_rate_min=Q),Z<1500&&(Y.daily_rate_max=Z),d.yearMin&&(Y.year_min=Number(d.yearMin)),d.yearMax&&(Y.year_max=Number(d.yearMax)),d.cylinderNumber&&d.cylinderNumber!=="all"&&(Y.cylinder_number=d.cylinderNumber),d.color&&d.color!=="all"&&(Y.color=d.color),d.mileageMax&&(Y.mileage=Number(d.mileageMax)),d.fuelType&&d.fuelType!=="all"&&(Y.fuel_type=d.fuelType),d.wheelsDrive&&d.wheelsDrive!=="all"&&(Y.wheels_drive=d.wheelsDrive),d.seatsMin&&(Y.seats=Number(d.seatsMin)),d.doorsMin&&(Y.doors=Number(d.doorsMin)),d.features.length>0&&(Y.features=d.features),d.withDriver&&(Y.with_driver=1),d.isDelivered&&(Y.is_delivered=1),d.requiresDeposit&&(Y.is_deposit=1),d.holidayRateMax&&(Y.holiday_rate=Number(d.holidayRateMax)),Y},[o,d]),E=w.useMemo(()=>{const Y=[o.brand!=="All Brands",o.type!=="All Types",o.transmission!=="All",o.priceRange[0]!==0||o.priceRange[1]!==1500,o.search.trim()!=="",o.startDate!=="",o.endDate!==""].filter(Boolean).length,I=[d.yearMin!=="",d.yearMax!=="",d.cylinderNumber!=="all",d.color!=="all",d.mileageMax!=="",d.fuelType!=="all",d.wheelsDrive!=="all",d.seatsMin!=="",d.doorsMin!=="",d.features.length>0,d.withDriver,d.isDelivered,d.requiresDeposit,d.holidayRateMax!==""].filter(Boolean).length;return Y+I},[o,d]),U=w.useCallback(async Y=>{if(Object.keys(Y).length===0)return;const I=JSON.stringify(Y);if(S.current===I)return;let K,L;if(o.startDate&&o.endDate){const Q=Z=>Z?Z.replace("T"," ")+":00":"";K=Q(o.startDate),L=Q(o.endDate)}else{const Q=new Date,Z=new Date;Z.setDate(Q.getDate()+7);const ee=F=>{const de=F.getFullYear(),q=String(F.getMonth()+1).padStart(2,"0"),G=String(F.getDate()).padStart(2,"0"),ie=String(F.getHours()).padStart(2,"0"),le=String(F.getMinutes()).padStart(2,"0"),be=String(F.getSeconds()).padStart(2,"0");return`${de}-${q}-${G} ${ie}:${le}:${be}`};K=ee(Q),L=ee(Z)}const J={...Y,start_datetime:K,end_datetime:L};try{await Le.get("/cars/search",{params:J}),S.current=I,console.log(" Search saved to frequent searches")}catch(Q){Q.response?.status===422&&console.error(" Validation error details:",Q.response?.data?.errors),console.warn("Could not save frequent search:",Q.response?.data?.message||Q.message)}},[o]);w.useEffect(()=>{if(_.current&&E!==0)return j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{const Y=z();U(Y)},1500),()=>{j.current&&clearTimeout(j.current)}},[o,d,E,z,U]);const T=w.useCallback(()=>{_.current=!0,c({brand:"All Brands",type:"All Types",transmission:"All",priceRange:[0,1500],search:"",startDate:"",endDate:""}),h({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""}),f("featured")},[]),re=w.useCallback(Y=>{h(I=>({...I,features:I.features.includes(Y)?I.features.filter(K=>K!==Y):[...I.features,Y]}))},[]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-cyan-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-cyan-950/30",children:[e.jsxs("section",{className:"relative bg-gradient-to-r from-cyan-700 via-teal-600 to-cyan-800 dark:from-cyan-900 dark:via-teal-800 dark:to-cyan-950 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"}),e.jsx("div",{className:"container mx-auto px-4 py-12 relative",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsx("p",{className:"text-cyan-50 text-lg md:text-xl mb-6 max-w-2xl"}),e.jsxs("p",{className:"text-cyan-50 text-lg md:text-xl mb-6 max-w-2xl",children:["Explore our premium collection of"," ",e.jsx("span",{className:"font-bold text-white bg-white/20 px-2 py-0.5 rounded",children:r.length})," ","vehicles from top brands"]})]})})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"lg:hidden mb-6",children:e.jsxs(fe,{onClick:()=>b(!g),variant:"outline",className:"w-full h-12 border-2 border-cyan-700 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 transition-all rounded-xl font-semibold text-cyan-700 shadow-sm",children:[e.jsx(fW,{className:"w-5 h-5 mr-2"}),g?"Hide Filters":"Show Filters",E>0&&e.jsx(Ge,{className:"ml-auto bg-cyan-700 text-white h-6 px-2",children:E})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:`lg:w-80 flex-shrink-0 ${g?"block":"hidden lg:block"}`,children:e.jsxs("div",{className:"sticky top-24 space-y-4",children:[e.jsxs(Ue,{className:"border-0 shadow-lg bg-white dark:bg-gray-900 overflow-hidden",children:[e.jsx(ts,{className:"pb-4 bg-gradient-to-r from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20 border-b border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ss,{className:"flex items-center gap-2 text-lg",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center",children:e.jsx(uY,{className:"w-4 h-4 text-white"})}),e.jsx("span",{children:"Search Filters"})]}),E>0&&e.jsx(fe,{variant:"ghost",size:"sm",onClick:T,className:"text-xs text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/30 h-8 px-3 font-semibold",children:"Clear All"})]})}),e.jsxs(He,{className:"space-y-5 pt-5 pb-6",children:[e.jsxs("div",{children:[e.jsxs(ue,{htmlFor:"search",className:"mb-2.5 text-sm font-semibold flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(Mr,{className:"w-4 h-4 text-cyan-700"}),"Quick Search"]}),e.jsxs("div",{className:"relative",children:[e.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ae,{id:"search",placeholder:"e.g., BMW X5, Mercedes...",value:o.search,onChange:Y=>N({search:Y.target.value}),className:"h-11 text-sm pl-10 pr-10 border-gray-300 focus:border-cyan-500 focus:ring-cyan-500"}),o.search&&e.jsx("button",{onClick:()=>N({search:""}),className:"absolute right-3 top-1/2 -translate-y-1/2 hover:bg-gray-100 dark:hover:bg-gray-800 p-1.5 rounded-full transition-colors","aria-label":"Clear search",children:e.jsx(Sr,{className:"w-4 h-4 text-gray-500"})})]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 border-2 border-yellow-300 dark:border-yellow-800 rounded-xl p-4 shadow-sm",children:[e.jsxs(ue,{className:"mb-3 text-sm font-bold flex items-center gap-2 text-yellow-900 dark:text-yellow-200",children:[e.jsx(e0,{className:"w-4 h-4"}),"Rental Period"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"startDate",className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 block",children:"Pick-up"}),e.jsx(Ae,{id:"startDate",type:"datetime-local",value:o.startDate,onChange:Y=>N({startDate:Y.target.value}),className:"h-10 text-sm bg-white dark:bg-gray-800 border-yellow-200 dark:border-yellow-800",min:new Date().toISOString().slice(0,16)})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"endDate",className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 block",children:"Return"}),e.jsx(Ae,{id:"endDate",type:"datetime-local",value:o.endDate,onChange:Y=>N({endDate:Y.target.value}),className:"h-10 text-sm bg-white dark:bg-gray-800 border-yellow-200 dark:border-yellow-800",min:o.startDate||new Date().toISOString().slice(0,16)})]}),o.startDate&&o.endDate&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-yellow-900 dark:text-yellow-200 bg-yellow-100 dark:bg-yellow-900/40 p-2.5 rounded-lg font-semibold",children:[e.jsx(Bs,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:["Duration: ",(()=>{const Y=new Date(o.startDate),I=new Date(o.endDate),K=Math.ceil((I-Y)/(1e3*60*60*24));return`${K} day${K!==1?"s":""}`})()]})]})]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Brand"}),e.jsxs(ot,{value:o.brand,onValueChange:Y=>N({brand:Y}),children:[e.jsx(at,{className:"h-10 text-sm border-gray-300",children:e.jsx(lt,{})}),e.jsx(it,{children:fte.map(Y=>e.jsx(ke,{value:Y,className:"text-sm",children:Y},Y))})]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Type"}),e.jsxs(ot,{value:o.type,onValueChange:Y=>N({type:Y}),children:[e.jsx(at,{className:"h-10 text-sm border-gray-300",children:e.jsx(lt,{})}),e.jsx(it,{children:mte.map(Y=>e.jsx(ke,{value:Y,className:"text-sm",children:Y},Y))})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Transmission"}),e.jsxs(ot,{value:o.transmission,onValueChange:Y=>N({transmission:Y}),children:[e.jsx(at,{className:"h-10 text-sm border-gray-300",children:e.jsx(lt,{})}),e.jsx(it,{children:pte.map(Y=>e.jsx(ke,{value:Y,className:"text-sm",children:Y},Y))})]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),e.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20 rounded-xl p-4 border border-cyan-200 dark:border-cyan-800",children:[e.jsxs(ue,{className:"mb-4 text-sm font-bold flex items-center justify-between text-gray-900 dark:text-white",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(dr,{className:"w-4 h-4 text-cyan-700"}),"Daily Rate"]}),e.jsxs("span",{className:"text-cyan-700 dark:text-cyan-300 font-bold text-lg",children:["$",o.priceRange[0]," - $",o.priceRange[1]]})]}),e.jsx(HL,{value:o.priceRange,onValueChange:Y=>N({priceRange:Y}),min:0,max:1500,step:10,className:"mt-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mt-2 font-semibold",children:[e.jsx("span",{children:"$0"}),e.jsx("span",{children:"$1500+"})]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),e.jsxs(yr,{open:v,onOpenChange:y,children:[e.jsx(Gee,{asChild:!0,children:e.jsxs(fe,{variant:"outline",className:"w-full h-11 border-2 border-cyan-700 text-cyan-700 hover:bg-gradient-to-r hover:from-cyan-700 hover:to-teal-600 hover:text-white transition-all font-semibold shadow-sm",children:[e.jsx(bE,{className:"w-4 h-4 mr-2"}),"Advanced Filters",E-[o.brand!=="All Brands",o.type!=="All Types",o.transmission!=="All",o.priceRange[0]!==0||o.priceRange[1]!==1500,o.search.trim()!=="",o.startDate!=="",o.endDate!==""].filter(Boolean).length>0&&e.jsxs(Ge,{className:"ml-auto bg-cyan-700 text-white h-5 px-2 text-xs",children:["+",E-[o.brand!=="All Brands",o.type!=="All Types",o.transmission!=="All",o.priceRange[0]!==0||o.priceRange[1]!==1500,o.search.trim()!=="",o.startDate!=="",o.endDate!==""].filter(Boolean).length]})]})}),e.jsxs(ur,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(hr,{children:[e.jsxs(fr,{className:"flex items-center gap-2 text-xl",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center",children:e.jsx(bE,{className:"w-5 h-5 text-white"})}),"Advanced Search Filters"]}),e.jsx(xi,{className:"text-base",children:"Fine-tune your search with detailed criteria to find the perfect vehicle"})]}),e.jsxs("div",{className:"space-y-6 py-6",children:[e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(Bs,{className:"w-5 h-5 text-cyan-700"}),"Year Range"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"yearMin",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"From Year"}),e.jsx(Ae,{id:"yearMin",type:"number",placeholder:"2015",value:d.yearMin,onChange:Y=>k({yearMin:Y.target.value}),className:"h-10 text-sm mt-1.5",min:"1900",max:new Date().getFullYear()+1})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"yearMax",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"To Year"}),e.jsx(Ae,{id:"yearMax",type:"number",placeholder:"2024",value:d.yearMax,onChange:Y=>k({yearMax:Y.target.value}),className:"h-10 text-sm mt-1.5",min:"1900",max:new Date().getFullYear()+1})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(Wl,{className:"w-5 h-5 text-cyan-700"}),"Engine & Performance"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"cylinder",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Cylinders"}),e.jsxs(ot,{value:d.cylinderNumber,onValueChange:Y=>k({cylinderNumber:Y}),children:[e.jsx(at,{id:"cylinder",className:"h-10 text-sm mt-1.5",children:e.jsx(lt,{})}),e.jsx(it,{children:wte.map(Y=>e.jsx(ke,{value:Y.value,className:"text-sm",children:Y.label},Y.value))})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"mileage",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Max Mileage"}),e.jsx(Ae,{id:"mileage",type:"number",placeholder:"100000",value:d.mileageMax,onChange:Y=>k({mileageMax:Y.target.value}),className:"h-10 text-sm mt-1.5",min:"0"})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(V0,{className:"w-5 h-5 text-cyan-700"}),"Fuel & Drive Type"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"fuelType",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Fuel Type"}),e.jsxs(ot,{value:d.fuelType,onValueChange:Y=>k({fuelType:Y}),children:[e.jsx(at,{id:"fuelType",className:"h-10 text-sm mt-1.5",children:e.jsx(lt,{})}),e.jsx(it,{children:yte.map(Y=>e.jsx(ke,{value:Y.value,className:"text-sm",children:Y.label},Y.value))})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"wheelsDrive",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Drive Type"}),e.jsxs(ot,{value:d.wheelsDrive,onValueChange:Y=>k({wheelsDrive:Y}),children:[e.jsx(at,{id:"wheelsDrive",className:"h-10 text-sm mt-1.5",children:e.jsx(lt,{})}),e.jsx(it,{children:bte.map(Y=>e.jsx(ke,{value:Y.value,className:"text-sm",children:Y.label},Y.value))})]})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(qW,{className:"w-5 h-5 text-cyan-700"}),"Color Preference"]}),e.jsxs(ot,{value:d.color,onValueChange:Y=>k({color:Y}),children:[e.jsx(at,{className:"h-10 text-sm",children:e.jsx(lt,{placeholder:"Select color"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",className:"text-sm font-semibold",children:"All Colors"}),vte.map(Y=>e.jsx(ke,{value:Y,className:"text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:Y.toLowerCase()}}),Y]})},Y))]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(_s,{className:"w-5 h-5 text-cyan-700"}),"Capacity Requirements"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"seats",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Min Seats"}),e.jsx(Ae,{id:"seats",type:"number",placeholder:"5",value:d.seatsMin,onChange:Y=>k({seatsMin:Y.target.value}),className:"h-10 text-sm mt-1.5",min:"1",max:"50"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"doors",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Min Doors"}),e.jsx(Ae,{id:"doors",type:"number",placeholder:"4",value:d.doorsMin,onChange:Y=>k({doorsMin:Y.target.value}),className:"h-10 text-sm mt-1.5",min:"1",max:"10"})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(dr,{className:"w-5 h-5 text-cyan-700"}),"Holiday Pricing"]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"holidayRate",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Max Holiday Rate"}),e.jsx(Ae,{id:"holidayRate",type:"number",placeholder:"200",value:d.holidayRateMax,onChange:Y=>k({holidayRateMax:Y.target.value}),className:"h-10 text-sm mt-1.5",min:"0"})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(js,{className:"w-5 h-5 text-cyan-700"}),"Additional Services"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[e.jsx(Zf,{id:"withDriver",checked:d.withDriver,onCheckedChange:Y=>k({withDriver:Y}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),e.jsx(ue,{htmlFor:"withDriver",className:"text-sm cursor-pointer font-medium flex-1",children:"Available with driver"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[e.jsx(Zf,{id:"isDelivered",checked:d.isDelivered,onCheckedChange:Y=>k({isDelivered:Y}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),e.jsx(ue,{htmlFor:"isDelivered",className:"text-sm cursor-pointer font-medium flex-1",children:"Delivery available"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[e.jsx(Zf,{id:"requiresDeposit",checked:d.requiresDeposit,onCheckedChange:Y=>k({requiresDeposit:Y}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),e.jsx(ue,{htmlFor:"requiresDeposit",className:"text-sm cursor-pointer font-medium flex-1",children:"Requires deposit"})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(sW,{className:"w-5 h-5 text-cyan-700"}),"Features & Amenities"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-80 overflow-y-auto p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:xte.map(Y=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md transition-colors",children:[e.jsx(Zf,{id:`feature-${Y}`,checked:d.features.includes(Y),onCheckedChange:()=>re(Y),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),e.jsx(ue,{htmlFor:`feature-${Y}`,className:"text-xs cursor-pointer font-medium",children:Y})]},Y))}),d.features.length>0&&e.jsxs("p",{className:"text-sm text-cyan-700 dark:text-cyan-300 font-semibold bg-cyan-50 dark:bg-cyan-900/30 p-2 rounded-lg text-center",children:[" ",d.features.length," feature",d.features.length!==1?"s":""," selected"]})]})]}),e.jsxs("div",{className:"flex justify-between gap-3 pt-6 border-t-2 border-gray-200 dark:border-gray-700",children:[e.jsx(fe,{variant:"outline",onClick:()=>{h({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""})},className:"h-11 px-6 border-2 font-semibold",children:"Clear Advanced"}),e.jsx(fe,{onClick:()=>y(!1),className:"h-11 px-8 bg-gradient-to-r from-cyan-700 to-teal-600 hover:from-cyan-800 hover:to-teal-700 text-white font-semibold shadow-lg",children:"Apply Filters"})]})]})]})]})]}),e.jsx(Ue,{className:"border-0 shadow-md bg-gradient-to-br from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20",children:e.jsx(He,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center flex-shrink-0",children:e.jsx(Qt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm text-gray-900 dark:text-white mb-1",children:"Need Help Choosing?"}),e.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:"Use filters to narrow down your search and find the perfect vehicle for your needs."})]})]})})})]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-5 mb-6 border-0 shadow-md",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-700 to-teal-600 rounded-xl flex items-center justify-center shadow-md",children:e.jsx(Qt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide",children:"Available Now"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[s.length," ",s.length===1?"Vehicle":"Vehicles"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[e.jsx(ue,{htmlFor:"sort",className:"text-sm font-bold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Sort by:"}),e.jsxs(ot,{value:m,onValueChange:f,children:[e.jsx(at,{id:"sort",className:"w-full sm:w-[200px] h-10 text-sm border-gray-300 font-medium",children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"featured",className:"text-sm font-medium",children:" Featured"}),e.jsx(ke,{value:"price-low",className:"text-sm font-medium",children:" Price: Low to High"}),e.jsx(ke,{value:"price-high",className:"text-sm font-medium",children:" Price: High to Low"}),e.jsx(ke,{value:"rating",className:"text-sm font-medium",children:" Highest Rated"}),e.jsx(ke,{value:"popular",className:"text-sm font-medium",children:" Most Popular"}),e.jsx(ke,{value:"year-new",className:"text-sm font-medium",children:" Newest First"}),e.jsx(ke,{value:"year-old",className:"text-sm font-medium",children:" Oldest First"})]})]})]})]}),E>0&&e.jsxs("div",{className:"mt-5 pt-5 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:["Active Filters (",E,")"]}),e.jsx(fe,{variant:"ghost",size:"sm",onClick:T,className:"h-7 text-xs text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/30 font-semibold",children:"Clear All "})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.startDate&&e.jsxs(Ge,{variant:"secondary",className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 px-3 py-1.5 font-medium",children:[" ",new Date(o.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),e.jsx("button",{onClick:()=>N({startDate:""}),className:"ml-2 hover:text-red-600",children:e.jsx(Sr,{className:"w-3 h-3"})})]}),o.endDate&&e.jsxs(Ge,{variant:"secondary",className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 px-3 py-1.5 font-medium",children:[" ",new Date(o.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),e.jsx("button",{onClick:()=>N({endDate:""}),className:"ml-2 hover:text-red-600",children:e.jsx(Sr,{className:"w-3 h-3"})})]}),o.brand!=="All Brands"&&e.jsxs(Ge,{variant:"secondary",className:"text-xs bg-cyan-100 dark:bg-cyan-900/30 border border-cyan-300 dark:border-cyan-700 px-3 py-1.5 font-medium",children:[" ",o.brand,e.jsx("button",{onClick:()=>N({brand:"All Brands"}),className:"ml-2 hover:text-red-600",children:e.jsx(Sr,{className:"w-3 h-3"})})]}),o.type!=="All Types"&&e.jsxs(Ge,{variant:"secondary",className:"text-xs bg-purple-100 dark:bg-purple-900/30 border border-purple-300 dark:border-purple-700 px-3 py-1.5 font-medium",children:[" ",o.type,e.jsx("button",{onClick:()=>N({type:"All Types"}),className:"ml-2 hover:text-red-600",children:e.jsx(Sr,{className:"w-3 h-3"})})]}),o.transmission!=="All"&&e.jsxs(Ge,{variant:"secondary",className:"text-xs bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700 px-3 py-1.5 font-medium",children:[" ",o.transmission,e.jsx("button",{onClick:()=>N({transmission:"All"}),className:"ml-2 hover:text-red-600",children:e.jsx(Sr,{className:"w-3 h-3"})})]}),(o.priceRange[0]!==0||o.priceRange[1]!==1500)&&e.jsxs(Ge,{variant:"secondary",className:"text-xs bg-emerald-100 dark:bg-emerald-900/30 border border-emerald-300 dark:border-emerald-700 px-3 py-1.5 font-medium",children:[" $",o.priceRange[0]," - $",o.priceRange[1],e.jsx("button",{onClick:()=>N({priceRange:[0,1500]}),className:"ml-2 hover:text-red-600",children:e.jsx(Sr,{className:"w-3 h-3"})})]}),d.yearMin&&e.jsxs(Ge,{variant:"secondary",className:"text-xs bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 px-3 py-1.5 font-medium",children:[" Year  ",d.yearMin,e.jsx("button",{onClick:()=>k({yearMin:""}),className:"ml-2 hover:text-red-600",children:e.jsx(Sr,{className:"w-3 h-3"})})]}),d.yearMax&&e.jsxs(Ge,{variant:"secondary",className:"text-xs bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 px-3 py-1.5 font-medium",children:[" Year  ",d.yearMax,e.jsx("button",{onClick:()=>k({yearMax:""}),className:"ml-2 hover:text-red-600",children:e.jsx(Sr,{className:"w-3 h-3"})})]}),d.features.length>0&&e.jsxs(Ge,{variant:"secondary",className:"text-xs bg-indigo-100 dark:bg-indigo-900/30 border border-indigo-300 dark:border-indigo-700 px-3 py-1.5 font-medium",children:[" ",d.features.length," Feature",d.features.length!==1?"s":"",e.jsx("button",{onClick:()=>k({features:[]}),className:"ml-2 hover:text-red-600",children:e.jsx(Sr,{className:"w-3 h-3"})})]})]})]})]}),a?e.jsx("div",{className:"flex items-center justify-center py-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 border-4 border-cyan-700 border-t-transparent rounded-full animate-spin mx-auto mb-6"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Loading Vehicles"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Please wait while we fetch the best options..."})]})}):s.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6 sm:gap-8",children:s.map(Y=>e.jsx(R2,{car:Y},Y.id))}):e.jsx(Ue,{className:"p-16 text-center border-2 border-dashed border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 rounded-2xl",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 mx-auto mb-6 flex items-center justify-center shadow-inner",children:e.jsx(Mr,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"No Vehicles Found"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:"We couldn't find any vehicles matching your criteria. Try adjusting your filters or broadening your search."}),e.jsxs(fe,{onClick:T,className:"bg-gradient-to-r from-cyan-700 to-teal-600 hover:from-cyan-800 hover:to-teal-700 text-white font-bold px-8 py-6 rounded-xl shadow-lg hover:shadow-xl transition-all",children:[e.jsx(Sr,{className:"w-5 h-5 mr-2"}),"Reset All Filters"]})]})})]})]})]})]})};var jte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_te=jte.reduce((s,t)=>{const r=WN(`Primitive.${t}`),n=w.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...s,[t]:n}},{}),Nte="Separator",cT="horizontal",kte=["horizontal","vertical"],qL=w.forwardRef((s,t)=>{const{decorative:r,orientation:n=cT,...a}=s,i=Ste(n)?n:cT,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(_te.div,{"data-orientation":i,...c,...a,ref:t})});qL.displayName=Nte;function Ste(s){return kte.includes(s)}var GL=qL;const hd=w.forwardRef(({className:s,orientation:t="horizontal",decorative:r=!0,...n},a)=>e.jsx(GL,{ref:a,decorative:r,orientation:t,className:Tt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...n}));hd.displayName=GL.displayName;const Cte=()=>{const{id:s}=UV(),t=br();Md();const[r,n]=w.useState(null),[a,i]=w.useState(!0),[o,c]=w.useState(!1),[d,h]=w.useState(0),[m,f]=w.useState(!1),[g,b]=w.useState({pickupDate:"",returnDate:"",location:"",reason:""}),[v,y]=w.useState(!1),[_,j]=w.useState(!1),[S,N]=w.useState([]),k=w.useMemo(()=>new Date().toISOString().slice(0,16),[]),C=w.useMemo(()=>r?.images?.length?r.images[Math.min(d,r.images.length-1)]:"",[r,d]),z=L=>Array.isArray(L)?L:Array.isArray(L?.cars)?L.cars:Array.isArray(L?.favorites)?L.favorites:Array.isArray(L?.data)?L.data:[],E=(L,J)=>{const Q=String(J);return L.some(Z=>Z==null?!1:typeof Z=="string"||typeof Z=="number"?String(Z)===Q:String(Z.id??Z.car_id??Z.car?.id)===Q)};w.useEffect(()=>{let L=!0;return(async()=>{i(!0);try{const Z=(await Le.get(`/cars/${s}`)).data.car,ee=Z.feedbacks??[],F=ee.length>0?(ee.reduce((G,ie)=>G+ie.rating,0)/ee.length).toFixed(1):null,de={id:Z.id,brand:Z.make,model:Z.model,year:Z.year,type:Z.car_category,seats:Z.seats,doors:Z.doors,transmission:Z.transmission,fuelType:Z.fuel_type,mileage:Z.mileage,drive:Z.wheels_drive,location:Z.live_location?.address??"N/A",price:Number(Z.daily_rate),holidayRate:Number(Z.holiday_rate),rating:F,reviews:ee.length,features:Z.features??[],description:Z.notes??"",images:[Z.main_image_url,Z.front_image_url,Z.back_image_url,Z.left_image_url,Z.right_image_url].filter(Boolean),deliveryAvailable:!!Z.delivery_available};if(!L)return;if(n(de),h(0),localStorage.getItem("authToken")||localStorage.getItem("token")){j(!0);try{const G=await Le.get("/cars/favorites/list"),ie=z(G.data);if(!L)return;c(E(ie,de.id))}catch{if(!L)return;c(!1)}finally{L&&j(!1)}}else j(!1);try{const G=await Le.get("/cars"),ie=G.data?.cars??G.data?.data??[],le=(Array.isArray(ie)?ie:[]).filter(be=>String(be.id)!==String(Z.id)).slice(0,3).map(be=>{const ye=be.feedbacks??[],$=ye.length>0?(ye.reduce((V,me)=>V+(Number(me.rating)||0),0)/ye.length).toFixed(1):null;return{id:be.id,brand:be.make,make:be.make,model:be.model,year:be.year,type:be.car_category,category:be.car_category,price:Number(be.daily_rate),image:be.main_image_url,rating:$,reviews:ye.length,seats:be.seats,doors:be.doors,fuel_type:be.fuel_type,fuelType:be.fuel_type}});L&&N(le)}catch{L&&N([])}}catch(Q){console.error("Car fetch error:",Q),xe.error("Failed to load car details."),L&&n(null)}finally{L&&i(!1)}})(),window.scrollTo(0,0),()=>{L=!1}},[s]),w.useEffect(()=>{!m||!r||r.deliveryAvailable||b(L=>({...L,location:r.location||"N/A"}))},[m,r]);const T=(()=>{if(!g.pickupDate||!g.returnDate)return 0;const L=new Date(g.pickupDate),J=new Date(g.returnDate),Q=Math.ceil((J-L)/(1e3*60*60*24));return Q>0?Q:0})(),re=r?T*r.price:0,Y=async()=>{if(!r||_)return;if(!(localStorage.getItem("authToken")||localStorage.getItem("token"))){xe.error("Please log in to save favorites.");return}const J=!o;c(J),window.dispatchEvent(new Event("favoritesUpdated"));try{await Le.post(`/cars/${r.id}/favorite`),xe.success(J?"Added to favorites":"Removed from favorites")}catch(Q){console.error("Favorite toggle error:",Q),c(!J),window.dispatchEvent(new Event("favoritesUpdated")),xe.error("Failed to update favorite. Please try again.")}},I=()=>{if(!r)return!1;if(r.deliveryAvailable&&!g.location.trim())return xe.error("Please enter pickup location."),!1;if(!g.pickupDate)return xe.error("Please select pickup date/time."),!1;if(!g.returnDate)return xe.error("Please select return date/time."),!1;const L=new Date(g.pickupDate);return new Date(g.returnDate)<=L?(xe.error("Return date must be after pickup date."),!1):!0},K=async L=>{if(L.preventDefault(),!!I()){y(!0);try{const J={car_id:r.id,start_datetime:g.pickupDate,end_datetime:g.returnDate,pickup_location:r.deliveryAvailable?g.location:r.location,reason_of_booking:g.reason};(await Le.post("/bookings",J)).status===201?(xe.success("Booking request submitted successfully! We'll contact you shortly.",{duration:5e3}),f(!1),b({pickupDate:"",returnDate:"",location:"",reason:""})):xe.error("Unexpected response from server. Please try again.")}catch(J){console.error("Booking error:",J);let Q="Failed to submit booking request. Please try again.";if(J.response){if(J.response.status===400)Q=J.response.data.message||Q;else if(J.response.status===422){const Z=J.response.data.errors;Q=Object.values(Z).flat().join(`
`)}}xe.error(Q,{duration:5e3})}finally{y(!1)}}};return a?e.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading car details..."})]})}):r?e.jsxs("div",{className:"min-h-screen pt-20 bg-background",children:[e.jsx("div",{className:"sticky top-16 z-40 border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between gap-3",children:[e.jsxs(fe,{variant:"ghost",onClick:()=>t("/cars"),"aria-label":"Back to cars",children:[e.jsx(Ki,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Back"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(fe,{variant:o?"secondary":"outline",onClick:Y,"aria-label":o?"Remove from favorites":"Add to favorites",disabled:_,children:[e.jsx(nc,{className:`w-4 h-4 mr-2 ${o?"fill-primary text-primary":""}`,"aria-hidden":"true"}),o?"Saved":"Save"]}),e.jsx(fe,{onClick:()=>f(!0),className:"bg-gradient-to-r from-teal-600 to-cyan-600 text-white",children:"Book Now"})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-6 grid lg:grid-cols-12 gap-6",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[e.jsx(Ue,{className:"overflow-hidden",children:e.jsxs(He,{className:"p-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-[16/9] bg-muted",children:C?e.jsx("img",{src:`/api/storage/${C}`,alt:`${r.brand} ${r.model}`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-sm text-muted-foreground",children:"No images available"})}),r.type&&e.jsx("div",{className:"absolute left-4 top-4",children:e.jsx(Ge,{className:"rounded-full",children:r.type})}),r.rating&&e.jsxs("div",{className:"absolute right-4 top-4 rounded-full bg-background/80 backdrop-blur px-3 py-1 flex items-center gap-2 border",children:[e.jsx(ir,{className:"w-4 h-4 fill-yellow-500 text-yellow-500","aria-hidden":"true"}),e.jsx("span",{className:"text-sm font-semibold",children:r.rating}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",r.reviews,")"]})]})]}),r.images?.length>1&&e.jsx("div",{className:"p-4 border-t",children:e.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-6 md:grid-cols-7 gap-2",children:r.images.map((L,J)=>e.jsx("button",{onClick:()=>h(J),className:`relative rounded-lg overflow-hidden border transition ${d===J?"ring-2 ring-primary border-transparent":"hover:border-primary/40"}`,"aria-label":`View image ${J+1}`,children:e.jsx("img",{src:`/api/storage/${L}`,alt:`Thumbnail ${J+1}`,className:"h-14 w-full object-cover",loading:"lazy"})},`${L}-${J}`))})})]})}),e.jsx(Ue,{children:e.jsxs(He,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:[r.brand," ",r.model," ",e.jsxs("span",{className:"text-muted-foreground font-semibold",children:["(",r.year,")"]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx(Ate,{icon:e.jsx(js,{className:"w-4 h-4"}),label:r.location}),e.jsx(Ge,{variant:"secondary",className:"rounded-full",children:r.deliveryAvailable?"Delivery available":"Pickup only"})]})]}),e.jsxs("div",{className:"text-left sm:text-right",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Starting from"}),e.jsxs("p",{className:"text-3xl font-bold",children:["$",r.price,e.jsx("span",{className:"text-sm font-semibold text-muted-foreground",children:"/day"})]}),Number.isFinite(r.holidayRate)&&r.holidayRate>0&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Holiday: ",e.jsxs("span",{className:"font-semibold",children:["$",r.holidayRate]})]})]})]}),e.jsx(hd,{}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsx(ku,{icon:_s,label:"Seats",value:r.seats??"N/A"}),e.jsx(ku,{icon:eW,label:"Doors",value:r.doors??"N/A"}),e.jsx(ku,{icon:V0,label:"Fuel",value:r.fuelType??"N/A"}),e.jsx(ku,{icon:Vm,label:"Transmission",value:r.transmission??"N/A"}),e.jsx(ku,{icon:Wl,label:"Mileage",value:r.mileage?`${r.mileage} km`:"N/A"}),e.jsx(ku,{icon:Qt,label:"Drive",value:r.drive??"N/A"})]})]})}),e.jsx(Ue,{children:e.jsxs(He,{className:"p-5 space-y-3",children:[e.jsx("h3",{className:"text-base font-semibold",children:"Description"}),e.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:r.description?.trim()?r.description:"No description provided."})]})}),r.features?.length>0&&e.jsx(Ue,{children:e.jsxs(He,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base font-semibold",children:"Features"}),e.jsxs(Ge,{variant:"secondary",className:"rounded-full",children:[r.features.length," included"]})]}),e.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:r.features.map((L,J)=>e.jsxs("div",{className:"flex items-start gap-2 rounded-lg border p-3",children:[e.jsx(Xr,{className:"w-4 h-4 text-primary mt-0.5","aria-hidden":"true"}),e.jsx("span",{className:"text-sm",children:L})]},`${L}-${J}`))})]})})]}),e.jsx("div",{className:"lg:col-span-4",children:e.jsx(Ue,{className:"sticky top-28",children:e.jsxs(He,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(Ge,{className:"rounded-full w-fit",children:r.type||"Car"}),e.jsxs("h2",{className:"text-lg font-semibold leading-tight",children:[r.brand," ",r.model]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Price: ",e.jsxs("span",{className:"font-semibold",children:["$",r.price,"/day"]})]})]}),r.rating&&e.jsxs("div",{className:"rounded-xl border px-3 py-2 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(ir,{className:"w-4 h-4 fill-yellow-500 text-yellow-500","aria-hidden":"true"}),e.jsx("span",{className:"font-semibold",children:r.rating})]}),e.jsxs("p",{className:"text-[11px] text-muted-foreground",children:[r.reviews," reviews"]})]})]}),e.jsx(hd,{}),e.jsxs("div",{className:"rounded-xl border bg-muted/30 p-4 space-y-2",children:[e.jsx(Hg,{label:"Pickup type",value:r.deliveryAvailable?"Delivery":"Pickup only"}),e.jsx(Hg,{label:"Car location",value:r.location}),e.jsx(Hg,{label:"Fuel",value:r.fuelType??"N/A"}),e.jsx(Hg,{label:"Transmission",value:r.transmission??"N/A"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{className:"flex-1 bg-gradient-to-r from-teal-600 to-cyan-600 text-white",onClick:()=>f(!0),children:"Book Now"}),e.jsx(fe,{variant:"outline",onClick:Y,"aria-label":o?"Remove from favorites":"Add to favorites",disabled:_,children:e.jsx(nc,{className:`w-4 h-4 ${o?"fill-primary text-primary":""}`,"aria-hidden":"true"})})]}),e.jsx("p",{className:"text-[11px] text-muted-foreground leading-relaxed",children:"Submit a booking request and our team will confirm availability with you."})]})})})]}),S.length>0&&e.jsxs("div",{className:"container mx-auto px-4 py-6 border-t",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"You might also like"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:S.map(L=>e.jsx(R2,{car:L},L.id))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(fe,{variant:"outline",asChild:!0,children:e.jsx(Fs,{to:"/cars",children:"View all cars"})})})]}),e.jsx(yr,{open:m,onOpenChange:f,children:e.jsxs(ur,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs(hr,{children:[e.jsxs(fr,{className:"text-xl",children:["Book ",r.brand," ",r.model]}),e.jsx(xi,{className:"text-sm",children:r.deliveryAvailable?"Choose pickup location and rental dates.":"Delivery is not available for this car. Pickup is at the car location."})]}),e.jsxs("form",{onSubmit:K,className:"space-y-4 mt-2",children:[r.deliveryAvailable?e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"location",className:"text-xs",children:"Pickup Location *"}),e.jsxs("div",{className:"relative",children:[e.jsx(js,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),e.jsx(Ae,{id:"location",required:!0,value:g.location,onChange:L=>b({...g,location:L.target.value}),placeholder:"City, Airport, or Address",className:"pl-8 h-9 text-sm"})]})]}):e.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Pickup location"}),e.jsx("p",{className:"text-sm font-semibold",children:r.location||"N/A"}),e.jsx("p",{className:"text-[11px] text-muted-foreground mt-1",children:"Pickup is at the car location."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"pickupDate",className:"text-xs",children:"Start Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Bs,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),e.jsx(Ae,{id:"pickupDate",type:"datetime-local",required:!0,value:g.pickupDate,onChange:L=>b(J=>({...J,pickupDate:L.target.value,returnDate:J.returnDate&&new Date(J.returnDate)<=new Date(L.target.value)?"":J.returnDate})),min:k,className:"pl-8 h-9 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"returnDate",className:"text-xs",children:"End Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Bs,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),e.jsx(Ae,{id:"returnDate",type:"datetime-local",required:!0,value:g.returnDate,onChange:L=>b({...g,returnDate:L.target.value}),min:g.pickupDate||k,className:"pl-8 h-9 text-sm"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"reason",className:"text-xs",children:"Reason (optional)"}),e.jsx(Ae,{id:"reason",value:g.reason,onChange:L=>b({...g,reason:L.target.value}),placeholder:"Vacation, business trip, wedding...",className:"h-9 text-sm"})]}),e.jsx(hd,{}),e.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Daily rate"}),e.jsxs("span",{className:"font-medium",children:["$",r.price,"/day"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Days"}),e.jsx("span",{className:"font-medium",children:T>0?T:"--"})]}),e.jsx(hd,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold",children:"Estimated total"}),e.jsx("span",{className:"text-2xl font-bold text-teal-600 dark:text-teal-400",children:T>0?`$${re}`:"--"})]}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Final confirmation depends on availability and terms."})]}),e.jsx(fe,{type:"submit",className:"w-full bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 font-semibold h-10 text-sm",disabled:v,children:v?"Submitting...":"Confirm Booking Request"})]})]})})]}):e.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center p-4 bg-background",children:e.jsx(Ue,{className:"max-w-md w-full",children:e.jsxs(He,{className:"p-6 text-center space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Car not found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"The vehicle you're looking for doesn't exist or was removed."}),e.jsxs(fe,{onClick:()=>t("/cars"),className:"w-full",children:[e.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Back to Cars"]})]})})})},Ate=({icon:s,label:t})=>e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border bg-background px-3 py-1 text-xs text-muted-foreground",children:[e.jsx("span",{"aria-hidden":"true",children:s}),e.jsx("span",{className:"truncate max-w-[260px]",children:t})]}),ku=({icon:s,label:t,value:r})=>e.jsx("div",{className:"rounded-xl border p-4 bg-background hover:bg-muted/30 transition",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(s,{className:"w-5 h-5","aria-hidden":"true"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:t}),e.jsx("p",{className:"font-semibold",children:r})]})]})}),Hg=({label:s,value:t})=>e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:s}),e.jsx("span",{className:"text-xs font-medium text-right",children:t})]}),Ete=()=>{const[s,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(1),[o,c]=w.useState({current_page:1,last_page:1,per_page:20,total:0,next_page_url:null,prev_page_url:null}),d=v=>{const y=v.feedbacks??[],_=y.length>0?(y.reduce((j,S)=>j+(Number(S.rating)||0),0)/y.length).toFixed(1):null;return{id:v.id,make:v.make,brand:v.make,model:v.model,year:v.year,type:v.car_category,category:v.car_category,seats:v.seats,doors:v.doors,transmission:v.transmission,fuelType:v.fuel_type,fuel_type:v.fuel_type,drive:v.wheels_drive,cylinders:v.cylinder_number,mileage:v.mileage,color:v.color,dailyRate:Number(v.daily_rate),holidayRate:Number(v.holiday_rate),price:Number(v.daily_rate),hasDeposit:!!v.is_deposit,deposit:Number(v.deposit),maxMileage:v.max_driving_mileage,minDays:v.min_rental_days,withDriver:!!v.with_driver,driverFees:Number(v.driver_fees),location:v.live_location?.address??"N/A",isDelivered:!!v.is_delivered,deliveryFees:Number(v.delivery_fees),description:v.notes??"",features:v.features??[],addons:v.car_add_on??[],rating:_,reviews:y.length,feedbacks:y,images:[v.main_image_url,v.front_image_url,v.back_image_url,v.left_image_url,v.right_image_url].filter(Boolean),image:v.main_image_url||v.front_image_url||""}},h=w.useCallback(async(v=1)=>{n(!0);try{const _=(await Le.get("/cars/favorites/list",{params:{page:v}})).data?.favorites,j=(_?.data??[]).map(d);t(j),c({current_page:_?.current_page??v,last_page:_?.last_page??1,per_page:_?.per_page??20,total:_?.total??j.length,next_page_url:_?.next_page_url??null,prev_page_url:_?.prev_page_url??null}),i(_?.current_page??v)}catch(y){console.error("Favorites fetch error:",y),xe.error("Failed to load favorites. Please try again."),t([])}finally{n(!1)}},[]),m=w.useCallback(async v=>{const y=s;t(_=>_.filter(j=>j.id!==v));try{await Le.post(`/cars/${v}/favorite`),xe.success("Removed from favorites"),window.dispatchEvent(new Event("favoritesUpdated")),h(a)}catch(_){console.error("Toggle favorite error:",_),xe.error("Failed to update favorite. Please try again."),t(y)}},[s,h,a]);w.useEffect(()=>{h(1);const v=()=>h(a);return window.addEventListener("favoritesUpdated",v),()=>window.removeEventListener("favoritesUpdated",v)},[h,a]);const f=w.useMemo(()=>r?"Loading your favorites...":o.total===0?"No favorites yet. Start exploring our fleet!":`You have ${o.total} vehicle${o.total>1?"s":""} in your favorites`,[r,o.total]),g=o.prev_page_url&&a>1,b=o.next_page_url&&a<o.last_page;return e.jsxs("div",{className:"min-h-screen pt-20",children:[e.jsx("section",{className:"bg-gradient-to-br from-accent/5 via-secondary/5 to-primary/5 py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs(Ge,{className:"mb-2 bg-accent/10 text-accent-foreground border-accent/20",children:[e.jsx(nc,{className:"w-3 h-3 mr-1 fill-current"}),"Favorites"]}),e.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>h(a),disabled:r,"aria-label":"Refresh favorites",className:"mb-2",children:[e.jsx(Ft,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Your Favorite Vehicles"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:f}),!r&&o.total>0&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Page ",o.current_page," of ",o.last_page]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:r?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:Array.from({length:6}).map((v,y)=>e.jsxs(Ue,{className:"p-6",children:[e.jsx("div",{className:"h-40 rounded-xl bg-muted animate-pulse mb-4"}),e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-2/3 mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-1/2"})]},y))}):s.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:s.map(v=>e.jsx(R2,{car:v,forceFavorite:!0,onToggleFavoriteApi:()=>m(v.id)},v.id))}),(o.last_page??1)>1&&e.jsxs("div",{className:"flex items-center justify-center gap-3 mt-10",children:[e.jsxs(fe,{variant:"outline",onClick:()=>h(a-1),disabled:!g||r,"aria-label":"Previous page",children:[e.jsx(vi,{className:"w-4 h-4 mr-2"}),"Prev"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",e.jsx("span",{className:"font-semibold",children:o.current_page})," /"," ",e.jsx("span",{className:"font-semibold",children:o.last_page})]}),e.jsxs(fe,{variant:"outline",onClick:()=>h(a+1),disabled:!b||r,"aria-label":"Next page",children:["Next",e.jsx(Zr,{className:"w-4 h-4 ml-2"})]})]})]}):e.jsxs(Ue,{className:"p-12 text-center max-w-2xl mx-auto",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-muted mx-auto mb-6 flex items-center justify-center",children:e.jsx(nc,{className:"w-12 h-12 text-muted-foreground"})}),e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"No Favorites Yet"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"Start adding vehicles to your favorites to keep track of the cars you love. Click the heart icon on any vehicle card to add it here."}),e.jsx(Fs,{to:"/cars",children:e.jsxs(fe,{size:"lg",className:"bg-primary hover:bg-primary-light text-primary-foreground",children:["Browse Our Fleet",e.jsx(Nd,{className:"w-5 h-5 ml-2"})]})})]})})]})},Tte=()=>{const s=[{icon:nc,title:"Customer First",description:"Your satisfaction and experience are at the heart of everything we do."},{icon:Dn,title:"Trust & Safety",description:"All vehicles are fully insured and professionally maintained for maximum safety."},{icon:w_,title:"Excellence",description:"We provide premium-quality cars and top-tier customer service across Lebanon."},{icon:gW,title:"Accessibility",description:"Car rental services available across Beirut, airport, and major Lebanese cities."}],t=[{value:"15+",label:"Years in Car Rental in Lebanon"},{value:"10,000+",label:"Happy Clients"},{value:"50+",label:"Premium Rental Cars"},{value:"25",label:"Lebanese Cities Covered"}],r=[{name:"Rami Z.",role:"Co-Founder",image:"https://media.licdn.com/dms/image/v2/D4D03AQE-SI2RbsIKJg/profile-displayphoto-scale_400_400/B4DZkR13KuIEAw-/0/1756940957455?e=1766620800&v=beta&t=zeHYUyUBfpn25qt5t5noPx63zsRssAtxFJfix_St0u8",bio:"Expert in the Lebanese car rental industry for over 15 years."},{name:"Ali Z.",role:"Operations Director",image:"https://i.pravatar.cc/200?img=1",bio:"Specialist in fleet management and customer satisfaction."},{name:"Dib Bailoun",role:"Fleet Manager",image:"https://media.licdn.com/dms/image/v2/D4E03AQG5-k6KT0xAkQ/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1676234982153?e=1766620800&v=beta&t=9DRUyjBNMmfBBksjIy_xP0VADrIcR6ikoHK2R8bUPjM",bio:"Ensures all cars meet the highest maintenance and safety standards."},{name:"Ahmad",role:"Customer Relations",image:"https://i.pravatar.cc/200?img=1",bio:"Dedicated to providing fast and friendly rental service."}];return e.jsxs("div",{className:"min-h-screen pt-20",children:[e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"CarRental",name:"Rento LB",url:"https://rento-lb.com",address:{"@type":"PostalAddress",addressCountry:"LB",addressLocality:"Beirut",streetAddress:"Beirut, Lebanon"},description:"Rent a car in Lebanon  luxury, SUV, sedan, economy cars. Beirut airport delivery. Affordable daily and monthly prices.",openingHours:"Mo-Su 00:00-23:59",telephone:"+961 81 001301",image:"https://rento-lb.com/og-image.jpg"})}),e.jsx("section",{className:"relative py-20 bg-gradient-to-br from-primary/5 via-secondary/5 to-accent/5",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx(Ge,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"About Rento LB"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"The #1 Car Rental Company in Lebanon"}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"RENTO LB provides premium, affordable, and reliable car rental services across Lebanon. With 15+ years of experience, we offer luxury, SUV, and economy cars with airport pickup, 24/7 support, and delivery anywhere in Beirut and surrounding cities."})]})})}),e.jsx("section",{className:"py-12 bg-card border-y border-border",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:t.map((n,a)=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl md:text-4xl font-bold gradient-text-accent mb-2",children:n.value}),e.jsx("p",{className:"text-muted-foreground",children:n.label})]},a))})})}),e.jsx("section",{className:"py-20",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx(Ge,{className:"mb-4 bg-primary/10 text-primary border-primary/20",children:"Our Story"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Leading the Car Rental Industry in Lebanon"}),e.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[e.jsx("p",{children:"Rento LB started with a mission to offer safe, reliable, and affordable car rental services in Lebanon. Since 2008, weve grown into one of the leading rental companies in Beirut, serving thousands of happy clients every year."}),e.jsx("p",{children:"We offer a full range of vehiclesfrom economic cars for everyday use, to SUVs for families, to luxury cars for special occasions."}),e.jsx("p",{children:"Whether you're a tourist or a resident, our goal is to deliver the best car rental experience with transparent pricing, clean vehicles, and fast service."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=600&q=80",alt:"Affordable luxury car rental in Beirut Lebanon - Rento LB",className:"rounded-2xl w-full h-64 object-cover hover-glow"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1555215695-3004980ad54e?w=600&q=80",alt:"Rent a BMW in Beirut Lebanon - Cheap car rental",className:"rounded-2xl w-full h-64 object-cover hover-glow mt-8"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=600&q=80",alt:"Best car rental company in Lebanon - Rento LB",className:"rounded-2xl w-full h-64 object-cover hover-glow"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=600&q=80",alt:"SUV rental in Beirut Lebanon",className:"rounded-2xl w-full h-64 object-cover hover-glow mt-8"})]})]})})}),e.jsx("section",{className:"py-20 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(Ge,{className:"mb-4 bg-accent/10 text-accent-foreground border-accent/20",children:"Our Values"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Why Customers Choose Rento LB"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"We focus on reliability, transparency, and exceptional service across Lebanon."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((n,a)=>e.jsx(Ue,{className:"text-center hover-glow transition-all",children:e.jsxs(He,{className:"pt-8 pb-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center mx-auto mb-4",children:e.jsx(n.icon,{className:"w-8 h-8 text-primary-foreground"})}),e.jsx("h3",{className:"text-xl font-bold mb-3",children:n.title}),e.jsx("p",{className:"text-muted-foreground",children:n.description})]})},a))})]})}),e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(Ge,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"Our Lebanese Team"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Meet the People Behind Rento LB"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Our experienced team ensures the highest level of service in the Lebanese car rental industry."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((n,a)=>e.jsxs(Ue,{className:"overflow-hidden hover-glow transition-all",children:[e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:n.image,alt:`${n.name} - Rento LB Car Rental Lebanon`,className:"w-full h-full object-cover"})}),e.jsxs(He,{className:"p-6 text-center",children:[e.jsx("h3",{className:"text-xl font-bold mb-1",children:n.name}),e.jsx("p",{className:"text-secondary font-medium mb-2",children:n.role}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n.bio})]})]},a))})]})}),e.jsxs("section",{className:"py-20 bg-gradient-to-br from-primary via-primary-light to-secondary relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-white rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-accent rounded-full blur-3xl"})]}),e.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Book Your Car Rental in Lebanon Today"}),e.jsx("p",{className:"text-lg text-white/90 mb-8 max-w-2xl mx-auto",children:"Select your car and enjoy fast delivery anywhere in Lebanon."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("a",{href:"/cars",children:e.jsx("button",{className:"px-8 py-3 bg-white text-primary hover:bg-white/90 font-semibold rounded-lg transition-smooth",children:"View Available Cars"})}),e.jsx("a",{href:"/contact",children:e.jsx("button",{className:"px-8 py-3 border-2 border-white text-white hover:bg-white/10 font-semibold rounded-lg transition-smooth",children:"Contact Rento LB"})})]})]})]})]})},vn=w.forwardRef(({className:s,...t},r)=>e.jsx("textarea",{className:Tt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...t}));vn.displayName="Textarea";const Rte=()=>{const[s,t]=w.useState({name:"",email:"",phone:"",subject:"",message:""}),r=i=>{i.preventDefault(),xe.success("Message sent successfully! We'll get back to you soon.",{duration:5e3}),t({name:"",email:"",phone:"",subject:"",message:""})},n=[{icon:js,title:"Visit Us",details:["Mount Liban","Baouchrieh, Lebanon"],color:"from-primary to-primary-light"},{icon:Za,title:"Call Us",details:["+961 (81) 001-301"],color:"from-secondary to-secondary-light"},{icon:ja,title:"Email Us",details:["social@rento-lb.com"],color:"from-accent to-accent-light"},{icon:mc,title:"Business Hours",details:["24/7"],color:"from-primary-dark to-secondary"}],a=[{city:"London",address:"124-128 City Road, London, England, EC1V 2NX",phone:"Not available"},{city:"Mount Liban",address:"Baouchrieh, Lebanon",phone:"+961 (81) 001-301"}];return e.jsxs("div",{className:"min-h-screen pt-20",children:[e.jsx("section",{className:"bg-gradient-to-br from-primary/5 via-secondary/5 to-accent/5 py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx(Ge,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"Contact Us"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Get in Touch"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Have questions? We're here to help. Reach out to our team for any inquiries about our vehicles or services."})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:n.map((i,o)=>e.jsx(Ue,{className:"hover-glow transition-all",children:e.jsxs(He,{className:"pt-6 text-center",children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${i.color} flex items-center justify-center mx-auto mb-4`,children:e.jsx(i.icon,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold text-lg mb-3",children:i.title}),i.details.map((c,d)=>e.jsx("p",{className:"text-muted-foreground text-sm",children:c},d))]})},o))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsx(Ue,{children:e.jsxs(He,{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send Us a Message"}),e.jsxs("form",{onSubmit:r,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"name",children:"Full Name *"}),e.jsx(Ae,{id:"name",required:!0,value:s.name,onChange:i=>t({...s,name:i.target.value}),placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"email",children:"Email Address *"}),e.jsx(Ae,{id:"email",type:"email",required:!0,value:s.email,onChange:i=>t({...s,email:i.target.value}),placeholder:"john@example.com"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"phone",children:"Phone Number"}),e.jsx(Ae,{id:"phone",type:"tel",value:s.phone,onChange:i=>t({...s,phone:i.target.value}),placeholder:"+96181001301"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"subject",children:"Subject *"}),e.jsx(Ae,{id:"subject",required:!0,value:s.subject,onChange:i=>t({...s,subject:i.target.value}),placeholder:"How can we help you?"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"message",children:"Message *"}),e.jsx(vn,{id:"message",required:!0,value:s.message,onChange:i=>t({...s,message:i.target.value}),placeholder:"Tell us more about your inquiry...",rows:6})]}),e.jsxs(fe,{type:"submit",size:"lg",className:"w-full bg-secondary hover:bg-secondary-light text-secondary-foreground font-semibold",children:[e.jsx(G0,{className:"w-5 h-5 mr-2"}),"Send Message"]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ue,{className:"overflow-hidden",children:e.jsx("a",{href:"https://www.google.com/maps?q=33.8861985,35.5591084",target:"_blank",rel:"noopener noreferrer",children:e.jsxs("div",{className:"aspect-video bg-muted relative cursor-pointer",children:[e.jsx("img",{src:"https://www.mountain-forecast.com/locationmaps/Mount-Lebanon.10.gif",alt:"Map Location",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[e.jsx("p",{className:"font-bold text-lg",children:"Main Office"}),e.jsx("p",{className:"text-sm",children:"Mount Liban, Baouchrieh, Lebanon"})]})]})})}),e.jsx(Ue,{children:e.jsxs(He,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Our Locations"}),e.jsx("div",{className:"space-y-4",children:a.map((i,o)=>e.jsxs("div",{className:"pb-4 border-b border-border last:border-0 last:pb-0",children:[e.jsx("h4",{className:"font-semibold text-lg mb-1",children:i.city}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:i.address}),e.jsx("p",{className:"text-sm text-secondary font-medium",children:i.phone})]},o))})]})})]})]}),e.jsxs("section",{className:"mt-20",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(Ge,{className:"mb-4 bg-accent/10 text-accent-foreground border-accent/20",children:"FAQ"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Find quick answers to common questions about our services"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[e.jsx(Ue,{children:e.jsxs(He,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"What documents do I need to rent?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"You'll need a valid driver's license, a major credit card in your name, and proof of insurance. International customers may need additional documentation."})]})}),e.jsx(Ue,{children:e.jsxs(He,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"What's your cancellation policy?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Free cancellation up to 48 hours before pickup. Cancellations within 48 hours may incur a fee. Please contact us for specific details."})]})}),e.jsx(Ue,{children:e.jsxs(He,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Is insurance included?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Basic insurance is included with all rentals. Additional coverage options are available for purchase during booking."})]})}),e.jsx(Ue,{children:e.jsxs(He,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Can I extend my rental period?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Yes! Contact us at least 24 hours before your scheduled return to extend your rental, subject to vehicle availability."})]})}),e.jsx(Ue,{children:e.jsxs(He,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Do you offer airport pickup?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Absolutely! We offer complimentary airport pickup and drop-off at major airports. Please specify this when booking."})]})}),e.jsx(Ue,{children:e.jsxs(He,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"What's the minimum rental period?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Our minimum rental period is 24 hours. We also offer attractive rates for weekly and monthly rentals."})]})})]})]})]})]})};function Sa(s){const t=Object.prototype.toString.call(s);return s instanceof Date||typeof s=="object"&&t==="[object Date]"?new s.constructor(+s):typeof s=="number"||t==="[object Number]"||typeof s=="string"||t==="[object String]"?new Date(s):new Date(NaN)}function Td(s,t){return s instanceof Date?new s.constructor(t):new Date(t)}const WL=6048e5,Dte=864e5;let Mte={};function gy(){return Mte}function km(s,t){const r=gy(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Sa(s),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function g0(s){return km(s,{weekStartsOn:1})}function YL(s){const t=Sa(s),r=t.getFullYear(),n=Td(s,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=g0(n),i=Td(s,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=g0(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function dT(s){const t=Sa(s);return t.setHours(0,0,0,0),t}function uT(s){const t=Sa(s),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+s-+r}function KL(s,t){const r=dT(s),n=dT(t),a=+r-uT(r),i=+n-uT(n);return Math.round((a-i)/Dte)}function Pte(s){const t=YL(s),r=Td(s,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),g0(r)}function Ote(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Lte(s){if(!Ote(s)&&typeof s!="number")return!1;const t=Sa(s);return!isNaN(Number(t))}function Fte(s,t){const r=Sa(s),n=Sa(t),a=hT(r,n),i=Math.abs(KL(r,n));r.setDate(r.getDate()-a*i);const o=+(hT(r,n)===-a),c=a*(i-o);return c===0?0:c}function hT(s,t){const r=s.getFullYear()-t.getFullYear()||s.getMonth()-t.getMonth()||s.getDate()-t.getDate()||s.getHours()-t.getHours()||s.getMinutes()-t.getMinutes()||s.getSeconds()-t.getSeconds()||s.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Bte(s){const t=Sa(s),r=Td(s,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Ite={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zte=(s,t,r)=>{let n;const a=Ite[s];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function kw(s){return(t={})=>{const r=t.width?String(t.width):s.defaultWidth;return s.formats[r]||s.formats[s.defaultWidth]}}const Ute={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$te={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hte={date:kw({formats:Ute,defaultWidth:"full"}),time:kw({formats:$te,defaultWidth:"full"}),dateTime:kw({formats:Vte,defaultWidth:"full"})},qte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gte=(s,t,r,n)=>qte[s];function Df(s){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&s.formattingValues){const o=s.defaultFormattingWidth||s.defaultWidth,c=r?.width?String(r.width):o;a=s.formattingValues[c]||s.formattingValues[o]}else{const o=s.defaultWidth,c=r?.width?String(r.width):s.defaultWidth;a=s.values[c]||s.values[o]}const i=s.argumentCallback?s.argumentCallback(t):t;return a[i]}}const Wte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jte=(s,t)=>{const r=Number(s),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ese={ordinalNumber:Jte,era:Df({values:Wte,defaultWidth:"wide"}),quarter:Df({values:Yte,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Df({values:Kte,defaultWidth:"wide"}),day:Df({values:Xte,defaultWidth:"wide"}),dayPeriod:Df({values:Zte,defaultWidth:"wide",formattingValues:Qte,defaultFormattingWidth:"wide"})};function Mf(s){return(t,r={})=>{const n=r.width,a=n&&s.matchPatterns[n]||s.matchPatterns[s.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],c=n&&s.parsePatterns[n]||s.parsePatterns[s.defaultParseWidth],d=Array.isArray(c)?sse(c,f=>f.test(o)):tse(c,f=>f.test(o));let h;h=s.valueCallback?s.valueCallback(d):d,h=r.valueCallback?r.valueCallback(h):h;const m=t.slice(o.length);return{value:h,rest:m}}}function tse(s,t){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&t(s[r]))return r}function sse(s,t){for(let r=0;r<s.length;r++)if(t(s[r]))return r}function rse(s){return(t,r={})=>{const n=t.match(s.matchPattern);if(!n)return null;const a=n[0],i=t.match(s.parsePattern);if(!i)return null;let o=s.valueCallback?s.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=t.slice(a.length);return{value:o,rest:c}}}const nse=/^(\d+)(th|st|nd|rd)?/i,ase=/\d+/i,ise={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ose={any:[/^b/i,/^(a|c)/i]},lse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cse={any:[/1/i,/2/i,/3/i,/4/i]},dse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},use={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gse={ordinalNumber:rse({matchPattern:nse,parsePattern:ase,valueCallback:s=>parseInt(s,10)}),era:Mf({matchPatterns:ise,defaultMatchWidth:"wide",parsePatterns:ose,defaultParseWidth:"any"}),quarter:Mf({matchPatterns:lse,defaultMatchWidth:"wide",parsePatterns:cse,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Mf({matchPatterns:dse,defaultMatchWidth:"wide",parsePatterns:use,defaultParseWidth:"any"}),day:Mf({matchPatterns:hse,defaultMatchWidth:"wide",parsePatterns:fse,defaultParseWidth:"any"}),dayPeriod:Mf({matchPatterns:mse,defaultMatchWidth:"any",parsePatterns:pse,defaultParseWidth:"any"})},xse={code:"en-US",formatDistance:zte,formatLong:Hte,formatRelative:Gte,localize:ese,match:gse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yse(s){const t=Sa(s);return KL(t,Bte(t))+1}function bse(s){const t=Sa(s),r=+g0(t)-+Pte(t);return Math.round(r/WL)+1}function XL(s,t){const r=Sa(s),n=r.getFullYear(),a=gy(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Td(s,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=km(o,t),d=Td(s,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const h=km(d,t);return r.getTime()>=c.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function vse(s,t){const r=gy(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=XL(s,t),i=Td(s,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),km(i,t)}function wse(s,t){const r=Sa(s),n=+km(r,t)-+vse(r,t);return Math.round(n/WL)+1}function Os(s,t){const r=s<0?"-":"",n=Math.abs(s).toString().padStart(t,"0");return r+n}const Ul={y(s,t){const r=s.getFullYear(),n=r>0?r:1-r;return Os(t==="yy"?n%100:n,t.length)},M(s,t){const r=s.getMonth();return t==="M"?String(r+1):Os(r+1,2)},d(s,t){return Os(s.getDate(),t.length)},a(s,t){const r=s.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(s,t){return Os(s.getHours()%12||12,t.length)},H(s,t){return Os(s.getHours(),t.length)},m(s,t){return Os(s.getMinutes(),t.length)},s(s,t){return Os(s.getSeconds(),t.length)},S(s,t){const r=t.length,n=s.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Os(a,t.length)}},Su={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fT={G:function(s,t,r){const n=s.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(s,t,r){if(t==="yo"){const n=s.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ul.y(s,t)},Y:function(s,t,r,n){const a=XL(s,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Os(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Os(i,t.length)},R:function(s,t){const r=YL(s);return Os(r,t.length)},u:function(s,t){const r=s.getFullYear();return Os(r,t.length)},Q:function(s,t,r){const n=Math.ceil((s.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Os(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(s,t,r){const n=Math.ceil((s.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Os(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(s,t,r){const n=s.getMonth();switch(t){case"M":case"MM":return Ul.M(s,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(s,t,r){const n=s.getMonth();switch(t){case"L":return String(n+1);case"LL":return Os(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(s,t,r,n){const a=wse(s,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Os(a,t.length)},I:function(s,t,r){const n=bse(s);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Os(n,t.length)},d:function(s,t,r){return t==="do"?r.ordinalNumber(s.getDate(),{unit:"date"}):Ul.d(s,t)},D:function(s,t,r){const n=yse(s);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Os(n,t.length)},E:function(s,t,r){const n=s.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(s,t,r,n){const a=s.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Os(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(s,t,r,n){const a=s.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Os(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(s,t,r){const n=s.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Os(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(s,t,r){const a=s.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(s,t,r){const n=s.getHours();let a;switch(n===12?a=Su.noon:n===0?a=Su.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(s,t,r){const n=s.getHours();let a;switch(n>=17?a=Su.evening:n>=12?a=Su.afternoon:n>=4?a=Su.morning:a=Su.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(s,t,r){if(t==="ho"){let n=s.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ul.h(s,t)},H:function(s,t,r){return t==="Ho"?r.ordinalNumber(s.getHours(),{unit:"hour"}):Ul.H(s,t)},K:function(s,t,r){const n=s.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Os(n,t.length)},k:function(s,t,r){let n=s.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Os(n,t.length)},m:function(s,t,r){return t==="mo"?r.ordinalNumber(s.getMinutes(),{unit:"minute"}):Ul.m(s,t)},s:function(s,t,r){return t==="so"?r.ordinalNumber(s.getSeconds(),{unit:"second"}):Ul.s(s,t)},S:function(s,t){return Ul.S(s,t)},X:function(s,t,r){const n=s.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return pT(n);case"XXXX":case"XX":return od(n);case"XXXXX":case"XXX":default:return od(n,":")}},x:function(s,t,r){const n=s.getTimezoneOffset();switch(t){case"x":return pT(n);case"xxxx":case"xx":return od(n);case"xxxxx":case"xxx":default:return od(n,":")}},O:function(s,t,r){const n=s.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mT(n,":");case"OOOO":default:return"GMT"+od(n,":")}},z:function(s,t,r){const n=s.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mT(n,":");case"zzzz":default:return"GMT"+od(n,":")}},t:function(s,t,r){const n=Math.trunc(s.getTime()/1e3);return Os(n,t.length)},T:function(s,t,r){const n=s.getTime();return Os(n,t.length)}};function mT(s,t=""){const r=s>0?"-":"+",n=Math.abs(s),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Os(i,2)}function pT(s,t){return s%60===0?(s>0?"-":"+")+Os(Math.abs(s)/60,2):od(s,t)}function od(s,t=""){const r=s>0?"-":"+",n=Math.abs(s),a=Os(Math.trunc(n/60),2),i=Os(n%60,2);return r+a+t+i}const gT=(s,t)=>{switch(s){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ZL=(s,t)=>{switch(s){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},jse=(s,t)=>{const r=s.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return gT(s,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",gT(n,t)).replace("{{time}}",ZL(a,t))},_se={p:ZL,P:jse},Nse=/^D+$/,kse=/^Y+$/,Sse=["D","DD","YY","YYYY"];function Cse(s){return Nse.test(s)}function Ase(s){return kse.test(s)}function Ese(s,t,r){const n=Tse(s,t,r);if(console.warn(n),Sse.includes(s))throw new RangeError(n)}function Tse(s,t,r){const n=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Rse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mse=/^'([^]*?)'?$/,Pse=/''/g,Ose=/[a-zA-Z]/;function xT(s,t,r){const n=gy(),a=n.locale??xse,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=Sa(s);if(!Lte(c))throw new RangeError("Invalid time value");let d=t.match(Dse).map(m=>{const f=m[0];if(f==="p"||f==="P"){const g=_se[f];return g(m,a.formatLong)}return m}).join("").match(Rse).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const f=m[0];if(f==="'")return{isToken:!1,value:Lse(m)};if(fT[f])return{isToken:!0,value:m};if(f.match(Ose))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:m}});a.localize.preprocessor&&(d=a.localize.preprocessor(c,d));const h={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return d.map(m=>{if(!m.isToken)return m.value;const f=m.value;(Ase(f)||Cse(f))&&Ese(f,t,String(s));const g=fT[f[0]];return g(c,f,a.localize,h)}).join("")}function Lse(s){const t=s.match(Mse);return t?t[1].replace(Pse,"'"):s}const Fse=()=>{const s=br(),[t,r]=w.useState([]),[n,a]=w.useState([]),[i,o]=w.useState("all"),[c,d]=w.useState(!0),[h,m]=w.useState(null);w.useEffect(()=>{(async()=>{try{const S=(await Le.get("/driver/bookings/client")).data.bookings.data;r(S),a(S)}catch(j){console.error("Error fetching bookings:",j),m("Failed to load bookings"),xe.error("Could not load your bookings")}finally{d(!1)}})()},[]),w.useEffect(()=>{a(i==="all"?t:t.filter(_=>_.booking_request_status===i))},[i,t]);const f=_=>{const j={pending:{text:"Pending",icon:e.jsx(KG,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-yellow-100 to-amber-100 text-yellow-800 border-yellow-200 dark:from-yellow-900/30 dark:to-amber-900/30 dark:text-yellow-300 dark:border-yellow-700",badgeClass:"bg-yellow-500"},confirmed:{text:"Confirmed",icon:e.jsx(Kn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-green-200 dark:from-green-900/30 dark:to-emerald-900/30 dark:text-green-300 dark:border-green-700",badgeClass:"bg-green-500"},cancelled:{text:"Cancelled",icon:e.jsx(ta,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-800 border-gray-200 dark:from-gray-800/30 dark:to-slate-800/30 dark:text-gray-300 dark:border-gray-700",badgeClass:"bg-gray-500"},rejected:{text:"Rejected",icon:e.jsx(rc,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200 dark:from-red-900/30 dark:to-rose-900/30 dark:text-red-300 dark:border-red-700",badgeClass:"bg-red-500"},completed:{text:"Completed",icon:e.jsx(Kn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-800 border-blue-200 dark:from-blue-900/30 dark:to-cyan-900/30 dark:text-blue-300 dark:border-blue-700",badgeClass:"bg-blue-500"}};return j[_]||j.pending},g=(_,j,S)=>{!_||!j||_===0||j===0||window.open(`https://www.google.com/maps?q=${_},${j}`,"_blank")},b=_=>xT(new Date(_),"MMM dd, yyyy"),v=_=>xT(new Date(_),"h:mm a"),y=({car:_})=>{const[j,S]=w.useState(0),N=[_.main_image_url,_.front_image_url,_.back_image_url,_.left_image_url,_.right_image_url].filter(Boolean),k=()=>S(z=>(z+1)%N.length),C=()=>S(z=>(z-1+N.length)%N.length);return N.length?e.jsxs("div",{className:"relative group aspect-[16/10] rounded-t-xl overflow-hidden bg-gray-900",children:[e.jsx("img",{src:`/api/storage/${N[j]}`,alt:"Car",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),N.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:C,className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 p-1.5 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg hover:scale-110 active:scale-95",children:e.jsx(vi,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("button",{onClick:k,className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 p-1.5 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg hover:scale-110 active:scale-95",children:e.jsx(Zr,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("div",{className:"absolute bottom-3 sm:bottom-4 left-1/2 -translate-x-1/2 flex gap-1.5 sm:gap-2",children:N.map((z,E)=>e.jsx("button",{onClick:()=>S(E),className:`transition-all duration-300 rounded-full ${E===j?"bg-white w-6 sm:w-8 h-1.5 sm:h-2":"bg-white/60 hover:bg-white/80 w-1.5 sm:w-2 h-1.5 sm:h-2"}`},E))})]})]}):e.jsx("div",{className:"aspect-[16/10] bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 border-2 border-dashed rounded-t-xl flex items-center justify-center",children:e.jsx(Qt,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400"})})};return c?e.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 flex items-center justify-center bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 px-4",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-teal-200 dark:border-teal-900 rounded-full"}),e.jsx("div",{className:"absolute inset-0 border-4 border-teal-600 border-t-transparent rounded-full animate-spin"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground font-medium",children:"Loading your bookings..."})]})}):h?e.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 px-4",children:e.jsx("div",{className:"container mx-auto py-8 sm:py-12 max-w-2xl",children:e.jsxs(Ue,{className:"p-8 sm:p-12 text-center border-2 shadow-xl",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:e.jsx(rc,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-600 dark:text-red-400"})}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-3",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-6 sm:mb-8",children:h}),e.jsx(fe,{onClick:()=>window.location.reload(),size:"lg",className:"bg-teal-600 hover:bg-teal-700 w-full sm:w-auto",children:"Try Again"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 pt-16 sm:pt-20",children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8 max-w-7xl",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[e.jsxs(fe,{variant:"ghost",onClick:()=>s(-1),className:"hover:bg-teal-50 dark:hover:bg-teal-900/20 transition-colors -ml-2 sm:ml-0 h-9 sm:h-10 px-2 sm:px-4",size:"sm",children:[e.jsx(Ki,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Back"})]}),e.jsxs("div",{className:"text-left sm:text-center flex-1 w-full sm:w-auto",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:"My Bookings"}),e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[t.length," ",t.length===1?"booking":"bookings"," total"]})]}),e.jsx("div",{className:"hidden sm:block w-[100px]"})," "]}),e.jsx("div",{className:"mb-6 sm:mb-8 -mx-3 sm:mx-0 px-3 sm:px-0 overflow-x-auto scrollbar-hide",children:e.jsx(Ko,{value:i,onValueChange:o,children:e.jsxs(no,{className:"inline-flex sm:grid w-auto sm:w-full min-w-full sm:max-w-3xl sm:mx-auto grid-cols-6 h-11 sm:h-14 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border shadow-lg gap-0.5 sm:gap-1 p-1",children:[e.jsx(Yt,{value:"all",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-teal-500 data-[state=active]:to-cyan-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"All"}),e.jsxs(Yt,{value:"confirmed",className:"data-[state=active]:bg-green-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[e.jsx("span",{className:"hidden sm:inline",children:"Confirmed"}),e.jsx("span",{className:"sm:hidden",children:"Confirm"})]}),e.jsx(Yt,{value:"pending",className:"data-[state=active]:bg-yellow-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"Pending"}),e.jsxs(Yt,{value:"cancelled",className:"data-[state=active]:bg-gray-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[e.jsx("span",{className:"hidden sm:inline",children:"Cancelled"}),e.jsx("span",{className:"sm:hidden",children:"Cancel"})]}),e.jsx(Yt,{value:"rejected",className:"data-[state=active]:bg-red-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"Rejected"}),e.jsxs(Yt,{value:"completed",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[e.jsx("span",{className:"hidden sm:inline",children:"Completed"}),e.jsx("span",{className:"sm:hidden",children:"Done"})]})]})})}),n.length===0?e.jsxs(Ue,{className:"p-8 sm:p-16 text-center max-w-2xl mx-auto border-2 shadow-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:[e.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-teal-100 to-cyan-100 dark:from-teal-900/30 dark:to-cyan-900/30 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:e.jsx(Qt,{className:"w-10 h-10 sm:w-12 sm:h-12 text-teal-600 dark:text-teal-400"})}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-3 sm:mb-4",children:i==="all"?"No Bookings Yet":`No ${i.charAt(0).toUpperCase()+i.slice(1)} Bookings`}),e.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-muted-foreground mb-6 sm:mb-8",children:i==="all"?"Ready to hit the road? Browse our amazing fleet!":"You have no bookings in this category."}),i==="all"&&e.jsx(fe,{onClick:()=>s("/cars"),size:"lg",className:"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white shadow-lg w-full sm:w-auto",children:"Browse Cars"})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-4 sm:gap-6",children:n.map(_=>{const j=f(_.booking_request_status),S=Fte(new Date(_.end_datetime),new Date(_.start_datetime))+1,N=_.pickup_location||_.car.delivery_location||{},k=_.dropoff_location||_.car.return_location||{},C=N.address||"To be confirmed",z=N.latitude,E=N.longitude,U=k.address||"To be confirmed",T=k.latitude,re=k.longitude,Y=parseFloat(_.car.deposit||0),I=Y>0,K=z&&E&&z!==0&&E!==0,L=T&&re&&T!==0&&re!==0;return e.jsxs(Ue,{className:"overflow-hidden hover:shadow-2xl transition-all duration-500 flex flex-col h-full border-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm hover:-translate-y-1 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx(y,{car:_.car}),e.jsx("div",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 z-10",children:e.jsxs(Ge,{className:`${j.color} shadow-xl font-semibold px-2 py-1 sm:px-3 sm:py-1.5 border backdrop-blur-sm text-xs sm:text-sm`,children:[j.icon," ",e.jsx("span",{className:"ml-1",children:j.text})]})}),_.payment_status==="pending"&&e.jsxs(Ge,{className:"absolute top-2 sm:top-4 left-2 sm:left-4 bg-orange-500 text-white shadow-xl border-0 backdrop-blur-sm px-2 py-1 sm:px-3 sm:py-1.5 font-semibold text-xs sm:text-sm",children:[e.jsx(dr,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 mr-1"}),e.jsx("span",{className:"hidden xs:inline",children:"Payment Due"}),e.jsx("span",{className:"xs:hidden",children:"Due"})]}),e.jsxs("div",{className:"absolute bottom-2 sm:bottom-4 left-2 sm:left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-semibold shadow-lg flex items-center gap-1.5 sm:gap-2",children:[e.jsx(mc,{className:"w-3 h-3 sm:w-4 sm:h-4"}),S," day",S>1?"s":""]})]}),e.jsxs(ts,{className:"pb-3 sm:pb-4 pt-4 sm:pt-6 px-4 sm:px-6",children:[e.jsxs(ss,{className:"text-lg sm:text-xl lg:text-2xl font-bold flex items-start sm:items-center justify-between gap-2 flex-col xs:flex-row",children:[e.jsxs("span",{className:"truncate",children:[_.car.make," ",_.car.model]}),e.jsx(Ge,{variant:"outline",className:"font-mono text-xs shrink-0 self-start xs:self-auto",children:_.car.year})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-xs sm:text-sm text-muted-foreground pt-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Gi,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"truncate",children:_.car.car_category})]}),e.jsx(hd,{orientation:"vertical",className:"h-3 sm:h-4"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_s,{className:"w-3 h-3 sm:w-4 sm:h-4"}),_.car.seats]})]})]}),e.jsxs(He,{className:"flex-1 space-y-4 sm:space-y-6 pt-0 px-4 sm:px-6 pb-4 sm:pb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative pl-5 sm:pl-6 pb-4 sm:pb-6 border-l-2 border-teal-200 dark:border-teal-800",children:[e.jsx("div",{className:"absolute -left-1.5 sm:-left-2 top-0 w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-teal-500 ring-2 sm:ring-4 ring-teal-100 dark:ring-teal-900"}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 font-semibold text-xs sm:text-sm text-teal-700 dark:text-teal-400",children:[e.jsx(Bs,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Pickup"]}),e.jsx("p",{className:"text-xs sm:text-sm font-medium",children:b(_.start_datetime)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:v(_.start_datetime)}),e.jsxs("button",{onClick:()=>g(z,E),disabled:!K,className:`flex items-start gap-1.5 sm:gap-2 text-xs transition-all mt-1.5 sm:mt-2 group/btn ${K?"text-gray-700 dark:text-gray-300 hover:text-teal-600 dark:hover:text-teal-400 active:text-teal-700":"text-gray-400 cursor-not-allowed"}`,children:[e.jsx(js,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-left line-clamp-2",children:C}),K&&e.jsx(s0,{className:"w-3 h-3 opacity-60 group-hover/btn:opacity-100 transition-opacity flex-shrink-0 mt-0.5"})]})]})]}),e.jsxs("div",{className:"relative pl-5 sm:pl-6",children:[e.jsx("div",{className:"absolute -left-1.5 sm:-left-2 top-0 w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-cyan-500 ring-2 sm:ring-4 ring-cyan-100 dark:ring-cyan-900"}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 font-semibold text-xs sm:text-sm text-cyan-700 dark:text-cyan-400",children:[e.jsx(Bs,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Return"]}),e.jsx("p",{className:"text-xs sm:text-sm font-medium",children:b(_.end_datetime)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:v(_.end_datetime)}),e.jsxs("button",{onClick:()=>g(T,re),disabled:!L,className:`flex items-start gap-1.5 sm:gap-2 text-xs transition-all mt-1.5 sm:mt-2 group/btn ${L?"text-gray-700 dark:text-gray-300 hover:text-cyan-600 dark:hover:text-cyan-400 active:text-cyan-700":"text-gray-400 cursor-not-allowed"}`,children:[e.jsx(js,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-left line-clamp-2",children:U}),L&&e.jsx(s0,{className:"w-3 h-3 opacity-60 group-hover/btn:opacity-100 transition-opacity flex-shrink-0 mt-0.5"})]})]})]})]}),_.reason_of_booking&&e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-3 sm:p-4 border",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx(ir,{className:"w-3 h-3 sm:w-4 sm:h-4 text-amber-500 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 italic leading-relaxed",children:['"',_.reason_of_booking,'"']})]})}),e.jsx(hd,{}),e.jsxs("div",{className:`rounded-xl p-3 sm:p-4 border-2 transition-all ${I?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 dark:from-amber-900/20 dark:to-orange-900/20 dark:border-amber-700":"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 dark:from-green-900/20 dark:to-emerald-900/20 dark:border-green-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:`p-1 sm:p-1.5 rounded-lg ${I?"bg-amber-200 dark:bg-amber-800":"bg-green-200 dark:bg-green-800"}`,children:e.jsx(lY,{className:`w-4 h-4 sm:w-5 sm:h-5 ${I?"text-amber-700 dark:text-amber-300":"text-green-700 dark:text-green-300"}`})}),e.jsx("span",{className:`text-xs sm:text-sm font-semibold ${I?"text-amber-900 dark:text-amber-200":"text-green-900 dark:text-green-200"}`,children:"Deposit"})]}),e.jsx("span",{className:`text-base sm:text-lg font-bold ${I?"text-amber-900 dark:text-amber-200":"text-green-900 dark:text-green-200"}`,children:I?`$${Y.toFixed(2)}`:"$0.00"})]}),e.jsx("p",{className:`text-xs ${I?"text-amber-700 dark:text-amber-400":"text-green-700 dark:text-green-400"}`,children:I?"Refundable upon safe return":"No deposit required"})]}),e.jsxs("div",{className:"flex items-end justify-between pt-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide mb-0.5 sm:mb-1 text-muted-foreground",children:"Total"}),e.jsxs("p",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:["$",parseFloat(_.total_booking_price).toFixed(2)]})]}),e.jsxs(fe,{size:"default",onClick:()=>s(`/booking/${_.id}`),className:"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white shadow-lg hover:shadow-xl transition-all group h-10 sm:h-11 px-4 sm:px-6 text-sm sm:text-base",children:[e.jsx("span",{className:"hidden xs:inline",children:"View Details"}),e.jsx("span",{className:"xs:hidden",children:"Details"}),e.jsx(Zr,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})]})]},_.id)})})]})})};var Bse=Object.defineProperty,Ise=Object.defineProperties,zse=Object.getOwnPropertyDescriptors,yT=Object.getOwnPropertySymbols,Use=Object.prototype.hasOwnProperty,$se=Object.prototype.propertyIsEnumerable,G_=(s,t,r)=>t in s?Bse(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,ws=(s,t)=>{for(var r in t||(t={}))Use.call(t,r)&&G_(s,r,t[r]);if(yT)for(var r of yT(t))$se.call(t,r)&&G_(s,r,t[r]);return s},sh=(s,t)=>Ise(s,zse(t)),st=(s,t,r)=>G_(s,typeof t!="symbol"?t+"":t,r),Vse=(s,t,r)=>new Promise((n,a)=>{var i=d=>{try{c(r.next(d))}catch(h){a(h)}},o=d=>{try{c(r.throw(d))}catch(h){a(h)}},c=d=>d.done?n(d.value):Promise.resolve(d.value).then(i,o);c((r=r.apply(s,t)).next())});class x0{constructor(t){st(this,"rootKey"),this.rootKey=t}}const Hse=Object.seal({});class dt extends x0{constructor(t){super(t),st(this,"root"),this.root=new Array}prepForXml(t){var r;t.stack.push(this);const n=this.root.map(a=>a instanceof x0?a.prepForXml(t):a).filter(a=>a!==void 0);return t.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:Hse}}addChildElement(t){return this.root.push(t),this}}class xy extends dt{prepForXml(t){const r=super.prepForXml(t);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Kt extends x0{constructor(t){super("_attr"),st(this,"xmlKeys"),this.root=t}prepForXml(t){const r={};return Object.entries(this.root).forEach(([n,a])=>{if(a!==void 0){const i=this.xmlKeys&&this.xmlKeys[n]||n;r[i]=a}}),{_attr:r}}}class yy extends x0{constructor(t){super("_attr"),this.root=t}prepForXml(t){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:a,value:i})=>sh(ws({},n),{[a]:i}),{})}}}class Or extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function QL(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Sw={},qg={exports:{}},bT;function D2(){if(bT)return qg.exports;bT=1;var s=typeof Reflect=="object"?Reflect:null,t=s&&typeof s.apply=="function"?s.apply:function(C,z,E){return Function.prototype.apply.call(C,z,E)},r;s&&typeof s.ownKeys=="function"?r=s.ownKeys:Object.getOwnPropertySymbols?r=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:r=function(C){return Object.getOwnPropertyNames(C)};function n(k){console&&console.warn&&console.warn(k)}var a=Number.isNaN||function(C){return C!==C};function i(){i.init.call(this)}qg.exports=i,qg.exports.once=j,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function c(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(k){if(typeof k!="number"||k<0||a(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");o=k}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||a(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function d(k){return k._maxListeners===void 0?i.defaultMaxListeners:k._maxListeners}i.prototype.getMaxListeners=function(){return d(this)},i.prototype.emit=function(C){for(var z=[],E=1;E<arguments.length;E++)z.push(arguments[E]);var U=C==="error",T=this._events;if(T!==void 0)U=U&&T.error===void 0;else if(!U)return!1;if(U){var re;if(z.length>0&&(re=z[0]),re instanceof Error)throw re;var Y=new Error("Unhandled error."+(re?" ("+re.message+")":""));throw Y.context=re,Y}var I=T[C];if(I===void 0)return!1;if(typeof I=="function")t(I,this,z);else for(var K=I.length,L=v(I,K),E=0;E<K;++E)t(L[E],this,z);return!0};function h(k,C,z,E){var U,T,re;if(c(z),T=k._events,T===void 0?(T=k._events=Object.create(null),k._eventsCount=0):(T.newListener!==void 0&&(k.emit("newListener",C,z.listener?z.listener:z),T=k._events),re=T[C]),re===void 0)re=T[C]=z,++k._eventsCount;else if(typeof re=="function"?re=T[C]=E?[z,re]:[re,z]:E?re.unshift(z):re.push(z),U=d(k),U>0&&re.length>U&&!re.warned){re.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+re.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=k,Y.type=C,Y.count=re.length,n(Y)}return k}i.prototype.addListener=function(C,z){return h(this,C,z,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(C,z){return h(this,C,z,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(k,C,z){var E={fired:!1,wrapFn:void 0,target:k,type:C,listener:z},U=m.bind(E);return U.listener=z,E.wrapFn=U,U}i.prototype.once=function(C,z){return c(z),this.on(C,f(this,C,z)),this},i.prototype.prependOnceListener=function(C,z){return c(z),this.prependListener(C,f(this,C,z)),this},i.prototype.removeListener=function(C,z){var E,U,T,re,Y;if(c(z),U=this._events,U===void 0)return this;if(E=U[C],E===void 0)return this;if(E===z||E.listener===z)--this._eventsCount===0?this._events=Object.create(null):(delete U[C],U.removeListener&&this.emit("removeListener",C,E.listener||z));else if(typeof E!="function"){for(T=-1,re=E.length-1;re>=0;re--)if(E[re]===z||E[re].listener===z){Y=E[re].listener,T=re;break}if(T<0)return this;T===0?E.shift():y(E,T),E.length===1&&(U[C]=E[0]),U.removeListener!==void 0&&this.emit("removeListener",C,Y||z)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(C){var z,E,U;if(E=this._events,E===void 0)return this;if(E.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):E[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete E[C]),this;if(arguments.length===0){var T=Object.keys(E),re;for(U=0;U<T.length;++U)re=T[U],re!=="removeListener"&&this.removeAllListeners(re);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(z=E[C],typeof z=="function")this.removeListener(C,z);else if(z!==void 0)for(U=z.length-1;U>=0;U--)this.removeListener(C,z[U]);return this};function g(k,C,z){var E=k._events;if(E===void 0)return[];var U=E[C];return U===void 0?[]:typeof U=="function"?z?[U.listener||U]:[U]:z?_(U):v(U,U.length)}i.prototype.listeners=function(C){return g(this,C,!0)},i.prototype.rawListeners=function(C){return g(this,C,!1)},i.listenerCount=function(k,C){return typeof k.listenerCount=="function"?k.listenerCount(C):b.call(k,C)},i.prototype.listenerCount=b;function b(k){var C=this._events;if(C!==void 0){var z=C[k];if(typeof z=="function")return 1;if(z!==void 0)return z.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function v(k,C){for(var z=new Array(C),E=0;E<C;++E)z[E]=k[E];return z}function y(k,C){for(;C+1<k.length;C++)k[C]=k[C+1];k.pop()}function _(k){for(var C=new Array(k.length),z=0;z<C.length;++z)C[z]=k[z].listener||k[z];return C}function j(k,C){return new Promise(function(z,E){function U(re){k.removeListener(C,T),E(re)}function T(){typeof k.removeListener=="function"&&k.removeListener("error",U),z([].slice.call(arguments))}N(k,C,T,{once:!0}),C!=="error"&&S(k,U,{once:!0})})}function S(k,C,z){typeof k.on=="function"&&N(k,"error",C,z)}function N(k,C,z,E){if(typeof k.on=="function")E.once?k.once(C,z):k.on(C,z);else if(typeof k.addEventListener=="function")k.addEventListener(C,function U(T){E.once&&k.removeEventListener(C,U),z(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}return qg.exports}var Gg={exports:{}},vT;function xc(){return vT||(vT=1,typeof Object.create=="function"?Gg.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Gg.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Gg.exports}function qse(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var JL={exports:{}},Lr=JL.exports={},zi,Ui;function W_(){throw new Error("setTimeout has not been defined")}function Y_(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?zi=setTimeout:zi=W_}catch{zi=W_}try{typeof clearTimeout=="function"?Ui=clearTimeout:Ui=Y_}catch{Ui=Y_}})();function e8(s){if(zi===setTimeout)return setTimeout(s,0);if((zi===W_||!zi)&&setTimeout)return zi=setTimeout,setTimeout(s,0);try{return zi(s,0)}catch{try{return zi.call(null,s,0)}catch{return zi.call(this,s,0)}}}function Gse(s){if(Ui===clearTimeout)return clearTimeout(s);if((Ui===Y_||!Ui)&&clearTimeout)return Ui=clearTimeout,clearTimeout(s);try{return Ui(s)}catch{try{return Ui.call(null,s)}catch{return Ui.call(this,s)}}}var Uo=[],Gu=!1,fd,Lx=-1;function Wse(){!Gu||!fd||(Gu=!1,fd.length?Uo=fd.concat(Uo):Lx=-1,Uo.length&&t8())}function t8(){if(!Gu){var s=e8(Wse);Gu=!0;for(var t=Uo.length;t;){for(fd=Uo,Uo=[];++Lx<t;)fd&&fd[Lx].run();Lx=-1,t=Uo.length}fd=null,Gu=!1,Gse(s)}}Lr.nextTick=function(s){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Uo.push(new s8(s,t)),Uo.length===1&&!Gu&&e8(t8)};function s8(s,t){this.fun=s,this.array=t}s8.prototype.run=function(){this.fun.apply(null,this.array)};Lr.title="browser";Lr.browser=!0;Lr.env={};Lr.argv=[];Lr.version="";Lr.versions={};function sl(){}Lr.on=sl;Lr.addListener=sl;Lr.once=sl;Lr.off=sl;Lr.removeListener=sl;Lr.removeAllListeners=sl;Lr.emit=sl;Lr.prependListener=sl;Lr.prependOnceListener=sl;Lr.listeners=function(s){return[]};Lr.binding=function(s){throw new Error("process.binding is not supported")};Lr.cwd=function(){return"/"};Lr.chdir=function(s){throw new Error("process.chdir is not supported")};Lr.umask=function(){return 0};var Yse=JL.exports;const ls=qse(Yse);var Cw,wT;function r8(){return wT||(wT=1,Cw=D2().EventEmitter),Cw}var Aw={},Pf={},jT;function Kse(){if(jT)return Pf;jT=1,Pf.byteLength=c,Pf.toByteArray=h,Pf.fromByteArray=g;for(var s=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,i=n.length;a<i;++a)s[a]=n[a],t[n.charCodeAt(a)]=a;t[45]=62,t[95]=63;function o(b){var v=b.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=b.indexOf("=");y===-1&&(y=v);var _=y===v?0:4-y%4;return[y,_]}function c(b){var v=o(b),y=v[0],_=v[1];return(y+_)*3/4-_}function d(b,v,y){return(v+y)*3/4-y}function h(b){var v,y=o(b),_=y[0],j=y[1],S=new r(d(b,_,j)),N=0,k=j>0?_-4:_,C;for(C=0;C<k;C+=4)v=t[b.charCodeAt(C)]<<18|t[b.charCodeAt(C+1)]<<12|t[b.charCodeAt(C+2)]<<6|t[b.charCodeAt(C+3)],S[N++]=v>>16&255,S[N++]=v>>8&255,S[N++]=v&255;return j===2&&(v=t[b.charCodeAt(C)]<<2|t[b.charCodeAt(C+1)]>>4,S[N++]=v&255),j===1&&(v=t[b.charCodeAt(C)]<<10|t[b.charCodeAt(C+1)]<<4|t[b.charCodeAt(C+2)]>>2,S[N++]=v>>8&255,S[N++]=v&255),S}function m(b){return s[b>>18&63]+s[b>>12&63]+s[b>>6&63]+s[b&63]}function f(b,v,y){for(var _,j=[],S=v;S<y;S+=3)_=(b[S]<<16&16711680)+(b[S+1]<<8&65280)+(b[S+2]&255),j.push(m(_));return j.join("")}function g(b){for(var v,y=b.length,_=y%3,j=[],S=16383,N=0,k=y-_;N<k;N+=S)j.push(f(b,N,N+S>k?k:N+S));return _===1?(v=b[y-1],j.push(s[v>>2]+s[v<<4&63]+"==")):_===2&&(v=(b[y-2]<<8)+b[y-1],j.push(s[v>>10]+s[v>>4&63]+s[v<<2&63]+"=")),j.join("")}return Pf}var Wg={};var _T;function Xse(){return _T||(_T=1,Wg.read=function(s,t,r,n,a){var i,o,c=a*8-n-1,d=(1<<c)-1,h=d>>1,m=-7,f=r?a-1:0,g=r?-1:1,b=s[t+f];for(f+=g,i=b&(1<<-m)-1,b>>=-m,m+=c;m>0;i=i*256+s[t+f],f+=g,m-=8);for(o=i&(1<<-m)-1,i>>=-m,m+=n;m>0;o=o*256+s[t+f],f+=g,m-=8);if(i===0)i=1-h;else{if(i===d)return o?NaN:(b?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-h}return(b?-1:1)*o*Math.pow(2,i-n)},Wg.write=function(s,t,r,n,a,i){var o,c,d,h=i*8-a-1,m=(1<<h)-1,f=m>>1,g=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:i-1,v=n?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,o=m):(o=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-o))<1&&(o--,d*=2),o+f>=1?t+=g/d:t+=g*Math.pow(2,1-f),t*d>=2&&(o++,d/=2),o+f>=m?(c=0,o=m):o+f>=1?(c=(t*d-1)*Math.pow(2,a),o=o+f):(c=t*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;s[r+b]=c&255,b+=v,c/=256,a-=8);for(o=o<<a|c,h+=a;h>0;s[r+b]=o&255,b+=v,o/=256,h-=8);s[r+b-v]|=y*128}),Wg}var NT;function by(){return NT||(NT=1,(function(s){var t=Kse(),r=Xse(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=c,s.SlowBuffer=S,s.INSPECT_MAX_BYTES=50;var a=2147483647;s.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var H=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(H,R),H.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function o(H){if(H>a)throw new RangeError('The value "'+H+'" is invalid for option "size"');var R=new Uint8Array(H);return Object.setPrototypeOf(R,c.prototype),R}function c(H,R,P){if(typeof H=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(H)}return d(H,R,P)}c.poolSize=8192;function d(H,R,P){if(typeof H=="string")return g(H,R);if(ArrayBuffer.isView(H))return v(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(oe(H,ArrayBuffer)||H&&oe(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(oe(H,SharedArrayBuffer)||H&&oe(H.buffer,SharedArrayBuffer)))return y(H,R,P);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var W=H.valueOf&&H.valueOf();if(W!=null&&W!==H)return c.from(W,R,P);var Ne=_(H);if(Ne)return Ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return c.from(H[Symbol.toPrimitive]("string"),R,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}c.from=function(H,R,P){return d(H,R,P)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function h(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function m(H,R,P){return h(H),H<=0?o(H):R!==void 0?typeof P=="string"?o(H).fill(R,P):o(H).fill(R):o(H)}c.alloc=function(H,R,P){return m(H,R,P)};function f(H){return h(H),o(H<0?0:j(H)|0)}c.allocUnsafe=function(H){return f(H)},c.allocUnsafeSlow=function(H){return f(H)};function g(H,R){if((typeof R!="string"||R==="")&&(R="utf8"),!c.isEncoding(R))throw new TypeError("Unknown encoding: "+R);var P=N(H,R)|0,W=o(P),Ne=W.write(H,R);return Ne!==P&&(W=W.slice(0,Ne)),W}function b(H){for(var R=H.length<0?0:j(H.length)|0,P=o(R),W=0;W<R;W+=1)P[W]=H[W]&255;return P}function v(H){if(oe(H,Uint8Array)){var R=new Uint8Array(H);return y(R.buffer,R.byteOffset,R.byteLength)}return b(H)}function y(H,R,P){if(R<0||H.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<R+(P||0))throw new RangeError('"length" is outside of buffer bounds');var W;return R===void 0&&P===void 0?W=new Uint8Array(H):P===void 0?W=new Uint8Array(H,R):W=new Uint8Array(H,R,P),Object.setPrototypeOf(W,c.prototype),W}function _(H){if(c.isBuffer(H)){var R=j(H.length)|0,P=o(R);return P.length===0||H.copy(P,0,0,R),P}if(H.length!==void 0)return typeof H.length!="number"||D(H.length)?o(0):b(H);if(H.type==="Buffer"&&Array.isArray(H.data))return b(H.data)}function j(H){if(H>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return H|0}function S(H){return+H!=H&&(H=0),c.alloc(+H)}c.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==c.prototype},c.compare=function(R,P){if(oe(R,Uint8Array)&&(R=c.from(R,R.offset,R.byteLength)),oe(P,Uint8Array)&&(P=c.from(P,P.offset,P.byteLength)),!c.isBuffer(R)||!c.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===P)return 0;for(var W=R.length,Ne=P.length,X=0,pe=Math.min(W,Ne);X<pe;++X)if(R[X]!==P[X]){W=R[X],Ne=P[X];break}return W<Ne?-1:Ne<W?1:0},c.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(R,P){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return c.alloc(0);var W;if(P===void 0)for(P=0,W=0;W<R.length;++W)P+=R[W].length;var Ne=c.allocUnsafe(P),X=0;for(W=0;W<R.length;++W){var pe=R[W];if(oe(pe,Uint8Array))X+pe.length>Ne.length?c.from(pe).copy(Ne,X):Uint8Array.prototype.set.call(Ne,pe,X);else if(c.isBuffer(pe))pe.copy(Ne,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=pe.length}return Ne};function N(H,R){if(c.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||oe(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var P=H.length,W=arguments.length>2&&arguments[2]===!0;if(!W&&P===0)return 0;for(var Ne=!1;;)switch(R){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return V(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return he(H).length;default:if(Ne)return W?-1:V(H).length;R=(""+R).toLowerCase(),Ne=!0}}c.byteLength=N;function k(H,R,P){var W=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,R>>>=0,P<=R))return"";for(H||(H="utf8");;)switch(H){case"hex":return F(this,R,P);case"utf8":case"utf-8":return L(this,R,P);case"ascii":return Z(this,R,P);case"latin1":case"binary":return ee(this,R,P);case"base64":return K(this,R,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,R,P);default:if(W)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),W=!0}}c.prototype._isBuffer=!0;function C(H,R,P){var W=H[R];H[R]=H[P],H[P]=W}c.prototype.swap16=function(){var R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var P=0;P<R;P+=2)C(this,P,P+1);return this},c.prototype.swap32=function(){var R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var P=0;P<R;P+=4)C(this,P,P+3),C(this,P+1,P+2);return this},c.prototype.swap64=function(){var R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var P=0;P<R;P+=8)C(this,P,P+7),C(this,P+1,P+6),C(this,P+2,P+5),C(this,P+3,P+4);return this},c.prototype.toString=function(){var R=this.length;return R===0?"":arguments.length===0?L(this,0,R):k.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(R){if(!c.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:c.compare(this,R)===0},c.prototype.inspect=function(){var R="",P=s.INSPECT_MAX_BYTES;return R=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(R+=" ... "),"<Buffer "+R+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(R,P,W,Ne,X){if(oe(R,Uint8Array)&&(R=c.from(R,R.offset,R.byteLength)),!c.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(P===void 0&&(P=0),W===void 0&&(W=R?R.length:0),Ne===void 0&&(Ne=0),X===void 0&&(X=this.length),P<0||W>R.length||Ne<0||X>this.length)throw new RangeError("out of range index");if(Ne>=X&&P>=W)return 0;if(Ne>=X)return-1;if(P>=W)return 1;if(P>>>=0,W>>>=0,Ne>>>=0,X>>>=0,this===R)return 0;for(var pe=X-Ne,ge=W-P,Re=Math.min(pe,ge),De=this.slice(Ne,X),Se=R.slice(P,W),Ie=0;Ie<Re;++Ie)if(De[Ie]!==Se[Ie]){pe=De[Ie],ge=Se[Ie];break}return pe<ge?-1:ge<pe?1:0};function z(H,R,P,W,Ne){if(H.length===0)return-1;if(typeof P=="string"?(W=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,D(P)&&(P=Ne?0:H.length-1),P<0&&(P=H.length+P),P>=H.length){if(Ne)return-1;P=H.length-1}else if(P<0)if(Ne)P=0;else return-1;if(typeof R=="string"&&(R=c.from(R,W)),c.isBuffer(R))return R.length===0?-1:E(H,R,P,W,Ne);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?Ne?Uint8Array.prototype.indexOf.call(H,R,P):Uint8Array.prototype.lastIndexOf.call(H,R,P):E(H,[R],P,W,Ne);throw new TypeError("val must be string, number or Buffer")}function E(H,R,P,W,Ne){var X=1,pe=H.length,ge=R.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(H.length<2||R.length<2)return-1;X=2,pe/=2,ge/=2,P/=2}function Re(wt,gt){return X===1?wt[gt]:wt.readUInt16BE(gt*X)}var De;if(Ne){var Se=-1;for(De=P;De<pe;De++)if(Re(H,De)===Re(R,Se===-1?0:De-Se)){if(Se===-1&&(Se=De),De-Se+1===ge)return Se*X}else Se!==-1&&(De-=De-Se),Se=-1}else for(P+ge>pe&&(P=pe-ge),De=P;De>=0;De--){for(var Ie=!0,We=0;We<ge;We++)if(Re(H,De+We)!==Re(R,We)){Ie=!1;break}if(Ie)return De}return-1}c.prototype.includes=function(R,P,W){return this.indexOf(R,P,W)!==-1},c.prototype.indexOf=function(R,P,W){return z(this,R,P,W,!0)},c.prototype.lastIndexOf=function(R,P,W){return z(this,R,P,W,!1)};function U(H,R,P,W){P=Number(P)||0;var Ne=H.length-P;W?(W=Number(W),W>Ne&&(W=Ne)):W=Ne;var X=R.length;W>X/2&&(W=X/2);for(var pe=0;pe<W;++pe){var ge=parseInt(R.substr(pe*2,2),16);if(D(ge))return pe;H[P+pe]=ge}return pe}function T(H,R,P,W){return O(V(R,H.length-P),H,P,W)}function re(H,R,P,W){return O(me(R),H,P,W)}function Y(H,R,P,W){return O(he(R),H,P,W)}function I(H,R,P,W){return O(ce(R,H.length-P),H,P,W)}c.prototype.write=function(R,P,W,Ne){if(P===void 0)Ne="utf8",W=this.length,P=0;else if(W===void 0&&typeof P=="string")Ne=P,W=this.length,P=0;else if(isFinite(P))P=P>>>0,isFinite(W)?(W=W>>>0,Ne===void 0&&(Ne="utf8")):(Ne=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var X=this.length-P;if((W===void 0||W>X)&&(W=X),R.length>0&&(W<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ne||(Ne="utf8");for(var pe=!1;;)switch(Ne){case"hex":return U(this,R,P,W);case"utf8":case"utf-8":return T(this,R,P,W);case"ascii":case"latin1":case"binary":return re(this,R,P,W);case"base64":return Y(this,R,P,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,R,P,W);default:if(pe)throw new TypeError("Unknown encoding: "+Ne);Ne=(""+Ne).toLowerCase(),pe=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(H,R,P){return R===0&&P===H.length?t.fromByteArray(H):t.fromByteArray(H.slice(R,P))}function L(H,R,P){P=Math.min(H.length,P);for(var W=[],Ne=R;Ne<P;){var X=H[Ne],pe=null,ge=X>239?4:X>223?3:X>191?2:1;if(Ne+ge<=P){var Re,De,Se,Ie;switch(ge){case 1:X<128&&(pe=X);break;case 2:Re=H[Ne+1],(Re&192)===128&&(Ie=(X&31)<<6|Re&63,Ie>127&&(pe=Ie));break;case 3:Re=H[Ne+1],De=H[Ne+2],(Re&192)===128&&(De&192)===128&&(Ie=(X&15)<<12|(Re&63)<<6|De&63,Ie>2047&&(Ie<55296||Ie>57343)&&(pe=Ie));break;case 4:Re=H[Ne+1],De=H[Ne+2],Se=H[Ne+3],(Re&192)===128&&(De&192)===128&&(Se&192)===128&&(Ie=(X&15)<<18|(Re&63)<<12|(De&63)<<6|Se&63,Ie>65535&&Ie<1114112&&(pe=Ie))}}pe===null?(pe=65533,ge=1):pe>65535&&(pe-=65536,W.push(pe>>>10&1023|55296),pe=56320|pe&1023),W.push(pe),Ne+=ge}return Q(W)}var J=4096;function Q(H){var R=H.length;if(R<=J)return String.fromCharCode.apply(String,H);for(var P="",W=0;W<R;)P+=String.fromCharCode.apply(String,H.slice(W,W+=J));return P}function Z(H,R,P){var W="";P=Math.min(H.length,P);for(var Ne=R;Ne<P;++Ne)W+=String.fromCharCode(H[Ne]&127);return W}function ee(H,R,P){var W="";P=Math.min(H.length,P);for(var Ne=R;Ne<P;++Ne)W+=String.fromCharCode(H[Ne]);return W}function F(H,R,P){var W=H.length;(!R||R<0)&&(R=0),(!P||P<0||P>W)&&(P=W);for(var Ne="",X=R;X<P;++X)Ne+=Ce[H[X]];return Ne}function de(H,R,P){for(var W=H.slice(R,P),Ne="",X=0;X<W.length-1;X+=2)Ne+=String.fromCharCode(W[X]+W[X+1]*256);return Ne}c.prototype.slice=function(R,P){var W=this.length;R=~~R,P=P===void 0?W:~~P,R<0?(R+=W,R<0&&(R=0)):R>W&&(R=W),P<0?(P+=W,P<0&&(P=0)):P>W&&(P=W),P<R&&(P=R);var Ne=this.subarray(R,P);return Object.setPrototypeOf(Ne,c.prototype),Ne};function q(H,R,P){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+R>P)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(R,P,W){R=R>>>0,P=P>>>0,W||q(R,P,this.length);for(var Ne=this[R],X=1,pe=0;++pe<P&&(X*=256);)Ne+=this[R+pe]*X;return Ne},c.prototype.readUintBE=c.prototype.readUIntBE=function(R,P,W){R=R>>>0,P=P>>>0,W||q(R,P,this.length);for(var Ne=this[R+--P],X=1;P>0&&(X*=256);)Ne+=this[R+--P]*X;return Ne},c.prototype.readUint8=c.prototype.readUInt8=function(R,P){return R=R>>>0,P||q(R,1,this.length),this[R]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(R,P){return R=R>>>0,P||q(R,2,this.length),this[R]|this[R+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(R,P){return R=R>>>0,P||q(R,2,this.length),this[R]<<8|this[R+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(R,P){return R=R>>>0,P||q(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(R,P){return R=R>>>0,P||q(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},c.prototype.readIntLE=function(R,P,W){R=R>>>0,P=P>>>0,W||q(R,P,this.length);for(var Ne=this[R],X=1,pe=0;++pe<P&&(X*=256);)Ne+=this[R+pe]*X;return X*=128,Ne>=X&&(Ne-=Math.pow(2,8*P)),Ne},c.prototype.readIntBE=function(R,P,W){R=R>>>0,P=P>>>0,W||q(R,P,this.length);for(var Ne=P,X=1,pe=this[R+--Ne];Ne>0&&(X*=256);)pe+=this[R+--Ne]*X;return X*=128,pe>=X&&(pe-=Math.pow(2,8*P)),pe},c.prototype.readInt8=function(R,P){return R=R>>>0,P||q(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},c.prototype.readInt16LE=function(R,P){R=R>>>0,P||q(R,2,this.length);var W=this[R]|this[R+1]<<8;return W&32768?W|4294901760:W},c.prototype.readInt16BE=function(R,P){R=R>>>0,P||q(R,2,this.length);var W=this[R+1]|this[R]<<8;return W&32768?W|4294901760:W},c.prototype.readInt32LE=function(R,P){return R=R>>>0,P||q(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},c.prototype.readInt32BE=function(R,P){return R=R>>>0,P||q(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},c.prototype.readFloatLE=function(R,P){return R=R>>>0,P||q(R,4,this.length),r.read(this,R,!0,23,4)},c.prototype.readFloatBE=function(R,P){return R=R>>>0,P||q(R,4,this.length),r.read(this,R,!1,23,4)},c.prototype.readDoubleLE=function(R,P){return R=R>>>0,P||q(R,8,this.length),r.read(this,R,!0,52,8)},c.prototype.readDoubleBE=function(R,P){return R=R>>>0,P||q(R,8,this.length),r.read(this,R,!1,52,8)};function G(H,R,P,W,Ne,X){if(!c.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>Ne||R<X)throw new RangeError('"value" argument is out of bounds');if(P+W>H.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(R,P,W,Ne){if(R=+R,P=P>>>0,W=W>>>0,!Ne){var X=Math.pow(2,8*W)-1;G(this,R,P,W,X,0)}var pe=1,ge=0;for(this[P]=R&255;++ge<W&&(pe*=256);)this[P+ge]=R/pe&255;return P+W},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(R,P,W,Ne){if(R=+R,P=P>>>0,W=W>>>0,!Ne){var X=Math.pow(2,8*W)-1;G(this,R,P,W,X,0)}var pe=W-1,ge=1;for(this[P+pe]=R&255;--pe>=0&&(ge*=256);)this[P+pe]=R/ge&255;return P+W},c.prototype.writeUint8=c.prototype.writeUInt8=function(R,P,W){return R=+R,P=P>>>0,W||G(this,R,P,1,255,0),this[P]=R&255,P+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(R,P,W){return R=+R,P=P>>>0,W||G(this,R,P,2,65535,0),this[P]=R&255,this[P+1]=R>>>8,P+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(R,P,W){return R=+R,P=P>>>0,W||G(this,R,P,2,65535,0),this[P]=R>>>8,this[P+1]=R&255,P+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(R,P,W){return R=+R,P=P>>>0,W||G(this,R,P,4,4294967295,0),this[P+3]=R>>>24,this[P+2]=R>>>16,this[P+1]=R>>>8,this[P]=R&255,P+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(R,P,W){return R=+R,P=P>>>0,W||G(this,R,P,4,4294967295,0),this[P]=R>>>24,this[P+1]=R>>>16,this[P+2]=R>>>8,this[P+3]=R&255,P+4},c.prototype.writeIntLE=function(R,P,W,Ne){if(R=+R,P=P>>>0,!Ne){var X=Math.pow(2,8*W-1);G(this,R,P,W,X-1,-X)}var pe=0,ge=1,Re=0;for(this[P]=R&255;++pe<W&&(ge*=256);)R<0&&Re===0&&this[P+pe-1]!==0&&(Re=1),this[P+pe]=(R/ge>>0)-Re&255;return P+W},c.prototype.writeIntBE=function(R,P,W,Ne){if(R=+R,P=P>>>0,!Ne){var X=Math.pow(2,8*W-1);G(this,R,P,W,X-1,-X)}var pe=W-1,ge=1,Re=0;for(this[P+pe]=R&255;--pe>=0&&(ge*=256);)R<0&&Re===0&&this[P+pe+1]!==0&&(Re=1),this[P+pe]=(R/ge>>0)-Re&255;return P+W},c.prototype.writeInt8=function(R,P,W){return R=+R,P=P>>>0,W||G(this,R,P,1,127,-128),R<0&&(R=255+R+1),this[P]=R&255,P+1},c.prototype.writeInt16LE=function(R,P,W){return R=+R,P=P>>>0,W||G(this,R,P,2,32767,-32768),this[P]=R&255,this[P+1]=R>>>8,P+2},c.prototype.writeInt16BE=function(R,P,W){return R=+R,P=P>>>0,W||G(this,R,P,2,32767,-32768),this[P]=R>>>8,this[P+1]=R&255,P+2},c.prototype.writeInt32LE=function(R,P,W){return R=+R,P=P>>>0,W||G(this,R,P,4,2147483647,-2147483648),this[P]=R&255,this[P+1]=R>>>8,this[P+2]=R>>>16,this[P+3]=R>>>24,P+4},c.prototype.writeInt32BE=function(R,P,W){return R=+R,P=P>>>0,W||G(this,R,P,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[P]=R>>>24,this[P+1]=R>>>16,this[P+2]=R>>>8,this[P+3]=R&255,P+4};function ie(H,R,P,W,Ne,X){if(P+W>H.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function le(H,R,P,W,Ne){return R=+R,P=P>>>0,Ne||ie(H,R,P,4),r.write(H,R,P,W,23,4),P+4}c.prototype.writeFloatLE=function(R,P,W){return le(this,R,P,!0,W)},c.prototype.writeFloatBE=function(R,P,W){return le(this,R,P,!1,W)};function be(H,R,P,W,Ne){return R=+R,P=P>>>0,Ne||ie(H,R,P,8),r.write(H,R,P,W,52,8),P+8}c.prototype.writeDoubleLE=function(R,P,W){return be(this,R,P,!0,W)},c.prototype.writeDoubleBE=function(R,P,W){return be(this,R,P,!1,W)},c.prototype.copy=function(R,P,W,Ne){if(!c.isBuffer(R))throw new TypeError("argument should be a Buffer");if(W||(W=0),!Ne&&Ne!==0&&(Ne=this.length),P>=R.length&&(P=R.length),P||(P=0),Ne>0&&Ne<W&&(Ne=W),Ne===W||R.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(Ne<0)throw new RangeError("sourceEnd out of bounds");Ne>this.length&&(Ne=this.length),R.length-P<Ne-W&&(Ne=R.length-P+W);var X=Ne-W;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(P,W,Ne):Uint8Array.prototype.set.call(R,this.subarray(W,Ne),P),X},c.prototype.fill=function(R,P,W,Ne){if(typeof R=="string"){if(typeof P=="string"?(Ne=P,P=0,W=this.length):typeof W=="string"&&(Ne=W,W=this.length),Ne!==void 0&&typeof Ne!="string")throw new TypeError("encoding must be a string");if(typeof Ne=="string"&&!c.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne);if(R.length===1){var X=R.charCodeAt(0);(Ne==="utf8"&&X<128||Ne==="latin1")&&(R=X)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(P<0||this.length<P||this.length<W)throw new RangeError("Out of range index");if(W<=P)return this;P=P>>>0,W=W===void 0?this.length:W>>>0,R||(R=0);var pe;if(typeof R=="number")for(pe=P;pe<W;++pe)this[pe]=R;else{var ge=c.isBuffer(R)?R:c.from(R,Ne),Re=ge.length;if(Re===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(pe=0;pe<W-P;++pe)this[pe+P]=ge[pe%Re]}return this};var ye=/[^+/0-9A-Za-z-_]/g;function $(H){if(H=H.split("=")[0],H=H.trim().replace(ye,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function V(H,R){R=R||1/0;for(var P,W=H.length,Ne=null,X=[],pe=0;pe<W;++pe){if(P=H.charCodeAt(pe),P>55295&&P<57344){if(!Ne){if(P>56319){(R-=3)>-1&&X.push(239,191,189);continue}else if(pe+1===W){(R-=3)>-1&&X.push(239,191,189);continue}Ne=P;continue}if(P<56320){(R-=3)>-1&&X.push(239,191,189),Ne=P;continue}P=(Ne-55296<<10|P-56320)+65536}else Ne&&(R-=3)>-1&&X.push(239,191,189);if(Ne=null,P<128){if((R-=1)<0)break;X.push(P)}else if(P<2048){if((R-=2)<0)break;X.push(P>>6|192,P&63|128)}else if(P<65536){if((R-=3)<0)break;X.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((R-=4)<0)break;X.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return X}function me(H){for(var R=[],P=0;P<H.length;++P)R.push(H.charCodeAt(P)&255);return R}function ce(H,R){for(var P,W,Ne,X=[],pe=0;pe<H.length&&!((R-=2)<0);++pe)P=H.charCodeAt(pe),W=P>>8,Ne=P%256,X.push(Ne),X.push(W);return X}function he(H){return t.toByteArray($(H))}function O(H,R,P,W){for(var Ne=0;Ne<W&&!(Ne+P>=R.length||Ne>=H.length);++Ne)R[Ne+P]=H[Ne];return Ne}function oe(H,R){return H instanceof R||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===R.name}function D(H){return H!==H}var Ce=(function(){for(var H="0123456789abcdef",R=new Array(256),P=0;P<16;++P)for(var W=P*16,Ne=0;Ne<16;++Ne)R[W+Ne]=H[P]+H[Ne];return R})()})(Aw)),Aw}var Ew={},Tw={},Rw,kT;function n8(){return kT||(kT=1,Rw=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;t[r]=a;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,r);if(c.value!==a||c.enumerable!==!0)return!1}return!0}),Rw}var Dw,ST;function M2(){if(ST)return Dw;ST=1;var s=n8();return Dw=function(){return s()&&!!Symbol.toStringTag},Dw}var Mw,CT;function a8(){return CT||(CT=1,Mw=Object),Mw}var Pw,AT;function Zse(){return AT||(AT=1,Pw=Error),Pw}var Ow,ET;function Qse(){return ET||(ET=1,Ow=EvalError),Ow}var Lw,TT;function Jse(){return TT||(TT=1,Lw=RangeError),Lw}var Fw,RT;function ere(){return RT||(RT=1,Fw=ReferenceError),Fw}var Bw,DT;function i8(){return DT||(DT=1,Bw=SyntaxError),Bw}var Iw,MT;function vy(){return MT||(MT=1,Iw=TypeError),Iw}var zw,PT;function tre(){return PT||(PT=1,zw=URIError),zw}var Uw,OT;function sre(){return OT||(OT=1,Uw=Math.abs),Uw}var $w,LT;function rre(){return LT||(LT=1,$w=Math.floor),$w}var Vw,FT;function nre(){return FT||(FT=1,Vw=Math.max),Vw}var Hw,BT;function are(){return BT||(BT=1,Hw=Math.min),Hw}var qw,IT;function ire(){return IT||(IT=1,qw=Math.pow),qw}var Gw,zT;function ore(){return zT||(zT=1,Gw=Math.round),Gw}var Ww,UT;function lre(){return UT||(UT=1,Ww=Number.isNaN||function(t){return t!==t}),Ww}var Yw,$T;function cre(){if($T)return Yw;$T=1;var s=lre();return Yw=function(r){return s(r)||r===0?r:r<0?-1:1},Yw}var Kw,VT;function dre(){return VT||(VT=1,Kw=Object.getOwnPropertyDescriptor),Kw}var Xw,HT;function tp(){if(HT)return Xw;HT=1;var s=dre();if(s)try{s([],"length")}catch{s=null}return Xw=s,Xw}var Zw,qT;function wy(){if(qT)return Zw;qT=1;var s=Object.defineProperty||!1;if(s)try{s({},"a",{value:1})}catch{s=!1}return Zw=s,Zw}var Qw,GT;function ure(){if(GT)return Qw;GT=1;var s=typeof Symbol<"u"&&Symbol,t=n8();return Qw=function(){return typeof s!="function"||typeof Symbol!="function"||typeof s("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Qw}var Jw,WT;function o8(){return WT||(WT=1,Jw=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Jw}var ej,YT;function l8(){if(YT)return ej;YT=1;var s=a8();return ej=s.getPrototypeOf||null,ej}var tj,KT;function hre(){if(KT)return tj;KT=1;var s="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",a=function(d,h){for(var m=[],f=0;f<d.length;f+=1)m[f]=d[f];for(var g=0;g<h.length;g+=1)m[g+d.length]=h[g];return m},i=function(d,h){for(var m=[],f=h,g=0;f<d.length;f+=1,g+=1)m[g]=d[f];return m},o=function(c,d){for(var h="",m=0;m<c.length;m+=1)h+=c[m],m+1<c.length&&(h+=d);return h};return tj=function(d){var h=this;if(typeof h!="function"||t.apply(h)!==n)throw new TypeError(s+h);for(var m=i(arguments,1),f,g=function(){if(this instanceof f){var j=h.apply(this,a(m,arguments));return Object(j)===j?j:this}return h.apply(d,a(m,arguments))},b=r(0,h.length-m.length),v=[],y=0;y<b;y++)v[y]="$"+y;if(f=Function("binder","return function ("+o(v,",")+"){ return binder.apply(this,arguments); }")(g),h.prototype){var _=function(){};_.prototype=h.prototype,f.prototype=new _,_.prototype=null}return f},tj}var sj,XT;function sp(){if(XT)return sj;XT=1;var s=hre();return sj=Function.prototype.bind||s,sj}var rj,ZT;function P2(){return ZT||(ZT=1,rj=Function.prototype.call),rj}var nj,QT;function O2(){return QT||(QT=1,nj=Function.prototype.apply),nj}var aj,JT;function fre(){return JT||(JT=1,aj=typeof Reflect<"u"&&Reflect&&Reflect.apply),aj}var ij,e5;function c8(){if(e5)return ij;e5=1;var s=sp(),t=O2(),r=P2(),n=fre();return ij=n||s.call(r,t),ij}var oj,t5;function L2(){if(t5)return oj;t5=1;var s=sp(),t=vy(),r=P2(),n=c8();return oj=function(i){if(i.length<1||typeof i[0]!="function")throw new t("a function is required");return n(s,r,i)},oj}var lj,s5;function mre(){if(s5)return lj;s5=1;var s=L2(),t=tp(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&t&&t(Object.prototype,"__proto__"),a=Object,i=a.getPrototypeOf;return lj=n&&typeof n.get=="function"?s([n.get]):typeof i=="function"?(function(c){return i(c==null?c:a(c))}):!1,lj}var cj,r5;function d8(){if(r5)return cj;r5=1;var s=o8(),t=l8(),r=mre();return cj=s?function(a){return s(a)}:t?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return t(a)}:r?function(a){return r(a)}:null,cj}var dj,n5;function pre(){if(n5)return dj;n5=1;var s=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=sp();return dj=r.call(s,t),dj}var uj,a5;function F2(){if(a5)return uj;a5=1;var s,t=a8(),r=Zse(),n=Qse(),a=Jse(),i=ere(),o=i8(),c=vy(),d=tre(),h=sre(),m=rre(),f=nre(),g=are(),b=ire(),v=ore(),y=cre(),_=Function,j=function(me){try{return _('"use strict"; return ('+me+").constructor;")()}catch{}},S=tp(),N=wy(),k=function(){throw new c},C=S?(function(){try{return arguments.callee,k}catch{try{return S(arguments,"callee").get}catch{return k}}})():k,z=ure()(),E=d8(),U=l8(),T=o8(),re=O2(),Y=P2(),I={},K=typeof Uint8Array>"u"||!E?s:E(Uint8Array),L={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?s:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?s:ArrayBuffer,"%ArrayIteratorPrototype%":z&&E?E([][Symbol.iterator]()):s,"%AsyncFromSyncIteratorPrototype%":s,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":typeof Atomics>"u"?s:Atomics,"%BigInt%":typeof BigInt>"u"?s:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?s:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?s:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?s:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?s:Float16Array,"%Float32Array%":typeof Float32Array>"u"?s:Float32Array,"%Float64Array%":typeof Float64Array>"u"?s:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?s:FinalizationRegistry,"%Function%":_,"%GeneratorFunction%":I,"%Int8Array%":typeof Int8Array>"u"?s:Int8Array,"%Int16Array%":typeof Int16Array>"u"?s:Int16Array,"%Int32Array%":typeof Int32Array>"u"?s:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":z&&E?E(E([][Symbol.iterator]())):s,"%JSON%":typeof JSON=="object"?JSON:s,"%Map%":typeof Map>"u"?s:Map,"%MapIteratorPrototype%":typeof Map>"u"||!z||!E?s:E(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":S,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?s:Promise,"%Proxy%":typeof Proxy>"u"?s:Proxy,"%RangeError%":a,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?s:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?s:Set,"%SetIteratorPrototype%":typeof Set>"u"||!z||!E?s:E(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?s:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":z&&E?E(""[Symbol.iterator]()):s,"%Symbol%":z?Symbol:s,"%SyntaxError%":o,"%ThrowTypeError%":C,"%TypedArray%":K,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?s:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?s:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?s:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?s:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?s:WeakMap,"%WeakRef%":typeof WeakRef>"u"?s:WeakRef,"%WeakSet%":typeof WeakSet>"u"?s:WeakSet,"%Function.prototype.call%":Y,"%Function.prototype.apply%":re,"%Object.defineProperty%":N,"%Object.getPrototypeOf%":U,"%Math.abs%":h,"%Math.floor%":m,"%Math.max%":f,"%Math.min%":g,"%Math.pow%":b,"%Math.round%":v,"%Math.sign%":y,"%Reflect.getPrototypeOf%":T};if(E)try{null.error}catch(me){var J=E(E(me));L["%Error.prototype%"]=J}var Q=function me(ce){var he;if(ce==="%AsyncFunction%")he=j("async function () {}");else if(ce==="%GeneratorFunction%")he=j("function* () {}");else if(ce==="%AsyncGeneratorFunction%")he=j("async function* () {}");else if(ce==="%AsyncGenerator%"){var O=me("%AsyncGeneratorFunction%");O&&(he=O.prototype)}else if(ce==="%AsyncIteratorPrototype%"){var oe=me("%AsyncGenerator%");oe&&E&&(he=E(oe.prototype))}return L[ce]=he,he},Z={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ee=sp(),F=pre(),de=ee.call(Y,Array.prototype.concat),q=ee.call(re,Array.prototype.splice),G=ee.call(Y,String.prototype.replace),ie=ee.call(Y,String.prototype.slice),le=ee.call(Y,RegExp.prototype.exec),be=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ye=/\\(\\)?/g,$=function(ce){var he=ie(ce,0,1),O=ie(ce,-1);if(he==="%"&&O!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(O==="%"&&he!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var oe=[];return G(ce,be,function(D,Ce,H,R){oe[oe.length]=H?G(R,ye,"$1"):Ce||D}),oe},V=function(ce,he){var O=ce,oe;if(F(Z,O)&&(oe=Z[O],O="%"+oe[0]+"%"),F(L,O)){var D=L[O];if(D===I&&(D=Q(O)),typeof D>"u"&&!he)throw new c("intrinsic "+ce+" exists, but is not available. Please file an issue!");return{alias:oe,name:O,value:D}}throw new o("intrinsic "+ce+" does not exist!")};return uj=function(ce,he){if(typeof ce!="string"||ce.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof he!="boolean")throw new c('"allowMissing" argument must be a boolean');if(le(/^%?[^%]*%?$/,ce)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var O=$(ce),oe=O.length>0?O[0]:"",D=V("%"+oe+"%",he),Ce=D.name,H=D.value,R=!1,P=D.alias;P&&(oe=P[0],q(O,de([0,1],P)));for(var W=1,Ne=!0;W<O.length;W+=1){var X=O[W],pe=ie(X,0,1),ge=ie(X,-1);if((pe==='"'||pe==="'"||pe==="`"||ge==='"'||ge==="'"||ge==="`")&&pe!==ge)throw new o("property names with quotes must have matching quotes");if((X==="constructor"||!Ne)&&(R=!0),oe+="."+X,Ce="%"+oe+"%",F(L,Ce))H=L[Ce];else if(H!=null){if(!(X in H)){if(!he)throw new c("base intrinsic for "+ce+" exists, but the property is not available.");return}if(S&&W+1>=O.length){var Re=S(H,X);Ne=!!Re,Ne&&"get"in Re&&!("originalValue"in Re.get)?H=Re.get:H=H[X]}else Ne=F(H,X),H=H[X];Ne&&!R&&(L[Ce]=H)}}return H},uj}var hj={exports:{}},fj,i5;function gre(){if(i5)return fj;i5=1;var s=wy(),t=i8(),r=vy(),n=tp();return fj=function(i,o,c){if(!i||typeof i!="object"&&typeof i!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var d=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,m=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,g=!!n&&n(i,o);if(s)s(i,o,{configurable:m===null&&g?g.configurable:!m,enumerable:d===null&&g?g.enumerable:!d,value:c,writable:h===null&&g?g.writable:!h});else if(f||!d&&!h&&!m)i[o]=c;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},fj}var mj,o5;function xre(){if(o5)return mj;o5=1;var s=wy(),t=function(){return!!s};return t.hasArrayLengthDefineBug=function(){if(!s)return null;try{return s([],"length",{value:1}).length!==1}catch{return!0}},mj=t,mj}var pj,l5;function yre(){if(l5)return pj;l5=1;var s=F2(),t=gre(),r=xre()(),n=tp(),a=vy(),i=s("%Math.floor%");return pj=function(c,d){if(typeof c!="function")throw new a("`fn` is not a function");if(typeof d!="number"||d<0||d>4294967295||i(d)!==d)throw new a("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],m=!0,f=!0;if("length"in c&&n){var g=n(c,"length");g&&!g.configurable&&(m=!1),g&&!g.writable&&(f=!1)}return(m||f||!h)&&(r?t(c,"length",d,!0,!0):t(c,"length",d)),c},pj}var gj,c5;function bre(){if(c5)return gj;c5=1;var s=sp(),t=O2(),r=c8();return gj=function(){return r(s,t,arguments)},gj}var d5;function u8(){return d5||(d5=1,(function(s){var t=yre(),r=wy(),n=L2(),a=bre();s.exports=function(o){var c=n(arguments),d=o.length-(arguments.length-1);return t(c,1+(d>0?d:0),!0)},r?r(s.exports,"apply",{value:a}):s.exports.apply=a})(hj)),hj.exports}var xj,u5;function vre(){if(u5)return xj;u5=1;var s=F2(),t=u8(),r=t(s("String.prototype.indexOf"));return xj=function(a,i){var o=s(a,!!i);return typeof o=="function"&&r(a,".prototype.")>-1?t(o):o},xj}var yj,h5;function wre(){if(h5)return yj;h5=1;var s=M2()(),t=vre(),r=t("Object.prototype.toString"),n=function(c){return s&&c&&typeof c=="object"&&Symbol.toStringTag in c?!1:r(c)==="[object Arguments]"},a=function(c){return n(c)?!0:c!==null&&typeof c=="object"&&typeof c.length=="number"&&c.length>=0&&r(c)!=="[object Array]"&&r(c.callee)==="[object Function]"},i=(function(){return n(arguments)})();return n.isLegacyArguments=a,yj=i?n:a,yj}var bj,f5;function jre(){if(f5)return bj;f5=1;var s=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=M2()(),a=Object.getPrototypeOf,i=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return bj=function(d){if(typeof d!="function")return!1;if(r.test(t.call(d)))return!0;if(!n){var h=s.call(d);return h==="[object GeneratorFunction]"}if(!a)return!1;if(typeof o>"u"){var m=i();o=m?a(m):!1}return a(d)===o},bj}var vj,m5;function _re(){if(m5)return vj;m5=1;var s=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(S){S!==n&&(t=null)}else t=null;var a=/^\s*class\b/,i=function(N){try{var k=s.call(N);return a.test(k)}catch{return!1}},o=function(N){try{return i(N)?!1:(s.call(N),!0)}catch{return!1}},c=Object.prototype.toString,d="[object Object]",h="[object Function]",m="[object GeneratorFunction]",f="[object HTMLAllCollection]",g="[object HTML document.all class]",b="[object HTMLCollection]",v=typeof Symbol=="function"&&!!Symbol.toStringTag,y=!(0 in[,]),_=function(){return!1};if(typeof document=="object"){var j=document.all;c.call(j)===c.call(document.all)&&(_=function(N){if((y||!N)&&(typeof N>"u"||typeof N=="object"))try{var k=c.call(N);return(k===f||k===g||k===b||k===d)&&N("")==null}catch{}return!1})}return vj=t?function(N){if(_(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;try{t(N,null,r)}catch(k){if(k!==n)return!1}return!i(N)&&o(N)}:function(N){if(_(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;if(v)return o(N);if(i(N))return!1;var k=c.call(N);return k!==h&&k!==m&&!/^\[object HTML/.test(k)?!1:o(N)},vj}var wj,p5;function Nre(){if(p5)return wj;p5=1;var s=_re(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(d,h,m){for(var f=0,g=d.length;f<g;f++)r.call(d,f)&&(m==null?h(d[f],f,d):h.call(m,d[f],f,d))},a=function(d,h,m){for(var f=0,g=d.length;f<g;f++)m==null?h(d.charAt(f),f,d):h.call(m,d.charAt(f),f,d)},i=function(d,h,m){for(var f in d)r.call(d,f)&&(m==null?h(d[f],f,d):h.call(m,d[f],f,d))};function o(c){return t.call(c)==="[object Array]"}return wj=function(d,h,m){if(!s(h))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=m),o(d)?n(d,h,f):typeof d=="string"?a(d,h,f):i(d,h,f)},wj}var jj,g5;function kre(){return g5||(g5=1,jj=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),jj}var _j,x5;function Sre(){if(x5)return _j;x5=1;var s=kre(),t=typeof globalThis>"u"?Yi:globalThis;return _j=function(){for(var n=[],a=0;a<s.length;a++)typeof t[s[a]]=="function"&&(n[n.length]=s[a]);return n},_j}var Nj,y5;function Cre(){if(y5)return Nj;y5=1;var s=F2(),t=L2(),r=t([s("%String.prototype.indexOf%")]);return Nj=function(a,i){var o=s(a,!!i);return typeof o=="function"&&r(a,".prototype.")>-1?t([o]):o},Nj}var kj,b5;function h8(){if(b5)return kj;b5=1;var s=Nre(),t=Sre(),r=u8(),n=Cre(),a=tp(),i=d8(),o=n("Object.prototype.toString"),c=M2()(),d=typeof globalThis>"u"?Yi:globalThis,h=t(),m=n("String.prototype.slice"),f=n("Array.prototype.indexOf",!0)||function(_,j){for(var S=0;S<_.length;S+=1)if(_[S]===j)return S;return-1},g={__proto__:null};c&&a&&i?s(h,function(y){var _=new d[y];if(Symbol.toStringTag in _&&i){var j=i(_),S=a(j,Symbol.toStringTag);if(!S&&j){var N=i(j);S=a(N,Symbol.toStringTag)}g["$"+y]=r(S.get)}}):s(h,function(y){var _=new d[y],j=_.slice||_.set;j&&(g["$"+y]=r(j))});var b=function(_){var j=!1;return s(g,function(S,N){if(!j)try{"$"+S(_)===N&&(j=m(N,1))}catch{}}),j},v=function(_){var j=!1;return s(g,function(S,N){if(!j)try{S(_),j=m(N,1)}catch{}}),j};return kj=function(_){if(!_||typeof _!="object")return!1;if(!c){var j=m(o(_),8,-1);return f(h,j)>-1?j:j!=="Object"?!1:v(_)}return a?b(_):null},kj}var Sj,v5;function Are(){if(v5)return Sj;v5=1;var s=h8();return Sj=function(r){return!!s(r)},Sj}var w5;function Ere(){return w5||(w5=1,(function(s){var t=wre(),r=jre(),n=h8(),a=Are();function i(W){return W.call.bind(W)}var o=typeof BigInt<"u",c=typeof Symbol<"u",d=i(Object.prototype.toString),h=i(Number.prototype.valueOf),m=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(o)var g=i(BigInt.prototype.valueOf);if(c)var b=i(Symbol.prototype.valueOf);function v(W,Ne){if(typeof W!="object")return!1;try{return Ne(W),!0}catch{return!1}}s.isArgumentsObject=t,s.isGeneratorFunction=r,s.isTypedArray=a;function y(W){return typeof Promise<"u"&&W instanceof Promise||W!==null&&typeof W=="object"&&typeof W.then=="function"&&typeof W.catch=="function"}s.isPromise=y;function _(W){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(W):a(W)||ie(W)}s.isArrayBufferView=_;function j(W){return n(W)==="Uint8Array"}s.isUint8Array=j;function S(W){return n(W)==="Uint8ClampedArray"}s.isUint8ClampedArray=S;function N(W){return n(W)==="Uint16Array"}s.isUint16Array=N;function k(W){return n(W)==="Uint32Array"}s.isUint32Array=k;function C(W){return n(W)==="Int8Array"}s.isInt8Array=C;function z(W){return n(W)==="Int16Array"}s.isInt16Array=z;function E(W){return n(W)==="Int32Array"}s.isInt32Array=E;function U(W){return n(W)==="Float32Array"}s.isFloat32Array=U;function T(W){return n(W)==="Float64Array"}s.isFloat64Array=T;function re(W){return n(W)==="BigInt64Array"}s.isBigInt64Array=re;function Y(W){return n(W)==="BigUint64Array"}s.isBigUint64Array=Y;function I(W){return d(W)==="[object Map]"}I.working=typeof Map<"u"&&I(new Map);function K(W){return typeof Map>"u"?!1:I.working?I(W):W instanceof Map}s.isMap=K;function L(W){return d(W)==="[object Set]"}L.working=typeof Set<"u"&&L(new Set);function J(W){return typeof Set>"u"?!1:L.working?L(W):W instanceof Set}s.isSet=J;function Q(W){return d(W)==="[object WeakMap]"}Q.working=typeof WeakMap<"u"&&Q(new WeakMap);function Z(W){return typeof WeakMap>"u"?!1:Q.working?Q(W):W instanceof WeakMap}s.isWeakMap=Z;function ee(W){return d(W)==="[object WeakSet]"}ee.working=typeof WeakSet<"u"&&ee(new WeakSet);function F(W){return ee(W)}s.isWeakSet=F;function de(W){return d(W)==="[object ArrayBuffer]"}de.working=typeof ArrayBuffer<"u"&&de(new ArrayBuffer);function q(W){return typeof ArrayBuffer>"u"?!1:de.working?de(W):W instanceof ArrayBuffer}s.isArrayBuffer=q;function G(W){return d(W)==="[object DataView]"}G.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&G(new DataView(new ArrayBuffer(1),0,1));function ie(W){return typeof DataView>"u"?!1:G.working?G(W):W instanceof DataView}s.isDataView=ie;var le=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function be(W){return d(W)==="[object SharedArrayBuffer]"}function ye(W){return typeof le>"u"?!1:(typeof be.working>"u"&&(be.working=be(new le)),be.working?be(W):W instanceof le)}s.isSharedArrayBuffer=ye;function $(W){return d(W)==="[object AsyncFunction]"}s.isAsyncFunction=$;function V(W){return d(W)==="[object Map Iterator]"}s.isMapIterator=V;function me(W){return d(W)==="[object Set Iterator]"}s.isSetIterator=me;function ce(W){return d(W)==="[object Generator]"}s.isGeneratorObject=ce;function he(W){return d(W)==="[object WebAssembly.Module]"}s.isWebAssemblyCompiledModule=he;function O(W){return v(W,h)}s.isNumberObject=O;function oe(W){return v(W,m)}s.isStringObject=oe;function D(W){return v(W,f)}s.isBooleanObject=D;function Ce(W){return o&&v(W,g)}s.isBigIntObject=Ce;function H(W){return c&&v(W,b)}s.isSymbolObject=H;function R(W){return O(W)||oe(W)||D(W)||Ce(W)||H(W)}s.isBoxedPrimitive=R;function P(W){return typeof Uint8Array<"u"&&(q(W)||ye(W))}s.isAnyArrayBuffer=P,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(W){Object.defineProperty(s,W,{enumerable:!1,value:function(){throw new Error(W+" is not supported in userland")}})})})(Tw)),Tw}var Cj,j5;function Tre(){return j5||(j5=1,Cj=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),Cj}var _5;function f8(){return _5||(_5=1,(function(s){var t=Object.getOwnPropertyDescriptors||function(ie){for(var le=Object.keys(ie),be={},ye=0;ye<le.length;ye++)be[le[ye]]=Object.getOwnPropertyDescriptor(ie,le[ye]);return be},r=/%[sdj%]/g;s.format=function(G){if(!C(G)){for(var ie=[],le=0;le<arguments.length;le++)ie.push(o(arguments[le]));return ie.join(" ")}for(var le=1,be=arguments,ye=be.length,$=String(G).replace(r,function(me){if(me==="%%")return"%";if(le>=ye)return me;switch(me){case"%s":return String(be[le++]);case"%d":return Number(be[le++]);case"%j":try{return JSON.stringify(be[le++])}catch{return"[Circular]"}default:return me}}),V=be[le];le<ye;V=be[++le])S(V)||!T(V)?$+=" "+V:$+=" "+o(V);return $},s.deprecate=function(G,ie){if(typeof ls<"u"&&ls.noDeprecation===!0)return G;if(typeof ls>"u")return function(){return s.deprecate(G,ie).apply(this,arguments)};var le=!1;function be(){if(!le){if(ls.throwDeprecation)throw new Error(ie);ls.traceDeprecation?console.trace(ie):console.error(ie),le=!0}return G.apply(this,arguments)}return be};var n={},a=/^$/;if(ls.env.NODE_DEBUG){var i=ls.env.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+i+"$","i")}s.debuglog=function(G){if(G=G.toUpperCase(),!n[G])if(a.test(G)){var ie=ls.pid;n[G]=function(){var le=s.format.apply(s,arguments);console.error("%s %d: %s",G,ie,le)}}else n[G]=function(){};return n[G]};function o(G,ie){var le={seen:[],stylize:d};return arguments.length>=3&&(le.depth=arguments[2]),arguments.length>=4&&(le.colors=arguments[3]),j(ie)?le.showHidden=ie:ie&&s._extend(le,ie),E(le.showHidden)&&(le.showHidden=!1),E(le.depth)&&(le.depth=2),E(le.colors)&&(le.colors=!1),E(le.customInspect)&&(le.customInspect=!0),le.colors&&(le.stylize=c),m(le,G,le.depth)}s.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(G,ie){var le=o.styles[ie];return le?"\x1B["+o.colors[le][0]+"m"+G+"\x1B["+o.colors[le][1]+"m":G}function d(G,ie){return G}function h(G){var ie={};return G.forEach(function(le,be){ie[le]=!0}),ie}function m(G,ie,le){if(G.customInspect&&ie&&I(ie.inspect)&&ie.inspect!==s.inspect&&!(ie.constructor&&ie.constructor.prototype===ie)){var be=ie.inspect(le,G);return C(be)||(be=m(G,be,le)),be}var ye=f(G,ie);if(ye)return ye;var $=Object.keys(ie),V=h($);if(G.showHidden&&($=Object.getOwnPropertyNames(ie)),Y(ie)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return g(ie);if($.length===0){if(I(ie)){var me=ie.name?": "+ie.name:"";return G.stylize("[Function"+me+"]","special")}if(U(ie))return G.stylize(RegExp.prototype.toString.call(ie),"regexp");if(re(ie))return G.stylize(Date.prototype.toString.call(ie),"date");if(Y(ie))return g(ie)}var ce="",he=!1,O=["{","}"];if(_(ie)&&(he=!0,O=["[","]"]),I(ie)){var oe=ie.name?": "+ie.name:"";ce=" [Function"+oe+"]"}if(U(ie)&&(ce=" "+RegExp.prototype.toString.call(ie)),re(ie)&&(ce=" "+Date.prototype.toUTCString.call(ie)),Y(ie)&&(ce=" "+g(ie)),$.length===0&&(!he||ie.length==0))return O[0]+ce+O[1];if(le<0)return U(ie)?G.stylize(RegExp.prototype.toString.call(ie),"regexp"):G.stylize("[Object]","special");G.seen.push(ie);var D;return he?D=b(G,ie,le,V,$):D=$.map(function(Ce){return v(G,ie,le,V,Ce,he)}),G.seen.pop(),y(D,ce,O)}function f(G,ie){if(E(ie))return G.stylize("undefined","undefined");if(C(ie)){var le="'"+JSON.stringify(ie).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return G.stylize(le,"string")}if(k(ie))return G.stylize(""+ie,"number");if(j(ie))return G.stylize(""+ie,"boolean");if(S(ie))return G.stylize("null","null")}function g(G){return"["+Error.prototype.toString.call(G)+"]"}function b(G,ie,le,be,ye){for(var $=[],V=0,me=ie.length;V<me;++V)ee(ie,String(V))?$.push(v(G,ie,le,be,String(V),!0)):$.push("");return ye.forEach(function(ce){ce.match(/^\d+$/)||$.push(v(G,ie,le,be,ce,!0))}),$}function v(G,ie,le,be,ye,$){var V,me,ce;if(ce=Object.getOwnPropertyDescriptor(ie,ye)||{value:ie[ye]},ce.get?ce.set?me=G.stylize("[Getter/Setter]","special"):me=G.stylize("[Getter]","special"):ce.set&&(me=G.stylize("[Setter]","special")),ee(be,ye)||(V="["+ye+"]"),me||(G.seen.indexOf(ce.value)<0?(S(le)?me=m(G,ce.value,null):me=m(G,ce.value,le-1),me.indexOf(`
`)>-1&&($?me=me.split(`
`).map(function(he){return"  "+he}).join(`
`).slice(2):me=`
`+me.split(`
`).map(function(he){return"   "+he}).join(`
`))):me=G.stylize("[Circular]","special")),E(V)){if($&&ye.match(/^\d+$/))return me;V=JSON.stringify(""+ye),V.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.slice(1,-1),V=G.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=G.stylize(V,"string"))}return V+": "+me}function y(G,ie,le){var be=G.reduce(function(ye,$){return $.indexOf(`
`)>=0,ye+$.replace(/\u001b\[\d\d?m/g,"").length+1},0);return be>60?le[0]+(ie===""?"":ie+`
 `)+" "+G.join(`,
  `)+" "+le[1]:le[0]+ie+" "+G.join(", ")+" "+le[1]}s.types=Ere();function _(G){return Array.isArray(G)}s.isArray=_;function j(G){return typeof G=="boolean"}s.isBoolean=j;function S(G){return G===null}s.isNull=S;function N(G){return G==null}s.isNullOrUndefined=N;function k(G){return typeof G=="number"}s.isNumber=k;function C(G){return typeof G=="string"}s.isString=C;function z(G){return typeof G=="symbol"}s.isSymbol=z;function E(G){return G===void 0}s.isUndefined=E;function U(G){return T(G)&&L(G)==="[object RegExp]"}s.isRegExp=U,s.types.isRegExp=U;function T(G){return typeof G=="object"&&G!==null}s.isObject=T;function re(G){return T(G)&&L(G)==="[object Date]"}s.isDate=re,s.types.isDate=re;function Y(G){return T(G)&&(L(G)==="[object Error]"||G instanceof Error)}s.isError=Y,s.types.isNativeError=Y;function I(G){return typeof G=="function"}s.isFunction=I;function K(G){return G===null||typeof G=="boolean"||typeof G=="number"||typeof G=="string"||typeof G=="symbol"||typeof G>"u"}s.isPrimitive=K,s.isBuffer=Tre();function L(G){return Object.prototype.toString.call(G)}function J(G){return G<10?"0"+G.toString(10):G.toString(10)}var Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Z(){var G=new Date,ie=[J(G.getHours()),J(G.getMinutes()),J(G.getSeconds())].join(":");return[G.getDate(),Q[G.getMonth()],ie].join(" ")}s.log=function(){console.log("%s - %s",Z(),s.format.apply(s,arguments))},s.inherits=xc(),s._extend=function(G,ie){if(!ie||!T(ie))return G;for(var le=Object.keys(ie),be=le.length;be--;)G[le[be]]=ie[le[be]];return G};function ee(G,ie){return Object.prototype.hasOwnProperty.call(G,ie)}var F=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;s.promisify=function(ie){if(typeof ie!="function")throw new TypeError('The "original" argument must be of type Function');if(F&&ie[F]){var le=ie[F];if(typeof le!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(le,F,{value:le,enumerable:!1,writable:!1,configurable:!0}),le}function le(){for(var be,ye,$=new Promise(function(ce,he){be=ce,ye=he}),V=[],me=0;me<arguments.length;me++)V.push(arguments[me]);V.push(function(ce,he){ce?ye(ce):be(he)});try{ie.apply(this,V)}catch(ce){ye(ce)}return $}return Object.setPrototypeOf(le,Object.getPrototypeOf(ie)),F&&Object.defineProperty(le,F,{value:le,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(le,t(ie))},s.promisify.custom=F;function de(G,ie){if(!G){var le=new Error("Promise was rejected with a falsy value");le.reason=G,G=le}return ie(G)}function q(G){if(typeof G!="function")throw new TypeError('The "original" argument must be of type Function');function ie(){for(var le=[],be=0;be<arguments.length;be++)le.push(arguments[be]);var ye=le.pop();if(typeof ye!="function")throw new TypeError("The last argument must be of type Function");var $=this,V=function(){return ye.apply($,arguments)};G.apply(this,le).then(function(me){ls.nextTick(V.bind(null,null,me))},function(me){ls.nextTick(de.bind(null,me,V))})}return Object.setPrototypeOf(ie,Object.getPrototypeOf(G)),Object.defineProperties(ie,t(G)),ie}s.callbackify=q})(Ew)),Ew}var Aj,N5;function Rre(){if(N5)return Aj;N5=1;function s(g,b){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(g);b&&(y=y.filter(function(_){return Object.getOwnPropertyDescriptor(g,_).enumerable})),v.push.apply(v,y)}return v}function t(g){for(var b=1;b<arguments.length;b++){var v=arguments[b]!=null?arguments[b]:{};b%2?s(Object(v),!0).forEach(function(y){r(g,y,v[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):s(Object(v)).forEach(function(y){Object.defineProperty(g,y,Object.getOwnPropertyDescriptor(v,y))})}return g}function r(g,b,v){return b in g?Object.defineProperty(g,b,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[b]=v,g}function n(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function a(g,b){for(var v=0;v<b.length;v++){var y=b[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}function i(g,b,v){return b&&a(g.prototype,b),g}var o=by(),c=o.Buffer,d=f8(),h=d.inspect,m=h&&h.custom||"inspect";function f(g,b,v){c.prototype.copy.call(g,b,v)}return Aj=(function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return i(g,[{key:"push",value:function(v){var y={data:v,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(v){var y={data:v,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var y=this.head,_=""+y.data;y=y.next;)_+=v+y.data;return _}},{key:"concat",value:function(v){if(this.length===0)return c.alloc(0);for(var y=c.allocUnsafe(v>>>0),_=this.head,j=0;_;)f(_.data,y,j),j+=_.data.length,_=_.next;return y}},{key:"consume",value:function(v,y){var _;return v<this.head.data.length?(_=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?_=this.shift():_=y?this._getString(v):this._getBuffer(v),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var y=this.head,_=1,j=y.data;for(v-=j.length;y=y.next;){var S=y.data,N=v>S.length?S.length:v;if(N===S.length?j+=S:j+=S.slice(0,v),v-=N,v===0){N===S.length?(++_,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=S.slice(N));break}++_}return this.length-=_,j}},{key:"_getBuffer",value:function(v){var y=c.allocUnsafe(v),_=this.head,j=1;for(_.data.copy(y),v-=_.data.length;_=_.next;){var S=_.data,N=v>S.length?S.length:v;if(S.copy(y,y.length-v,0,N),v-=N,v===0){N===S.length?(++j,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=S.slice(N));break}++j}return this.length-=j,y}},{key:m,value:function(v,y){return h(this,t({},y,{depth:0,customInspect:!1}))}}]),g})(),Aj}var Ej,k5;function m8(){if(k5)return Ej;k5=1;function s(o,c){var d=this,h=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return h||m?(c?c(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ls.nextTick(a,this,o)):ls.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(f){!c&&f?d._writableState?d._writableState.errorEmitted?ls.nextTick(r,d):(d._writableState.errorEmitted=!0,ls.nextTick(t,d,f)):ls.nextTick(t,d,f):c?(ls.nextTick(r,d),c(f)):ls.nextTick(r,d)}),this)}function t(o,c){a(o,c),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(o,c){o.emit("error",c)}function i(o,c){var d=o._readableState,h=o._writableState;d&&d.autoDestroy||h&&h.autoDestroy?o.destroy(c):o.emit("error",c)}return Ej={destroy:s,undestroy:n,errorOrDestroy:i},Ej}var Tj={},S5;function Sh(){if(S5)return Tj;S5=1;function s(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var t={};function r(c,d,h){h||(h=Error);function m(g,b,v){return typeof d=="string"?d:d(g,b,v)}var f=(function(g){s(b,g);function b(v,y,_){return g.call(this,m(v,y,_))||this}return b})(h);f.prototype.name=h.name,f.prototype.code=c,t[c]=f}function n(c,d){if(Array.isArray(c)){var h=c.length;return c=c.map(function(m){return String(m)}),h>2?"one of ".concat(d," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(d," ").concat(c[0]," or ").concat(c[1]):"of ".concat(d," ").concat(c[0])}else return"of ".concat(d," ").concat(String(c))}function a(c,d,h){return c.substr(0,d.length)===d}function i(c,d,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-d.length,h)===d}function o(c,d,h){return typeof h!="number"&&(h=0),h+d.length>c.length?!1:c.indexOf(d,h)!==-1}return r("ERR_INVALID_OPT_VALUE",function(c,d){return'The value "'+d+'" is invalid for option "'+c+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(c,d,h){var m;typeof d=="string"&&a(d,"not ")?(m="must not be",d=d.replace(/^not /,"")):m="must be";var f;if(i(c," argument"))f="The ".concat(c," ").concat(m," ").concat(n(d,"type"));else{var g=o(c,".")?"property":"argument";f='The "'.concat(c,'" ').concat(g," ").concat(m," ").concat(n(d,"type"))}return f+=". Received type ".concat(typeof h),f},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Tj.codes=t,Tj}var Rj,C5;function p8(){if(C5)return Rj;C5=1;var s=Sh().codes.ERR_INVALID_OPT_VALUE;function t(n,a,i){return n.highWaterMark!=null?n.highWaterMark:a?n[i]:null}function r(n,a,i,o){var c=t(a,o,i);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var d=o?i:"highWaterMark";throw new s(d,c)}return Math.floor(c)}return n.objectMode?16:16*1024}return Rj={getHighWaterMark:r},Rj}var Dj,A5;function Dre(){if(A5)return Dj;A5=1,Dj=s;function s(r,n){if(t("noDeprecation"))return r;var a=!1;function i(){if(!a){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),a=!0}return r.apply(this,arguments)}return i}function t(r){try{if(!Yi.localStorage)return!1}catch{return!1}var n=Yi.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Dj}var Mj,E5;function g8(){if(E5)return Mj;E5=1,Mj=U;function s(ye){var $=this;this.next=null,this.entry=null,this.finish=function(){be($,ye)}}var t;U.WritableState=z;var r={deprecate:Dre()},n=r8(),a=by().Buffer,i=Yi.Uint8Array||function(){};function o(ye){return a.from(ye)}function c(ye){return a.isBuffer(ye)||ye instanceof i}var d=m8(),h=p8(),m=h.getHighWaterMark,f=Sh().codes,g=f.ERR_INVALID_ARG_TYPE,b=f.ERR_METHOD_NOT_IMPLEMENTED,v=f.ERR_MULTIPLE_CALLBACK,y=f.ERR_STREAM_CANNOT_PIPE,_=f.ERR_STREAM_DESTROYED,j=f.ERR_STREAM_NULL_VALUES,S=f.ERR_STREAM_WRITE_AFTER_END,N=f.ERR_UNKNOWN_ENCODING,k=d.errorOrDestroy;xc()(U,n);function C(){}function z(ye,$,V){t=t||rh(),ye=ye||{},typeof V!="boolean"&&(V=$ instanceof t),this.objectMode=!!ye.objectMode,V&&(this.objectMode=this.objectMode||!!ye.writableObjectMode),this.highWaterMark=m(this,ye,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=ye.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=ye.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ce){Q($,ce)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ye.emitClose!==!1,this.autoDestroy=!!ye.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}z.prototype.getBuffer=function(){for(var $=this.bufferedRequest,V=[];$;)V.push($),$=$.next;return V},(function(){try{Object.defineProperty(z.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function($){return E.call(this,$)?!0:this!==U?!1:$&&$._writableState instanceof z}})):E=function($){return $ instanceof this};function U(ye){t=t||rh();var $=this instanceof t;if(!$&&!E.call(U,this))return new U(ye);this._writableState=new z(ye,this,$),this.writable=!0,ye&&(typeof ye.write=="function"&&(this._write=ye.write),typeof ye.writev=="function"&&(this._writev=ye.writev),typeof ye.destroy=="function"&&(this._destroy=ye.destroy),typeof ye.final=="function"&&(this._final=ye.final)),n.call(this)}U.prototype.pipe=function(){k(this,new y)};function T(ye,$){var V=new S;k(ye,V),ls.nextTick($,V)}function re(ye,$,V,me){var ce;return V===null?ce=new j:typeof V!="string"&&!$.objectMode&&(ce=new g("chunk",["string","Buffer"],V)),ce?(k(ye,ce),ls.nextTick(me,ce),!1):!0}U.prototype.write=function(ye,$,V){var me=this._writableState,ce=!1,he=!me.objectMode&&c(ye);return he&&!a.isBuffer(ye)&&(ye=o(ye)),typeof $=="function"&&(V=$,$=null),he?$="buffer":$||($=me.defaultEncoding),typeof V!="function"&&(V=C),me.ending?T(this,V):(he||re(this,me,ye,V))&&(me.pendingcb++,ce=I(this,me,he,ye,$,V)),ce},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var ye=this._writableState;ye.corked&&(ye.corked--,!ye.writing&&!ye.corked&&!ye.bufferProcessing&&ye.bufferedRequest&&F(this,ye))},U.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new N($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Y(ye,$,V){return!ye.objectMode&&ye.decodeStrings!==!1&&typeof $=="string"&&($=a.from($,V)),$}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function I(ye,$,V,me,ce,he){if(!V){var O=Y($,me,ce);me!==O&&(V=!0,ce="buffer",me=O)}var oe=$.objectMode?1:me.length;$.length+=oe;var D=$.length<$.highWaterMark;if(D||($.needDrain=!0),$.writing||$.corked){var Ce=$.lastBufferedRequest;$.lastBufferedRequest={chunk:me,encoding:ce,isBuf:V,callback:he,next:null},Ce?Ce.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else K(ye,$,!1,oe,me,ce,he);return D}function K(ye,$,V,me,ce,he,O){$.writelen=me,$.writecb=O,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new _("write")):V?ye._writev(ce,$.onwrite):ye._write(ce,he,$.onwrite),$.sync=!1}function L(ye,$,V,me,ce){--$.pendingcb,V?(ls.nextTick(ce,me),ls.nextTick(ie,ye,$),ye._writableState.errorEmitted=!0,k(ye,me)):(ce(me),ye._writableState.errorEmitted=!0,k(ye,me),ie(ye,$))}function J(ye){ye.writing=!1,ye.writecb=null,ye.length-=ye.writelen,ye.writelen=0}function Q(ye,$){var V=ye._writableState,me=V.sync,ce=V.writecb;if(typeof ce!="function")throw new v;if(J(V),$)L(ye,V,me,$,ce);else{var he=de(V)||ye.destroyed;!he&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&F(ye,V),me?ls.nextTick(Z,ye,V,he,ce):Z(ye,V,he,ce)}}function Z(ye,$,V,me){V||ee(ye,$),$.pendingcb--,me(),ie(ye,$)}function ee(ye,$){$.length===0&&$.needDrain&&($.needDrain=!1,ye.emit("drain"))}function F(ye,$){$.bufferProcessing=!0;var V=$.bufferedRequest;if(ye._writev&&V&&V.next){var me=$.bufferedRequestCount,ce=new Array(me),he=$.corkedRequestsFree;he.entry=V;for(var O=0,oe=!0;V;)ce[O]=V,V.isBuf||(oe=!1),V=V.next,O+=1;ce.allBuffers=oe,K(ye,$,!0,$.length,ce,"",he.finish),$.pendingcb++,$.lastBufferedRequest=null,he.next?($.corkedRequestsFree=he.next,he.next=null):$.corkedRequestsFree=new s($),$.bufferedRequestCount=0}else{for(;V;){var D=V.chunk,Ce=V.encoding,H=V.callback,R=$.objectMode?1:D.length;if(K(ye,$,!1,R,D,Ce,H),V=V.next,$.bufferedRequestCount--,$.writing)break}V===null&&($.lastBufferedRequest=null)}$.bufferedRequest=V,$.bufferProcessing=!1}U.prototype._write=function(ye,$,V){V(new b("_write()"))},U.prototype._writev=null,U.prototype.end=function(ye,$,V){var me=this._writableState;return typeof ye=="function"?(V=ye,ye=null,$=null):typeof $=="function"&&(V=$,$=null),ye!=null&&this.write(ye,$),me.corked&&(me.corked=1,this.uncork()),me.ending||le(this,me,V),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function de(ye){return ye.ending&&ye.length===0&&ye.bufferedRequest===null&&!ye.finished&&!ye.writing}function q(ye,$){ye._final(function(V){$.pendingcb--,V&&k(ye,V),$.prefinished=!0,ye.emit("prefinish"),ie(ye,$)})}function G(ye,$){!$.prefinished&&!$.finalCalled&&(typeof ye._final=="function"&&!$.destroyed?($.pendingcb++,$.finalCalled=!0,ls.nextTick(q,ye,$)):($.prefinished=!0,ye.emit("prefinish")))}function ie(ye,$){var V=de($);if(V&&(G(ye,$),$.pendingcb===0&&($.finished=!0,ye.emit("finish"),$.autoDestroy))){var me=ye._readableState;(!me||me.autoDestroy&&me.endEmitted)&&ye.destroy()}return V}function le(ye,$,V){$.ending=!0,ie(ye,$),V&&($.finished?ls.nextTick(V):ye.once("finish",V)),$.ended=!0,ye.writable=!1}function be(ye,$,V){var me=ye.entry;for(ye.entry=null;me;){var ce=me.callback;$.pendingcb--,ce(V),me=me.next}$.corkedRequestsFree.next=ye}return Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),U.prototype.destroy=d.destroy,U.prototype._undestroy=d.undestroy,U.prototype._destroy=function(ye,$){$(ye)},Mj}var Pj,T5;function rh(){if(T5)return Pj;T5=1;var s=Object.keys||function(h){var m=[];for(var f in h)m.push(f);return m};Pj=o;var t=x8(),r=g8();xc()(o,t);for(var n=s(r.prototype),a=0;a<n.length;a++){var i=n[a];o.prototype[i]||(o.prototype[i]=r.prototype[i])}function o(h){if(!(this instanceof o))return new o(h);t.call(this,h),r.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||ls.nextTick(d,this)}function d(h){h.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),Pj}var Oj={},Yg={exports:{}},R5;function Mre(){return R5||(R5=1,(function(s,t){var r=by(),n=r.Buffer;function a(o,c){for(var d in o)c[d]=o[d]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?s.exports=r:(a(r,t),t.Buffer=i);function i(o,c,d){return n(o,c,d)}a(n,i),i.from=function(o,c,d){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,c,d)},i.alloc=function(o,c,d){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=n(o);return c!==void 0?typeof d=="string"?h.fill(c,d):h.fill(c):h.fill(0),h},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Yg,Yg.exports)),Yg.exports}var D5;function K_(){if(D5)return Oj;D5=1;var s=Mre().Buffer,t=s.isEncoding||function(j){switch(j=""+j,j&&j.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(j){if(!j)return"utf8";for(var S;;)switch(j){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return j;default:if(S)return;j=(""+j).toLowerCase(),S=!0}}function n(j){var S=r(j);if(typeof S!="string"&&(s.isEncoding===t||!t(j)))throw new Error("Unknown encoding: "+j);return S||j}Oj.StringDecoder=a;function a(j){this.encoding=n(j);var S;switch(this.encoding){case"utf16le":this.text=f,this.end=g,S=4;break;case"utf8":this.fillLast=d,S=4;break;case"base64":this.text=b,this.end=v,S=3;break;default:this.write=y,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(S)}a.prototype.write=function(j){if(j.length===0)return"";var S,N;if(this.lastNeed){if(S=this.fillLast(j),S===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<j.length?S?S+this.text(j,N):this.text(j,N):S||""},a.prototype.end=m,a.prototype.text=h,a.prototype.fillLast=function(j){if(this.lastNeed<=j.length)return j.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);j.copy(this.lastChar,this.lastTotal-this.lastNeed,0,j.length),this.lastNeed-=j.length};function i(j){return j<=127?0:j>>5===6?2:j>>4===14?3:j>>3===30?4:j>>6===2?-1:-2}function o(j,S,N){var k=S.length-1;if(k<N)return 0;var C=i(S[k]);return C>=0?(C>0&&(j.lastNeed=C-1),C):--k<N||C===-2?0:(C=i(S[k]),C>=0?(C>0&&(j.lastNeed=C-2),C):--k<N||C===-2?0:(C=i(S[k]),C>=0?(C>0&&(C===2?C=0:j.lastNeed=C-3),C):0))}function c(j,S,N){if((S[0]&192)!==128)return j.lastNeed=0,"";if(j.lastNeed>1&&S.length>1){if((S[1]&192)!==128)return j.lastNeed=1,"";if(j.lastNeed>2&&S.length>2&&(S[2]&192)!==128)return j.lastNeed=2,""}}function d(j){var S=this.lastTotal-this.lastNeed,N=c(this,j);if(N!==void 0)return N;if(this.lastNeed<=j.length)return j.copy(this.lastChar,S,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);j.copy(this.lastChar,S,0,j.length),this.lastNeed-=j.length}function h(j,S){var N=o(this,j,S);if(!this.lastNeed)return j.toString("utf8",S);this.lastTotal=N;var k=j.length-(N-this.lastNeed);return j.copy(this.lastChar,0,k),j.toString("utf8",S,k)}function m(j){var S=j&&j.length?this.write(j):"";return this.lastNeed?S+"":S}function f(j,S){if((j.length-S)%2===0){var N=j.toString("utf16le",S);if(N){var k=N.charCodeAt(N.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=j[j.length-2],this.lastChar[1]=j[j.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=j[j.length-1],j.toString("utf16le",S,j.length-1)}function g(j){var S=j&&j.length?this.write(j):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return S+this.lastChar.toString("utf16le",0,N)}return S}function b(j,S){var N=(j.length-S)%3;return N===0?j.toString("base64",S):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=j[j.length-1]:(this.lastChar[0]=j[j.length-2],this.lastChar[1]=j[j.length-1]),j.toString("base64",S,j.length-N))}function v(j){var S=j&&j.length?this.write(j):"";return this.lastNeed?S+this.lastChar.toString("base64",0,3-this.lastNeed):S}function y(j){return j.toString(this.encoding)}function _(j){return j&&j.length?this.write(j):""}return Oj}var Lj,M5;function B2(){if(M5)return Lj;M5=1;var s=Sh().codes.ERR_STREAM_PREMATURE_CLOSE;function t(i){var o=!1;return function(){if(!o){o=!0;for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];i.apply(this,d)}}}function r(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function a(i,o,c){if(typeof o=="function")return a(i,null,o);o||(o={}),c=t(c||r);var d=o.readable||o.readable!==!1&&i.readable,h=o.writable||o.writable!==!1&&i.writable,m=function(){i.writable||g()},f=i._writableState&&i._writableState.finished,g=function(){h=!1,f=!0,d||c.call(i)},b=i._readableState&&i._readableState.endEmitted,v=function(){d=!1,b=!0,h||c.call(i)},y=function(N){c.call(i,N)},_=function(){var N;if(d&&!b)return(!i._readableState||!i._readableState.ended)&&(N=new s),c.call(i,N);if(h&&!f)return(!i._writableState||!i._writableState.ended)&&(N=new s),c.call(i,N)},j=function(){i.req.on("finish",g)};return n(i)?(i.on("complete",g),i.on("abort",_),i.req?j():i.on("request",j)):h&&!i._writableState&&(i.on("end",m),i.on("close",m)),i.on("end",v),i.on("finish",g),o.error!==!1&&i.on("error",y),i.on("close",_),function(){i.removeListener("complete",g),i.removeListener("abort",_),i.removeListener("request",j),i.req&&i.req.removeListener("finish",g),i.removeListener("end",m),i.removeListener("close",m),i.removeListener("finish",g),i.removeListener("end",v),i.removeListener("error",y),i.removeListener("close",_)}}return Lj=a,Lj}var Fj,P5;function Pre(){if(P5)return Fj;P5=1;var s;function t(j,S,N){return S in j?Object.defineProperty(j,S,{value:N,enumerable:!0,configurable:!0,writable:!0}):j[S]=N,j}var r=B2(),n=Symbol("lastResolve"),a=Symbol("lastReject"),i=Symbol("error"),o=Symbol("ended"),c=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function m(j,S){return{value:j,done:S}}function f(j){var S=j[n];if(S!==null){var N=j[h].read();N!==null&&(j[c]=null,j[n]=null,j[a]=null,S(m(N,!1)))}}function g(j){ls.nextTick(f,j)}function b(j,S){return function(N,k){j.then(function(){if(S[o]){N(m(void 0,!0));return}S[d](N,k)},k)}}var v=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((s={get stream(){return this[h]},next:function(){var S=this,N=this[i];if(N!==null)return Promise.reject(N);if(this[o])return Promise.resolve(m(void 0,!0));if(this[h].destroyed)return new Promise(function(E,U){ls.nextTick(function(){S[i]?U(S[i]):E(m(void 0,!0))})});var k=this[c],C;if(k)C=new Promise(b(k,this));else{var z=this[h].read();if(z!==null)return Promise.resolve(m(z,!1));C=new Promise(this[d])}return this[c]=C,C}},t(s,Symbol.asyncIterator,function(){return this}),t(s,"return",function(){var S=this;return new Promise(function(N,k){S[h].destroy(null,function(C){if(C){k(C);return}N(m(void 0,!0))})})}),s),v),_=function(S){var N,k=Object.create(y,(N={},t(N,h,{value:S,writable:!0}),t(N,n,{value:null,writable:!0}),t(N,a,{value:null,writable:!0}),t(N,i,{value:null,writable:!0}),t(N,o,{value:S._readableState.endEmitted,writable:!0}),t(N,d,{value:function(z,E){var U=k[h].read();U?(k[c]=null,k[n]=null,k[a]=null,z(m(U,!1))):(k[n]=z,k[a]=E)},writable:!0}),N));return k[c]=null,r(S,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var z=k[a];z!==null&&(k[c]=null,k[n]=null,k[a]=null,z(C)),k[i]=C;return}var E=k[n];E!==null&&(k[c]=null,k[n]=null,k[a]=null,E(m(void 0,!0))),k[o]=!0}),S.on("readable",g.bind(null,k)),k};return Fj=_,Fj}var Bj,O5;function Ore(){return O5||(O5=1,Bj=function(){throw new Error("Readable.from is not available in the browser")}),Bj}var Ij,L5;function x8(){if(L5)return Ij;L5=1,Ij=T;var s;T.ReadableState=U,D2().EventEmitter;var t=function(O,oe){return O.listeners(oe).length},r=r8(),n=by().Buffer,a=Yi.Uint8Array||function(){};function i(he){return n.from(he)}function o(he){return n.isBuffer(he)||he instanceof a}var c=f8(),d;c&&c.debuglog?d=c.debuglog("stream"):d=function(){};var h=Rre(),m=m8(),f=p8(),g=f.getHighWaterMark,b=Sh().codes,v=b.ERR_INVALID_ARG_TYPE,y=b.ERR_STREAM_PUSH_AFTER_EOF,_=b.ERR_METHOD_NOT_IMPLEMENTED,j=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,S,N,k;xc()(T,r);var C=m.errorOrDestroy,z=["error","close","destroy","pause","resume"];function E(he,O,oe){if(typeof he.prependListener=="function")return he.prependListener(O,oe);!he._events||!he._events[O]?he.on(O,oe):Array.isArray(he._events[O])?he._events[O].unshift(oe):he._events[O]=[oe,he._events[O]]}function U(he,O,oe){s=s||rh(),he=he||{},typeof oe!="boolean"&&(oe=O instanceof s),this.objectMode=!!he.objectMode,oe&&(this.objectMode=this.objectMode||!!he.readableObjectMode),this.highWaterMark=g(this,he,"readableHighWaterMark",oe),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=he.emitClose!==!1,this.autoDestroy=!!he.autoDestroy,this.destroyed=!1,this.defaultEncoding=he.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,he.encoding&&(S||(S=K_().StringDecoder),this.decoder=new S(he.encoding),this.encoding=he.encoding)}function T(he){if(s=s||rh(),!(this instanceof T))return new T(he);var O=this instanceof s;this._readableState=new U(he,this,O),this.readable=!0,he&&(typeof he.read=="function"&&(this._read=he.read),typeof he.destroy=="function"&&(this._destroy=he.destroy)),r.call(this)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),T.prototype.destroy=m.destroy,T.prototype._undestroy=m.undestroy,T.prototype._destroy=function(he,O){O(he)},T.prototype.push=function(he,O){var oe=this._readableState,D;return oe.objectMode?D=!0:typeof he=="string"&&(O=O||oe.defaultEncoding,O!==oe.encoding&&(he=n.from(he,O),O=""),D=!0),re(this,he,O,!1,D)},T.prototype.unshift=function(he){return re(this,he,null,!0,!1)};function re(he,O,oe,D,Ce){d("readableAddChunk",O);var H=he._readableState;if(O===null)H.reading=!1,Q(he,H);else{var R;if(Ce||(R=I(H,O)),R)C(he,R);else if(H.objectMode||O&&O.length>0)if(typeof O!="string"&&!H.objectMode&&Object.getPrototypeOf(O)!==n.prototype&&(O=i(O)),D)H.endEmitted?C(he,new j):Y(he,H,O,!0);else if(H.ended)C(he,new y);else{if(H.destroyed)return!1;H.reading=!1,H.decoder&&!oe?(O=H.decoder.write(O),H.objectMode||O.length!==0?Y(he,H,O,!1):F(he,H)):Y(he,H,O,!1)}else D||(H.reading=!1,F(he,H))}return!H.ended&&(H.length<H.highWaterMark||H.length===0)}function Y(he,O,oe,D){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,he.emit("data",oe)):(O.length+=O.objectMode?1:oe.length,D?O.buffer.unshift(oe):O.buffer.push(oe),O.needReadable&&Z(he)),F(he,O)}function I(he,O){var oe;return!o(O)&&typeof O!="string"&&O!==void 0&&!he.objectMode&&(oe=new v("chunk",["string","Buffer","Uint8Array"],O)),oe}T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(he){S||(S=K_().StringDecoder);var O=new S(he);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,D="";oe!==null;)D+=O.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),D!==""&&this._readableState.buffer.push(D),this._readableState.length=D.length,this};var K=1073741824;function L(he){return he>=K?he=K:(he--,he|=he>>>1,he|=he>>>2,he|=he>>>4,he|=he>>>8,he|=he>>>16,he++),he}function J(he,O){return he<=0||O.length===0&&O.ended?0:O.objectMode?1:he!==he?O.flowing&&O.length?O.buffer.head.data.length:O.length:(he>O.highWaterMark&&(O.highWaterMark=L(he)),he<=O.length?he:O.ended?O.length:(O.needReadable=!0,0))}T.prototype.read=function(he){d("read",he),he=parseInt(he,10);var O=this._readableState,oe=he;if(he!==0&&(O.emittedReadable=!1),he===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return d("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?V(this):Z(this),null;if(he=J(he,O),he===0&&O.ended)return O.length===0&&V(this),null;var D=O.needReadable;d("need readable",D),(O.length===0||O.length-he<O.highWaterMark)&&(D=!0,d("length less than watermark",D)),O.ended||O.reading?(D=!1,d("reading or ended",D)):D&&(d("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(he=J(oe,O)));var Ce;return he>0?Ce=$(he,O):Ce=null,Ce===null?(O.needReadable=O.length<=O.highWaterMark,he=0):(O.length-=he,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),oe!==he&&O.ended&&V(this)),Ce!==null&&this.emit("data",Ce),Ce};function Q(he,O){if(d("onEofChunk"),!O.ended){if(O.decoder){var oe=O.decoder.end();oe&&oe.length&&(O.buffer.push(oe),O.length+=O.objectMode?1:oe.length)}O.ended=!0,O.sync?Z(he):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,ee(he)))}}function Z(he){var O=he._readableState;d("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(d("emitReadable",O.flowing),O.emittedReadable=!0,ls.nextTick(ee,he))}function ee(he){var O=he._readableState;d("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(he.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,ye(he)}function F(he,O){O.readingMore||(O.readingMore=!0,ls.nextTick(de,he,O))}function de(he,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var oe=O.length;if(d("maybeReadMore read 0"),he.read(0),oe===O.length)break}O.readingMore=!1}T.prototype._read=function(he){C(this,new _("_read()"))},T.prototype.pipe=function(he,O){var oe=this,D=this._readableState;switch(D.pipesCount){case 0:D.pipes=he;break;case 1:D.pipes=[D.pipes,he];break;default:D.pipes.push(he);break}D.pipesCount+=1,d("pipe count=%d opts=%j",D.pipesCount,O);var Ce=(!O||O.end!==!1)&&he!==ls.stdout&&he!==ls.stderr,H=Ce?P:Se;D.endEmitted?ls.nextTick(H):oe.once("end",H),he.on("unpipe",R);function R(Ie,We){d("onunpipe"),Ie===oe&&We&&We.hasUnpiped===!1&&(We.hasUnpiped=!0,X())}function P(){d("onend"),he.end()}var W=q(oe);he.on("drain",W);var Ne=!1;function X(){d("cleanup"),he.removeListener("close",Re),he.removeListener("finish",De),he.removeListener("drain",W),he.removeListener("error",ge),he.removeListener("unpipe",R),oe.removeListener("end",P),oe.removeListener("end",Se),oe.removeListener("data",pe),Ne=!0,D.awaitDrain&&(!he._writableState||he._writableState.needDrain)&&W()}oe.on("data",pe);function pe(Ie){d("ondata");var We=he.write(Ie);d("dest.write",We),We===!1&&((D.pipesCount===1&&D.pipes===he||D.pipesCount>1&&ce(D.pipes,he)!==-1)&&!Ne&&(d("false write response, pause",D.awaitDrain),D.awaitDrain++),oe.pause())}function ge(Ie){d("onerror",Ie),Se(),he.removeListener("error",ge),t(he,"error")===0&&C(he,Ie)}E(he,"error",ge);function Re(){he.removeListener("finish",De),Se()}he.once("close",Re);function De(){d("onfinish"),he.removeListener("close",Re),Se()}he.once("finish",De);function Se(){d("unpipe"),oe.unpipe(he)}return he.emit("pipe",oe),D.flowing||(d("pipe resume"),oe.resume()),he};function q(he){return function(){var oe=he._readableState;d("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&t(he,"data")&&(oe.flowing=!0,ye(he))}}T.prototype.unpipe=function(he){var O=this._readableState,oe={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return he&&he!==O.pipes?this:(he||(he=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,he&&he.emit("unpipe",this,oe),this);if(!he){var D=O.pipes,Ce=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var H=0;H<Ce;H++)D[H].emit("unpipe",this,{hasUnpiped:!1});return this}var R=ce(O.pipes,he);return R===-1?this:(O.pipes.splice(R,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),he.emit("unpipe",this,oe),this)},T.prototype.on=function(he,O){var oe=r.prototype.on.call(this,he,O),D=this._readableState;return he==="data"?(D.readableListening=this.listenerCount("readable")>0,D.flowing!==!1&&this.resume()):he==="readable"&&!D.endEmitted&&!D.readableListening&&(D.readableListening=D.needReadable=!0,D.flowing=!1,D.emittedReadable=!1,d("on readable",D.length,D.reading),D.length?Z(this):D.reading||ls.nextTick(ie,this)),oe},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(he,O){var oe=r.prototype.removeListener.call(this,he,O);return he==="readable"&&ls.nextTick(G,this),oe},T.prototype.removeAllListeners=function(he){var O=r.prototype.removeAllListeners.apply(this,arguments);return(he==="readable"||he===void 0)&&ls.nextTick(G,this),O};function G(he){var O=he._readableState;O.readableListening=he.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:he.listenerCount("data")>0&&he.resume()}function ie(he){d("readable nexttick read 0"),he.read(0)}T.prototype.resume=function(){var he=this._readableState;return he.flowing||(d("resume"),he.flowing=!he.readableListening,le(this,he)),he.paused=!1,this};function le(he,O){O.resumeScheduled||(O.resumeScheduled=!0,ls.nextTick(be,he,O))}function be(he,O){d("resume",O.reading),O.reading||he.read(0),O.resumeScheduled=!1,he.emit("resume"),ye(he),O.flowing&&!O.reading&&he.read(0)}T.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ye(he){var O=he._readableState;for(d("flow",O.flowing);O.flowing&&he.read()!==null;);}T.prototype.wrap=function(he){var O=this,oe=this._readableState,D=!1;he.on("end",function(){if(d("wrapped end"),oe.decoder&&!oe.ended){var R=oe.decoder.end();R&&R.length&&O.push(R)}O.push(null)}),he.on("data",function(R){if(d("wrapped data"),oe.decoder&&(R=oe.decoder.write(R)),!(oe.objectMode&&R==null)&&!(!oe.objectMode&&(!R||!R.length))){var P=O.push(R);P||(D=!0,he.pause())}});for(var Ce in he)this[Ce]===void 0&&typeof he[Ce]=="function"&&(this[Ce]=(function(P){return function(){return he[P].apply(he,arguments)}})(Ce));for(var H=0;H<z.length;H++)he.on(z[H],this.emit.bind(this,z[H]));return this._read=function(R){d("wrapped _read",R),D&&(D=!1,he.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return N===void 0&&(N=Pre()),N(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),T._fromList=$,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $(he,O){if(O.length===0)return null;var oe;return O.objectMode?oe=O.buffer.shift():!he||he>=O.length?(O.decoder?oe=O.buffer.join(""):O.buffer.length===1?oe=O.buffer.first():oe=O.buffer.concat(O.length),O.buffer.clear()):oe=O.buffer.consume(he,O.decoder),oe}function V(he){var O=he._readableState;d("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,ls.nextTick(me,O,he))}function me(he,O){if(d("endReadableNT",he.endEmitted,he.length),!he.endEmitted&&he.length===0&&(he.endEmitted=!0,O.readable=!1,O.emit("end"),he.autoDestroy)){var oe=O._writableState;(!oe||oe.autoDestroy&&oe.finished)&&O.destroy()}}typeof Symbol=="function"&&(T.from=function(he,O){return k===void 0&&(k=Ore()),k(T,he,O)});function ce(he,O){for(var oe=0,D=he.length;oe<D;oe++)if(he[oe]===O)return oe;return-1}return Ij}var zj,F5;function y8(){if(F5)return zj;F5=1,zj=c;var s=Sh().codes,t=s.ERR_METHOD_NOT_IMPLEMENTED,r=s.ERR_MULTIPLE_CALLBACK,n=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=s.ERR_TRANSFORM_WITH_LENGTH_0,i=rh();xc()(c,i);function o(m,f){var g=this._transformState;g.transforming=!1;var b=g.writecb;if(b===null)return this.emit("error",new r);g.writechunk=null,g.writecb=null,f!=null&&this.push(f),b(m);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function c(m){if(!(this instanceof c))return new c(m);i.call(this,m),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",d)}function d(){var m=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,g){h(m,f,g)}):h(this,null,null)}c.prototype.push=function(m,f){return this._transformState.needTransform=!1,i.prototype.push.call(this,m,f)},c.prototype._transform=function(m,f,g){g(new t("_transform()"))},c.prototype._write=function(m,f,g){var b=this._transformState;if(b.writecb=g,b.writechunk=m,b.writeencoding=f,!b.transforming){var v=this._readableState;(b.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},c.prototype._read=function(m){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},c.prototype._destroy=function(m,f){i.prototype._destroy.call(this,m,function(g){f(g)})};function h(m,f,g){if(f)return m.emit("error",f);if(g!=null&&m.push(g),m._writableState.length)throw new a;if(m._transformState.transforming)throw new n;return m.push(null)}return zj}var Uj,B5;function Lre(){if(B5)return Uj;B5=1,Uj=t;var s=y8();xc()(t,s);function t(r){if(!(this instanceof t))return new t(r);s.call(this,r)}return t.prototype._transform=function(r,n,a){a(null,r)},Uj}var $j,I5;function Fre(){if(I5)return $j;I5=1;var s;function t(g){var b=!1;return function(){b||(b=!0,g.apply(void 0,arguments))}}var r=Sh().codes,n=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function i(g){if(g)throw g}function o(g){return g.setHeader&&typeof g.abort=="function"}function c(g,b,v,y){y=t(y);var _=!1;g.on("close",function(){_=!0}),s===void 0&&(s=B2()),s(g,{readable:b,writable:v},function(S){if(S)return y(S);_=!0,y()});var j=!1;return function(S){if(!_&&!j){if(j=!0,o(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();y(S||new a("pipe"))}}}function d(g){g()}function h(g,b){return g.pipe(b)}function m(g){return!g.length||typeof g[g.length-1]!="function"?i:g.pop()}function f(){for(var g=arguments.length,b=new Array(g),v=0;v<g;v++)b[v]=arguments[v];var y=m(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new n("streams");var _,j=b.map(function(S,N){var k=N<b.length-1,C=N>0;return c(S,k,C,function(z){_||(_=z),z&&j.forEach(d),!k&&(j.forEach(d),y(_))})});return b.reduce(h)}return $j=f,$j}var Vj,z5;function I2(){if(z5)return Vj;z5=1,Vj=r;var s=D2().EventEmitter,t=xc();t(r,s),r.Readable=x8(),r.Writable=g8(),r.Duplex=rh(),r.Transform=y8(),r.PassThrough=Lre(),r.finished=B2(),r.pipeline=Fre(),r.Stream=r;function r(){s.call(this)}return r.prototype.pipe=function(n,a){var i=this;function o(b){n.writable&&n.write(b)===!1&&i.pause&&i.pause()}i.on("data",o);function c(){i.readable&&i.resume&&i.resume()}n.on("drain",c),!n._isStdio&&(!a||a.end!==!1)&&(i.on("end",h),i.on("close",m));var d=!1;function h(){d||(d=!0,n.end())}function m(){d||(d=!0,typeof n.destroy=="function"&&n.destroy())}function f(b){if(g(),s.listenerCount(this,"error")===0)throw b}i.on("error",f),n.on("error",f);function g(){i.removeListener("data",o),n.removeListener("drain",c),i.removeListener("end",h),i.removeListener("close",m),i.removeListener("error",f),n.removeListener("error",f),i.removeListener("end",g),i.removeListener("close",g),n.removeListener("close",g)}return i.on("end",g),i.on("close",g),n.on("close",g),n.emit("pipe",i),n},Vj}var U5;function Bre(){return U5||(U5=1,(function(s){(function(t){t.parser=function($,V){return new n($,V)},t.SAXParser=n,t.SAXStream=m,t.createStream=h,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n($,V){if(!(this instanceof n))return new n($,V);var me=this;i(me),me.q=me.c="",me.bufferCheckPosition=t.MAX_BUFFER_LENGTH,me.opt=V||{},me.opt.lowercase=me.opt.lowercase||me.opt.lowercasetags,me.looseCase=me.opt.lowercase?"toLowerCase":"toUpperCase",me.tags=[],me.closed=me.closedRoot=me.sawRoot=!1,me.tag=me.error=null,me.strict=!!$,me.noscript=!!($||me.opt.noscript),me.state=T.BEGIN,me.strictEntities=me.opt.strictEntities,me.ENTITIES=me.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),me.attribList=[],me.opt.xmlns&&(me.ns=Object.create(y)),me.trackPosition=me.opt.position!==!1,me.trackPosition&&(me.position=me.line=me.column=0),Y(me,"onready")}Object.create||(Object.create=function($){function V(){}V.prototype=$;var me=new V;return me}),Object.keys||(Object.keys=function($){var V=[];for(var me in $)$.hasOwnProperty(me)&&V.push(me);return V});function a($){for(var V=Math.max(t.MAX_BUFFER_LENGTH,10),me=0,ce=0,he=r.length;ce<he;ce++){var O=$[r[ce]].length;if(O>V)switch(r[ce]){case"textNode":K($);break;case"cdata":I($,"oncdata",$.cdata),$.cdata="";break;case"script":I($,"onscript",$.script),$.script="";break;default:J($,"Max buffer length exceeded: "+r[ce])}me=Math.max(me,O)}var oe=t.MAX_BUFFER_LENGTH-me;$.bufferCheckPosition=oe+$.position}function i($){for(var V=0,me=r.length;V<me;V++)$[r[V]]=""}function o($){K($),$.cdata!==""&&(I($,"oncdata",$.cdata),$.cdata=""),$.script!==""&&(I($,"onscript",$.script),$.script="")}n.prototype={end:function(){Q(this)},write:ye,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var c;try{c=I2().Stream}catch{c=function(){}}var d=t.EVENTS.filter(function($){return $!=="error"&&$!=="end"});function h($,V){return new m($,V)}function m($,V){if(!(this instanceof m))return new m($,V);c.apply(this),this._parser=new n($,V),this.writable=!0,this.readable=!0;var me=this;this._parser.onend=function(){me.emit("end")},this._parser.onerror=function(ce){me.emit("error",ce),me._parser.error=null},this._decoder=null,d.forEach(function(ce){Object.defineProperty(me,"on"+ce,{get:function(){return me._parser["on"+ce]},set:function(he){if(!he)return me.removeAllListeners(ce),me._parser["on"+ce]=he,he;me.on(ce,he)},enumerable:!0,configurable:!1})})}m.prototype=Object.create(c.prototype,{constructor:{value:m}}),m.prototype.write=function($){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer($)){if(!this._decoder){var V=K_().StringDecoder;this._decoder=new V("utf8")}$=this._decoder.write($)}return this._parser.write($.toString()),this.emit("data",$),!0},m.prototype.end=function($){return $&&$.length&&this.write($),this._parser.end(),!0},m.prototype.on=function($,V){var me=this;return!me._parser["on"+$]&&d.indexOf($)!==-1&&(me._parser["on"+$]=function(){var ce=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ce.splice(0,0,$),me.emit.apply(me,ce)}),c.prototype.on.call(me,$,V)};var f="[CDATA[",g="DOCTYPE",b="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",y={xml:b,xmlns:v},_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,j=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,N=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function k($){return $===" "||$===`
`||$==="\r"||$==="	"}function C($){return $==='"'||$==="'"}function z($){return $===">"||k($)}function E($,V){return $.test(V)}function U($,V){return!E($,V)}var T=0;t.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function($){var V=t.ENTITIES[$],me=typeof V=="number"?String.fromCharCode(V):V;t.ENTITIES[$]=me});for(var re in t.STATE)t.STATE[t.STATE[re]]=re;T=t.STATE;function Y($,V,me){$[V]&&$[V](me)}function I($,V,me){$.textNode&&K($),Y($,V,me)}function K($){$.textNode=L($.opt,$.textNode),$.textNode&&Y($,"ontext",$.textNode),$.textNode=""}function L($,V){return $.trim&&(V=V.trim()),$.normalize&&(V=V.replace(/\s+/g," ")),V}function J($,V){return K($),$.trackPosition&&(V+=`
Line: `+$.line+`
Column: `+$.column+`
Char: `+$.c),V=new Error(V),$.error=V,Y($,"onerror",V),$}function Q($){return $.sawRoot&&!$.closedRoot&&Z($,"Unclosed root tag"),$.state!==T.BEGIN&&$.state!==T.BEGIN_WHITESPACE&&$.state!==T.TEXT&&J($,"Unexpected end"),K($),$.c="",$.closed=!0,Y($,"onend"),n.call($,$.strict,$.opt),$}function Z($,V){if(typeof $!="object"||!($ instanceof n))throw new Error("bad call to strictFail");$.strict&&J($,V)}function ee($){$.strict||($.tagName=$.tagName[$.looseCase]());var V=$.tags[$.tags.length-1]||$,me=$.tag={name:$.tagName,attributes:{}};$.opt.xmlns&&(me.ns=V.ns),$.attribList.length=0,I($,"onopentagstart",me)}function F($,V){var me=$.indexOf(":"),ce=me<0?["",$]:$.split(":"),he=ce[0],O=ce[1];return V&&$==="xmlns"&&(he="xmlns",O=""),{prefix:he,local:O}}function de($){if($.strict||($.attribName=$.attribName[$.looseCase]()),$.attribList.indexOf($.attribName)!==-1||$.tag.attributes.hasOwnProperty($.attribName)){$.attribName=$.attribValue="";return}if($.opt.xmlns){var V=F($.attribName,!0),me=V.prefix,ce=V.local;if(me==="xmlns")if(ce==="xml"&&$.attribValue!==b)Z($,"xml: prefix must be bound to "+b+`
Actual: `+$.attribValue);else if(ce==="xmlns"&&$.attribValue!==v)Z($,"xmlns: prefix must be bound to "+v+`
Actual: `+$.attribValue);else{var he=$.tag,O=$.tags[$.tags.length-1]||$;he.ns===O.ns&&(he.ns=Object.create(O.ns)),he.ns[ce]=$.attribValue}$.attribList.push([$.attribName,$.attribValue])}else $.tag.attributes[$.attribName]=$.attribValue,I($,"onattribute",{name:$.attribName,value:$.attribValue});$.attribName=$.attribValue=""}function q($,V){if($.opt.xmlns){var me=$.tag,ce=F($.tagName);me.prefix=ce.prefix,me.local=ce.local,me.uri=me.ns[ce.prefix]||"",me.prefix&&!me.uri&&(Z($,"Unbound namespace prefix: "+JSON.stringify($.tagName)),me.uri=ce.prefix);var he=$.tags[$.tags.length-1]||$;me.ns&&he.ns!==me.ns&&Object.keys(me.ns).forEach(function(pe){I($,"onopennamespace",{prefix:pe,uri:me.ns[pe]})});for(var O=0,oe=$.attribList.length;O<oe;O++){var D=$.attribList[O],Ce=D[0],H=D[1],R=F(Ce,!0),P=R.prefix,W=R.local,Ne=P===""?"":me.ns[P]||"",X={name:Ce,value:H,prefix:P,local:W,uri:Ne};P&&P!=="xmlns"&&!Ne&&(Z($,"Unbound namespace prefix: "+JSON.stringify(P)),X.uri=P),$.tag.attributes[Ce]=X,I($,"onattribute",X)}$.attribList.length=0}$.tag.isSelfClosing=!!V,$.sawRoot=!0,$.tags.push($.tag),I($,"onopentag",$.tag),V||(!$.noscript&&$.tagName.toLowerCase()==="script"?$.state=T.SCRIPT:$.state=T.TEXT,$.tag=null,$.tagName=""),$.attribName=$.attribValue="",$.attribList.length=0}function G($){if(!$.tagName){Z($,"Weird empty close tag."),$.textNode+="</>",$.state=T.TEXT;return}if($.script){if($.tagName!=="script"){$.script+="</"+$.tagName+">",$.tagName="",$.state=T.SCRIPT;return}I($,"onscript",$.script),$.script=""}var V=$.tags.length,me=$.tagName;$.strict||(me=me[$.looseCase]());for(var ce=me;V--;){var he=$.tags[V];if(he.name!==ce)Z($,"Unexpected close tag");else break}if(V<0){Z($,"Unmatched closing tag: "+$.tagName),$.textNode+="</"+$.tagName+">",$.state=T.TEXT;return}$.tagName=me;for(var O=$.tags.length;O-- >V;){var oe=$.tag=$.tags.pop();$.tagName=$.tag.name,I($,"onclosetag",$.tagName);var D={};for(var Ce in oe.ns)D[Ce]=oe.ns[Ce];var H=$.tags[$.tags.length-1]||$;$.opt.xmlns&&oe.ns!==H.ns&&Object.keys(oe.ns).forEach(function(R){var P=oe.ns[R];I($,"onclosenamespace",{prefix:R,uri:P})})}V===0&&($.closedRoot=!0),$.tagName=$.attribValue=$.attribName="",$.attribList.length=0,$.state=T.TEXT}function ie($){var V=$.entity,me=V.toLowerCase(),ce,he="";return $.ENTITIES[V]?$.ENTITIES[V]:$.ENTITIES[me]?$.ENTITIES[me]:(V=me,V.charAt(0)==="#"&&(V.charAt(1)==="x"?(V=V.slice(2),ce=parseInt(V,16),he=ce.toString(16)):(V=V.slice(1),ce=parseInt(V,10),he=ce.toString(10))),V=V.replace(/^0+/,""),isNaN(ce)||he.toLowerCase()!==V?(Z($,"Invalid character entity"),"&"+$.entity+";"):String.fromCodePoint(ce))}function le($,V){V==="<"?($.state=T.OPEN_WAKA,$.startTagPosition=$.position):k(V)||(Z($,"Non-whitespace before first tag."),$.textNode=V,$.state=T.TEXT)}function be($,V){var me="";return V<$.length&&(me=$.charAt(V)),me}function ye($){var V=this;if(this.error)throw this.error;if(V.closed)return J(V,"Cannot write after close. Assign an onready handler.");if($===null)return Q(V);typeof $=="object"&&($=$.toString());for(var me=0,ce="";ce=be($,me++),V.c=ce,!!ce;)switch(V.trackPosition&&(V.position++,ce===`
`?(V.line++,V.column=0):V.column++),V.state){case T.BEGIN:if(V.state=T.BEGIN_WHITESPACE,ce==="\uFEFF")continue;le(V,ce);continue;case T.BEGIN_WHITESPACE:le(V,ce);continue;case T.TEXT:if(V.sawRoot&&!V.closedRoot){for(var he=me-1;ce&&ce!=="<"&&ce!=="&";)ce=be($,me++),ce&&V.trackPosition&&(V.position++,ce===`
`?(V.line++,V.column=0):V.column++);V.textNode+=$.substring(he,me-1)}ce==="<"&&!(V.sawRoot&&V.closedRoot&&!V.strict)?(V.state=T.OPEN_WAKA,V.startTagPosition=V.position):(!k(ce)&&(!V.sawRoot||V.closedRoot)&&Z(V,"Text data outside of root node."),ce==="&"?V.state=T.TEXT_ENTITY:V.textNode+=ce);continue;case T.SCRIPT:ce==="<"?V.state=T.SCRIPT_ENDING:V.script+=ce;continue;case T.SCRIPT_ENDING:ce==="/"?V.state=T.CLOSE_TAG:(V.script+="<"+ce,V.state=T.SCRIPT);continue;case T.OPEN_WAKA:if(ce==="!")V.state=T.SGML_DECL,V.sgmlDecl="";else if(!k(ce))if(E(_,ce))V.state=T.OPEN_TAG,V.tagName=ce;else if(ce==="/")V.state=T.CLOSE_TAG,V.tagName="";else if(ce==="?")V.state=T.PROC_INST,V.procInstName=V.procInstBody="";else{if(Z(V,"Unencoded <"),V.startTagPosition+1<V.position){var O=V.position-V.startTagPosition;ce=new Array(O).join(" ")+ce}V.textNode+="<"+ce,V.state=T.TEXT}continue;case T.SGML_DECL:(V.sgmlDecl+ce).toUpperCase()===f?(I(V,"onopencdata"),V.state=T.CDATA,V.sgmlDecl="",V.cdata=""):V.sgmlDecl+ce==="--"?(V.state=T.COMMENT,V.comment="",V.sgmlDecl=""):(V.sgmlDecl+ce).toUpperCase()===g?(V.state=T.DOCTYPE,(V.doctype||V.sawRoot)&&Z(V,"Inappropriately located doctype declaration"),V.doctype="",V.sgmlDecl=""):ce===">"?(I(V,"onsgmldeclaration",V.sgmlDecl),V.sgmlDecl="",V.state=T.TEXT):(C(ce)&&(V.state=T.SGML_DECL_QUOTED),V.sgmlDecl+=ce);continue;case T.SGML_DECL_QUOTED:ce===V.q&&(V.state=T.SGML_DECL,V.q=""),V.sgmlDecl+=ce;continue;case T.DOCTYPE:ce===">"?(V.state=T.TEXT,I(V,"ondoctype",V.doctype),V.doctype=!0):(V.doctype+=ce,ce==="["?V.state=T.DOCTYPE_DTD:C(ce)&&(V.state=T.DOCTYPE_QUOTED,V.q=ce));continue;case T.DOCTYPE_QUOTED:V.doctype+=ce,ce===V.q&&(V.q="",V.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:V.doctype+=ce,ce==="]"?V.state=T.DOCTYPE:C(ce)&&(V.state=T.DOCTYPE_DTD_QUOTED,V.q=ce);continue;case T.DOCTYPE_DTD_QUOTED:V.doctype+=ce,ce===V.q&&(V.state=T.DOCTYPE_DTD,V.q="");continue;case T.COMMENT:ce==="-"?V.state=T.COMMENT_ENDING:V.comment+=ce;continue;case T.COMMENT_ENDING:ce==="-"?(V.state=T.COMMENT_ENDED,V.comment=L(V.opt,V.comment),V.comment&&I(V,"oncomment",V.comment),V.comment=""):(V.comment+="-"+ce,V.state=T.COMMENT);continue;case T.COMMENT_ENDED:ce!==">"?(Z(V,"Malformed comment"),V.comment+="--"+ce,V.state=T.COMMENT):V.state=T.TEXT;continue;case T.CDATA:ce==="]"?V.state=T.CDATA_ENDING:V.cdata+=ce;continue;case T.CDATA_ENDING:ce==="]"?V.state=T.CDATA_ENDING_2:(V.cdata+="]"+ce,V.state=T.CDATA);continue;case T.CDATA_ENDING_2:ce===">"?(V.cdata&&I(V,"oncdata",V.cdata),I(V,"onclosecdata"),V.cdata="",V.state=T.TEXT):ce==="]"?V.cdata+="]":(V.cdata+="]]"+ce,V.state=T.CDATA);continue;case T.PROC_INST:ce==="?"?V.state=T.PROC_INST_ENDING:k(ce)?V.state=T.PROC_INST_BODY:V.procInstName+=ce;continue;case T.PROC_INST_BODY:if(!V.procInstBody&&k(ce))continue;ce==="?"?V.state=T.PROC_INST_ENDING:V.procInstBody+=ce;continue;case T.PROC_INST_ENDING:ce===">"?(I(V,"onprocessinginstruction",{name:V.procInstName,body:V.procInstBody}),V.procInstName=V.procInstBody="",V.state=T.TEXT):(V.procInstBody+="?"+ce,V.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:E(j,ce)?V.tagName+=ce:(ee(V),ce===">"?q(V):ce==="/"?V.state=T.OPEN_TAG_SLASH:(k(ce)||Z(V,"Invalid character in tag name"),V.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:ce===">"?(q(V,!0),G(V)):(Z(V,"Forward-slash in opening tag not followed by >"),V.state=T.ATTRIB);continue;case T.ATTRIB:if(k(ce))continue;ce===">"?q(V):ce==="/"?V.state=T.OPEN_TAG_SLASH:E(_,ce)?(V.attribName=ce,V.attribValue="",V.state=T.ATTRIB_NAME):Z(V,"Invalid attribute name");continue;case T.ATTRIB_NAME:ce==="="?V.state=T.ATTRIB_VALUE:ce===">"?(Z(V,"Attribute without value"),V.attribValue=V.attribName,de(V),q(V)):k(ce)?V.state=T.ATTRIB_NAME_SAW_WHITE:E(j,ce)?V.attribName+=ce:Z(V,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if(ce==="=")V.state=T.ATTRIB_VALUE;else{if(k(ce))continue;Z(V,"Attribute without value"),V.tag.attributes[V.attribName]="",V.attribValue="",I(V,"onattribute",{name:V.attribName,value:""}),V.attribName="",ce===">"?q(V):E(_,ce)?(V.attribName=ce,V.state=T.ATTRIB_NAME):(Z(V,"Invalid attribute name"),V.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(k(ce))continue;C(ce)?(V.q=ce,V.state=T.ATTRIB_VALUE_QUOTED):(Z(V,"Unquoted attribute value"),V.state=T.ATTRIB_VALUE_UNQUOTED,V.attribValue=ce);continue;case T.ATTRIB_VALUE_QUOTED:if(ce!==V.q){ce==="&"?V.state=T.ATTRIB_VALUE_ENTITY_Q:V.attribValue+=ce;continue}de(V),V.q="",V.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:k(ce)?V.state=T.ATTRIB:ce===">"?q(V):ce==="/"?V.state=T.OPEN_TAG_SLASH:E(_,ce)?(Z(V,"No whitespace between attributes"),V.attribName=ce,V.attribValue="",V.state=T.ATTRIB_NAME):Z(V,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(!z(ce)){ce==="&"?V.state=T.ATTRIB_VALUE_ENTITY_U:V.attribValue+=ce;continue}de(V),ce===">"?q(V):V.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(V.tagName)ce===">"?G(V):E(j,ce)?V.tagName+=ce:V.script?(V.script+="</"+V.tagName,V.tagName="",V.state=T.SCRIPT):(k(ce)||Z(V,"Invalid tagname in closing tag"),V.state=T.CLOSE_TAG_SAW_WHITE);else{if(k(ce))continue;U(_,ce)?V.script?(V.script+="</"+ce,V.state=T.SCRIPT):Z(V,"Invalid tagname in closing tag."):V.tagName=ce}continue;case T.CLOSE_TAG_SAW_WHITE:if(k(ce))continue;ce===">"?G(V):Z(V,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var oe,D;switch(V.state){case T.TEXT_ENTITY:oe=T.TEXT,D="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:oe=T.ATTRIB_VALUE_QUOTED,D="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:oe=T.ATTRIB_VALUE_UNQUOTED,D="attribValue";break}ce===";"?(V[D]+=ie(V),V.entity="",V.state=oe):E(V.entity.length?N:S,ce)?V.entity+=ce:(Z(V,"Invalid character in entity name"),V[D]+="&"+V.entity+ce,V.entity="",V.state=oe);continue;default:throw new Error(V,"Unknown state: "+V.state)}return V.position>=V.bufferCheckPosition&&a(V),V}String.fromCodePoint||(function(){var $=String.fromCharCode,V=Math.floor,me=function(){var ce=16384,he=[],O,oe,D=-1,Ce=arguments.length;if(!Ce)return"";for(var H="";++D<Ce;){var R=Number(arguments[D]);if(!isFinite(R)||R<0||R>1114111||V(R)!==R)throw RangeError("Invalid code point: "+R);R<=65535?he.push(R):(R-=65536,O=(R>>10)+55296,oe=R%1024+56320,he.push(O,oe)),(D+1===Ce||he.length>ce)&&(H+=$.apply(null,he),he.length=0)}return H};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:me,configurable:!0,writable:!0}):String.fromCodePoint=me})()})(s)})(Sw)),Sw}var Hj,$5;function z2(){return $5||($5=1,Hj={isArray:function(s){return Array.isArray?Array.isArray(s):Object.prototype.toString.call(s)==="[object Array]"}}),Hj}var qj,V5;function U2(){if(V5)return qj;V5=1;var s=z2().isArray;return qj={copyOptions:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},ensureFlagExists:function(t,r){(!(t in r)||typeof r[t]!="boolean")&&(r[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!s(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,r){(!(t+"Key"in r)||typeof r[t+"Key"]!="string")&&(r[t+"Key"]=r.compact?"_"+t:t)},checkFnExists:function(t,r){return t+"Fn"in r}},qj}var Gj,H5;function b8(){if(H5)return Gj;H5=1;var s=Bre(),t=U2(),r=z2().isArray,n,a;function i(j){return n=t.copyOptions(j),t.ensureFlagExists("ignoreDeclaration",n),t.ensureFlagExists("ignoreInstruction",n),t.ensureFlagExists("ignoreAttributes",n),t.ensureFlagExists("ignoreText",n),t.ensureFlagExists("ignoreComment",n),t.ensureFlagExists("ignoreCdata",n),t.ensureFlagExists("ignoreDoctype",n),t.ensureFlagExists("compact",n),t.ensureFlagExists("alwaysChildren",n),t.ensureFlagExists("addParent",n),t.ensureFlagExists("trim",n),t.ensureFlagExists("nativeType",n),t.ensureFlagExists("nativeTypeAttributes",n),t.ensureFlagExists("sanitize",n),t.ensureFlagExists("instructionHasAttributes",n),t.ensureFlagExists("captureSpacesBetweenElements",n),t.ensureAlwaysArrayExists(n),t.ensureKeyExists("declaration",n),t.ensureKeyExists("instruction",n),t.ensureKeyExists("attributes",n),t.ensureKeyExists("text",n),t.ensureKeyExists("comment",n),t.ensureKeyExists("cdata",n),t.ensureKeyExists("doctype",n),t.ensureKeyExists("type",n),t.ensureKeyExists("name",n),t.ensureKeyExists("elements",n),t.ensureKeyExists("parent",n),t.checkFnExists("doctype",n),t.checkFnExists("instruction",n),t.checkFnExists("cdata",n),t.checkFnExists("comment",n),t.checkFnExists("text",n),t.checkFnExists("instructionName",n),t.checkFnExists("elementName",n),t.checkFnExists("attributeName",n),t.checkFnExists("attributeValue",n),t.checkFnExists("attributes",n),n}function o(j){var S=Number(j);if(!isNaN(S))return S;var N=j.toLowerCase();return N==="true"?!0:N==="false"?!1:j}function c(j,S){var N;if(n.compact){if(!a[n[j+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[j+"Key"])!==-1:n.alwaysArray)&&(a[n[j+"Key"]]=[]),a[n[j+"Key"]]&&!r(a[n[j+"Key"]])&&(a[n[j+"Key"]]=[a[n[j+"Key"]]]),j+"Fn"in n&&typeof S=="string"&&(S=n[j+"Fn"](S,a)),j==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(N in S)if(S.hasOwnProperty(N))if("instructionFn"in n)S[N]=n.instructionFn(S[N],N,a);else{var k=S[N];delete S[N],S[n.instructionNameFn(N,k,a)]=k}}r(a[n[j+"Key"]])?a[n[j+"Key"]].push(S):a[n[j+"Key"]]=S}else{a[n.elementsKey]||(a[n.elementsKey]=[]);var C={};if(C[n.typeKey]=j,j==="instruction"){for(N in S)if(S.hasOwnProperty(N))break;C[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(N,S,a):N,n.instructionHasAttributes?(C[n.attributesKey]=S[N][n.attributesKey],"instructionFn"in n&&(C[n.attributesKey]=n.instructionFn(C[n.attributesKey],N,a))):("instructionFn"in n&&(S[N]=n.instructionFn(S[N],N,a)),C[n.instructionKey]=S[N])}else j+"Fn"in n&&(S=n[j+"Fn"](S,a)),C[n[j+"Key"]]=S;n.addParent&&(C[n.parentKey]=a),a[n.elementsKey].push(C)}}function d(j){if("attributesFn"in n&&j&&(j=n.attributesFn(j,a)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&j){var S;for(S in j)if(j.hasOwnProperty(S)&&(n.trim&&(j[S]=j[S].trim()),n.nativeTypeAttributes&&(j[S]=o(j[S])),"attributeValueFn"in n&&(j[S]=n.attributeValueFn(j[S],S,a)),"attributeNameFn"in n)){var N=j[S];delete j[S],j[n.attributeNameFn(S,j[S],a)]=N}}return j}function h(j){var S={};if(j.body&&(j.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var N=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,k;(k=N.exec(j.body))!==null;)S[k[1]]=k[2]||k[3]||k[4];S=d(S)}if(j.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;a[n.declarationKey]={},Object.keys(S).length&&(a[n.declarationKey][n.attributesKey]=S),n.addParent&&(a[n.declarationKey][n.parentKey]=a)}else{if(n.ignoreInstruction)return;n.trim&&(j.body=j.body.trim());var C={};n.instructionHasAttributes&&Object.keys(S).length?(C[j.name]={},C[j.name][n.attributesKey]=S):C[j.name]=j.body,c("instruction",C)}}function m(j,S){var N;if(typeof j=="object"&&(S=j.attributes,j=j.name),S=d(S),"elementNameFn"in n&&(j=n.elementNameFn(j,a)),n.compact){if(N={},!n.ignoreAttributes&&S&&Object.keys(S).length){N[n.attributesKey]={};var k;for(k in S)S.hasOwnProperty(k)&&(N[n.attributesKey][k]=S[k])}!(j in a)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(j)!==-1:n.alwaysArray)&&(a[j]=[]),a[j]&&!r(a[j])&&(a[j]=[a[j]]),r(a[j])?a[j].push(N):a[j]=N}else a[n.elementsKey]||(a[n.elementsKey]=[]),N={},N[n.typeKey]="element",N[n.nameKey]=j,!n.ignoreAttributes&&S&&Object.keys(S).length&&(N[n.attributesKey]=S),n.alwaysChildren&&(N[n.elementsKey]=[]),a[n.elementsKey].push(N);N[n.parentKey]=a,a=N}function f(j){n.ignoreText||!j.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(j=j.trim()),n.nativeType&&(j=o(j)),n.sanitize&&(j=j.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),c("text",j))}function g(j){n.ignoreComment||(n.trim&&(j=j.trim()),c("comment",j))}function b(j){var S=a[n.parentKey];n.addParent||delete a[n.parentKey],a=S}function v(j){n.ignoreCdata||(n.trim&&(j=j.trim()),c("cdata",j))}function y(j){n.ignoreDoctype||(j=j.replace(/^ /,""),n.trim&&(j=j.trim()),c("doctype",j))}function _(j){j.note=j}return Gj=function(j,S){var N=s.parser(!0,{}),k={};if(a=k,n=i(S),N.opt={strictEntities:!0},N.onopentag=m,N.ontext=f,N.oncomment=g,N.onclosetag=b,N.onerror=_,N.oncdata=v,N.ondoctype=y,N.onprocessinginstruction=h,N.write(j).close(),k[n.elementsKey]){var C=k[n.elementsKey];delete k[n.elementsKey],k[n.elementsKey]=C,delete k.text}return k},Gj}var Wj,q5;function Ire(){if(q5)return Wj;q5=1;var s=U2(),t=b8();function r(n){var a=s.copyOptions(n);return s.ensureSpacesExists(a),a}return Wj=function(n,a){var i,o,c,d;return i=r(a),o=t(n,i),d="compact"in i&&i.compact?"_parent":"parent","addParent"in i&&i.addParent?c=JSON.stringify(o,function(h,m){return h===d?"_":m},i.spaces):c=JSON.stringify(o,null,i.spaces),c.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Wj}var Yj,G5;function v8(){if(G5)return Yj;G5=1;var s=U2(),t=z2().isArray,r,n;function a(N){var k=s.copyOptions(N);return s.ensureFlagExists("ignoreDeclaration",k),s.ensureFlagExists("ignoreInstruction",k),s.ensureFlagExists("ignoreAttributes",k),s.ensureFlagExists("ignoreText",k),s.ensureFlagExists("ignoreComment",k),s.ensureFlagExists("ignoreCdata",k),s.ensureFlagExists("ignoreDoctype",k),s.ensureFlagExists("compact",k),s.ensureFlagExists("indentText",k),s.ensureFlagExists("indentCdata",k),s.ensureFlagExists("indentAttributes",k),s.ensureFlagExists("indentInstruction",k),s.ensureFlagExists("fullTagEmptyElement",k),s.ensureFlagExists("noQuotesForNativeAttributes",k),s.ensureSpacesExists(k),typeof k.spaces=="number"&&(k.spaces=Array(k.spaces+1).join(" ")),s.ensureKeyExists("declaration",k),s.ensureKeyExists("instruction",k),s.ensureKeyExists("attributes",k),s.ensureKeyExists("text",k),s.ensureKeyExists("comment",k),s.ensureKeyExists("cdata",k),s.ensureKeyExists("doctype",k),s.ensureKeyExists("type",k),s.ensureKeyExists("name",k),s.ensureKeyExists("elements",k),s.checkFnExists("doctype",k),s.checkFnExists("instruction",k),s.checkFnExists("cdata",k),s.checkFnExists("comment",k),s.checkFnExists("text",k),s.checkFnExists("instructionName",k),s.checkFnExists("elementName",k),s.checkFnExists("attributeName",k),s.checkFnExists("attributeValue",k),s.checkFnExists("attributes",k),s.checkFnExists("fullTagEmptyElement",k),k}function i(N,k,C){return(!C&&N.spaces?`
`:"")+Array(k+1).join(N.spaces)}function o(N,k,C){if(k.ignoreAttributes)return"";"attributesFn"in k&&(N=k.attributesFn(N,n,r));var z,E,U,T,re=[];for(z in N)N.hasOwnProperty(z)&&N[z]!==null&&N[z]!==void 0&&(T=k.noQuotesForNativeAttributes&&typeof N[z]!="string"?"":'"',E=""+N[z],E=E.replace(/"/g,"&quot;"),U="attributeNameFn"in k?k.attributeNameFn(z,E,n,r):z,re.push(k.spaces&&k.indentAttributes?i(k,C+1,!1):" "),re.push(U+"="+T+("attributeValueFn"in k?k.attributeValueFn(E,z,n,r):E)+T));return N&&Object.keys(N).length&&k.spaces&&k.indentAttributes&&re.push(i(k,C,!1)),re.join("")}function c(N,k,C){return r=N,n="xml",k.ignoreDeclaration?"":"<?xml"+o(N[k.attributesKey],k,C)+"?>"}function d(N,k,C){if(k.ignoreInstruction)return"";var z;for(z in N)if(N.hasOwnProperty(z))break;var E="instructionNameFn"in k?k.instructionNameFn(z,N[z],n,r):z;if(typeof N[z]=="object")return r=N,n=E,"<?"+E+o(N[z][k.attributesKey],k,C)+"?>";var U=N[z]?N[z]:"";return"instructionFn"in k&&(U=k.instructionFn(U,z,n,r)),"<?"+E+(U?" "+U:"")+"?>"}function h(N,k){return k.ignoreComment?"":"<!--"+("commentFn"in k?k.commentFn(N,n,r):N)+"-->"}function m(N,k){return k.ignoreCdata?"":"<![CDATA["+("cdataFn"in k?k.cdataFn(N,n,r):N.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(N,k){return k.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in k?k.doctypeFn(N,n,r):N)+">"}function g(N,k){return k.ignoreText?"":(N=""+N,N=N.replace(/&amp;/g,"&"),N=N.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in k?k.textFn(N,n,r):N)}function b(N,k){var C;if(N.elements&&N.elements.length)for(C=0;C<N.elements.length;++C)switch(N.elements[C][k.typeKey]){case"text":if(k.indentText)return!0;break;case"cdata":if(k.indentCdata)return!0;break;case"instruction":if(k.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function v(N,k,C){r=N,n=N.name;var z=[],E="elementNameFn"in k?k.elementNameFn(N.name,N):N.name;z.push("<"+E),N[k.attributesKey]&&z.push(o(N[k.attributesKey],k,C));var U=N[k.elementsKey]&&N[k.elementsKey].length||N[k.attributesKey]&&N[k.attributesKey]["xml:space"]==="preserve";return U||("fullTagEmptyElementFn"in k?U=k.fullTagEmptyElementFn(N.name,N):U=k.fullTagEmptyElement),U?(z.push(">"),N[k.elementsKey]&&N[k.elementsKey].length&&(z.push(y(N[k.elementsKey],k,C+1)),r=N,n=N.name),z.push(k.spaces&&b(N,k)?`
`+Array(C+1).join(k.spaces):""),z.push("</"+E+">")):z.push("/>"),z.join("")}function y(N,k,C,z){return N.reduce(function(E,U){var T=i(k,C,z&&!E);switch(U.type){case"element":return E+T+v(U,k,C);case"comment":return E+T+h(U[k.commentKey],k);case"doctype":return E+T+f(U[k.doctypeKey],k);case"cdata":return E+(k.indentCdata?T:"")+m(U[k.cdataKey],k);case"text":return E+(k.indentText?T:"")+g(U[k.textKey],k);case"instruction":var re={};return re[U[k.nameKey]]=U[k.attributesKey]?U:U[k.instructionKey],E+(k.indentInstruction?T:"")+d(re,k,C)}},"")}function _(N,k,C){var z;for(z in N)if(N.hasOwnProperty(z))switch(z){case k.parentKey:case k.attributesKey:break;case k.textKey:if(k.indentText||C)return!0;break;case k.cdataKey:if(k.indentCdata||C)return!0;break;case k.instructionKey:if(k.indentInstruction||C)return!0;break;case k.doctypeKey:case k.commentKey:return!0;default:return!0}return!1}function j(N,k,C,z,E){r=N,n=k;var U="elementNameFn"in C?C.elementNameFn(k,N):k;if(typeof N>"u"||N===null||N==="")return"fullTagEmptyElementFn"in C&&C.fullTagEmptyElementFn(k,N)||C.fullTagEmptyElement?"<"+U+"></"+U+">":"<"+U+"/>";var T=[];if(k){if(T.push("<"+U),typeof N!="object")return T.push(">"+g(N,C)+"</"+U+">"),T.join("");N[C.attributesKey]&&T.push(o(N[C.attributesKey],C,z));var re=_(N,C,!0)||N[C.attributesKey]&&N[C.attributesKey]["xml:space"]==="preserve";if(re||("fullTagEmptyElementFn"in C?re=C.fullTagEmptyElementFn(k,N):re=C.fullTagEmptyElement),re)T.push(">");else return T.push("/>"),T.join("")}return T.push(S(N,C,z+1,!1)),r=N,n=k,k&&T.push((E?i(C,z,!1):"")+"</"+U+">"),T.join("")}function S(N,k,C,z){var E,U,T,re=[];for(U in N)if(N.hasOwnProperty(U))for(T=t(N[U])?N[U]:[N[U]],E=0;E<T.length;++E){switch(U){case k.declarationKey:re.push(c(T[E],k,C));break;case k.instructionKey:re.push((k.indentInstruction?i(k,C,z):"")+d(T[E],k,C));break;case k.attributesKey:case k.parentKey:break;case k.textKey:re.push((k.indentText?i(k,C,z):"")+g(T[E],k));break;case k.cdataKey:re.push((k.indentCdata?i(k,C,z):"")+m(T[E],k));break;case k.doctypeKey:re.push(i(k,C,z)+f(T[E],k));break;case k.commentKey:re.push(i(k,C,z)+h(T[E],k));break;default:re.push(i(k,C,z)+j(T[E],U,k,C,_(T[E],k)))}z=z&&!re.length}return re.join("")}return Yj=function(N,k){k=a(k);var C=[];return r=N,n="_root_",k.compact?C.push(S(N,k,0,!0)):(N[k.declarationKey]&&C.push(c(N[k.declarationKey],k,0)),N[k.elementsKey]&&N[k.elementsKey].length&&C.push(y(N[k.elementsKey],k,0,!C.length))),C.join("")},Yj}var Kj,W5;function zre(){if(W5)return Kj;W5=1;var s=v8();return Kj=function(t,r){t instanceof Buffer&&(t=t.toString());var n=null;if(typeof t=="string")try{n=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else n=t;return s(n,r)},Kj}var Xj,Y5;function Ure(){if(Y5)return Xj;Y5=1;var s=b8(),t=Ire(),r=v8(),n=zre();return Xj={xml2js:s,xml2json:t,js2xml:r,json2xml:n},Xj}var w8=Ure();const $2=s=>{switch(s.type){case void 0:case"element":const t=new Vre(s.name,s.attributes),r=s.elements||[];for(const n of r){const a=$2(n);a!==void 0&&t.push(a)}return t;case"text":return s.text;default:return}};class $re extends Kt{}class Vre extends dt{static fromXmlString(t){const r=w8.xml2js(t,{compact:!1});return $2(r)}constructor(t,r){super(t),r&&this.root.push(new $re(r))}push(t){this.root.push(t)}}class Hre extends dt{constructor(t){super(""),this._attr=t}prepForXml(t){return{_attr:this._attr}}}class j8 extends dt{constructor(t,r){super(t),r&&(this.root=r.root)}}const sa=s=>{if(isNaN(s))throw new Error(`Invalid value '${s}' specified. Must be an integer.`);return Math.floor(s)},jy=s=>{const t=sa(s);if(t<0)throw new Error(`Invalid value '${s}' specified. Must be a positive integer.`);return t},_8=(s,t)=>{const r=t*2;if(s.length!==r||isNaN(+`0x${s}`))throw new Error(`Invalid hex value '${s}'. Expected ${r} digit hex value`);return s},K5=s=>_8(s,1),N8=s=>{const t=s.slice(-2),r=s.substring(0,s.length-2);return`${Number(r)}${t}`},k8=s=>{const t=N8(s);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t},nh=s=>{if(s==="auto")return s;const t=s.charAt(0)==="#"?s.substring(1):s;return _8(t,3)},md=s=>typeof s=="string"?N8(s):sa(s),qre=s=>typeof s=="string"?k8(s):jy(s),pi=s=>typeof s=="string"?k8(s):jy(s),Gre=jy,Wre=jy,Yre=s=>s.toISOString();class ut extends dt{constructor(t,r=!0){super(t),r!==!0&&this.root.push(new Or({val:r}))}}class Zj extends dt{constructor(t,r){super(t),this.root.push(new Or({val:qre(r)}))}}class Wu extends dt{constructor(t,r){super(t),this.root.push(new Or({val:r}))}}const Of=(s,t)=>new io({name:s,attributes:{value:{key:"w:val",value:t}}});class om extends dt{constructor(t,r){super(t),this.root.push(new Or({val:r}))}}class Kc extends dt{constructor(t,r){super(t),this.root.push(r)}}class io extends dt{constructor({name:t,attributes:r,children:n}){super(t),r&&this.root.push(new yy(r)),n&&this.root.push(...n)}}const ya={START:"start",CENTER:"center",LEFT:"left"};class Kre extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class Xre extends dt{constructor(t){super("w:jc"),this.root.push(new Kre({val:t}))}}class pr extends dt{constructor(t,{color:r,size:n,space:a,style:i}){super(t),this.root.push(new Zre({style:i,color:r===void 0?void 0:nh(r),size:n===void 0?void 0:Gre(n),space:a===void 0?void 0:Wre(a)}))}}class Zre extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const V2={SINGLE:"single",NONE:"none"};class Qre extends xy{constructor(t){super("w:pBdr"),t.top&&this.root.push(new pr("w:top",t.top)),t.bottom&&this.root.push(new pr("w:bottom",t.bottom)),t.left&&this.root.push(new pr("w:left",t.left)),t.right&&this.root.push(new pr("w:right",t.right)),t.between&&this.root.push(new pr("w:between",t.between))}}class Jre extends dt{constructor(){super("w:pBdr");const t=new pr("w:bottom",{color:"auto",space:1,style:V2.SINGLE,size:6});this.root.push(t)}}class ene extends dt{constructor({start:t,end:r,left:n,right:a,hanging:i,firstLine:o}){super("w:ind"),this.root.push(new yy({start:{key:"w:start",value:t===void 0?void 0:md(t)},end:{key:"w:end",value:r===void 0?void 0:md(r)},left:{key:"w:left",value:n===void 0?void 0:md(n)},right:{key:"w:right",value:a===void 0?void 0:md(a)},hanging:{key:"w:hanging",value:i===void 0?void 0:pi(i)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:pi(o)}}))}}let tne=class extends dt{constructor(){super("w:br")}};const H2={BEGIN:"begin",END:"end",SEPARATE:"separate"};class q2 extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Kg extends dt{constructor(t){super("w:fldChar"),this.root.push(new q2({type:H2.BEGIN,dirty:t}))}}class Xg extends dt{constructor(t){super("w:fldChar"),this.root.push(new q2({type:H2.SEPARATE,dirty:t}))}}class Zg extends dt{constructor(t){super("w:fldChar"),this.root.push(new q2({type:H2.END,dirty:t}))}}const ah={DEFAULT:"default",PRESERVE:"preserve"};class ih extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{space:"xml:space"})}}class sne extends dt{constructor(){super("w:instrText"),this.root.push(new ih({space:ah.PRESERVE})),this.root.push("PAGE")}}class rne extends dt{constructor(){super("w:instrText"),this.root.push(new ih({space:ah.PRESERVE})),this.root.push("NUMPAGES")}}class nne extends dt{constructor(){super("w:instrText"),this.root.push(new ih({space:ah.PRESERVE})),this.root.push("SECTIONPAGES")}}class ane extends dt{constructor(){super("w:instrText"),this.root.push(new ih({space:ah.PRESERVE})),this.root.push("SECTION")}}class ine extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class S8 extends dt{constructor({fill:t,color:r,type:n}){super("w:shd"),this.root.push(new ine({fill:t===void 0?void 0:nh(t),color:r===void 0?void 0:nh(r),type:n}))}}class one extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const lne={DOT:"dot"};class cne extends dt{constructor(t){super("w:em"),this.root.push(new Or({val:t}))}}class dne extends cne{constructor(t=lne.DOT){super(t)}}class une extends dt{constructor(t){super("w:spacing"),this.root.push(new Or({val:md(t)}))}}let hne=class extends dt{constructor(t){super("w:color"),this.root.push(new Or({val:nh(t)}))}};class fne extends dt{constructor(t){super("w:highlight"),this.root.push(new Or({val:t}))}}class mne extends dt{constructor(t){super("w:highlightCs"),this.root.push(new Or({val:t}))}}const pne=s=>new io({name:"w:lang",attributes:{value:{key:"w:val",value:s.value},eastAsia:{key:"w:eastAsia",value:s.eastAsia},bidirectional:{key:"w:bidi",value:s.bidirectional}}});class X5 extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class Qj extends dt{constructor(t,r){if(super("w:rFonts"),typeof t=="string"){const n=t;this.root.push(new X5({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=t;this.root.push(new X5(n))}}}let C8=class extends dt{constructor(t){super("w:vertAlign"),this.root.push(new Or({val:t}))}};class gne extends C8{constructor(){super("superscript")}}class xne extends C8{constructor(){super("subscript")}}const A8={SINGLE:"single"};class yne extends dt{constructor(t=A8.SINGLE,r){super("w:u"),this.root.push(new Or({val:t,color:r===void 0?void 0:nh(r)}))}}class Pd extends xy{constructor(t){var r,n;if(super("w:rPr"),!t)return;t.style&&this.push(new Wu("w:rStyle",t.style)),t.font&&(typeof t.font=="string"?this.push(new Qj(t.font)):"name"in t.font?this.push(new Qj(t.font.name,t.font.hint)):this.push(new Qj(t.font))),t.bold!==void 0&&this.push(new ut("w:b",t.bold)),(t.boldComplexScript===void 0&&t.bold!==void 0||t.boldComplexScript)&&this.push(new ut("w:bCs",(r=t.boldComplexScript)!=null?r:t.bold)),t.italics!==void 0&&this.push(new ut("w:i",t.italics)),(t.italicsComplexScript===void 0&&t.italics!==void 0||t.italicsComplexScript)&&this.push(new ut("w:iCs",(n=t.italicsComplexScript)!=null?n:t.italics)),t.smallCaps!==void 0?this.push(new ut("w:smallCaps",t.smallCaps)):t.allCaps!==void 0&&this.push(new ut("w:caps",t.allCaps)),t.strike!==void 0&&this.push(new ut("w:strike",t.strike)),t.doubleStrike!==void 0&&this.push(new ut("w:dstrike",t.doubleStrike)),t.emboss!==void 0&&this.push(new ut("w:emboss",t.emboss)),t.imprint!==void 0&&this.push(new ut("w:imprint",t.imprint)),t.noProof!==void 0&&this.push(new ut("w:noProof",t.noProof)),t.snapToGrid!==void 0&&this.push(new ut("w:snapToGrid",t.snapToGrid)),t.vanish&&this.push(new ut("w:vanish",t.vanish)),t.color&&this.push(new hne(t.color)),t.characterSpacing&&this.push(new une(t.characterSpacing)),t.scale!==void 0&&this.push(new om("w:w",t.scale)),t.kern&&this.push(new Zj("w:kern",t.kern)),t.position&&this.push(new Wu("w:position",t.position)),t.size!==void 0&&this.push(new Zj("w:sz",t.size));const a=t.sizeComplexScript===void 0||t.sizeComplexScript===!0?t.size:t.sizeComplexScript;a&&this.push(new Zj("w:szCs",a)),t.highlight&&this.push(new fne(t.highlight));const i=t.highlightComplexScript===void 0||t.highlightComplexScript===!0?t.highlight:t.highlightComplexScript;i&&this.push(new mne(i)),t.underline&&this.push(new yne(t.underline.type,t.underline.color)),t.effect&&this.push(new Wu("w:effect",t.effect)),t.border&&this.push(new pr("w:bdr",t.border)),t.shading&&this.push(new S8(t.shading)),t.subScript&&this.push(new xne),t.superScript&&this.push(new gne),t.rightToLeft!==void 0&&this.push(new ut("w:rtl",t.rightToLeft)),t.emphasisMark&&this.push(new dne(t.emphasisMark.type)),t.language&&this.push(pne(t.language)),t.specVanish&&this.push(new ut("w:specVanish",t.vanish)),t.math&&this.push(new ut("w:oMath",t.math)),t.revision&&this.push(new bne(t.revision))}push(t){this.root.push(t)}}class bne extends dt{constructor(t){super("w:rPrChange"),this.root.push(new one({id:t.id,author:t.author,date:t.date})),this.addChildElement(new Pd(t))}}class Z5 extends dt{constructor(t){var r;super("w:t"),typeof t=="string"?(this.root.push(new ih({space:ah.PRESERVE})),this.root.push(t)):(this.root.push(new ih({space:(r=t.space)!=null?r:ah.DEFAULT})),this.root.push(t.text))}}const Qg={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class _y extends dt{constructor(t){if(super("w:r"),st(this,"properties"),this.properties=new Pd(t),this.root.push(this.properties),t.break)for(let r=0;r<t.break;r++)this.root.push(new tne);if(t.children)for(const r of t.children){if(typeof r=="string"){switch(r){case Qg.CURRENT:this.root.push(new Kg),this.root.push(new sne),this.root.push(new Xg),this.root.push(new Zg);break;case Qg.TOTAL_PAGES:this.root.push(new Kg),this.root.push(new rne),this.root.push(new Xg),this.root.push(new Zg);break;case Qg.TOTAL_PAGES_IN_SECTION:this.root.push(new Kg),this.root.push(new nne),this.root.push(new Xg),this.root.push(new Zg);break;case Qg.CURRENT_SECTION:this.root.push(new Kg),this.root.push(new ane),this.root.push(new Xg),this.root.push(new Zg);break;default:this.root.push(new Z5(r));break}continue}this.root.push(r)}else t.text!==void 0&&this.root.push(new Z5(t.text))}}class y0 extends _y{constructor(t){super(typeof t=="string"?{text:t}:t)}}var Jj={},Hs={},e1,Q5;function rp(){if(Q5)return e1;Q5=1,e1=s;function s(t,r){if(!t)throw new Error(r||"Assertion failed")}return s.equal=function(r,n,a){if(r!=n)throw new Error(a||"Assertion failed: "+r+" != "+n)},e1}var J5;function lo(){if(J5)return Hs;J5=1;var s=rp(),t=xc();Hs.inherits=t;function r(I,K){return(I.charCodeAt(K)&64512)!==55296||K<0||K+1>=I.length?!1:(I.charCodeAt(K+1)&64512)===56320}function n(I,K){if(Array.isArray(I))return I.slice();if(!I)return[];var L=[];if(typeof I=="string")if(K){if(K==="hex")for(I=I.replace(/[^a-z0-9]+/ig,""),I.length%2!==0&&(I="0"+I),Q=0;Q<I.length;Q+=2)L.push(parseInt(I[Q]+I[Q+1],16))}else for(var J=0,Q=0;Q<I.length;Q++){var Z=I.charCodeAt(Q);Z<128?L[J++]=Z:Z<2048?(L[J++]=Z>>6|192,L[J++]=Z&63|128):r(I,Q)?(Z=65536+((Z&1023)<<10)+(I.charCodeAt(++Q)&1023),L[J++]=Z>>18|240,L[J++]=Z>>12&63|128,L[J++]=Z>>6&63|128,L[J++]=Z&63|128):(L[J++]=Z>>12|224,L[J++]=Z>>6&63|128,L[J++]=Z&63|128)}else for(Q=0;Q<I.length;Q++)L[Q]=I[Q]|0;return L}Hs.toArray=n;function a(I){for(var K="",L=0;L<I.length;L++)K+=c(I[L].toString(16));return K}Hs.toHex=a;function i(I){var K=I>>>24|I>>>8&65280|I<<8&16711680|(I&255)<<24;return K>>>0}Hs.htonl=i;function o(I,K){for(var L="",J=0;J<I.length;J++){var Q=I[J];K==="little"&&(Q=i(Q)),L+=d(Q.toString(16))}return L}Hs.toHex32=o;function c(I){return I.length===1?"0"+I:I}Hs.zero2=c;function d(I){return I.length===7?"0"+I:I.length===6?"00"+I:I.length===5?"000"+I:I.length===4?"0000"+I:I.length===3?"00000"+I:I.length===2?"000000"+I:I.length===1?"0000000"+I:I}Hs.zero8=d;function h(I,K,L,J){var Q=L-K;s(Q%4===0);for(var Z=new Array(Q/4),ee=0,F=K;ee<Z.length;ee++,F+=4){var de;J==="big"?de=I[F]<<24|I[F+1]<<16|I[F+2]<<8|I[F+3]:de=I[F+3]<<24|I[F+2]<<16|I[F+1]<<8|I[F],Z[ee]=de>>>0}return Z}Hs.join32=h;function m(I,K){for(var L=new Array(I.length*4),J=0,Q=0;J<I.length;J++,Q+=4){var Z=I[J];K==="big"?(L[Q]=Z>>>24,L[Q+1]=Z>>>16&255,L[Q+2]=Z>>>8&255,L[Q+3]=Z&255):(L[Q+3]=Z>>>24,L[Q+2]=Z>>>16&255,L[Q+1]=Z>>>8&255,L[Q]=Z&255)}return L}Hs.split32=m;function f(I,K){return I>>>K|I<<32-K}Hs.rotr32=f;function g(I,K){return I<<K|I>>>32-K}Hs.rotl32=g;function b(I,K){return I+K>>>0}Hs.sum32=b;function v(I,K,L){return I+K+L>>>0}Hs.sum32_3=v;function y(I,K,L,J){return I+K+L+J>>>0}Hs.sum32_4=y;function _(I,K,L,J,Q){return I+K+L+J+Q>>>0}Hs.sum32_5=_;function j(I,K,L,J){var Q=I[K],Z=I[K+1],ee=J+Z>>>0,F=(ee<J?1:0)+L+Q;I[K]=F>>>0,I[K+1]=ee}Hs.sum64=j;function S(I,K,L,J){var Q=K+J>>>0,Z=(Q<K?1:0)+I+L;return Z>>>0}Hs.sum64_hi=S;function N(I,K,L,J){var Q=K+J;return Q>>>0}Hs.sum64_lo=N;function k(I,K,L,J,Q,Z,ee,F){var de=0,q=K;q=q+J>>>0,de+=q<K?1:0,q=q+Z>>>0,de+=q<Z?1:0,q=q+F>>>0,de+=q<F?1:0;var G=I+L+Q+ee+de;return G>>>0}Hs.sum64_4_hi=k;function C(I,K,L,J,Q,Z,ee,F){var de=K+J+Z+F;return de>>>0}Hs.sum64_4_lo=C;function z(I,K,L,J,Q,Z,ee,F,de,q){var G=0,ie=K;ie=ie+J>>>0,G+=ie<K?1:0,ie=ie+Z>>>0,G+=ie<Z?1:0,ie=ie+F>>>0,G+=ie<F?1:0,ie=ie+q>>>0,G+=ie<q?1:0;var le=I+L+Q+ee+de+G;return le>>>0}Hs.sum64_5_hi=z;function E(I,K,L,J,Q,Z,ee,F,de,q){var G=K+J+Z+F+q;return G>>>0}Hs.sum64_5_lo=E;function U(I,K,L){var J=K<<32-L|I>>>L;return J>>>0}Hs.rotr64_hi=U;function T(I,K,L){var J=I<<32-L|K>>>L;return J>>>0}Hs.rotr64_lo=T;function re(I,K,L){return I>>>L}Hs.shr64_hi=re;function Y(I,K,L){var J=I<<32-L|K>>>L;return J>>>0}return Hs.shr64_lo=Y,Hs}var t1={},eR;function np(){if(eR)return t1;eR=1;var s=lo(),t=rp();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return t1.BlockHash=r,r.prototype.update=function(a,i){if(a=s.toArray(a,i),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var o=a.length%this._delta8;this.pending=a.slice(a.length-o,a.length),this.pending.length===0&&(this.pending=null),a=s.join32(a,0,a.length-o,this.endian);for(var c=0;c<a.length;c+=this._delta32)this._update(a,c,c+this._delta32)}return this},r.prototype.digest=function(a){return this.update(this._pad()),t(this.pending===null),this._digest(a)},r.prototype._pad=function(){var a=this.pendingTotal,i=this._delta8,o=i-(a+this.padLength)%i,c=new Array(o+this.padLength);c[0]=128;for(var d=1;d<o;d++)c[d]=0;if(a<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)c[d++]=0;c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=a>>>24&255,c[d++]=a>>>16&255,c[d++]=a>>>8&255,c[d++]=a&255}else for(c[d++]=a&255,c[d++]=a>>>8&255,c[d++]=a>>>16&255,c[d++]=a>>>24&255,c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0,h=8;h<this.padLength;h++)c[d++]=0;return c},t1}var Xc={},Fi={},tR;function E8(){if(tR)return Fi;tR=1;var s=lo(),t=s.rotr32;function r(m,f,g,b){if(m===0)return n(f,g,b);if(m===1||m===3)return i(f,g,b);if(m===2)return a(f,g,b)}Fi.ft_1=r;function n(m,f,g){return m&f^~m&g}Fi.ch32=n;function a(m,f,g){return m&f^m&g^f&g}Fi.maj32=a;function i(m,f,g){return m^f^g}Fi.p32=i;function o(m){return t(m,2)^t(m,13)^t(m,22)}Fi.s0_256=o;function c(m){return t(m,6)^t(m,11)^t(m,25)}Fi.s1_256=c;function d(m){return t(m,7)^t(m,18)^m>>>3}Fi.g0_256=d;function h(m){return t(m,17)^t(m,19)^m>>>10}return Fi.g1_256=h,Fi}var s1,sR;function vne(){if(sR)return s1;sR=1;var s=lo(),t=np(),r=E8(),n=s.rotl32,a=s.sum32,i=s.sum32_5,o=r.ft_1,c=t.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return s.inherits(h,c),s1=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(f,g){for(var b=this.W,v=0;v<16;v++)b[v]=f[g+v];for(;v<b.length;v++)b[v]=n(b[v-3]^b[v-8]^b[v-14]^b[v-16],1);var y=this.h[0],_=this.h[1],j=this.h[2],S=this.h[3],N=this.h[4];for(v=0;v<b.length;v++){var k=~~(v/20),C=i(n(y,5),o(k,_,j,S),N,b[v],d[k]);N=S,S=j,j=n(_,30),_=y,y=C}this.h[0]=a(this.h[0],y),this.h[1]=a(this.h[1],_),this.h[2]=a(this.h[2],j),this.h[3]=a(this.h[3],S),this.h[4]=a(this.h[4],N)},h.prototype._digest=function(f){return f==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")},s1}var r1,rR;function T8(){if(rR)return r1;rR=1;var s=lo(),t=np(),r=E8(),n=rp(),a=s.sum32,i=s.sum32_4,o=s.sum32_5,c=r.ch32,d=r.maj32,h=r.s0_256,m=r.s1_256,f=r.g0_256,g=r.g1_256,b=t.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}return s.inherits(y,b),r1=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(j,S){for(var N=this.W,k=0;k<16;k++)N[k]=j[S+k];for(;k<N.length;k++)N[k]=i(g(N[k-2]),N[k-7],f(N[k-15]),N[k-16]);var C=this.h[0],z=this.h[1],E=this.h[2],U=this.h[3],T=this.h[4],re=this.h[5],Y=this.h[6],I=this.h[7];for(n(this.k.length===N.length),k=0;k<N.length;k++){var K=o(I,m(T),c(T,re,Y),this.k[k],N[k]),L=a(h(C),d(C,z,E));I=Y,Y=re,re=T,T=a(U,K),U=E,E=z,z=C,C=a(K,L)}this.h[0]=a(this.h[0],C),this.h[1]=a(this.h[1],z),this.h[2]=a(this.h[2],E),this.h[3]=a(this.h[3],U),this.h[4]=a(this.h[4],T),this.h[5]=a(this.h[5],re),this.h[6]=a(this.h[6],Y),this.h[7]=a(this.h[7],I)},y.prototype._digest=function(j){return j==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")},r1}var n1,nR;function wne(){if(nR)return n1;nR=1;var s=lo(),t=T8();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return s.inherits(r,t),n1=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(a){return a==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")},n1}var a1,aR;function R8(){if(aR)return a1;aR=1;var s=lo(),t=np(),r=rp(),n=s.rotr64_hi,a=s.rotr64_lo,i=s.shr64_hi,o=s.shr64_lo,c=s.sum64,d=s.sum64_hi,h=s.sum64_lo,m=s.sum64_4_hi,f=s.sum64_4_lo,g=s.sum64_5_hi,b=s.sum64_5_lo,v=t.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}s.inherits(_,v),a1=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(L,J){for(var Q=this.W,Z=0;Z<32;Z++)Q[Z]=L[J+Z];for(;Z<Q.length;Z+=2){var ee=Y(Q[Z-4],Q[Z-3]),F=I(Q[Z-4],Q[Z-3]),de=Q[Z-14],q=Q[Z-13],G=T(Q[Z-30],Q[Z-29]),ie=re(Q[Z-30],Q[Z-29]),le=Q[Z-32],be=Q[Z-31];Q[Z]=m(ee,F,de,q,G,ie,le,be),Q[Z+1]=f(ee,F,de,q,G,ie,le,be)}},_.prototype._update=function(L,J){this._prepareBlock(L,J);var Q=this.W,Z=this.h[0],ee=this.h[1],F=this.h[2],de=this.h[3],q=this.h[4],G=this.h[5],ie=this.h[6],le=this.h[7],be=this.h[8],ye=this.h[9],$=this.h[10],V=this.h[11],me=this.h[12],ce=this.h[13],he=this.h[14],O=this.h[15];r(this.k.length===Q.length);for(var oe=0;oe<Q.length;oe+=2){var D=he,Ce=O,H=E(be,ye),R=U(be,ye),P=j(be,ye,$,V,me),W=S(be,ye,$,V,me,ce),Ne=this.k[oe],X=this.k[oe+1],pe=Q[oe],ge=Q[oe+1],Re=g(D,Ce,H,R,P,W,Ne,X,pe,ge),De=b(D,Ce,H,R,P,W,Ne,X,pe,ge);D=C(Z,ee),Ce=z(Z,ee),H=N(Z,ee,F,de,q),R=k(Z,ee,F,de,q,G);var Se=d(D,Ce,H,R),Ie=h(D,Ce,H,R);he=me,O=ce,me=$,ce=V,$=be,V=ye,be=d(ie,le,Re,De),ye=h(le,le,Re,De),ie=q,le=G,q=F,G=de,F=Z,de=ee,Z=d(Re,De,Se,Ie),ee=h(Re,De,Se,Ie)}c(this.h,0,Z,ee),c(this.h,2,F,de),c(this.h,4,q,G),c(this.h,6,ie,le),c(this.h,8,be,ye),c(this.h,10,$,V),c(this.h,12,me,ce),c(this.h,14,he,O)},_.prototype._digest=function(L){return L==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")};function j(K,L,J,Q,Z){var ee=K&J^~K&Z;return ee<0&&(ee+=4294967296),ee}function S(K,L,J,Q,Z,ee){var F=L&Q^~L&ee;return F<0&&(F+=4294967296),F}function N(K,L,J,Q,Z){var ee=K&J^K&Z^J&Z;return ee<0&&(ee+=4294967296),ee}function k(K,L,J,Q,Z,ee){var F=L&Q^L&ee^Q&ee;return F<0&&(F+=4294967296),F}function C(K,L){var J=n(K,L,28),Q=n(L,K,2),Z=n(L,K,7),ee=J^Q^Z;return ee<0&&(ee+=4294967296),ee}function z(K,L){var J=a(K,L,28),Q=a(L,K,2),Z=a(L,K,7),ee=J^Q^Z;return ee<0&&(ee+=4294967296),ee}function E(K,L){var J=n(K,L,14),Q=n(K,L,18),Z=n(L,K,9),ee=J^Q^Z;return ee<0&&(ee+=4294967296),ee}function U(K,L){var J=a(K,L,14),Q=a(K,L,18),Z=a(L,K,9),ee=J^Q^Z;return ee<0&&(ee+=4294967296),ee}function T(K,L){var J=n(K,L,1),Q=n(K,L,8),Z=i(K,L,7),ee=J^Q^Z;return ee<0&&(ee+=4294967296),ee}function re(K,L){var J=a(K,L,1),Q=a(K,L,8),Z=o(K,L,7),ee=J^Q^Z;return ee<0&&(ee+=4294967296),ee}function Y(K,L){var J=n(K,L,19),Q=n(L,K,29),Z=i(K,L,6),ee=J^Q^Z;return ee<0&&(ee+=4294967296),ee}function I(K,L){var J=a(K,L,19),Q=a(L,K,29),Z=o(K,L,6),ee=J^Q^Z;return ee<0&&(ee+=4294967296),ee}return a1}var i1,iR;function jne(){if(iR)return i1;iR=1;var s=lo(),t=R8();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return s.inherits(r,t),i1=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(a){return a==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")},i1}var oR;function _ne(){return oR||(oR=1,Xc.sha1=vne(),Xc.sha224=wne(),Xc.sha256=T8(),Xc.sha384=jne(),Xc.sha512=R8()),Xc}var o1={},lR;function Nne(){if(lR)return o1;lR=1;var s=lo(),t=np(),r=s.rotl32,n=s.sum32,a=s.sum32_3,i=s.sum32_4,o=t.BlockHash;function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}s.inherits(c,o),o1.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(_,j){for(var S=this.h[0],N=this.h[1],k=this.h[2],C=this.h[3],z=this.h[4],E=S,U=N,T=k,re=C,Y=z,I=0;I<80;I++){var K=n(r(i(S,d(I,N,k,C),_[f[I]+j],h(I)),b[I]),z);S=z,z=C,C=r(k,10),k=N,N=K,K=n(r(i(E,d(79-I,U,T,re),_[g[I]+j],m(I)),v[I]),Y),E=Y,Y=re,re=r(T,10),T=U,U=K}K=a(this.h[1],k,re),this.h[1]=a(this.h[2],C,Y),this.h[2]=a(this.h[3],z,E),this.h[3]=a(this.h[4],S,U),this.h[4]=a(this.h[0],N,T),this.h[0]=K},c.prototype._digest=function(_){return _==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};function d(y,_,j,S){return y<=15?_^j^S:y<=31?_&j|~_&S:y<=47?(_|~j)^S:y<=63?_&S|j&~S:_^(j|~S)}function h(y){return y<=15?0:y<=31?1518500249:y<=47?1859775393:y<=63?2400959708:2840853838}function m(y){return y<=15?1352829926:y<=31?1548603684:y<=47?1836072691:y<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return o1}var l1,cR;function kne(){if(cR)return l1;cR=1;var s=lo(),t=rp();function r(n,a,i){if(!(this instanceof r))return new r(n,a,i);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(a,i))}return l1=r,r.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),t(a.length<=this.blockSize);for(var i=a.length;i<this.blockSize;i++)a.push(0);for(i=0;i<a.length;i++)a[i]^=54;for(this.inner=new this.Hash().update(a),i=0;i<a.length;i++)a[i]^=106;this.outer=new this.Hash().update(a)},r.prototype.update=function(a,i){return this.inner.update(a,i),this},r.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)},l1}var dR;function Sne(){return dR||(dR=1,(function(s){var t=s;t.utils=lo(),t.common=np(),t.sha=_ne(),t.ripemd=Nne(),t.hmac=kne(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(Jj)),Jj}Sne();let Cne="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Ane=(s,t=21)=>(r=t)=>{let n="",a=r|0;for(;a--;)n+=s[Math.random()*s.length|0];return n},Ene=(s=21)=>{let t="",r=s|0;for(;r--;)t+=Cne[Math.random()*64|0];return t};const ci=s=>Math.floor(s*72*20),G2=(s=0)=>{let t=s;return()=>++t},Tne=()=>G2(),Rne=()=>G2(1),Dne=()=>G2(),Mne=()=>Ene().toLowerCase(),Lf=s=>Ane("1234567890abcdef",s)(),Pne=()=>`${Lf(8)}-${Lf(4)}-${Lf(4)}-${Lf(4)}-${Lf(12)}`;class One extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{xmlns:"xmlns"})}}class Lne extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const Fne={EXTERNAL:"External"};class Bne extends dt{constructor(t,r,n,a){super("Relationship"),this.root.push(new Lne({id:t,type:r,target:n,targetMode:a}))}}class Od extends dt{constructor(){super("Relationships"),this.root.push(new One({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(t,r,n,a){const i=new Bne(`rId${t}`,r,n,a);return this.root.push(i),i}get RelationshipCount(){return this.root.length-1}}class Ine extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class zne extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class Une extends dt{constructor({id:t,initials:r,author:n,date:a=new Date,children:i}){super("w:comment"),this.root.push(new Ine({id:t,initials:r,author:n,date:a.toISOString()}));for(const o of i)this.root.push(o)}}class $ne extends dt{constructor({children:t}){super("w:comments"),st(this,"relationships"),this.root.push(new zne({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of t)this.root.push(new Une(r));this.relationships=new Od}get Relationships(){return this.relationships}}class Vne extends dt{constructor(){super("w:pageBreakBefore")}}const X_={AUTO:"auto"};class Hne extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class qne extends dt{constructor(t){super("w:spacing"),this.root.push(new Hne(t))}}const D8={HEADING_2:"Heading2",TITLE:"Title"};let Jg=class extends dt{constructor(t){super("w:pStyle"),this.root.push(new Or({val:t}))}};class Gne extends dt{constructor(t){super("w:tabs");for(const r of t)this.root.push(new Yne(r))}}const uR={LEFT:"left",RIGHT:"right"};class Wne extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class Yne extends dt{constructor({type:t,position:r,leader:n}){super("w:tab"),this.root.push(new Wne({val:t,pos:r,leader:n}))}}class c1 extends dt{constructor(t,r){super("w:numPr"),this.root.push(new Kne(r)),this.root.push(new Xne(t))}}class Kne extends dt{constructor(t){if(super("w:ilvl"),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Or({val:t}))}}class Xne extends dt{constructor(t){super("w:numId"),this.root.push(new Or({val:typeof t=="string"?`{${t}}`:t}))}}class Zne extends dt{constructor(){super(...arguments),st(this,"fileChild",Symbol())}}class Qne extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class Jne extends dt{constructor(t,r,n){super("w:hyperlink"),st(this,"linkId"),this.linkId=r;const a={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},i=new Qne(a);this.root.push(i),t.forEach(o=>{this.root.push(o)})}}class eae extends dt{constructor(t){super("w:externalHyperlink"),this.options=t}}class tae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class sae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{id:"w:id"})}}class rae{constructor(t){st(this,"bookmarkUniqueNumericId",Dne()),st(this,"start"),st(this,"children"),st(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new nae(t.id,r),this.children=t.children,this.end=new aae(r)}}class nae extends dt{constructor(t,r){super("w:bookmarkStart");const n=new tae({name:t,id:r});this.root.push(n)}}class aae extends dt{constructor(t){super("w:bookmarkEnd");const r=new sae({id:t});this.root.push(r)}}class iae extends dt{constructor(t){super("w:outlineLvl"),this.level=t,this.root.push(new Or({val:t}))}}const oae={TOP:"top",CENTER:"center",BOTTOM:"bottom"};sh(ws({},oae),{BOTH:"both"});class lae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{verticalAlign:"w:val"})}}class cae extends dt{constructor(t){super("w:vAlign"),this.root.push(new lae({verticalAlign:t}))}}class dae extends dt{constructor({space:t,count:r,separate:n,equalWidth:a,children:i}){super("w:cols"),this.root.push(new yy({space:{key:"w:space",value:t===void 0?void 0:pi(t)},count:{key:"w:num",value:r===void 0?void 0:sa(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:a}})),!a&&i&&i.forEach(o=>this.addChildElement(o))}}const uae=({type:s,linePitch:t,charSpace:r})=>new io({name:"w:docGrid",attributes:{type:{key:"w:type",value:s},linePitch:{key:"w:linePitch",value:sa(t)},charSpace:{key:"w:charSpace",value:r?sa(r):void 0}}}),Yu={DEFAULT:"default",FIRST:"first",EVEN:"even"};class hae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const hR={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class d1 extends dt{constructor(t,r){super(t),this.root.push(new hae({type:r.type||Yu.DEFAULT,id:`rId${r.id}`}))}}const fae=({countBy:s,start:t,restart:r,distance:n})=>new io({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:s===void 0?void 0:sa(s)},start:{key:"w:start",value:t===void 0?void 0:sa(t)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:pi(n)}}});class fR extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class mae extends xy{constructor(t){if(super("w:pgBorders"),!t)return this;t.pageBorders?this.root.push(new fR({display:t.pageBorders.display,offsetFrom:t.pageBorders.offsetFrom,zOrder:t.pageBorders.zOrder})):this.root.push(new fR({})),t.pageBorderTop&&this.root.push(new pr("w:top",t.pageBorderTop)),t.pageBorderLeft&&this.root.push(new pr("w:left",t.pageBorderLeft)),t.pageBorderBottom&&this.root.push(new pr("w:bottom",t.pageBorderBottom)),t.pageBorderRight&&this.root.push(new pr("w:right",t.pageBorderRight))}}class pae extends dt{constructor(t,r,n,a,i,o,c){super("w:pgMar"),this.root.push(new yy({top:{key:"w:top",value:md(t)},right:{key:"w:right",value:pi(r)},bottom:{key:"w:bottom",value:md(n)},left:{key:"w:left",value:pi(a)},header:{key:"w:header",value:pi(i)},footer:{key:"w:footer",value:pi(o)},gutter:{key:"w:gutter",value:pi(c)}}))}}class gae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class xae extends dt{constructor({start:t,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new gae({start:t===void 0?void 0:sa(t),formatType:r,separator:n}))}}const Z_={PORTRAIT:"portrait",LANDSCAPE:"landscape"},yae=({width:s,height:t,orientation:r,code:n})=>{const a=pi(s),i=pi(t);return new io({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===Z_.LANDSCAPE?i:a},height:{key:"w:h",value:r===Z_.LANDSCAPE?a:i},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class bae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class vae extends dt{constructor(t){super("w:textDirection"),this.root.push(new bae({val:t}))}}class wae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class jae extends dt{constructor(t){super("w:type"),this.root.push(new wae({val:t}))}}const Zc={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},u1={WIDTH:11906,HEIGHT:16838,ORIENTATION:Z_.PORTRAIT};class _ae extends dt{constructor({page:{size:{width:t=u1.WIDTH,height:r=u1.HEIGHT,orientation:n=u1.ORIENTATION}={},margin:{top:a=Zc.TOP,right:i=Zc.RIGHT,bottom:o=Zc.BOTTOM,left:c=Zc.LEFT,header:d=Zc.HEADER,footer:h=Zc.FOOTER,gutter:m=Zc.GUTTER}={},pageNumbers:f={},borders:g,textDirection:b}={},grid:{linePitch:v=360,charSpace:y,type:_}={},headerWrapperGroup:j={},footerWrapperGroup:S={},lineNumbers:N,titlePage:k,verticalAlign:C,column:z,type:E}={}){super("w:sectPr"),this.addHeaderFooterGroup(hR.HEADER,j),this.addHeaderFooterGroup(hR.FOOTER,S),E&&this.root.push(new jae(E)),this.root.push(yae({width:t,height:r,orientation:n})),this.root.push(new pae(a,i,o,c,d,h,m)),g&&this.root.push(new mae(g)),N&&this.root.push(fae(N)),this.root.push(new xae(f)),z&&this.root.push(new dae(z)),C&&this.root.push(new cae(C)),k!==void 0&&this.root.push(new ut("w:titlePg",k)),b&&this.root.push(new vae(b)),this.root.push(uae({linePitch:v,charSpace:y,type:_}))}addHeaderFooterGroup(t,r){r.default&&this.root.push(new d1(t,{type:Yu.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new d1(t,{type:Yu.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new d1(t,{type:Yu.EVEN,id:r.even.View.ReferenceId}))}}class Nae extends dt{constructor(){super("w:body"),st(this,"sections",[])}addSection(t){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new _ae(t))}prepForXml(t){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(t)}push(t){this.root.push(t)}createSectionParagraph(t){const r=new qs({}),n=new oh({});return n.push(t),r.addChildElement(n),r}}const mR={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class Ny extends Kt{constructor(t,r){super(ws({Ignorable:r},Object.fromEntries(t.map(n=>[n,mR[n]])))),st(this,"xmlKeys",ws({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(mR).map(n=>[n,`xmlns:${n}`]))))}}class kae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class Sae extends dt{constructor(t){super("w:background"),this.root.push(new kae({color:t.color===void 0?void 0:nh(t.color),themeColor:t.themeColor,themeShade:t.themeShade===void 0?void 0:K5(t.themeShade),themeTint:t.themeTint===void 0?void 0:K5(t.themeTint)}))}}class Cae extends dt{constructor(t){super("w:document"),st(this,"body"),this.root.push(new Ny(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new Nae,t.background&&this.root.push(new Sae(t.background)),this.root.push(this.body)}add(t){return this.body.push(t),this}get Body(){return this.body}}class M8{constructor(t){st(this,"document"),st(this,"relationships"),this.document=new Cae(t),this.relationships=new Od}get View(){return this.document}get Relationships(){return this.relationships}}class Aae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class Eae extends dt{constructor(){super("w:wordWrap"),this.root.push(new Aae({val:0}))}}const Tae=s=>{var t,r;return new io({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:s.anchorLock},dropCap:{key:"w:dropCap",value:s.dropCap},width:{key:"w:w",value:s.width},height:{key:"w:h",value:s.height},x:{key:"w:x",value:s.position?s.position.x:void 0},y:{key:"w:y",value:s.position?s.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:s.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:s.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(t=s.space)==null?void 0:t.horizontal},spaceVertical:{key:"w:vSpace",value:(r=s.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:s.rule},alignmentX:{key:"w:xAlign",value:s.alignment?s.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:s.alignment?s.alignment.y:void 0},lines:{key:"w:lines",value:s.lines},wrap:{key:"w:wrap",value:s.wrap}}})};class oh extends xy{constructor(t){var r,n;if(super("w:pPr"),st(this,"numberingReferences",[]),!t)return this;t.heading&&this.push(new Jg(t.heading)),t.bullet&&this.push(new Jg("ListParagraph")),t.numbering&&!t.style&&!t.heading&&(t.numbering.custom||this.push(new Jg("ListParagraph"))),t.style&&this.push(new Jg(t.style)),t.keepNext!==void 0&&this.push(new ut("w:keepNext",t.keepNext)),t.keepLines!==void 0&&this.push(new ut("w:keepLines",t.keepLines)),t.pageBreakBefore&&this.push(new Vne),t.frame&&this.push(Tae(t.frame)),t.widowControl!==void 0&&this.push(new ut("w:widowControl",t.widowControl)),t.bullet&&this.push(new c1(1,t.bullet.level)),t.numbering?(this.numberingReferences.push({reference:t.numbering.reference,instance:(r=t.numbering.instance)!=null?r:0}),this.push(new c1(`${t.numbering.reference}-${(n=t.numbering.instance)!=null?n:0}`,t.numbering.level))):t.numbering===!1&&this.push(new c1(0,0)),t.border&&this.push(new Qre(t.border)),t.thematicBreak&&this.push(new Jre),t.shading&&this.push(new S8(t.shading)),t.wordWrap&&this.push(new Eae),t.overflowPunctuation&&this.push(new ut("w:overflowPunct",t.overflowPunctuation));const a=[...t.rightTabStop!==void 0?[{type:uR.RIGHT,position:t.rightTabStop}]:[],...t.tabStops?t.tabStops:[],...t.leftTabStop!==void 0?[{type:uR.LEFT,position:t.leftTabStop}]:[]];a.length>0&&this.push(new Gne(a)),t.bidirectional!==void 0&&this.push(new ut("w:bidi",t.bidirectional)),t.spacing&&this.push(new qne(t.spacing)),t.indent&&this.push(new ene(t.indent)),t.contextualSpacing!==void 0&&this.push(new ut("w:contextualSpacing",t.contextualSpacing)),t.alignment&&this.push(new Xre(t.alignment)),t.outlineLevel!==void 0&&this.push(new iae(t.outlineLevel)),t.suppressLineNumbers!==void 0&&this.push(new ut("w:suppressLineNumbers",t.suppressLineNumbers)),t.autoSpaceEastAsianText!==void 0&&this.push(new ut("w:autoSpaceDN",t.autoSpaceEastAsianText)),t.run&&this.push(new Pd(t.run))}push(t){this.root.push(t)}prepForXml(t){if(t.viewWrapper instanceof M8)for(const r of this.numberingReferences)t.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(t)}}class qs extends Zne{constructor(t){if(super("w:p"),st(this,"properties"),typeof t=="string")return this.properties=new oh({}),this.root.push(this.properties),this.root.push(new y0(t)),this;if(this.properties=new oh(t),this.root.push(this.properties),t.text&&this.root.push(new y0(t.text)),t.children)for(const r of t.children){if(r instanceof rae){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(t){for(const r of this.root)if(r instanceof eae){const n=this.root.indexOf(r),a=new Jne(r.options.children,Mne());t.viewWrapper.Relationships.createRelationship(a.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,Fne.EXTERNAL),this.root[n]=a}return super.prepForXml(t)}addRunToFront(t){return this.root.splice(1,0,t),this}}const Cu={style:V2.NONE,size:0,color:"auto"},Au={style:V2.SINGLE,size:4,color:"auto"};class Rae extends dt{constructor(t){super("w:tblBorders"),t.top?this.root.push(new pr("w:top",t.top)):this.root.push(new pr("w:top",Au)),t.left?this.root.push(new pr("w:left",t.left)):this.root.push(new pr("w:left",Au)),t.bottom?this.root.push(new pr("w:bottom",t.bottom)):this.root.push(new pr("w:bottom",Au)),t.right?this.root.push(new pr("w:right",t.right)):this.root.push(new pr("w:right",Au)),t.insideHorizontal?this.root.push(new pr("w:insideH",t.insideHorizontal)):this.root.push(new pr("w:insideH",Au)),t.insideVertical?this.root.push(new pr("w:insideV",t.insideVertical)):this.root.push(new pr("w:insideV",Au))}}st(Rae,"NONE",{top:Cu,bottom:Cu,left:Cu,right:Cu,insideHorizontal:Cu,insideVertical:Cu});class Dae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Mae extends dt{constructor(){super("Properties"),this.root.push(new Dae({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class Pae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{xmlns:"xmlns"})}}class Oae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Po extends dt{constructor(t,r){super("Default"),this.root.push(new Oae({contentType:t,extension:r}))}}class Lae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Ha extends dt{constructor(t,r){super("Override"),this.root.push(new Lae({contentType:t,partName:r}))}}class Fae extends dt{constructor(){super("Types"),this.root.push(new Pae({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Po("image/png","png")),this.root.push(new Po("image/jpeg","jpeg")),this.root.push(new Po("image/jpeg","jpg")),this.root.push(new Po("image/bmp","bmp")),this.root.push(new Po("image/gif","gif")),this.root.push(new Po("image/svg+xml","svg")),this.root.push(new Po("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Po("application/xml","xml")),this.root.push(new Po("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Ha("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Ha("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Ha("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Ha("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Ha("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Ha("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Ha("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Ha("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Ha("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Ha("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(t){this.root.push(new Ha("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${t}.xml`))}addHeader(t){this.root.push(new Ha("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${t}.xml`))}}class Bae extends dt{constructor(t){super("cp:coreProperties"),this.root.push(new Ny(["cp","dc","dcterms","dcmitype","xsi"])),t.title&&this.root.push(new Kc("dc:title",t.title)),t.subject&&this.root.push(new Kc("dc:subject",t.subject)),t.creator&&this.root.push(new Kc("dc:creator",t.creator)),t.keywords&&this.root.push(new Kc("cp:keywords",t.keywords)),t.description&&this.root.push(new Kc("dc:description",t.description)),t.lastModifiedBy&&this.root.push(new Kc("cp:lastModifiedBy",t.lastModifiedBy)),t.revision&&this.root.push(new Kc("cp:revision",String(t.revision))),this.root.push(new pR("dcterms:created")),this.root.push(new pR("dcterms:modified"))}}class Iae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{type:"xsi:type"})}}class pR extends dt{constructor(t){super(t),this.root.push(new Iae({type:"dcterms:W3CDTF"})),this.root.push(Yre(new Date))}}class zae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Uae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class $ae extends dt{constructor(t,r){super("property"),this.root.push(new Uae({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t.toString(),name:r.name})),this.root.push(new Vae(r.value))}}class Vae extends dt{constructor(t){super("vt:lpwstr"),this.root.push(t)}}class Hae extends dt{constructor(t){super("Properties"),st(this,"nextId"),st(this,"properties",[]),this.root.push(new zae({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of t)this.addCustomProperty(r)}prepForXml(t){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(t)}addCustomProperty(t){this.properties.push(new $ae(this.nextId++,t))}}const ex=({id:s,fontKey:t,subsetted:r},n)=>new io({name:n,attributes:ws({id:{key:"r:id",value:s}},t?{fontKey:{key:"w:fontKey",value:`{${t}}`}}:{}),children:[...r?[new ut("w:subsetted",r)]:[]]}),qae=({name:s,altName:t,panose1:r,charset:n,family:a,notTrueType:i,pitch:o,sig:c,embedRegular:d,embedBold:h,embedItalic:m,embedBoldItalic:f})=>new io({name:"w:font",attributes:{name:{key:"w:name",value:s}},children:[...t?[Of("w:altName",t)]:[],...r?[Of("w:panose1",r)]:[],...n?[Of("w:charset",n)]:[],Of("w:family",a),...i?[new ut("w:notTrueType",i)]:[],Of("w:pitch",o),...c?[new io({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:c.usb0},usb1:{key:"w:usb1",value:c.usb1},usb2:{key:"w:usb2",value:c.usb2},usb3:{key:"w:usb3",value:c.usb3},csb0:{key:"w:csb0",value:c.csb0},csb1:{key:"w:csb1",value:c.csb1}}})]:[],...d?[ex(d,"w:embedRegular")]:[],...h?[ex(h,"w:embedBold")]:[],...m?[ex(m,"w:embedItalic")]:[],...f?[ex(f,"w:embedBoldItalic")]:[]]}),Gae=({name:s,index:t,fontKey:r,characterSet:n})=>qae({name:s,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${t}`}}),Wae=s=>new io({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:s.map((t,r)=>Gae({name:t.name,index:r+1,fontKey:t.fontKey}))});class Yae{constructor(t){st(this,"fontTable"),st(this,"relationships"),st(this,"fontOptionsWithKey",[]),this.options=t,this.fontOptionsWithKey=t.map(r=>sh(ws({},r),{fontKey:Pne()})),this.fontTable=Wae(this.fontOptionsWithKey),this.relationships=new Od;for(let r=0;r<t.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${t[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class Kae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let Xae=class extends j8{constructor(t,r){super("w:ftr",r),st(this,"refId"),this.refId=t,r||this.root.push(new Kae({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class Zae{constructor(t,r,n){st(this,"footer"),st(this,"relationships"),this.media=t,this.footer=new Xae(r,n),this.relationships=new Od}add(t){this.footer.add(t)}addChildElement(t){this.footer.addChildElement(t)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class Qae extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class Jae extends dt{constructor(){super("w:footnoteRef")}}class eie extends _y{constructor(){super({style:"FootnoteReference"}),this.root.push(new Jae)}}const gR={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class h1 extends dt{constructor(t){super("w:footnote"),this.root.push(new Qae({type:t.type,id:t.id}));for(let r=0;r<t.children.length;r++){const n=t.children[r];r===0&&n.addRunToFront(new eie),this.root.push(n)}}}class tie extends dt{constructor(){super("w:continuationSeparator")}}class sie extends _y{constructor(){super({}),this.root.push(new tie)}}class rie extends dt{constructor(){super("w:separator")}}class nie extends _y{constructor(){super({}),this.root.push(new rie)}}class aie extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class iie extends dt{constructor(){super("w:footnotes"),this.root.push(new aie({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new h1({id:-1,type:gR.SEPERATOR,children:[new qs({spacing:{after:0,line:240,lineRule:X_.AUTO},children:[new nie]})]});this.root.push(t);const r=new h1({id:0,type:gR.CONTINUATION_SEPERATOR,children:[new qs({spacing:{after:0,line:240,lineRule:X_.AUTO},children:[new sie]})]});this.root.push(r)}createFootNote(t,r){const n=new h1({id:t,children:r});this.root.push(n)}}class oie{constructor(){st(this,"footnotess"),st(this,"relationships"),this.footnotess=new iie,this.relationships=new Od}get View(){return this.footnotess}get Relationships(){return this.relationships}}class lie extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let cie=class extends j8{constructor(t,r){super("w:hdr",r),st(this,"refId"),this.refId=t,r||this.root.push(new lie({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class die{constructor(t,r,n){st(this,"header"),st(this,"relationships"),this.media=t,this.header=new cie(r,n),this.relationships=new Od}add(t){return this.header.add(t),this}addChildElement(t){this.header.addChildElement(t)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class uie{constructor(){st(this,"map"),this.map=new Map}addImage(t,r){this.map.set(t,r)}get Array(){return Array.from(this.map.values())}}const Oo={BULLET:"bullet"};class hie extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class fie extends dt{constructor(t){super("w:numFmt"),this.root.push(new Or({val:t}))}}class mie extends dt{constructor(t){super("w:lvlText"),this.root.push(new Or({val:t}))}}class pie extends dt{constructor(t){super("w:lvlJc"),this.root.push(new Or({val:t}))}}class gie extends dt{constructor(t){super("w:suff"),this.root.push(new Or({val:t}))}}class xie extends dt{constructor(){super("w:isLgl")}}class yie extends dt{constructor({level:t,format:r,text:n,alignment:a=ya.START,start:i=1,style:o,suffix:c,isLegalNumberingStyle:d}){if(super("w:lvl"),st(this,"paragraphProperties"),st(this,"runProperties"),this.root.push(new om("w:start",sa(i))),r&&this.root.push(new fie(r)),c&&this.root.push(new gie(c)),d&&this.root.push(new xie),n&&this.root.push(new mie(n)),this.root.push(new pie(a)),this.paragraphProperties=new oh(o&&o.paragraph),this.runProperties=new Pd(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new hie({ilvl:sa(t),tentative:1}))}}class bie extends yie{}class vie extends dt{constructor(t){super("w:multiLevelType"),this.root.push(new Or({val:t}))}}class wie extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class xR extends dt{constructor(t,r){super("w:abstractNum"),st(this,"id"),this.root.push(new wie({abstractNumId:sa(t),restartNumberingAfterBreak:0})),this.root.push(new vie("hybridMultilevel")),this.id=t;for(const n of r)this.root.push(new bie(n))}}class jie extends dt{constructor(t){super("w:abstractNumId"),this.root.push(new Or({val:t}))}}class _ie extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{numId:"w:numId"})}}class yR extends dt{constructor(t){if(super("w:num"),st(this,"numId"),st(this,"reference"),st(this,"instance"),this.numId=t.numId,this.reference=t.reference,this.instance=t.instance,this.root.push(new _ie({numId:sa(t.numId)})),this.root.push(new jie(sa(t.abstractNumId))),t.overrideLevels&&t.overrideLevels.length)for(const r of t.overrideLevels)this.root.push(new kie(r.num,r.start))}}class Nie extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{ilvl:"w:ilvl"})}}class kie extends dt{constructor(t,r){super("w:lvlOverride"),this.root.push(new Nie({ilvl:t})),r!==void 0&&this.root.push(new Cie(r))}}class Sie extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class Cie extends dt{constructor(t){super("w:startOverride"),this.root.push(new Sie({val:t}))}}class Aie extends dt{constructor(t){super("w:numbering"),st(this,"abstractNumberingMap",new Map),st(this,"concreteNumberingMap",new Map),st(this,"referenceConfigMap",new Map),st(this,"abstractNumUniqueNumericId",Tne()),st(this,"concreteNumUniqueNumericId",Rne()),this.root.push(new Ny(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new xR(this.abstractNumUniqueNumericId(),[{level:0,format:Oo.BULLET,text:"",alignment:ya.LEFT,style:{paragraph:{indent:{left:ci(.5),hanging:ci(.25)}}}},{level:1,format:Oo.BULLET,text:"",alignment:ya.LEFT,style:{paragraph:{indent:{left:ci(1),hanging:ci(.25)}}}},{level:2,format:Oo.BULLET,text:"",alignment:ya.LEFT,style:{paragraph:{indent:{left:2160,hanging:ci(.25)}}}},{level:3,format:Oo.BULLET,text:"",alignment:ya.LEFT,style:{paragraph:{indent:{left:2880,hanging:ci(.25)}}}},{level:4,format:Oo.BULLET,text:"",alignment:ya.LEFT,style:{paragraph:{indent:{left:3600,hanging:ci(.25)}}}},{level:5,format:Oo.BULLET,text:"",alignment:ya.LEFT,style:{paragraph:{indent:{left:4320,hanging:ci(.25)}}}},{level:6,format:Oo.BULLET,text:"",alignment:ya.LEFT,style:{paragraph:{indent:{left:5040,hanging:ci(.25)}}}},{level:7,format:Oo.BULLET,text:"",alignment:ya.LEFT,style:{paragraph:{indent:{left:5760,hanging:ci(.25)}}}},{level:8,format:Oo.BULLET,text:"",alignment:ya.LEFT,style:{paragraph:{indent:{left:6480,hanging:ci(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new yR({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of t.config)this.abstractNumberingMap.set(n.reference,new xR(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(t){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(t)}createConcreteNumberingInstance(t,r){const n=this.abstractNumberingMap.get(t);if(!n)return;const a=`${t}-${r}`;if(this.concreteNumberingMap.has(a))return;const i=this.referenceConfigMap.get(t),o=i&&i[0].start,c={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:t,instance:r,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(a,new yR(c))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class Eie extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class Tie extends dt{constructor(t){super("w:compatSetting"),this.root.push(new Eie({version:t,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class Rie extends dt{constructor(t){super("w:compat"),t.version&&this.root.push(new Tie(t.version)),t.useSingleBorderforContiguousCells&&this.root.push(new ut("w:useSingleBorderforContiguousCells",t.useSingleBorderforContiguousCells)),t.wordPerfectJustification&&this.root.push(new ut("w:wpJustification",t.wordPerfectJustification)),t.noTabStopForHangingIndent&&this.root.push(new ut("w:noTabHangInd",t.noTabStopForHangingIndent)),t.noLeading&&this.root.push(new ut("w:noLeading",t.noLeading)),t.spaceForUnderline&&this.root.push(new ut("w:spaceForUL",t.spaceForUnderline)),t.noColumnBalance&&this.root.push(new ut("w:noColumnBalance",t.noColumnBalance)),t.balanceSingleByteDoubleByteWidth&&this.root.push(new ut("w:balanceSingleByteDoubleByteWidth",t.balanceSingleByteDoubleByteWidth)),t.noExtraLineSpacing&&this.root.push(new ut("w:noExtraLineSpacing",t.noExtraLineSpacing)),t.doNotLeaveBackslashAlone&&this.root.push(new ut("w:doNotLeaveBackslashAlone",t.doNotLeaveBackslashAlone)),t.underlineTrailingSpaces&&this.root.push(new ut("w:ulTrailSpace",t.underlineTrailingSpaces)),t.doNotExpandShiftReturn&&this.root.push(new ut("w:doNotExpandShiftReturn",t.doNotExpandShiftReturn)),t.spacingInWholePoints&&this.root.push(new ut("w:spacingInWholePoints",t.spacingInWholePoints)),t.lineWrapLikeWord6&&this.root.push(new ut("w:lineWrapLikeWord6",t.lineWrapLikeWord6)),t.printBodyTextBeforeHeader&&this.root.push(new ut("w:printBodyTextBeforeHeader",t.printBodyTextBeforeHeader)),t.printColorsBlack&&this.root.push(new ut("w:printColBlack",t.printColorsBlack)),t.spaceWidth&&this.root.push(new ut("w:wpSpaceWidth",t.spaceWidth)),t.showBreaksInFrames&&this.root.push(new ut("w:showBreaksInFrames",t.showBreaksInFrames)),t.subFontBySize&&this.root.push(new ut("w:subFontBySize",t.subFontBySize)),t.suppressBottomSpacing&&this.root.push(new ut("w:suppressBottomSpacing",t.suppressBottomSpacing)),t.suppressTopSpacing&&this.root.push(new ut("w:suppressTopSpacing",t.suppressTopSpacing)),t.suppressSpacingAtTopOfPage&&this.root.push(new ut("w:suppressSpacingAtTopOfPage",t.suppressSpacingAtTopOfPage)),t.suppressTopSpacingWP&&this.root.push(new ut("w:suppressTopSpacingWP",t.suppressTopSpacingWP)),t.suppressSpBfAfterPgBrk&&this.root.push(new ut("w:suppressSpBfAfterPgBrk",t.suppressSpBfAfterPgBrk)),t.swapBordersFacingPages&&this.root.push(new ut("w:swapBordersFacingPages",t.swapBordersFacingPages)),t.convertMailMergeEsc&&this.root.push(new ut("w:convMailMergeEsc",t.convertMailMergeEsc)),t.truncateFontHeightsLikeWP6&&this.root.push(new ut("w:truncateFontHeightsLikeWP6",t.truncateFontHeightsLikeWP6)),t.macWordSmallCaps&&this.root.push(new ut("w:mwSmallCaps",t.macWordSmallCaps)),t.usePrinterMetrics&&this.root.push(new ut("w:usePrinterMetrics",t.usePrinterMetrics)),t.doNotSuppressParagraphBorders&&this.root.push(new ut("w:doNotSuppressParagraphBorders",t.doNotSuppressParagraphBorders)),t.wrapTrailSpaces&&this.root.push(new ut("w:wrapTrailSpaces",t.wrapTrailSpaces)),t.footnoteLayoutLikeWW8&&this.root.push(new ut("w:footnoteLayoutLikeWW8",t.footnoteLayoutLikeWW8)),t.shapeLayoutLikeWW8&&this.root.push(new ut("w:shapeLayoutLikeWW8",t.shapeLayoutLikeWW8)),t.alignTablesRowByRow&&this.root.push(new ut("w:alignTablesRowByRow",t.alignTablesRowByRow)),t.forgetLastTabAlignment&&this.root.push(new ut("w:forgetLastTabAlignment",t.forgetLastTabAlignment)),t.adjustLineHeightInTable&&this.root.push(new ut("w:adjustLineHeightInTable",t.adjustLineHeightInTable)),t.autoSpaceLikeWord95&&this.root.push(new ut("w:autoSpaceLikeWord95",t.autoSpaceLikeWord95)),t.noSpaceRaiseLower&&this.root.push(new ut("w:noSpaceRaiseLower",t.noSpaceRaiseLower)),t.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new ut("w:doNotUseHTMLParagraphAutoSpacing",t.doNotUseHTMLParagraphAutoSpacing)),t.layoutRawTableWidth&&this.root.push(new ut("w:layoutRawTableWidth",t.layoutRawTableWidth)),t.layoutTableRowsApart&&this.root.push(new ut("w:layoutTableRowsApart",t.layoutTableRowsApart)),t.useWord97LineBreakRules&&this.root.push(new ut("w:useWord97LineBreakRules",t.useWord97LineBreakRules)),t.doNotBreakWrappedTables&&this.root.push(new ut("w:doNotBreakWrappedTables",t.doNotBreakWrappedTables)),t.doNotSnapToGridInCell&&this.root.push(new ut("w:doNotSnapToGridInCell",t.doNotSnapToGridInCell)),t.selectFieldWithFirstOrLastCharacter&&this.root.push(new ut("w:selectFldWithFirstOrLastChar",t.selectFieldWithFirstOrLastCharacter)),t.applyBreakingRules&&this.root.push(new ut("w:applyBreakingRules",t.applyBreakingRules)),t.doNotWrapTextWithPunctuation&&this.root.push(new ut("w:doNotWrapTextWithPunct",t.doNotWrapTextWithPunctuation)),t.doNotUseEastAsianBreakRules&&this.root.push(new ut("w:doNotUseEastAsianBreakRules",t.doNotUseEastAsianBreakRules)),t.useWord2002TableStyleRules&&this.root.push(new ut("w:useWord2002TableStyleRules",t.useWord2002TableStyleRules)),t.growAutofit&&this.root.push(new ut("w:growAutofit",t.growAutofit)),t.useFELayout&&this.root.push(new ut("w:useFELayout",t.useFELayout)),t.useNormalStyleForList&&this.root.push(new ut("w:useNormalStyleForList",t.useNormalStyleForList)),t.doNotUseIndentAsNumberingTabStop&&this.root.push(new ut("w:doNotUseIndentAsNumberingTabStop",t.doNotUseIndentAsNumberingTabStop)),t.useAlternateEastAsianLineBreakRules&&this.root.push(new ut("w:useAltKinsokuLineBreakRules",t.useAlternateEastAsianLineBreakRules)),t.allowSpaceOfSameStyleInTable&&this.root.push(new ut("w:allowSpaceOfSameStyleInTable",t.allowSpaceOfSameStyleInTable)),t.doNotSuppressIndentation&&this.root.push(new ut("w:doNotSuppressIndentation",t.doNotSuppressIndentation)),t.doNotAutofitConstrainedTables&&this.root.push(new ut("w:doNotAutofitConstrainedTables",t.doNotAutofitConstrainedTables)),t.autofitToFirstFixedWidthCell&&this.root.push(new ut("w:autofitToFirstFixedWidthCell",t.autofitToFirstFixedWidthCell)),t.underlineTabInNumberingList&&this.root.push(new ut("w:underlineTabInNumList",t.underlineTabInNumberingList)),t.displayHangulFixedWidth&&this.root.push(new ut("w:displayHangulFixedWidth",t.displayHangulFixedWidth)),t.splitPgBreakAndParaMark&&this.root.push(new ut("w:splitPgBreakAndParaMark",t.splitPgBreakAndParaMark)),t.doNotVerticallyAlignCellWithSp&&this.root.push(new ut("w:doNotVertAlignCellWithSp",t.doNotVerticallyAlignCellWithSp)),t.doNotBreakConstrainedForcedTable&&this.root.push(new ut("w:doNotBreakConstrainedForcedTable",t.doNotBreakConstrainedForcedTable)),t.ignoreVerticalAlignmentInTextboxes&&this.root.push(new ut("w:doNotVertAlignInTxbx",t.ignoreVerticalAlignmentInTextboxes)),t.useAnsiKerningPairs&&this.root.push(new ut("w:useAnsiKerningPairs",t.useAnsiKerningPairs)),t.cachedColumnBalance&&this.root.push(new ut("w:cachedColBalance",t.cachedColumnBalance))}}class Die extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Mie extends dt{constructor(t){var r,n,a,i,o,c,d,h;super("w:settings"),this.root.push(new Die({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new ut("w:displayBackgroundShape",!0)),t.trackRevisions!==void 0&&this.root.push(new ut("w:trackRevisions",t.trackRevisions)),t.evenAndOddHeaders!==void 0&&this.root.push(new ut("w:evenAndOddHeaders",t.evenAndOddHeaders)),t.updateFields!==void 0&&this.root.push(new ut("w:updateFields",t.updateFields)),t.defaultTabStop!==void 0&&this.root.push(new om("w:defaultTabStop",t.defaultTabStop)),((r=t.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new ut("w:autoHyphenation",t.hyphenation.autoHyphenation)),((n=t.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new om("w:hyphenationZone",t.hyphenation.hyphenationZone)),((a=t.hyphenation)==null?void 0:a.consecutiveHyphenLimit)!==void 0&&this.root.push(new om("w:consecutiveHyphenLimit",t.hyphenation.consecutiveHyphenLimit)),((i=t.hyphenation)==null?void 0:i.doNotHyphenateCaps)!==void 0&&this.root.push(new ut("w:doNotHyphenateCaps",t.hyphenation.doNotHyphenateCaps)),this.root.push(new Rie(sh(ws({},(o=t.compatibility)!=null?o:{}),{version:(h=(d=(c=t.compatibility)==null?void 0:c.version)!=null?d:t.compatibilityModeVersion)!=null?h:15})))}}class P8 extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class Pie extends dt{constructor(t){super("w:name"),this.root.push(new P8({val:t}))}}class Oie extends dt{constructor(t){super("w:uiPriority"),this.root.push(new P8({val:sa(t)}))}}class Lie extends Kt{constructor(){super(...arguments),st(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class O8 extends dt{constructor(t,r){super("w:style"),this.root.push(new Lie(t)),r.name&&this.root.push(new Pie(r.name)),r.basedOn&&this.root.push(new Wu("w:basedOn",r.basedOn)),r.next&&this.root.push(new Wu("w:next",r.next)),r.link&&this.root.push(new Wu("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new Oie(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new ut("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new ut("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new ut("w:qFormat",r.quickFormat))}}class ky extends O8{constructor(t){super({type:"paragraph",styleId:t.id},t),st(this,"paragraphProperties"),st(this,"runProperties"),this.paragraphProperties=new oh(t.paragraph),this.runProperties=new Pd(t.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Sy extends O8{constructor(t){super({type:"character",styleId:t.id},ws({uiPriority:99,unhideWhenUsed:!0},t)),st(this,"runProperties"),this.runProperties=new Pd(t.run),this.root.push(this.runProperties)}}class yc extends ky{constructor(t){super(ws({basedOn:"Normal",next:"Normal",quickFormat:!0},t))}}class Fie extends yc{constructor(t){super(ws({id:"Title",name:"Title"},t))}}class Bie extends yc{constructor(t){super(ws({id:"Heading1",name:"Heading 1"},t))}}class Iie extends yc{constructor(t){super(ws({id:"Heading2",name:"Heading 2"},t))}}class zie extends yc{constructor(t){super(ws({id:"Heading3",name:"Heading 3"},t))}}class Uie extends yc{constructor(t){super(ws({id:"Heading4",name:"Heading 4"},t))}}class $ie extends yc{constructor(t){super(ws({id:"Heading5",name:"Heading 5"},t))}}class Vie extends yc{constructor(t){super(ws({id:"Heading6",name:"Heading 6"},t))}}class Hie extends yc{constructor(t){super(ws({id:"Strong",name:"Strong"},t))}}class qie extends ky{constructor(t){super(ws({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},t))}}class Gie extends ky{constructor(t){super(ws({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:X_.AUTO}},run:{size:20}},t))}}class Wie extends Sy{constructor(t){super(ws({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},t))}}class Yie extends Sy{constructor(t){super(ws({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},t))}}class Kie extends Sy{constructor(t){super(ws({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:A8.SINGLE}}},t))}}class Q_ extends dt{constructor(t){if(super("w:styles"),t.initialStyles&&this.root.push(t.initialStyles),t.importedStyles)for(const r of t.importedStyles)this.root.push(r);if(t.paragraphStyles)for(const r of t.paragraphStyles)this.root.push(new ky(r));if(t.characterStyles)for(const r of t.characterStyles)this.root.push(new Sy(r))}}class Xie extends dt{constructor(t){super("w:pPrDefault"),this.root.push(new oh(t))}}class Zie extends dt{constructor(t){super("w:rPrDefault"),this.root.push(new Pd(t))}}class Qie extends dt{constructor(t){super("w:docDefaults"),st(this,"runPropertiesDefaults"),st(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new Zie(t.run),this.paragraphPropertiesDefaults=new Xie(t.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class Jie{newInstance(t){const r=w8.xml2js(t,{compact:!1});let n;for(const o of r.elements||[])o.name==="w:styles"&&(n=o);if(n===void 0)throw new Error("can not find styles element");const a=n.elements||[];return new Q_({initialStyles:new Hre(n.attributes),importedStyles:a.map(o=>$2(o))})}}class bR{newInstance(t={}){var r;return{initialStyles:new Ny(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new Qie((r=t.document)!=null?r:{}),new Fie(ws({run:{size:56}},t.title)),new Bie(ws({run:{color:"2E74B5",size:32}},t.heading1)),new Iie(ws({run:{color:"2E74B5",size:26}},t.heading2)),new zie(ws({run:{color:"1F4D78",size:24}},t.heading3)),new Uie(ws({run:{color:"2E74B5",italics:!0}},t.heading4)),new $ie(ws({run:{color:"2E74B5"}},t.heading5)),new Vie(ws({run:{color:"1F4D78"}},t.heading6)),new Hie(ws({run:{bold:!0}},t.strong)),new qie(t.listParagraph||{}),new Kie(t.hyperlink||{}),new Wie(t.footnoteReference||{}),new Gie(t.footnoteText||{}),new Yie(t.footnoteTextChar||{})]}}}let eoe=class{constructor(t){st(this,"currentRelationshipId",1),st(this,"documentWrapper"),st(this,"headers",[]),st(this,"footers",[]),st(this,"coreProperties"),st(this,"numbering"),st(this,"media"),st(this,"fileRelationships"),st(this,"footnotesWrapper"),st(this,"settings"),st(this,"contentTypes"),st(this,"customProperties"),st(this,"appProperties"),st(this,"styles"),st(this,"comments"),st(this,"fontWrapper");var r,n,a,i,o,c,d,h,m,f,g,b;if(this.coreProperties=new Bae(sh(ws({},t),{creator:(r=t.creator)!=null?r:"Un-named",revision:(n=t.revision)!=null?n:1,lastModifiedBy:(a=t.lastModifiedBy)!=null?a:"Un-named"})),this.numbering=new Aie(t.numbering?t.numbering:{config:[]}),this.comments=new $ne((i=t.comments)!=null?i:{children:[]}),this.fileRelationships=new Od,this.customProperties=new Hae((o=t.customProperties)!=null?o:[]),this.appProperties=new Mae,this.footnotesWrapper=new oie,this.contentTypes=new Fae,this.documentWrapper=new M8({background:t.background}),this.settings=new Mie({compatibilityModeVersion:t.compatabilityModeVersion,compatibility:t.compatibility,evenAndOddHeaders:!!t.evenAndOddHeaderAndFooters,trackRevisions:(c=t.features)==null?void 0:c.trackRevisions,updateFields:(d=t.features)==null?void 0:d.updateFields,defaultTabStop:t.defaultTabStop,hyphenation:{autoHyphenation:(h=t.hyphenation)==null?void 0:h.autoHyphenation,hyphenationZone:(m=t.hyphenation)==null?void 0:m.hyphenationZone,consecutiveHyphenLimit:(f=t.hyphenation)==null?void 0:f.consecutiveHyphenLimit,doNotHyphenateCaps:(g=t.hyphenation)==null?void 0:g.doNotHyphenateCaps}}),this.media=new uie,t.externalStyles!==void 0){const v=new Jie;this.styles=v.newInstance(t.externalStyles)}else if(t.styles){const y=new bR().newInstance(t.styles.default);this.styles=new Q_(ws(ws({},y),t.styles))}else{const v=new bR;this.styles=new Q_(v.newInstance())}this.addDefaultRelationships();for(const v of t.sections)this.addSection(v);if(t.footnotes)for(const v in t.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(v),t.footnotes[v].children);this.fontWrapper=new Yae((b=t.fonts)!=null?b:[])}addSection({headers:t={},footers:r={},children:n,properties:a}){this.documentWrapper.View.Body.addSection(sh(ws({},a),{headerWrapperGroup:{default:t.default?this.createHeader(t.default):void 0,first:t.first?this.createHeader(t.first):void 0,even:t.even?this.createHeader(t.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const i of n)this.documentWrapper.View.add(i)}createHeader(t){const r=new die(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(t){const r=new Zae(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(t,r=Yu.DEFAULT){this.headers.push({header:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(t,r=Yu.DEFAULT){this.footers.push({footer:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(t=>t.header)}get Footers(){return this.footers.map(t=>t.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var toe=I2();function tx(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var f1={exports:{}},vR;function soe(){return vR||(vR=1,(function(s,t){(function(r){s.exports=r()})(function(){return(function r(n,a,i){function o(h,m){if(!a[h]){if(!n[h]){var f=typeof tx=="function"&&tx;if(!m&&f)return f(h,!0);if(c)return c(h,!0);var g=new Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g}var b=a[h]={exports:{}};n[h][0].call(b.exports,function(v){var y=n[h][1][v];return o(y||v)},b,b.exports,r,n,a,i)}return a[h].exports}for(var c=typeof tx=="function"&&tx,d=0;d<i.length;d++)o(i[d]);return o})({1:[function(r,n,a){var i=r("./utils"),o=r("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(d){for(var h,m,f,g,b,v,y,_=[],j=0,S=d.length,N=S,k=i.getTypeOf(d)!=="string";j<d.length;)N=S-j,f=k?(h=d[j++],m=j<S?d[j++]:0,j<S?d[j++]:0):(h=d.charCodeAt(j++),m=j<S?d.charCodeAt(j++):0,j<S?d.charCodeAt(j++):0),g=h>>2,b=(3&h)<<4|m>>4,v=1<N?(15&m)<<2|f>>6:64,y=2<N?63&f:64,_.push(c.charAt(g)+c.charAt(b)+c.charAt(v)+c.charAt(y));return _.join("")},a.decode=function(d){var h,m,f,g,b,v,y=0,_=0,j="data:";if(d.substr(0,j.length)===j)throw new Error("Invalid base64 input, it looks like a data url.");var S,N=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&N--,d.charAt(d.length-2)===c.charAt(64)&&N--,N%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=o.uint8array?new Uint8Array(0|N):new Array(0|N);y<d.length;)h=c.indexOf(d.charAt(y++))<<2|(g=c.indexOf(d.charAt(y++)))>>4,m=(15&g)<<4|(b=c.indexOf(d.charAt(y++)))>>2,f=(3&b)<<6|(v=c.indexOf(d.charAt(y++))),S[_++]=h,b!==64&&(S[_++]=m),v!==64&&(S[_++]=f);return S}},{"./support":30,"./utils":32}],2:[function(r,n,a){var i=r("./external"),o=r("./stream/DataWorker"),c=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function h(m,f,g,b,v){this.compressedSize=m,this.uncompressedSize=f,this.crc32=g,this.compression=b,this.compressedContent=v}h.prototype={getContentWorker:function(){var m=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),f=this;return m.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(m,f,g){return m.pipe(new c).pipe(new d("uncompressedSize")).pipe(f.compressWorker(g)).pipe(new d("compressedSize")).withStreamInfo("compression",f)},n.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,a){var i=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,a){var i=r("./utils"),o=(function(){for(var c,d=[],h=0;h<256;h++){c=h;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;d[h]=c}return d})();n.exports=function(c,d){return c!==void 0&&c.length?i.getTypeOf(c)!=="string"?(function(h,m,f,g){var b=o,v=g+f;h^=-1;for(var y=g;y<v;y++)h=h>>>8^b[255&(h^m[y])];return-1^h})(0|d,c,c.length,0):(function(h,m,f,g){var b=o,v=g+f;h^=-1;for(var y=g;y<v;y++)h=h>>>8^b[255&(h^m.charCodeAt(y))];return-1^h})(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(r,n,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,n,a){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),c=r("./utils"),d=r("./stream/GenericWorker"),h=i?"uint8array":"array";function m(f,g){d.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=g,this.meta={}}a.magic="\b\0",c.inherits(m,d),m.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,f.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(g){f.push({data:g,meta:f.meta})}},a.compressWorker=function(f){return new m("Deflate",f)},a.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,a){function i(b,v){var y,_="";for(y=0;y<v;y++)_+=String.fromCharCode(255&b),b>>>=8;return _}function o(b,v,y,_,j,S){var N,k,C=b.file,z=b.compression,E=S!==h.utf8encode,U=c.transformTo("string",S(C.name)),T=c.transformTo("string",h.utf8encode(C.name)),re=C.comment,Y=c.transformTo("string",S(re)),I=c.transformTo("string",h.utf8encode(re)),K=T.length!==C.name.length,L=I.length!==re.length,J="",Q="",Z="",ee=C.dir,F=C.date,de={crc32:0,compressedSize:0,uncompressedSize:0};v&&!y||(de.crc32=b.crc32,de.compressedSize=b.compressedSize,de.uncompressedSize=b.uncompressedSize);var q=0;v&&(q|=8),E||!K&&!L||(q|=2048);var G=0,ie=0;ee&&(G|=16),j==="UNIX"?(ie=798,G|=(function(be,ye){var $=be;return be||($=ye?16893:33204),(65535&$)<<16})(C.unixPermissions,ee)):(ie=20,G|=(function(be){return 63&(be||0)})(C.dosPermissions)),N=F.getUTCHours(),N<<=6,N|=F.getUTCMinutes(),N<<=5,N|=F.getUTCSeconds()/2,k=F.getUTCFullYear()-1980,k<<=4,k|=F.getUTCMonth()+1,k<<=5,k|=F.getUTCDate(),K&&(Q=i(1,1)+i(m(U),4)+T,J+="up"+i(Q.length,2)+Q),L&&(Z=i(1,1)+i(m(Y),4)+I,J+="uc"+i(Z.length,2)+Z);var le="";return le+=`
\0`,le+=i(q,2),le+=z.magic,le+=i(N,2),le+=i(k,2),le+=i(de.crc32,4),le+=i(de.compressedSize,4),le+=i(de.uncompressedSize,4),le+=i(U.length,2),le+=i(J.length,2),{fileRecord:f.LOCAL_FILE_HEADER+le+U+J,dirRecord:f.CENTRAL_FILE_HEADER+i(ie,2)+le+i(Y.length,2)+"\0\0\0\0"+i(G,4)+i(_,4)+U+J+Y}}var c=r("../utils"),d=r("../stream/GenericWorker"),h=r("../utf8"),m=r("../crc32"),f=r("../signature");function g(b,v,y,_){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=y,this.encodeFileName=_,this.streamFiles=b,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(g,d),g.prototype.push=function(b){var v=b.meta.percent||0,y=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,d.prototype.push.call(this,{data:b.data,meta:{currentFile:this.currentFile,percent:y?(v+100*(y-_-1))/y:100}}))},g.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten,this.currentFile=b.file.name;var v=this.streamFiles&&!b.file.dir;if(v){var y=o(b,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(b){this.accumulate=!1;var v=this.streamFiles&&!b.file.dir,y=o(b,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),v)this.push({data:(function(_){return f.DATA_DESCRIPTOR+i(_.crc32,4)+i(_.compressedSize,4)+i(_.uncompressedSize,4)})(b),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var b=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var y=this.bytesWritten-b,_=(function(j,S,N,k,C){var z=c.transformTo("string",C(k));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(j,2)+i(j,2)+i(S,4)+i(N,4)+i(z.length,2)+z})(this.dirRecords.length,y,b,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(b){this._sources.push(b);var v=this;return b.on("data",function(y){v.processChunk(y)}),b.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),b.on("error",function(y){v.error(y)}),this},g.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(b){var v=this._sources;if(!d.prototype.error.call(this,b))return!1;for(var y=0;y<v.length;y++)try{v[y].error(b)}catch{}return!0},g.prototype.lock=function(){d.prototype.lock.call(this);for(var b=this._sources,v=0;v<b.length;v++)b[v].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,a){var i=r("../compressions"),o=r("./ZipFileWorker");a.generateWorker=function(c,d,h){var m=new o(d.streamFiles,h,d.platform,d.encodeFileName),f=0;try{c.forEach(function(g,b){f++;var v=(function(S,N){var k=S||N,C=i[k];if(!C)throw new Error(k+" is not a valid compression method !");return C})(b.options.compression,d.compression),y=b.options.compressionOptions||d.compressionOptions||{},_=b.dir,j=b.date;b._compressWorker(v,y).withStreamInfo("file",{name:g,dir:_,date:j,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(m)}),m.entriesCount=f}catch(g){m.error(g)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var c in this)typeof this[c]!="function"&&(o[c]=this[c]);return o}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(o,c){return new i().loadAsync(o,c)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,a){var i=r("./utils"),o=r("./external"),c=r("./utf8"),d=r("./zipEntries"),h=r("./stream/Crc32Probe"),m=r("./nodejsUtils");function f(g){return new o.Promise(function(b,v){var y=g.decompressed.getContentWorker().pipe(new h);y.on("error",function(_){v(_)}).on("end",function(){y.streamInfo.crc32!==g.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}n.exports=function(g,b){var v=this;return b=i.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),m.isNode&&m.isStream(g)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",g,!0,b.optimizedBinaryString,b.base64).then(function(y){var _=new d(b);return _.load(y),_}).then(function(y){var _=[o.Promise.resolve(y)],j=y.files;if(b.checkCRC32)for(var S=0;S<j.length;S++)_.push(f(j[S]));return o.Promise.all(_)}).then(function(y){for(var _=y.shift(),j=_.files,S=0;S<j.length;S++){var N=j[S],k=N.fileNameStr,C=i.resolve(N.fileNameStr);v.file(C,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:b.createFolders}),N.dir||(v.file(C).unsafeOriginalName=k)}return _.zipComment.length&&(v.comment=_.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,a){var i=r("../utils"),o=r("../stream/GenericWorker");function c(d,h){o.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}i.inherits(c,o),c.prototype._bindStream=function(d){var h=this;(this._stream=d).pause(),d.on("data",function(m){h.push({data:m,meta:{percent:0}})}).on("error",function(m){h.isPaused?this.generatedError=m:h.error(m)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,a){var i=r("readable-stream").Readable;function o(c,d,h){i.call(this,d),this._helper=c;var m=this;c.on("data",function(f,g){m.push(f)||m._helper.pause(),h&&h(g)}).on("error",function(f){m.emit("error",f)}).on("end",function(){m.push(null)})}r("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,a){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,a){function i(C,z,E){var U,T=c.getTypeOf(z),re=c.extend(E||{},m);re.date=re.date||new Date,re.compression!==null&&(re.compression=re.compression.toUpperCase()),typeof re.unixPermissions=="string"&&(re.unixPermissions=parseInt(re.unixPermissions,8)),re.unixPermissions&&16384&re.unixPermissions&&(re.dir=!0),re.dosPermissions&&16&re.dosPermissions&&(re.dir=!0),re.dir&&(C=j(C)),re.createFolders&&(U=_(C))&&S.call(this,U,!0);var Y=T==="string"&&re.binary===!1&&re.base64===!1;E&&E.binary!==void 0||(re.binary=!Y),(z instanceof f&&z.uncompressedSize===0||re.dir||!z||z.length===0)&&(re.base64=!1,re.binary=!0,z="",re.compression="STORE",T="string");var I=null;I=z instanceof f||z instanceof d?z:v.isNode&&v.isStream(z)?new y(C,z):c.prepareContent(C,z,re.binary,re.optimizedBinaryString,re.base64);var K=new g(C,I,re);this.files[C]=K}var o=r("./utf8"),c=r("./utils"),d=r("./stream/GenericWorker"),h=r("./stream/StreamHelper"),m=r("./defaults"),f=r("./compressedObject"),g=r("./zipObject"),b=r("./generate"),v=r("./nodejsUtils"),y=r("./nodejs/NodejsStreamInputAdapter"),_=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var z=C.lastIndexOf("/");return 0<z?C.substring(0,z):""},j=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},S=function(C,z){return z=z!==void 0?z:m.createFolders,C=j(C),this.files[C]||i.call(this,C,null,{dir:!0,createFolders:z}),this.files[C]};function N(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var z,E,U;for(z in this.files)U=this.files[z],(E=z.slice(this.root.length,z.length))&&z.slice(0,this.root.length)===this.root&&C(E,U)},filter:function(C){var z=[];return this.forEach(function(E,U){C(E,U)&&z.push(U)}),z},file:function(C,z,E){if(arguments.length!==1)return C=this.root+C,i.call(this,C,z,E),this;if(N(C)){var U=C;return this.filter(function(re,Y){return!Y.dir&&U.test(re)})}var T=this.files[this.root+C];return T&&!T.dir?T:null},folder:function(C){if(!C)return this;if(N(C))return this.filter(function(T,re){return re.dir&&C.test(T)});var z=this.root+C,E=S.call(this,z),U=this.clone();return U.root=E.name,U},remove:function(C){C=this.root+C;var z=this.files[C];if(z||(C.slice(-1)!=="/"&&(C+="/"),z=this.files[C]),z&&!z.dir)delete this.files[C];else for(var E=this.filter(function(T,re){return re.name.slice(0,C.length)===C}),U=0;U<E.length;U++)delete this.files[E[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var z,E={};try{if((E=c.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");c.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var U=E.comment||this.comment||"";z=b.generateWorker(this,E,U)}catch(T){(z=new d("error")).error(T)}return new h(z,E.type||"string",E.mimeType)},generateAsync:function(C,z){return this.generateInternalStream(C).accumulate(z)},generateNodeStream:function(C,z){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(z)}};n.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,a){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,a){var i=r("./DataReader");function o(c){i.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}r("../utils").inherits(o,i),o.prototype.byteAt=function(c){return this.data[this.zero+c]},o.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),h=c.charCodeAt(1),m=c.charCodeAt(2),f=c.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===d&&this.data[g+1]===h&&this.data[g+2]===m&&this.data[g+3]===f)return g-this.zero;return-1},o.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),h=c.charCodeAt(1),m=c.charCodeAt(2),f=c.charCodeAt(3),g=this.readData(4);return d===g[0]&&h===g[1]&&m===g[2]&&f===g[3]},o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,a){var i=r("../utils");function o(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,h=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)h=(h<<8)+this.byteAt(d);return this.index+=c,h},readString:function(c){return i.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,a){var i=r("./Uint8ArrayReader");function o(c){i.call(this,c)}r("../utils").inherits(o,i),o.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,a){var i=r("./DataReader");function o(c){i.call(this,c)}r("../utils").inherits(o,i),o.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},o.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},o.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},o.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,a){var i=r("./ArrayReader");function o(c){i.call(this,c)}r("../utils").inherits(o,i),o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,a){var i=r("../utils"),o=r("../support"),c=r("./ArrayReader"),d=r("./StringReader"),h=r("./NodeBufferReader"),m=r("./Uint8ArrayReader");n.exports=function(f){var g=i.getTypeOf(f);return i.checkSupport(g),g!=="string"||o.uint8array?g==="nodebuffer"?new h(f):o.uint8array?new m(i.transformTo("uint8array",f)):new c(i.transformTo("array",f)):new d(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,a){var i=r("./GenericWorker"),o=r("../utils");function c(d){i.call(this,"ConvertWorker to "+d),this.destType=d}o.inherits(c,i),c.prototype.processChunk=function(d){this.push({data:o.transformTo(this.destType,d.data),meta:d.meta})},n.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,a){var i=r("./GenericWorker"),o=r("../crc32");function c(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(c,i),c.prototype.processChunk=function(d){this.streamInfo.crc32=o(d.data,this.streamInfo.crc32||0),this.push(d)},n.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,a){var i=r("../utils"),o=r("./GenericWorker");function c(d){o.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}i.inherits(c,o),c.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}o.prototype.processChunk.call(this,d)},n.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,a){var i=r("../utils"),o=r("./GenericWorker");function c(d){o.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(m){h.dataIsReady=!0,h.data=m,h.max=m&&m.length||0,h.type=i.getTypeOf(m),h.isPaused||h._tickAndRepeat()},function(m){h.error(m)})}i.inherits(c,o),c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,h);break;case"uint8array":d=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":d=this.data.slice(this.index,h)}return this.index=h,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,a){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,c){return this._listeners[o].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,c){if(this._listeners[o])for(var d=0;d<this._listeners[o].length;d++)this._listeners[o][d].call(this,c)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var c=this;return o.on("data",function(d){c.processChunk(d)}),o.on("end",function(){c.end()}),o.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,c){return this.extraStreamInfo[o]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=i},{}],29:[function(r,n,a){var i=r("../utils"),o=r("./ConvertWorker"),c=r("./GenericWorker"),d=r("../base64"),h=r("../support"),m=r("../external"),f=null;if(h.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(v,y){return new m.Promise(function(_,j){var S=[],N=v._internalType,k=v._outputType,C=v._mimeType;v.on("data",function(z,E){S.push(z),y&&y(E)}).on("error",function(z){S=[],j(z)}).on("end",function(){try{var z=(function(E,U,T){switch(E){case"blob":return i.newBlob(i.transformTo("arraybuffer",U),T);case"base64":return d.encode(U);default:return i.transformTo(E,U)}})(k,(function(E,U){var T,re=0,Y=null,I=0;for(T=0;T<U.length;T++)I+=U[T].length;switch(E){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(Y=new Uint8Array(I),T=0;T<U.length;T++)Y.set(U[T],re),re+=U[T].length;return Y;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+E+"'")}})(N,S),C);_(z)}catch(E){j(E)}S=[]}).resume()})}function b(v,y,_){var j=y;switch(y){case"blob":case"arraybuffer":j="uint8array";break;case"base64":j="string"}try{this._internalType=j,this._outputType=y,this._mimeType=_,i.checkSupport(j),this._worker=v.pipe(new o(j)),v.lock()}catch(S){this._worker=new c("error"),this._worker.error(S)}}b.prototype={accumulate:function(v){return g(this,v)},on:function(v,y){var _=this;return v==="data"?this._worker.on(v,function(j){y.call(_,j.data,j.meta)}):this._worker.on(v,function(){i.delay(y,arguments,_)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},n.exports=b},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),a.blob=o.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,a){for(var i=r("./utils"),o=r("./support"),c=r("./nodejsUtils"),d=r("./stream/GenericWorker"),h=new Array(256),m=0;m<256;m++)h[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;h[254]=h[254]=1;function f(){d.call(this,"utf-8 decode"),this.leftOver=null}function g(){d.call(this,"utf-8 encode")}a.utf8encode=function(b){return o.nodebuffer?c.newBufferFrom(b,"utf-8"):(function(v){var y,_,j,S,N,k=v.length,C=0;for(S=0;S<k;S++)(64512&(_=v.charCodeAt(S)))==55296&&S+1<k&&(64512&(j=v.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(j-56320),S++),C+=_<128?1:_<2048?2:_<65536?3:4;for(y=o.uint8array?new Uint8Array(C):new Array(C),S=N=0;N<C;S++)(64512&(_=v.charCodeAt(S)))==55296&&S+1<k&&(64512&(j=v.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(j-56320),S++),_<128?y[N++]=_:(_<2048?y[N++]=192|_>>>6:(_<65536?y[N++]=224|_>>>12:(y[N++]=240|_>>>18,y[N++]=128|_>>>12&63),y[N++]=128|_>>>6&63),y[N++]=128|63&_);return y})(b)},a.utf8decode=function(b){return o.nodebuffer?i.transformTo("nodebuffer",b).toString("utf-8"):(function(v){var y,_,j,S,N=v.length,k=new Array(2*N);for(y=_=0;y<N;)if((j=v[y++])<128)k[_++]=j;else if(4<(S=h[j]))k[_++]=65533,y+=S-1;else{for(j&=S===2?31:S===3?15:7;1<S&&y<N;)j=j<<6|63&v[y++],S--;1<S?k[_++]=65533:j<65536?k[_++]=j:(j-=65536,k[_++]=55296|j>>10&1023,k[_++]=56320|1023&j)}return k.length!==_&&(k.subarray?k=k.subarray(0,_):k.length=_),i.applyFromCharCode(k)})(b=i.transformTo(o.uint8array?"uint8array":"array",b))},i.inherits(f,d),f.prototype.processChunk=function(b){var v=i.transformTo(o.uint8array?"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=v;(v=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),v.set(y,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var _=(function(S,N){var k;for((N=N||S.length)>S.length&&(N=S.length),k=N-1;0<=k&&(192&S[k])==128;)k--;return k<0||k===0?N:k+h[S[k]]>N?k:N})(v),j=v;_!==v.length&&(o.uint8array?(j=v.subarray(0,_),this.leftOver=v.subarray(_,v.length)):(j=v.slice(0,_),this.leftOver=v.slice(_,v.length))),this.push({data:a.utf8decode(j),meta:b.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=f,i.inherits(g,d),g.prototype.processChunk=function(b){this.push({data:a.utf8encode(b.data),meta:b.meta})},a.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,a){var i=r("./support"),o=r("./base64"),c=r("./nodejsUtils"),d=r("./external");function h(y){return y}function m(y,_){for(var j=0;j<y.length;++j)_[j]=255&y.charCodeAt(j);return _}r("setimmediate"),a.newBlob=function(y,_){a.checkSupport("blob");try{return new Blob([y],{type:_})}catch{try{var j=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return j.append(y),j.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(y,_,j){var S=[],N=0,k=y.length;if(k<=j)return String.fromCharCode.apply(null,y);for(;N<k;)_==="array"||_==="nodebuffer"?S.push(String.fromCharCode.apply(null,y.slice(N,Math.min(N+j,k)))):S.push(String.fromCharCode.apply(null,y.subarray(N,Math.min(N+j,k)))),N+=j;return S.join("")},stringifyByChar:function(y){for(var _="",j=0;j<y.length;j++)_+=String.fromCharCode(y[j]);return _},applyCanBeUsed:{uint8array:(function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function g(y){var _=65536,j=a.getTypeOf(y),S=!0;if(j==="uint8array"?S=f.applyCanBeUsed.uint8array:j==="nodebuffer"&&(S=f.applyCanBeUsed.nodebuffer),S)for(;1<_;)try{return f.stringifyByChunk(y,j,_)}catch{_=Math.floor(_/2)}return f.stringifyByChar(y)}function b(y,_){for(var j=0;j<y.length;j++)_[j]=y[j];return _}a.applyFromCharCode=g;var v={};v.string={string:h,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return v.string.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:function(y){return m(y,c.allocBuffer(y.length))}},v.array={string:g,array:h,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return c.newBufferFrom(y)}},v.arraybuffer={string:function(y){return g(new Uint8Array(y))},array:function(y){return b(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:h,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return c.newBufferFrom(new Uint8Array(y))}},v.uint8array={string:g,array:function(y){return b(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:h,nodebuffer:function(y){return c.newBufferFrom(y)}},v.nodebuffer={string:g,array:function(y){return b(y,new Array(y.length))},arraybuffer:function(y){return v.nodebuffer.uint8array(y).buffer},uint8array:function(y){return b(y,new Uint8Array(y.length))},nodebuffer:h},a.transformTo=function(y,_){if(_=_||"",!y)return _;a.checkSupport(y);var j=a.getTypeOf(_);return v[j][y](_)},a.resolve=function(y){for(var _=y.split("/"),j=[],S=0;S<_.length;S++){var N=_[S];N==="."||N===""&&S!==0&&S!==_.length-1||(N===".."?j.pop():j.push(N))}return j.join("/")},a.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":i.nodebuffer&&c.isBuffer(y)?"nodebuffer":i.uint8array&&y instanceof Uint8Array?"uint8array":i.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(y){if(!i[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(y){var _,j,S="";for(j=0;j<(y||"").length;j++)S+="\\x"+((_=y.charCodeAt(j))<16?"0":"")+_.toString(16).toUpperCase();return S},a.delay=function(y,_,j){setImmediate(function(){y.apply(j||null,_||[])})},a.inherits=function(y,_){function j(){}j.prototype=_.prototype,y.prototype=new j},a.extend=function(){var y,_,j={};for(y=0;y<arguments.length;y++)for(_ in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],_)&&j[_]===void 0&&(j[_]=arguments[y][_]);return j},a.prepareContent=function(y,_,j,S,N){return d.Promise.resolve(_).then(function(k){return i.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new d.Promise(function(C,z){var E=new FileReader;E.onload=function(U){C(U.target.result)},E.onerror=function(U){z(U.target.error)},E.readAsArrayBuffer(k)}):k}).then(function(k){var C=a.getTypeOf(k);return C?(C==="arraybuffer"?k=a.transformTo("uint8array",k):C==="string"&&(N?k=o.decode(k):j&&S!==!0&&(k=(function(z){return m(z,i.uint8array?new Uint8Array(z.length):new Array(z.length))})(k))),k):d.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,a){var i=r("./reader/readerFor"),o=r("./utils"),c=r("./signature"),d=r("./zipEntry"),h=r("./support");function m(f){this.files=[],this.loadOptions=f}m.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(g)+", expected "+o.pretty(f)+")")}},isSignature:function(f,g){var b=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===g;return this.reader.setIndex(b),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),g=h.uint8array?"uint8array":"array",b=o.transformTo(g,f);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,g,b,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),g=this.reader.readInt(4),b=this.reader.readData(g),this.zip64ExtensibleData[f]={id:f,length:g,value:b}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,g;for(f=0;f<this.files.length;f++)g=this.files[f],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(f=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var g=f;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);var v=g-b;if(0<v)this.isSignature(g,c.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,a){var i=r("./reader/readerFor"),o=r("./utils"),c=r("./compressedObject"),d=r("./crc32"),h=r("./utf8"),m=r("./compressions"),f=r("./support");function g(b,v){this.options=b,this.loadOptions=v}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(b){var v,y;if(b.skip(22),this.fileNameLength=b.readInt(2),y=b.readInt(2),this.fileName=b.readData(this.fileNameLength),b.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(_){for(var j in m)if(Object.prototype.hasOwnProperty.call(m,j)&&m[j].magic===_)return m[j];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,v,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2),b.skip(2),this.bitFlag=b.readInt(2),this.compressionMethod=b.readString(2),this.date=b.readDate(),this.crc32=b.readInt(4),this.compressedSize=b.readInt(4),this.uncompressedSize=b.readInt(4);var v=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");b.skip(v),this.readExtraFields(b),this.parseZIP64ExtraField(b),this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),b==0&&(this.dosPermissions=63&this.externalFileAttributes),b==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(b){var v,y,_,j=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index+4<j;)v=b.readInt(2),y=b.readInt(2),_=b.readData(y),this.extraFields[v]={id:v,length:y,value:_};b.setIndex(j)},handleUTF8:function(){var b=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var y=o.transformTo(b,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var j=o.transformTo(b,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(j)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var v=i(b.value);return v.readInt(1)!==1||d(this.fileName)!==v.readInt(4)?null:h.utf8decode(v.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var v=i(b.value);return v.readInt(1)!==1||d(this.fileComment)!==v.readInt(4)?null:h.utf8decode(v.readData(b.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,a){function i(v,y,_){this.name=v,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=y,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var o=r("./stream/StreamHelper"),c=r("./stream/DataWorker"),d=r("./utf8"),h=r("./compressedObject"),m=r("./stream/GenericWorker");i.prototype={internalStream:function(v){var y=null,_="string";try{if(!v)throw new Error("No output type specified.");var j=(_=v.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),y=this._decompressWorker();var S=!this._dataBinary;S&&!j&&(y=y.pipe(new d.Utf8EncodeWorker)),!S&&j&&(y=y.pipe(new d.Utf8DecodeWorker))}catch(N){(y=new m("error")).error(N)}return new o(y,_,"")},async:function(v,y){return this.internalStream(v).accumulate(y)},nodeStream:function(v,y){return this.internalStream(v||"nodebuffer").toNodejsStream(y)},_compressWorker:function(v,y){if(this._data instanceof h&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new d.Utf8EncodeWorker)),h.createWorkerFrom(_,v,y)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof m?this._data:new c(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<f.length;b++)i.prototype[f[b]]=g;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,a){(function(i){var o,c,d=i.MutationObserver||i.WebKitMutationObserver;if(d){var h=0,m=new d(v),f=i.document.createTextNode("");m.observe(f,{characterData:!0}),o=function(){f.data=h=++h%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var y=i.document.createElement("script");y.onreadystatechange=function(){v(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},i.document.documentElement.appendChild(y)}:function(){setTimeout(v,0)};else{var g=new i.MessageChannel;g.port1.onmessage=v,o=function(){g.port2.postMessage(0)}}var b=[];function v(){var y,_;c=!0;for(var j=b.length;j;){for(_=b,b=[],y=-1;++y<j;)_[y]();j=b.length}c=!1}n.exports=function(y){b.push(y)!==1||c||o()}}).call(this,typeof Yi<"u"?Yi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,a){var i=r("immediate");function o(){}var c={},d=["REJECTED"],h=["FULFILLED"],m=["PENDING"];function f(j){if(typeof j!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,j!==o&&y(this,j)}function g(j,S,N){this.promise=j,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}function b(j,S,N){i(function(){var k;try{k=S(N)}catch(C){return c.reject(j,C)}k===j?c.reject(j,new TypeError("Cannot resolve promise with itself")):c.resolve(j,k)})}function v(j){var S=j&&j.then;if(j&&(typeof j=="object"||typeof j=="function")&&typeof S=="function")return function(){S.apply(j,arguments)}}function y(j,S){var N=!1;function k(E){N||(N=!0,c.reject(j,E))}function C(E){N||(N=!0,c.resolve(j,E))}var z=_(function(){S(C,k)});z.status==="error"&&k(z.value)}function _(j,S){var N={};try{N.value=j(S),N.status="success"}catch(k){N.status="error",N.value=k}return N}(n.exports=f).prototype.finally=function(j){if(typeof j!="function")return this;var S=this.constructor;return this.then(function(N){return S.resolve(j()).then(function(){return N})},function(N){return S.resolve(j()).then(function(){throw N})})},f.prototype.catch=function(j){return this.then(null,j)},f.prototype.then=function(j,S){if(typeof j!="function"&&this.state===h||typeof S!="function"&&this.state===d)return this;var N=new this.constructor(o);return this.state!==m?b(N,this.state===h?j:S,this.outcome):this.queue.push(new g(N,j,S)),N},g.prototype.callFulfilled=function(j){c.resolve(this.promise,j)},g.prototype.otherCallFulfilled=function(j){b(this.promise,this.onFulfilled,j)},g.prototype.callRejected=function(j){c.reject(this.promise,j)},g.prototype.otherCallRejected=function(j){b(this.promise,this.onRejected,j)},c.resolve=function(j,S){var N=_(v,S);if(N.status==="error")return c.reject(j,N.value);var k=N.value;if(k)y(j,k);else{j.state=h,j.outcome=S;for(var C=-1,z=j.queue.length;++C<z;)j.queue[C].callFulfilled(S)}return j},c.reject=function(j,S){j.state=d,j.outcome=S;for(var N=-1,k=j.queue.length;++N<k;)j.queue[N].callRejected(S);return j},f.resolve=function(j){return j instanceof this?j:c.resolve(new this(o),j)},f.reject=function(j){var S=new this(o);return c.reject(S,j)},f.all=function(j){var S=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=j.length,k=!1;if(!N)return this.resolve([]);for(var C=new Array(N),z=0,E=-1,U=new this(o);++E<N;)T(j[E],E);return U;function T(re,Y){S.resolve(re).then(function(I){C[Y]=I,++z!==N||k||(k=!0,c.resolve(U,C))},function(I){k||(k=!0,c.reject(U,I))})}},f.race=function(j){var S=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=j.length,k=!1;if(!N)return this.resolve([]);for(var C=-1,z=new this(o);++C<N;)E=j[C],S.resolve(E).then(function(U){k||(k=!0,c.resolve(z,U))},function(U){k||(k=!0,c.reject(z,U))});var E;return z}},{immediate:36}],38:[function(r,n,a){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,a){var i=r("./zlib/deflate"),o=r("./utils/common"),c=r("./utils/strings"),d=r("./zlib/messages"),h=r("./zlib/zstream"),m=Object.prototype.toString,f=0,g=-1,b=0,v=8;function y(j){if(!(this instanceof y))return new y(j);this.options=o.assign({level:g,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},j||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var N=i.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(N!==f)throw new Error(d[N]);if(S.header&&i.deflateSetHeader(this.strm,S.header),S.dictionary){var k;if(k=typeof S.dictionary=="string"?c.string2buf(S.dictionary):m.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(N=i.deflateSetDictionary(this.strm,k))!==f)throw new Error(d[N]);this._dict_set=!0}}function _(j,S){var N=new y(S);if(N.push(j,!0),N.err)throw N.msg||d[N.err];return N.result}y.prototype.push=function(j,S){var N,k,C=this.strm,z=this.options.chunkSize;if(this.ended)return!1;k=S===~~S?S:S===!0?4:0,typeof j=="string"?C.input=c.string2buf(j):m.call(j)==="[object ArrayBuffer]"?C.input=new Uint8Array(j):C.input=j,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(z),C.next_out=0,C.avail_out=z),(N=i.deflate(C,k))!==1&&N!==f)return this.onEnd(N),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(o.shrinkBuf(C.output,C.next_out))):this.onData(o.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&N!==1);return k===4?(N=i.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===f):k!==2||(this.onEnd(f),!(C.avail_out=0))},y.prototype.onData=function(j){this.chunks.push(j)},y.prototype.onEnd=function(j){j===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},a.Deflate=y,a.deflate=_,a.deflateRaw=function(j,S){return(S=S||{}).raw=!0,_(j,S)},a.gzip=function(j,S){return(S=S||{}).gzip=!0,_(j,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,a){var i=r("./zlib/inflate"),o=r("./utils/common"),c=r("./utils/strings"),d=r("./zlib/constants"),h=r("./zlib/messages"),m=r("./zlib/zstream"),f=r("./zlib/gzheader"),g=Object.prototype.toString;function b(y){if(!(this instanceof b))return new b(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||y&&y.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var j=i.inflateInit2(this.strm,_.windowBits);if(j!==d.Z_OK)throw new Error(h[j]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function v(y,_){var j=new b(_);if(j.push(y,!0),j.err)throw j.msg||h[j.err];return j.result}b.prototype.push=function(y,_){var j,S,N,k,C,z,E=this.strm,U=this.options.chunkSize,T=this.options.dictionary,re=!1;if(this.ended)return!1;S=_===~~_?_:_===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof y=="string"?E.input=c.binstring2buf(y):g.call(y)==="[object ArrayBuffer]"?E.input=new Uint8Array(y):E.input=y,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(U),E.next_out=0,E.avail_out=U),(j=i.inflate(E,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&T&&(z=typeof T=="string"?c.string2buf(T):g.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,j=i.inflateSetDictionary(this.strm,z)),j===d.Z_BUF_ERROR&&re===!0&&(j=d.Z_OK,re=!1),j!==d.Z_STREAM_END&&j!==d.Z_OK)return this.onEnd(j),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&j!==d.Z_STREAM_END&&(E.avail_in!==0||S!==d.Z_FINISH&&S!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(N=c.utf8border(E.output,E.next_out),k=E.next_out-N,C=c.buf2string(E.output,N),E.next_out=k,E.avail_out=U-k,k&&o.arraySet(E.output,E.output,N,k,0),this.onData(C)):this.onData(o.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(re=!0)}while((0<E.avail_in||E.avail_out===0)&&j!==d.Z_STREAM_END);return j===d.Z_STREAM_END&&(S=d.Z_FINISH),S===d.Z_FINISH?(j=i.inflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===d.Z_OK):S!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(E.avail_out=0))},b.prototype.onData=function(y){this.chunks.push(y)},b.prototype.onEnd=function(y){y===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},a.Inflate=b,a.inflate=v,a.inflateRaw=function(y,_){return(_=_||{}).raw=!0,v(y,_)},a.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var m=h.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var f in m)m.hasOwnProperty(f)&&(d[f]=m[f])}}return d},a.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var o={arraySet:function(d,h,m,f,g){if(h.subarray&&d.subarray)d.set(h.subarray(m,m+f),g);else for(var b=0;b<f;b++)d[g+b]=h[m+b]},flattenChunks:function(d){var h,m,f,g,b,v;for(h=f=0,m=d.length;h<m;h++)f+=d[h].length;for(v=new Uint8Array(f),h=g=0,m=d.length;h<m;h++)b=d[h],v.set(b,g),g+=b.length;return v}},c={arraySet:function(d,h,m,f,g){for(var b=0;b<f;b++)d[g+b]=h[m+b]},flattenChunks:function(d){return[].concat.apply([],d)}};a.setTyped=function(d){d?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,o)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,c))},a.setTyped(i)},{}],42:[function(r,n,a){var i=r("./common"),o=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new i.Buf8(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function m(f,g){if(g<65537&&(f.subarray&&c||!f.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(f,g));for(var b="",v=0;v<g;v++)b+=String.fromCharCode(f[v]);return b}d[254]=d[254]=1,a.string2buf=function(f){var g,b,v,y,_,j=f.length,S=0;for(y=0;y<j;y++)(64512&(b=f.charCodeAt(y)))==55296&&y+1<j&&(64512&(v=f.charCodeAt(y+1)))==56320&&(b=65536+(b-55296<<10)+(v-56320),y++),S+=b<128?1:b<2048?2:b<65536?3:4;for(g=new i.Buf8(S),y=_=0;_<S;y++)(64512&(b=f.charCodeAt(y)))==55296&&y+1<j&&(64512&(v=f.charCodeAt(y+1)))==56320&&(b=65536+(b-55296<<10)+(v-56320),y++),b<128?g[_++]=b:(b<2048?g[_++]=192|b>>>6:(b<65536?g[_++]=224|b>>>12:(g[_++]=240|b>>>18,g[_++]=128|b>>>12&63),g[_++]=128|b>>>6&63),g[_++]=128|63&b);return g},a.buf2binstring=function(f){return m(f,f.length)},a.binstring2buf=function(f){for(var g=new i.Buf8(f.length),b=0,v=g.length;b<v;b++)g[b]=f.charCodeAt(b);return g},a.buf2string=function(f,g){var b,v,y,_,j=g||f.length,S=new Array(2*j);for(b=v=0;b<j;)if((y=f[b++])<128)S[v++]=y;else if(4<(_=d[y]))S[v++]=65533,b+=_-1;else{for(y&=_===2?31:_===3?15:7;1<_&&b<j;)y=y<<6|63&f[b++],_--;1<_?S[v++]=65533:y<65536?S[v++]=y:(y-=65536,S[v++]=55296|y>>10&1023,S[v++]=56320|1023&y)}return m(S,v)},a.utf8border=function(f,g){var b;for((g=g||f.length)>f.length&&(g=f.length),b=g-1;0<=b&&(192&f[b])==128;)b--;return b<0||b===0?g:b+d[f[b]]>g?b:g}},{"./common":41}],43:[function(r,n,a){n.exports=function(i,o,c,d){for(var h=65535&i|0,m=i>>>16&65535|0,f=0;c!==0;){for(c-=f=2e3<c?2e3:c;m=m+(h=h+o[d++]|0)|0,--f;);h%=65521,m%=65521}return h|m<<16|0}},{}],44:[function(r,n,a){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,a){var i=(function(){for(var o,c=[],d=0;d<256;d++){o=d;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;c[d]=o}return c})();n.exports=function(o,c,d,h){var m=i,f=h+d;o^=-1;for(var g=h;g<f;g++)o=o>>>8^m[255&(o^c[g])];return-1^o}},{}],46:[function(r,n,a){var i,o=r("../utils/common"),c=r("./trees"),d=r("./adler32"),h=r("./crc32"),m=r("./messages"),f=0,g=4,b=0,v=-2,y=-1,_=4,j=2,S=8,N=9,k=286,C=30,z=19,E=2*k+1,U=15,T=3,re=258,Y=re+T+1,I=42,K=113,L=1,J=2,Q=3,Z=4;function ee(D,Ce){return D.msg=m[Ce],Ce}function F(D){return(D<<1)-(4<D?9:0)}function de(D){for(var Ce=D.length;0<=--Ce;)D[Ce]=0}function q(D){var Ce=D.state,H=Ce.pending;H>D.avail_out&&(H=D.avail_out),H!==0&&(o.arraySet(D.output,Ce.pending_buf,Ce.pending_out,H,D.next_out),D.next_out+=H,Ce.pending_out+=H,D.total_out+=H,D.avail_out-=H,Ce.pending-=H,Ce.pending===0&&(Ce.pending_out=0))}function G(D,Ce){c._tr_flush_block(D,0<=D.block_start?D.block_start:-1,D.strstart-D.block_start,Ce),D.block_start=D.strstart,q(D.strm)}function ie(D,Ce){D.pending_buf[D.pending++]=Ce}function le(D,Ce){D.pending_buf[D.pending++]=Ce>>>8&255,D.pending_buf[D.pending++]=255&Ce}function be(D,Ce){var H,R,P=D.max_chain_length,W=D.strstart,Ne=D.prev_length,X=D.nice_match,pe=D.strstart>D.w_size-Y?D.strstart-(D.w_size-Y):0,ge=D.window,Re=D.w_mask,De=D.prev,Se=D.strstart+re,Ie=ge[W+Ne-1],We=ge[W+Ne];D.prev_length>=D.good_match&&(P>>=2),X>D.lookahead&&(X=D.lookahead);do if(ge[(H=Ce)+Ne]===We&&ge[H+Ne-1]===Ie&&ge[H]===ge[W]&&ge[++H]===ge[W+1]){W+=2,H++;do;while(ge[++W]===ge[++H]&&ge[++W]===ge[++H]&&ge[++W]===ge[++H]&&ge[++W]===ge[++H]&&ge[++W]===ge[++H]&&ge[++W]===ge[++H]&&ge[++W]===ge[++H]&&ge[++W]===ge[++H]&&W<Se);if(R=re-(Se-W),W=Se-re,Ne<R){if(D.match_start=Ce,X<=(Ne=R))break;Ie=ge[W+Ne-1],We=ge[W+Ne]}}while((Ce=De[Ce&Re])>pe&&--P!=0);return Ne<=D.lookahead?Ne:D.lookahead}function ye(D){var Ce,H,R,P,W,Ne,X,pe,ge,Re,De=D.w_size;do{if(P=D.window_size-D.lookahead-D.strstart,D.strstart>=De+(De-Y)){for(o.arraySet(D.window,D.window,De,De,0),D.match_start-=De,D.strstart-=De,D.block_start-=De,Ce=H=D.hash_size;R=D.head[--Ce],D.head[Ce]=De<=R?R-De:0,--H;);for(Ce=H=De;R=D.prev[--Ce],D.prev[Ce]=De<=R?R-De:0,--H;);P+=De}if(D.strm.avail_in===0)break;if(Ne=D.strm,X=D.window,pe=D.strstart+D.lookahead,ge=P,Re=void 0,Re=Ne.avail_in,ge<Re&&(Re=ge),H=Re===0?0:(Ne.avail_in-=Re,o.arraySet(X,Ne.input,Ne.next_in,Re,pe),Ne.state.wrap===1?Ne.adler=d(Ne.adler,X,Re,pe):Ne.state.wrap===2&&(Ne.adler=h(Ne.adler,X,Re,pe)),Ne.next_in+=Re,Ne.total_in+=Re,Re),D.lookahead+=H,D.lookahead+D.insert>=T)for(W=D.strstart-D.insert,D.ins_h=D.window[W],D.ins_h=(D.ins_h<<D.hash_shift^D.window[W+1])&D.hash_mask;D.insert&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[W+T-1])&D.hash_mask,D.prev[W&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=W,W++,D.insert--,!(D.lookahead+D.insert<T)););}while(D.lookahead<Y&&D.strm.avail_in!==0)}function $(D,Ce){for(var H,R;;){if(D.lookahead<Y){if(ye(D),D.lookahead<Y&&Ce===f)return L;if(D.lookahead===0)break}if(H=0,D.lookahead>=T&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+T-1])&D.hash_mask,H=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),H!==0&&D.strstart-H<=D.w_size-Y&&(D.match_length=be(D,H)),D.match_length>=T)if(R=c._tr_tally(D,D.strstart-D.match_start,D.match_length-T),D.lookahead-=D.match_length,D.match_length<=D.max_lazy_match&&D.lookahead>=T){for(D.match_length--;D.strstart++,D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+T-1])&D.hash_mask,H=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart,--D.match_length!=0;);D.strstart++}else D.strstart+=D.match_length,D.match_length=0,D.ins_h=D.window[D.strstart],D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+1])&D.hash_mask;else R=c._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++;if(R&&(G(D,!1),D.strm.avail_out===0))return L}return D.insert=D.strstart<T-1?D.strstart:T-1,Ce===g?(G(D,!0),D.strm.avail_out===0?Q:Z):D.last_lit&&(G(D,!1),D.strm.avail_out===0)?L:J}function V(D,Ce){for(var H,R,P;;){if(D.lookahead<Y){if(ye(D),D.lookahead<Y&&Ce===f)return L;if(D.lookahead===0)break}if(H=0,D.lookahead>=T&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+T-1])&D.hash_mask,H=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),D.prev_length=D.match_length,D.prev_match=D.match_start,D.match_length=T-1,H!==0&&D.prev_length<D.max_lazy_match&&D.strstart-H<=D.w_size-Y&&(D.match_length=be(D,H),D.match_length<=5&&(D.strategy===1||D.match_length===T&&4096<D.strstart-D.match_start)&&(D.match_length=T-1)),D.prev_length>=T&&D.match_length<=D.prev_length){for(P=D.strstart+D.lookahead-T,R=c._tr_tally(D,D.strstart-1-D.prev_match,D.prev_length-T),D.lookahead-=D.prev_length-1,D.prev_length-=2;++D.strstart<=P&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+T-1])&D.hash_mask,H=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),--D.prev_length!=0;);if(D.match_available=0,D.match_length=T-1,D.strstart++,R&&(G(D,!1),D.strm.avail_out===0))return L}else if(D.match_available){if((R=c._tr_tally(D,0,D.window[D.strstart-1]))&&G(D,!1),D.strstart++,D.lookahead--,D.strm.avail_out===0)return L}else D.match_available=1,D.strstart++,D.lookahead--}return D.match_available&&(R=c._tr_tally(D,0,D.window[D.strstart-1]),D.match_available=0),D.insert=D.strstart<T-1?D.strstart:T-1,Ce===g?(G(D,!0),D.strm.avail_out===0?Q:Z):D.last_lit&&(G(D,!1),D.strm.avail_out===0)?L:J}function me(D,Ce,H,R,P){this.good_length=D,this.max_lazy=Ce,this.nice_length=H,this.max_chain=R,this.func=P}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*E),this.dyn_dtree=new o.Buf16(2*(2*C+1)),this.bl_tree=new o.Buf16(2*(2*z+1)),de(this.dyn_ltree),de(this.dyn_dtree),de(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(U+1),this.heap=new o.Buf16(2*k+1),de(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*k+1),de(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function he(D){var Ce;return D&&D.state?(D.total_in=D.total_out=0,D.data_type=j,(Ce=D.state).pending=0,Ce.pending_out=0,Ce.wrap<0&&(Ce.wrap=-Ce.wrap),Ce.status=Ce.wrap?I:K,D.adler=Ce.wrap===2?0:1,Ce.last_flush=f,c._tr_init(Ce),b):ee(D,v)}function O(D){var Ce=he(D);return Ce===b&&(function(H){H.window_size=2*H.w_size,de(H.head),H.max_lazy_match=i[H.level].max_lazy,H.good_match=i[H.level].good_length,H.nice_match=i[H.level].nice_length,H.max_chain_length=i[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=T-1,H.match_available=0,H.ins_h=0})(D.state),Ce}function oe(D,Ce,H,R,P,W){if(!D)return v;var Ne=1;if(Ce===y&&(Ce=6),R<0?(Ne=0,R=-R):15<R&&(Ne=2,R-=16),P<1||N<P||H!==S||R<8||15<R||Ce<0||9<Ce||W<0||_<W)return ee(D,v);R===8&&(R=9);var X=new ce;return(D.state=X).strm=D,X.wrap=Ne,X.gzhead=null,X.w_bits=R,X.w_size=1<<X.w_bits,X.w_mask=X.w_size-1,X.hash_bits=P+7,X.hash_size=1<<X.hash_bits,X.hash_mask=X.hash_size-1,X.hash_shift=~~((X.hash_bits+T-1)/T),X.window=new o.Buf8(2*X.w_size),X.head=new o.Buf16(X.hash_size),X.prev=new o.Buf16(X.w_size),X.lit_bufsize=1<<P+6,X.pending_buf_size=4*X.lit_bufsize,X.pending_buf=new o.Buf8(X.pending_buf_size),X.d_buf=1*X.lit_bufsize,X.l_buf=3*X.lit_bufsize,X.level=Ce,X.strategy=W,X.method=H,O(D)}i=[new me(0,0,0,0,function(D,Ce){var H=65535;for(H>D.pending_buf_size-5&&(H=D.pending_buf_size-5);;){if(D.lookahead<=1){if(ye(D),D.lookahead===0&&Ce===f)return L;if(D.lookahead===0)break}D.strstart+=D.lookahead,D.lookahead=0;var R=D.block_start+H;if((D.strstart===0||D.strstart>=R)&&(D.lookahead=D.strstart-R,D.strstart=R,G(D,!1),D.strm.avail_out===0)||D.strstart-D.block_start>=D.w_size-Y&&(G(D,!1),D.strm.avail_out===0))return L}return D.insert=0,Ce===g?(G(D,!0),D.strm.avail_out===0?Q:Z):(D.strstart>D.block_start&&(G(D,!1),D.strm.avail_out),L)}),new me(4,4,8,4,$),new me(4,5,16,8,$),new me(4,6,32,32,$),new me(4,4,16,16,V),new me(8,16,32,32,V),new me(8,16,128,128,V),new me(8,32,128,256,V),new me(32,128,258,1024,V),new me(32,258,258,4096,V)],a.deflateInit=function(D,Ce){return oe(D,Ce,S,15,8,0)},a.deflateInit2=oe,a.deflateReset=O,a.deflateResetKeep=he,a.deflateSetHeader=function(D,Ce){return D&&D.state?D.state.wrap!==2?v:(D.state.gzhead=Ce,b):v},a.deflate=function(D,Ce){var H,R,P,W;if(!D||!D.state||5<Ce||Ce<0)return D?ee(D,v):v;if(R=D.state,!D.output||!D.input&&D.avail_in!==0||R.status===666&&Ce!==g)return ee(D,D.avail_out===0?-5:v);if(R.strm=D,H=R.last_flush,R.last_flush=Ce,R.status===I)if(R.wrap===2)D.adler=0,ie(R,31),ie(R,139),ie(R,8),R.gzhead?(ie(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),ie(R,255&R.gzhead.time),ie(R,R.gzhead.time>>8&255),ie(R,R.gzhead.time>>16&255),ie(R,R.gzhead.time>>24&255),ie(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),ie(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(ie(R,255&R.gzhead.extra.length),ie(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(D.adler=h(D.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(ie(R,0),ie(R,0),ie(R,0),ie(R,0),ie(R,0),ie(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),ie(R,3),R.status=K);else{var Ne=S+(R.w_bits-8<<4)<<8;Ne|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(Ne|=32),Ne+=31-Ne%31,R.status=K,le(R,Ne),R.strstart!==0&&(le(R,D.adler>>>16),le(R,65535&D.adler)),D.adler=1}if(R.status===69)if(R.gzhead.extra){for(P=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>P&&(D.adler=h(D.adler,R.pending_buf,R.pending-P,P)),q(D),P=R.pending,R.pending!==R.pending_buf_size));)ie(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>P&&(D.adler=h(D.adler,R.pending_buf,R.pending-P,P)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){P=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>P&&(D.adler=h(D.adler,R.pending_buf,R.pending-P,P)),q(D),P=R.pending,R.pending===R.pending_buf_size)){W=1;break}W=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,ie(R,W)}while(W!==0);R.gzhead.hcrc&&R.pending>P&&(D.adler=h(D.adler,R.pending_buf,R.pending-P,P)),W===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){P=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>P&&(D.adler=h(D.adler,R.pending_buf,R.pending-P,P)),q(D),P=R.pending,R.pending===R.pending_buf_size)){W=1;break}W=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,ie(R,W)}while(W!==0);R.gzhead.hcrc&&R.pending>P&&(D.adler=h(D.adler,R.pending_buf,R.pending-P,P)),W===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&q(D),R.pending+2<=R.pending_buf_size&&(ie(R,255&D.adler),ie(R,D.adler>>8&255),D.adler=0,R.status=K)):R.status=K),R.pending!==0){if(q(D),D.avail_out===0)return R.last_flush=-1,b}else if(D.avail_in===0&&F(Ce)<=F(H)&&Ce!==g)return ee(D,-5);if(R.status===666&&D.avail_in!==0)return ee(D,-5);if(D.avail_in!==0||R.lookahead!==0||Ce!==f&&R.status!==666){var X=R.strategy===2?(function(pe,ge){for(var Re;;){if(pe.lookahead===0&&(ye(pe),pe.lookahead===0)){if(ge===f)return L;break}if(pe.match_length=0,Re=c._tr_tally(pe,0,pe.window[pe.strstart]),pe.lookahead--,pe.strstart++,Re&&(G(pe,!1),pe.strm.avail_out===0))return L}return pe.insert=0,ge===g?(G(pe,!0),pe.strm.avail_out===0?Q:Z):pe.last_lit&&(G(pe,!1),pe.strm.avail_out===0)?L:J})(R,Ce):R.strategy===3?(function(pe,ge){for(var Re,De,Se,Ie,We=pe.window;;){if(pe.lookahead<=re){if(ye(pe),pe.lookahead<=re&&ge===f)return L;if(pe.lookahead===0)break}if(pe.match_length=0,pe.lookahead>=T&&0<pe.strstart&&(De=We[Se=pe.strstart-1])===We[++Se]&&De===We[++Se]&&De===We[++Se]){Ie=pe.strstart+re;do;while(De===We[++Se]&&De===We[++Se]&&De===We[++Se]&&De===We[++Se]&&De===We[++Se]&&De===We[++Se]&&De===We[++Se]&&De===We[++Se]&&Se<Ie);pe.match_length=re-(Ie-Se),pe.match_length>pe.lookahead&&(pe.match_length=pe.lookahead)}if(pe.match_length>=T?(Re=c._tr_tally(pe,1,pe.match_length-T),pe.lookahead-=pe.match_length,pe.strstart+=pe.match_length,pe.match_length=0):(Re=c._tr_tally(pe,0,pe.window[pe.strstart]),pe.lookahead--,pe.strstart++),Re&&(G(pe,!1),pe.strm.avail_out===0))return L}return pe.insert=0,ge===g?(G(pe,!0),pe.strm.avail_out===0?Q:Z):pe.last_lit&&(G(pe,!1),pe.strm.avail_out===0)?L:J})(R,Ce):i[R.level].func(R,Ce);if(X!==Q&&X!==Z||(R.status=666),X===L||X===Q)return D.avail_out===0&&(R.last_flush=-1),b;if(X===J&&(Ce===1?c._tr_align(R):Ce!==5&&(c._tr_stored_block(R,0,0,!1),Ce===3&&(de(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),q(D),D.avail_out===0))return R.last_flush=-1,b}return Ce!==g?b:R.wrap<=0?1:(R.wrap===2?(ie(R,255&D.adler),ie(R,D.adler>>8&255),ie(R,D.adler>>16&255),ie(R,D.adler>>24&255),ie(R,255&D.total_in),ie(R,D.total_in>>8&255),ie(R,D.total_in>>16&255),ie(R,D.total_in>>24&255)):(le(R,D.adler>>>16),le(R,65535&D.adler)),q(D),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?b:1)},a.deflateEnd=function(D){var Ce;return D&&D.state?(Ce=D.state.status)!==I&&Ce!==69&&Ce!==73&&Ce!==91&&Ce!==103&&Ce!==K&&Ce!==666?ee(D,v):(D.state=null,Ce===K?ee(D,-3):b):v},a.deflateSetDictionary=function(D,Ce){var H,R,P,W,Ne,X,pe,ge,Re=Ce.length;if(!D||!D.state||(W=(H=D.state).wrap)===2||W===1&&H.status!==I||H.lookahead)return v;for(W===1&&(D.adler=d(D.adler,Ce,Re,0)),H.wrap=0,Re>=H.w_size&&(W===0&&(de(H.head),H.strstart=0,H.block_start=0,H.insert=0),ge=new o.Buf8(H.w_size),o.arraySet(ge,Ce,Re-H.w_size,H.w_size,0),Ce=ge,Re=H.w_size),Ne=D.avail_in,X=D.next_in,pe=D.input,D.avail_in=Re,D.next_in=0,D.input=Ce,ye(H);H.lookahead>=T;){for(R=H.strstart,P=H.lookahead-(T-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[R+T-1])&H.hash_mask,H.prev[R&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=R,R++,--P;);H.strstart=R,H.lookahead=T-1,ye(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=T-1,H.match_available=0,D.next_in=X,D.input=pe,D.avail_in=Ne,H.wrap=W,b},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,a){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,a){n.exports=function(i,o){var c,d,h,m,f,g,b,v,y,_,j,S,N,k,C,z,E,U,T,re,Y,I,K,L,J;c=i.state,d=i.next_in,L=i.input,h=d+(i.avail_in-5),m=i.next_out,J=i.output,f=m-(o-i.avail_out),g=m+(i.avail_out-257),b=c.dmax,v=c.wsize,y=c.whave,_=c.wnext,j=c.window,S=c.hold,N=c.bits,k=c.lencode,C=c.distcode,z=(1<<c.lenbits)-1,E=(1<<c.distbits)-1;e:do{N<15&&(S+=L[d++]<<N,N+=8,S+=L[d++]<<N,N+=8),U=k[S&z];t:for(;;){if(S>>>=T=U>>>24,N-=T,(T=U>>>16&255)===0)J[m++]=65535&U;else{if(!(16&T)){if((64&T)==0){U=k[(65535&U)+(S&(1<<T)-1)];continue t}if(32&T){c.mode=12;break e}i.msg="invalid literal/length code",c.mode=30;break e}re=65535&U,(T&=15)&&(N<T&&(S+=L[d++]<<N,N+=8),re+=S&(1<<T)-1,S>>>=T,N-=T),N<15&&(S+=L[d++]<<N,N+=8,S+=L[d++]<<N,N+=8),U=C[S&E];s:for(;;){if(S>>>=T=U>>>24,N-=T,!(16&(T=U>>>16&255))){if((64&T)==0){U=C[(65535&U)+(S&(1<<T)-1)];continue s}i.msg="invalid distance code",c.mode=30;break e}if(Y=65535&U,N<(T&=15)&&(S+=L[d++]<<N,(N+=8)<T&&(S+=L[d++]<<N,N+=8)),b<(Y+=S&(1<<T)-1)){i.msg="invalid distance too far back",c.mode=30;break e}if(S>>>=T,N-=T,(T=m-f)<Y){if(y<(T=Y-T)&&c.sane){i.msg="invalid distance too far back",c.mode=30;break e}if(K=j,(I=0)===_){if(I+=v-T,T<re){for(re-=T;J[m++]=j[I++],--T;);I=m-Y,K=J}}else if(_<T){if(I+=v+_-T,(T-=_)<re){for(re-=T;J[m++]=j[I++],--T;);if(I=0,_<re){for(re-=T=_;J[m++]=j[I++],--T;);I=m-Y,K=J}}}else if(I+=_-T,T<re){for(re-=T;J[m++]=j[I++],--T;);I=m-Y,K=J}for(;2<re;)J[m++]=K[I++],J[m++]=K[I++],J[m++]=K[I++],re-=3;re&&(J[m++]=K[I++],1<re&&(J[m++]=K[I++]))}else{for(I=m-Y;J[m++]=J[I++],J[m++]=J[I++],J[m++]=J[I++],2<(re-=3););re&&(J[m++]=J[I++],1<re&&(J[m++]=J[I++]))}break}}break}}while(d<h&&m<g);d-=re=N>>3,S&=(1<<(N-=re<<3))-1,i.next_in=d,i.next_out=m,i.avail_in=d<h?h-d+5:5-(d-h),i.avail_out=m<g?g-m+257:257-(m-g),c.hold=S,c.bits=N}},{}],49:[function(r,n,a){var i=r("../utils/common"),o=r("./adler32"),c=r("./crc32"),d=r("./inffast"),h=r("./inftrees"),m=1,f=2,g=0,b=-2,v=1,y=852,_=592;function j(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function N(I){var K;return I&&I.state?(K=I.state,I.total_in=I.total_out=K.total=0,I.msg="",K.wrap&&(I.adler=1&K.wrap),K.mode=v,K.last=0,K.havedict=0,K.dmax=32768,K.head=null,K.hold=0,K.bits=0,K.lencode=K.lendyn=new i.Buf32(y),K.distcode=K.distdyn=new i.Buf32(_),K.sane=1,K.back=-1,g):b}function k(I){var K;return I&&I.state?((K=I.state).wsize=0,K.whave=0,K.wnext=0,N(I)):b}function C(I,K){var L,J;return I&&I.state?(J=I.state,K<0?(L=0,K=-K):(L=1+(K>>4),K<48&&(K&=15)),K&&(K<8||15<K)?b:(J.window!==null&&J.wbits!==K&&(J.window=null),J.wrap=L,J.wbits=K,k(I))):b}function z(I,K){var L,J;return I?(J=new S,(I.state=J).window=null,(L=C(I,K))!==g&&(I.state=null),L):b}var E,U,T=!0;function re(I){if(T){var K;for(E=new i.Buf32(512),U=new i.Buf32(32),K=0;K<144;)I.lens[K++]=8;for(;K<256;)I.lens[K++]=9;for(;K<280;)I.lens[K++]=7;for(;K<288;)I.lens[K++]=8;for(h(m,I.lens,0,288,E,0,I.work,{bits:9}),K=0;K<32;)I.lens[K++]=5;h(f,I.lens,0,32,U,0,I.work,{bits:5}),T=!1}I.lencode=E,I.lenbits=9,I.distcode=U,I.distbits=5}function Y(I,K,L,J){var Q,Z=I.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new i.Buf8(Z.wsize)),J>=Z.wsize?(i.arraySet(Z.window,K,L-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(J<(Q=Z.wsize-Z.wnext)&&(Q=J),i.arraySet(Z.window,K,L-J,Q,Z.wnext),(J-=Q)?(i.arraySet(Z.window,K,L-J,J,0),Z.wnext=J,Z.whave=Z.wsize):(Z.wnext+=Q,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=Q))),0}a.inflateReset=k,a.inflateReset2=C,a.inflateResetKeep=N,a.inflateInit=function(I){return z(I,15)},a.inflateInit2=z,a.inflate=function(I,K){var L,J,Q,Z,ee,F,de,q,G,ie,le,be,ye,$,V,me,ce,he,O,oe,D,Ce,H,R,P=0,W=new i.Buf8(4),Ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return b;(L=I.state).mode===12&&(L.mode=13),ee=I.next_out,Q=I.output,de=I.avail_out,Z=I.next_in,J=I.input,F=I.avail_in,q=L.hold,G=L.bits,ie=F,le=de,Ce=g;e:for(;;)switch(L.mode){case v:if(L.wrap===0){L.mode=13;break}for(;G<16;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}if(2&L.wrap&&q===35615){W[L.check=0]=255&q,W[1]=q>>>8&255,L.check=c(L.check,W,2,0),G=q=0,L.mode=2;break}if(L.flags=0,L.head&&(L.head.done=!1),!(1&L.wrap)||(((255&q)<<8)+(q>>8))%31){I.msg="incorrect header check",L.mode=30;break}if((15&q)!=8){I.msg="unknown compression method",L.mode=30;break}if(G-=4,D=8+(15&(q>>>=4)),L.wbits===0)L.wbits=D;else if(D>L.wbits){I.msg="invalid window size",L.mode=30;break}L.dmax=1<<D,I.adler=L.check=1,L.mode=512&q?10:12,G=q=0;break;case 2:for(;G<16;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}if(L.flags=q,(255&L.flags)!=8){I.msg="unknown compression method",L.mode=30;break}if(57344&L.flags){I.msg="unknown header flags set",L.mode=30;break}L.head&&(L.head.text=q>>8&1),512&L.flags&&(W[0]=255&q,W[1]=q>>>8&255,L.check=c(L.check,W,2,0)),G=q=0,L.mode=3;case 3:for(;G<32;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}L.head&&(L.head.time=q),512&L.flags&&(W[0]=255&q,W[1]=q>>>8&255,W[2]=q>>>16&255,W[3]=q>>>24&255,L.check=c(L.check,W,4,0)),G=q=0,L.mode=4;case 4:for(;G<16;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}L.head&&(L.head.xflags=255&q,L.head.os=q>>8),512&L.flags&&(W[0]=255&q,W[1]=q>>>8&255,L.check=c(L.check,W,2,0)),G=q=0,L.mode=5;case 5:if(1024&L.flags){for(;G<16;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}L.length=q,L.head&&(L.head.extra_len=q),512&L.flags&&(W[0]=255&q,W[1]=q>>>8&255,L.check=c(L.check,W,2,0)),G=q=0}else L.head&&(L.head.extra=null);L.mode=6;case 6:if(1024&L.flags&&(F<(be=L.length)&&(be=F),be&&(L.head&&(D=L.head.extra_len-L.length,L.head.extra||(L.head.extra=new Array(L.head.extra_len)),i.arraySet(L.head.extra,J,Z,be,D)),512&L.flags&&(L.check=c(L.check,J,be,Z)),F-=be,Z+=be,L.length-=be),L.length))break e;L.length=0,L.mode=7;case 7:if(2048&L.flags){if(F===0)break e;for(be=0;D=J[Z+be++],L.head&&D&&L.length<65536&&(L.head.name+=String.fromCharCode(D)),D&&be<F;);if(512&L.flags&&(L.check=c(L.check,J,be,Z)),F-=be,Z+=be,D)break e}else L.head&&(L.head.name=null);L.length=0,L.mode=8;case 8:if(4096&L.flags){if(F===0)break e;for(be=0;D=J[Z+be++],L.head&&D&&L.length<65536&&(L.head.comment+=String.fromCharCode(D)),D&&be<F;);if(512&L.flags&&(L.check=c(L.check,J,be,Z)),F-=be,Z+=be,D)break e}else L.head&&(L.head.comment=null);L.mode=9;case 9:if(512&L.flags){for(;G<16;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}if(q!==(65535&L.check)){I.msg="header crc mismatch",L.mode=30;break}G=q=0}L.head&&(L.head.hcrc=L.flags>>9&1,L.head.done=!0),I.adler=L.check=0,L.mode=12;break;case 10:for(;G<32;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}I.adler=L.check=j(q),G=q=0,L.mode=11;case 11:if(L.havedict===0)return I.next_out=ee,I.avail_out=de,I.next_in=Z,I.avail_in=F,L.hold=q,L.bits=G,2;I.adler=L.check=1,L.mode=12;case 12:if(K===5||K===6)break e;case 13:if(L.last){q>>>=7&G,G-=7&G,L.mode=27;break}for(;G<3;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}switch(L.last=1&q,G-=1,3&(q>>>=1)){case 0:L.mode=14;break;case 1:if(re(L),L.mode=20,K!==6)break;q>>>=2,G-=2;break e;case 2:L.mode=17;break;case 3:I.msg="invalid block type",L.mode=30}q>>>=2,G-=2;break;case 14:for(q>>>=7&G,G-=7&G;G<32;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}if((65535&q)!=(q>>>16^65535)){I.msg="invalid stored block lengths",L.mode=30;break}if(L.length=65535&q,G=q=0,L.mode=15,K===6)break e;case 15:L.mode=16;case 16:if(be=L.length){if(F<be&&(be=F),de<be&&(be=de),be===0)break e;i.arraySet(Q,J,Z,be,ee),F-=be,Z+=be,de-=be,ee+=be,L.length-=be;break}L.mode=12;break;case 17:for(;G<14;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}if(L.nlen=257+(31&q),q>>>=5,G-=5,L.ndist=1+(31&q),q>>>=5,G-=5,L.ncode=4+(15&q),q>>>=4,G-=4,286<L.nlen||30<L.ndist){I.msg="too many length or distance symbols",L.mode=30;break}L.have=0,L.mode=18;case 18:for(;L.have<L.ncode;){for(;G<3;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}L.lens[Ne[L.have++]]=7&q,q>>>=3,G-=3}for(;L.have<19;)L.lens[Ne[L.have++]]=0;if(L.lencode=L.lendyn,L.lenbits=7,H={bits:L.lenbits},Ce=h(0,L.lens,0,19,L.lencode,0,L.work,H),L.lenbits=H.bits,Ce){I.msg="invalid code lengths set",L.mode=30;break}L.have=0,L.mode=19;case 19:for(;L.have<L.nlen+L.ndist;){for(;me=(P=L.lencode[q&(1<<L.lenbits)-1])>>>16&255,ce=65535&P,!((V=P>>>24)<=G);){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}if(ce<16)q>>>=V,G-=V,L.lens[L.have++]=ce;else{if(ce===16){for(R=V+2;G<R;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}if(q>>>=V,G-=V,L.have===0){I.msg="invalid bit length repeat",L.mode=30;break}D=L.lens[L.have-1],be=3+(3&q),q>>>=2,G-=2}else if(ce===17){for(R=V+3;G<R;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}G-=V,D=0,be=3+(7&(q>>>=V)),q>>>=3,G-=3}else{for(R=V+7;G<R;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}G-=V,D=0,be=11+(127&(q>>>=V)),q>>>=7,G-=7}if(L.have+be>L.nlen+L.ndist){I.msg="invalid bit length repeat",L.mode=30;break}for(;be--;)L.lens[L.have++]=D}}if(L.mode===30)break;if(L.lens[256]===0){I.msg="invalid code -- missing end-of-block",L.mode=30;break}if(L.lenbits=9,H={bits:L.lenbits},Ce=h(m,L.lens,0,L.nlen,L.lencode,0,L.work,H),L.lenbits=H.bits,Ce){I.msg="invalid literal/lengths set",L.mode=30;break}if(L.distbits=6,L.distcode=L.distdyn,H={bits:L.distbits},Ce=h(f,L.lens,L.nlen,L.ndist,L.distcode,0,L.work,H),L.distbits=H.bits,Ce){I.msg="invalid distances set",L.mode=30;break}if(L.mode=20,K===6)break e;case 20:L.mode=21;case 21:if(6<=F&&258<=de){I.next_out=ee,I.avail_out=de,I.next_in=Z,I.avail_in=F,L.hold=q,L.bits=G,d(I,le),ee=I.next_out,Q=I.output,de=I.avail_out,Z=I.next_in,J=I.input,F=I.avail_in,q=L.hold,G=L.bits,L.mode===12&&(L.back=-1);break}for(L.back=0;me=(P=L.lencode[q&(1<<L.lenbits)-1])>>>16&255,ce=65535&P,!((V=P>>>24)<=G);){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}if(me&&(240&me)==0){for(he=V,O=me,oe=ce;me=(P=L.lencode[oe+((q&(1<<he+O)-1)>>he)])>>>16&255,ce=65535&P,!(he+(V=P>>>24)<=G);){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}q>>>=he,G-=he,L.back+=he}if(q>>>=V,G-=V,L.back+=V,L.length=ce,me===0){L.mode=26;break}if(32&me){L.back=-1,L.mode=12;break}if(64&me){I.msg="invalid literal/length code",L.mode=30;break}L.extra=15&me,L.mode=22;case 22:if(L.extra){for(R=L.extra;G<R;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}L.length+=q&(1<<L.extra)-1,q>>>=L.extra,G-=L.extra,L.back+=L.extra}L.was=L.length,L.mode=23;case 23:for(;me=(P=L.distcode[q&(1<<L.distbits)-1])>>>16&255,ce=65535&P,!((V=P>>>24)<=G);){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}if((240&me)==0){for(he=V,O=me,oe=ce;me=(P=L.distcode[oe+((q&(1<<he+O)-1)>>he)])>>>16&255,ce=65535&P,!(he+(V=P>>>24)<=G);){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}q>>>=he,G-=he,L.back+=he}if(q>>>=V,G-=V,L.back+=V,64&me){I.msg="invalid distance code",L.mode=30;break}L.offset=ce,L.extra=15&me,L.mode=24;case 24:if(L.extra){for(R=L.extra;G<R;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}L.offset+=q&(1<<L.extra)-1,q>>>=L.extra,G-=L.extra,L.back+=L.extra}if(L.offset>L.dmax){I.msg="invalid distance too far back",L.mode=30;break}L.mode=25;case 25:if(de===0)break e;if(be=le-de,L.offset>be){if((be=L.offset-be)>L.whave&&L.sane){I.msg="invalid distance too far back",L.mode=30;break}ye=be>L.wnext?(be-=L.wnext,L.wsize-be):L.wnext-be,be>L.length&&(be=L.length),$=L.window}else $=Q,ye=ee-L.offset,be=L.length;for(de<be&&(be=de),de-=be,L.length-=be;Q[ee++]=$[ye++],--be;);L.length===0&&(L.mode=21);break;case 26:if(de===0)break e;Q[ee++]=L.length,de--,L.mode=21;break;case 27:if(L.wrap){for(;G<32;){if(F===0)break e;F--,q|=J[Z++]<<G,G+=8}if(le-=de,I.total_out+=le,L.total+=le,le&&(I.adler=L.check=L.flags?c(L.check,Q,le,ee-le):o(L.check,Q,le,ee-le)),le=de,(L.flags?q:j(q))!==L.check){I.msg="incorrect data check",L.mode=30;break}G=q=0}L.mode=28;case 28:if(L.wrap&&L.flags){for(;G<32;){if(F===0)break e;F--,q+=J[Z++]<<G,G+=8}if(q!==(4294967295&L.total)){I.msg="incorrect length check",L.mode=30;break}G=q=0}L.mode=29;case 29:Ce=1;break e;case 30:Ce=-3;break e;case 31:return-4;case 32:default:return b}return I.next_out=ee,I.avail_out=de,I.next_in=Z,I.avail_in=F,L.hold=q,L.bits=G,(L.wsize||le!==I.avail_out&&L.mode<30&&(L.mode<27||K!==4))&&Y(I,I.output,I.next_out,le-I.avail_out)?(L.mode=31,-4):(ie-=I.avail_in,le-=I.avail_out,I.total_in+=ie,I.total_out+=le,L.total+=le,L.wrap&&le&&(I.adler=L.check=L.flags?c(L.check,Q,le,I.next_out-le):o(L.check,Q,le,I.next_out-le)),I.data_type=L.bits+(L.last?64:0)+(L.mode===12?128:0)+(L.mode===20||L.mode===15?256:0),(ie==0&&le===0||K===4)&&Ce===g&&(Ce=-5),Ce)},a.inflateEnd=function(I){if(!I||!I.state)return b;var K=I.state;return K.window&&(K.window=null),I.state=null,g},a.inflateGetHeader=function(I,K){var L;return I&&I.state?(2&(L=I.state).wrap)==0?b:((L.head=K).done=!1,g):b},a.inflateSetDictionary=function(I,K){var L,J=K.length;return I&&I.state?(L=I.state).wrap!==0&&L.mode!==11?b:L.mode===11&&o(1,K,J,0)!==L.check?-3:Y(I,K,J,J)?(L.mode=31,-4):(L.havedict=1,g):b},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,a){var i=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(m,f,g,b,v,y,_,j){var S,N,k,C,z,E,U,T,re,Y=j.bits,I=0,K=0,L=0,J=0,Q=0,Z=0,ee=0,F=0,de=0,q=0,G=null,ie=0,le=new i.Buf16(16),be=new i.Buf16(16),ye=null,$=0;for(I=0;I<=15;I++)le[I]=0;for(K=0;K<b;K++)le[f[g+K]]++;for(Q=Y,J=15;1<=J&&le[J]===0;J--);if(J<Q&&(Q=J),J===0)return v[y++]=20971520,v[y++]=20971520,j.bits=1,0;for(L=1;L<J&&le[L]===0;L++);for(Q<L&&(Q=L),I=F=1;I<=15;I++)if(F<<=1,(F-=le[I])<0)return-1;if(0<F&&(m===0||J!==1))return-1;for(be[1]=0,I=1;I<15;I++)be[I+1]=be[I]+le[I];for(K=0;K<b;K++)f[g+K]!==0&&(_[be[f[g+K]]++]=K);if(E=m===0?(G=ye=_,19):m===1?(G=o,ie-=257,ye=c,$-=257,256):(G=d,ye=h,-1),I=L,z=y,ee=K=q=0,k=-1,C=(de=1<<(Z=Q))-1,m===1&&852<de||m===2&&592<de)return 1;for(;;){for(U=I-ee,re=_[K]<E?(T=0,_[K]):_[K]>E?(T=ye[$+_[K]],G[ie+_[K]]):(T=96,0),S=1<<I-ee,L=N=1<<Z;v[z+(q>>ee)+(N-=S)]=U<<24|T<<16|re|0,N!==0;);for(S=1<<I-1;q&S;)S>>=1;if(S!==0?(q&=S-1,q+=S):q=0,K++,--le[I]==0){if(I===J)break;I=f[g+_[K]]}if(Q<I&&(q&C)!==k){for(ee===0&&(ee=Q),z+=L,F=1<<(Z=I-ee);Z+ee<J&&!((F-=le[Z+ee])<=0);)Z++,F<<=1;if(de+=1<<Z,m===1&&852<de||m===2&&592<de)return 1;v[k=q&C]=Q<<24|Z<<16|z-y|0}}return q!==0&&(v[z+q]=I-ee<<24|64<<16|0),j.bits=Q,0}},{"../utils/common":41}],51:[function(r,n,a){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,a){var i=r("../utils/common"),o=0,c=1;function d(P){for(var W=P.length;0<=--W;)P[W]=0}var h=0,m=29,f=256,g=f+1+m,b=30,v=19,y=2*g+1,_=15,j=16,S=7,N=256,k=16,C=17,z=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(g+2));d(Y);var I=new Array(2*b);d(I);var K=new Array(512);d(K);var L=new Array(256);d(L);var J=new Array(m);d(J);var Q,Z,ee,F=new Array(b);function de(P,W,Ne,X,pe){this.static_tree=P,this.extra_bits=W,this.extra_base=Ne,this.elems=X,this.max_length=pe,this.has_stree=P&&P.length}function q(P,W){this.dyn_tree=P,this.max_code=0,this.stat_desc=W}function G(P){return P<256?K[P]:K[256+(P>>>7)]}function ie(P,W){P.pending_buf[P.pending++]=255&W,P.pending_buf[P.pending++]=W>>>8&255}function le(P,W,Ne){P.bi_valid>j-Ne?(P.bi_buf|=W<<P.bi_valid&65535,ie(P,P.bi_buf),P.bi_buf=W>>j-P.bi_valid,P.bi_valid+=Ne-j):(P.bi_buf|=W<<P.bi_valid&65535,P.bi_valid+=Ne)}function be(P,W,Ne){le(P,Ne[2*W],Ne[2*W+1])}function ye(P,W){for(var Ne=0;Ne|=1&P,P>>>=1,Ne<<=1,0<--W;);return Ne>>>1}function $(P,W,Ne){var X,pe,ge=new Array(_+1),Re=0;for(X=1;X<=_;X++)ge[X]=Re=Re+Ne[X-1]<<1;for(pe=0;pe<=W;pe++){var De=P[2*pe+1];De!==0&&(P[2*pe]=ye(ge[De]++,De))}}function V(P){var W;for(W=0;W<g;W++)P.dyn_ltree[2*W]=0;for(W=0;W<b;W++)P.dyn_dtree[2*W]=0;for(W=0;W<v;W++)P.bl_tree[2*W]=0;P.dyn_ltree[2*N]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function me(P){8<P.bi_valid?ie(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function ce(P,W,Ne,X){var pe=2*W,ge=2*Ne;return P[pe]<P[ge]||P[pe]===P[ge]&&X[W]<=X[Ne]}function he(P,W,Ne){for(var X=P.heap[Ne],pe=Ne<<1;pe<=P.heap_len&&(pe<P.heap_len&&ce(W,P.heap[pe+1],P.heap[pe],P.depth)&&pe++,!ce(W,X,P.heap[pe],P.depth));)P.heap[Ne]=P.heap[pe],Ne=pe,pe<<=1;P.heap[Ne]=X}function O(P,W,Ne){var X,pe,ge,Re,De=0;if(P.last_lit!==0)for(;X=P.pending_buf[P.d_buf+2*De]<<8|P.pending_buf[P.d_buf+2*De+1],pe=P.pending_buf[P.l_buf+De],De++,X===0?be(P,pe,W):(be(P,(ge=L[pe])+f+1,W),(Re=E[ge])!==0&&le(P,pe-=J[ge],Re),be(P,ge=G(--X),Ne),(Re=U[ge])!==0&&le(P,X-=F[ge],Re)),De<P.last_lit;);be(P,N,W)}function oe(P,W){var Ne,X,pe,ge=W.dyn_tree,Re=W.stat_desc.static_tree,De=W.stat_desc.has_stree,Se=W.stat_desc.elems,Ie=-1;for(P.heap_len=0,P.heap_max=y,Ne=0;Ne<Se;Ne++)ge[2*Ne]!==0?(P.heap[++P.heap_len]=Ie=Ne,P.depth[Ne]=0):ge[2*Ne+1]=0;for(;P.heap_len<2;)ge[2*(pe=P.heap[++P.heap_len]=Ie<2?++Ie:0)]=1,P.depth[pe]=0,P.opt_len--,De&&(P.static_len-=Re[2*pe+1]);for(W.max_code=Ie,Ne=P.heap_len>>1;1<=Ne;Ne--)he(P,ge,Ne);for(pe=Se;Ne=P.heap[1],P.heap[1]=P.heap[P.heap_len--],he(P,ge,1),X=P.heap[1],P.heap[--P.heap_max]=Ne,P.heap[--P.heap_max]=X,ge[2*pe]=ge[2*Ne]+ge[2*X],P.depth[pe]=(P.depth[Ne]>=P.depth[X]?P.depth[Ne]:P.depth[X])+1,ge[2*Ne+1]=ge[2*X+1]=pe,P.heap[1]=pe++,he(P,ge,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],(function(We,wt){var gt,pt,Nt,yt,Ot,Ze,Te=wt.dyn_tree,Be=wt.max_code,xt=wt.stat_desc.static_tree,jt=wt.stat_desc.has_stree,Pt=wt.stat_desc.extra_bits,Is=wt.stat_desc.extra_base,cs=wt.stat_desc.max_length,Rs=0;for(yt=0;yt<=_;yt++)We.bl_count[yt]=0;for(Te[2*We.heap[We.heap_max]+1]=0,gt=We.heap_max+1;gt<y;gt++)cs<(yt=Te[2*Te[2*(pt=We.heap[gt])+1]+1]+1)&&(yt=cs,Rs++),Te[2*pt+1]=yt,Be<pt||(We.bl_count[yt]++,Ot=0,Is<=pt&&(Ot=Pt[pt-Is]),Ze=Te[2*pt],We.opt_len+=Ze*(yt+Ot),jt&&(We.static_len+=Ze*(xt[2*pt+1]+Ot)));if(Rs!==0){do{for(yt=cs-1;We.bl_count[yt]===0;)yt--;We.bl_count[yt]--,We.bl_count[yt+1]+=2,We.bl_count[cs]--,Rs-=2}while(0<Rs);for(yt=cs;yt!==0;yt--)for(pt=We.bl_count[yt];pt!==0;)Be<(Nt=We.heap[--gt])||(Te[2*Nt+1]!==yt&&(We.opt_len+=(yt-Te[2*Nt+1])*Te[2*Nt],Te[2*Nt+1]=yt),pt--)}})(P,W),$(ge,Ie,P.bl_count)}function D(P,W,Ne){var X,pe,ge=-1,Re=W[1],De=0,Se=7,Ie=4;for(Re===0&&(Se=138,Ie=3),W[2*(Ne+1)+1]=65535,X=0;X<=Ne;X++)pe=Re,Re=W[2*(X+1)+1],++De<Se&&pe===Re||(De<Ie?P.bl_tree[2*pe]+=De:pe!==0?(pe!==ge&&P.bl_tree[2*pe]++,P.bl_tree[2*k]++):De<=10?P.bl_tree[2*C]++:P.bl_tree[2*z]++,ge=pe,Ie=(De=0)===Re?(Se=138,3):pe===Re?(Se=6,3):(Se=7,4))}function Ce(P,W,Ne){var X,pe,ge=-1,Re=W[1],De=0,Se=7,Ie=4;for(Re===0&&(Se=138,Ie=3),X=0;X<=Ne;X++)if(pe=Re,Re=W[2*(X+1)+1],!(++De<Se&&pe===Re)){if(De<Ie)for(;be(P,pe,P.bl_tree),--De!=0;);else pe!==0?(pe!==ge&&(be(P,pe,P.bl_tree),De--),be(P,k,P.bl_tree),le(P,De-3,2)):De<=10?(be(P,C,P.bl_tree),le(P,De-3,3)):(be(P,z,P.bl_tree),le(P,De-11,7));ge=pe,Ie=(De=0)===Re?(Se=138,3):pe===Re?(Se=6,3):(Se=7,4)}}d(F);var H=!1;function R(P,W,Ne,X){le(P,(h<<1)+(X?1:0),3),(function(pe,ge,Re,De){me(pe),ie(pe,Re),ie(pe,~Re),i.arraySet(pe.pending_buf,pe.window,ge,Re,pe.pending),pe.pending+=Re})(P,W,Ne)}a._tr_init=function(P){H||((function(){var W,Ne,X,pe,ge,Re=new Array(_+1);for(pe=X=0;pe<m-1;pe++)for(J[pe]=X,W=0;W<1<<E[pe];W++)L[X++]=pe;for(L[X-1]=pe,pe=ge=0;pe<16;pe++)for(F[pe]=ge,W=0;W<1<<U[pe];W++)K[ge++]=pe;for(ge>>=7;pe<b;pe++)for(F[pe]=ge<<7,W=0;W<1<<U[pe]-7;W++)K[256+ge++]=pe;for(Ne=0;Ne<=_;Ne++)Re[Ne]=0;for(W=0;W<=143;)Y[2*W+1]=8,W++,Re[8]++;for(;W<=255;)Y[2*W+1]=9,W++,Re[9]++;for(;W<=279;)Y[2*W+1]=7,W++,Re[7]++;for(;W<=287;)Y[2*W+1]=8,W++,Re[8]++;for($(Y,g+1,Re),W=0;W<b;W++)I[2*W+1]=5,I[2*W]=ye(W,5);Q=new de(Y,E,f+1,g,_),Z=new de(I,U,0,b,_),ee=new de(new Array(0),T,0,v,S)})(),H=!0),P.l_desc=new q(P.dyn_ltree,Q),P.d_desc=new q(P.dyn_dtree,Z),P.bl_desc=new q(P.bl_tree,ee),P.bi_buf=0,P.bi_valid=0,V(P)},a._tr_stored_block=R,a._tr_flush_block=function(P,W,Ne,X){var pe,ge,Re=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=(function(De){var Se,Ie=4093624447;for(Se=0;Se<=31;Se++,Ie>>>=1)if(1&Ie&&De.dyn_ltree[2*Se]!==0)return o;if(De.dyn_ltree[18]!==0||De.dyn_ltree[20]!==0||De.dyn_ltree[26]!==0)return c;for(Se=32;Se<f;Se++)if(De.dyn_ltree[2*Se]!==0)return c;return o})(P)),oe(P,P.l_desc),oe(P,P.d_desc),Re=(function(De){var Se;for(D(De,De.dyn_ltree,De.l_desc.max_code),D(De,De.dyn_dtree,De.d_desc.max_code),oe(De,De.bl_desc),Se=v-1;3<=Se&&De.bl_tree[2*re[Se]+1]===0;Se--);return De.opt_len+=3*(Se+1)+5+5+4,Se})(P),pe=P.opt_len+3+7>>>3,(ge=P.static_len+3+7>>>3)<=pe&&(pe=ge)):pe=ge=Ne+5,Ne+4<=pe&&W!==-1?R(P,W,Ne,X):P.strategy===4||ge===pe?(le(P,2+(X?1:0),3),O(P,Y,I)):(le(P,4+(X?1:0),3),(function(De,Se,Ie,We){var wt;for(le(De,Se-257,5),le(De,Ie-1,5),le(De,We-4,4),wt=0;wt<We;wt++)le(De,De.bl_tree[2*re[wt]+1],3);Ce(De,De.dyn_ltree,Se-1),Ce(De,De.dyn_dtree,Ie-1)})(P,P.l_desc.max_code+1,P.d_desc.max_code+1,Re+1),O(P,P.dyn_ltree,P.dyn_dtree)),V(P),X&&me(P)},a._tr_tally=function(P,W,Ne){return P.pending_buf[P.d_buf+2*P.last_lit]=W>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&W,P.pending_buf[P.l_buf+P.last_lit]=255&Ne,P.last_lit++,W===0?P.dyn_ltree[2*Ne]++:(P.matches++,W--,P.dyn_ltree[2*(L[Ne]+f+1)]++,P.dyn_dtree[2*G(W)]++),P.last_lit===P.lit_bufsize-1},a._tr_align=function(P){le(P,2,3),be(P,N,Y),(function(W){W.bi_valid===16?(ie(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):8<=W.bi_valid&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)})(P)}},{"../utils/common":41}],53:[function(r,n,a){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,a){(function(i){(function(o,c){if(!o.setImmediate){var d,h,m,f,g=1,b={},v=!1,y=o.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(o);_=_&&_.setTimeout?_:o,d={}.toString.call(o.process)==="[object process]"?function(k){ls.nextTick(function(){S(k)})}:(function(){if(o.postMessage&&!o.importScripts){var k=!0,C=o.onmessage;return o.onmessage=function(){k=!1},o.postMessage("","*"),o.onmessage=C,k}})()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",N,!1):o.attachEvent("onmessage",N),function(k){o.postMessage(f+k,"*")}):o.MessageChannel?((m=new MessageChannel).port1.onmessage=function(k){S(k.data)},function(k){m.port2.postMessage(k)}):y&&"onreadystatechange"in y.createElement("script")?(h=y.documentElement,function(k){var C=y.createElement("script");C.onreadystatechange=function(){S(k),C.onreadystatechange=null,h.removeChild(C),C=null},h.appendChild(C)}):function(k){setTimeout(S,0,k)},_.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var C=new Array(arguments.length-1),z=0;z<C.length;z++)C[z]=arguments[z+1];var E={callback:k,args:C};return b[g]=E,d(g),g++},_.clearImmediate=j}function j(k){delete b[k]}function S(k){if(v)setTimeout(S,0,k);else{var C=b[k];if(C){v=!0;try{(function(z){var E=z.callback,U=z.args;switch(U.length){case 0:E();break;case 1:E(U[0]);break;case 2:E(U[0],U[1]);break;case 3:E(U[0],U[1],U[2]);break;default:E.apply(c,U)}})(C)}finally{j(k),v=!1}}}}function N(k){k.source===o&&typeof k.data=="string"&&k.data.indexOf(f)===0&&S(+k.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Yi<"u"?Yi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(f1)),f1.exports}var roe=soe();const noe=QL(roe);var Ff={exports:{}},m1,wR;function aoe(){if(wR)return m1;wR=1;var s={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function t(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,a){return s[a]}):r}return m1=t,m1}var jR;function ioe(){if(jR)return Ff.exports;jR=1;var s=aoe(),t=I2().Stream,r="    ";function n(h,m){typeof m!="object"&&(m={indent:m});var f=m.stream?new t:null,g="",b=!1,v=m.indent?m.indent===!0?r:m.indent:"",y=!0;function _(C){y?ls.nextTick(C):C()}function j(C,z){if(z!==void 0&&(g+=z),C&&!b&&(f=f||new t,b=!0),C&&b){var E=g;_(function(){f.emit("data",E)}),g=""}}function S(C,z){c(j,o(C,v,v?1:0),z)}function N(){if(f){var C=g;_(function(){f.emit("data",C),f.emit("end"),f.readable=!1,f.emit("close")})}}function k(C){var z=C.encoding||"UTF-8",E={version:"1.0",encoding:z};C.standalone&&(E.standalone=C.standalone),S({"?xml":{_attr:E}}),g=g.replace("/>","?>")}return _(function(){y=!1}),m.declaration&&k(m.declaration),h&&h.forEach?h.forEach(function(C,z){var E;z+1===h.length&&(E=N),S(C,E)}):S(h,N),f?(f.readable=!0,f):g}function a(){var h=Array.prototype.slice.call(arguments),m={_elem:o(h)};return m.push=function(f){if(!this.append)throw new Error("not assigned to a parent!");var g=this,b=this._elem.indent;c(this.append,o(f,b,this._elem.icount+(b?1:0)),function(){g.append(!0)})},m.close=function(f){f!==void 0&&this.push(f),this.end&&this.end()},m}function i(h,m){return new Array(m||0).join(h||"")}function o(h,m,f){f=f||0;var g=i(m,f),b,v=h,y=!1;if(typeof h=="object"){var _=Object.keys(h);if(b=_[0],v=h[b],v&&v._elem)return v._elem.name=b,v._elem.icount=f,v._elem.indent=m,v._elem.indents=g,v._elem.interrupt=v,v._elem}var j=[],S=[],N;function k(C){var z=Object.keys(C);z.forEach(function(E){j.push(d(E,C[E]))})}switch(typeof v){case"object":if(v===null)break;v._attr&&k(v._attr),v._cdata&&S.push(("<![CDATA["+v._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),v.forEach&&(N=!1,S.push(""),v.forEach(function(C){if(typeof C=="object"){var z=Object.keys(C)[0];z=="_attr"?k(C._attr):S.push(o(C,m,f+1))}else S.pop(),N=!0,S.push(s(C))}),N||S.push(""));break;default:S.push(s(v))}return{name:b,interrupt:y,attributes:j,content:S,icount:f,indents:g,indent:m}}function c(h,m,f){if(typeof m!="object")return h(!1,m);var g=m.interrupt?1:m.content.length;function b(){for(;m.content.length;){var y=m.content.shift();if(y!==void 0){if(v(y))return;c(h,y)}}h(!1,(g>1?m.indents:"")+(m.name?"</"+m.name+">":"")+(m.indent&&!f?`
`:"")),f&&f()}function v(y){return y.interrupt?(y.interrupt.append=h,y.interrupt.end=b,y.interrupt=!1,h(!0),!0):!1}if(h(!1,m.indents+(m.name?"<"+m.name:"")+(m.attributes.length?" "+m.attributes.join(" "):"")+(g?m.name?">":"":m.name?"/>":"")+(m.indent&&g>1?`
`:"")),!g)return h(!1,m.indent?`
`:"");v(m)||b()}function d(h,m){return h+'="'+s(m)+'"'}return Ff.exports=n,Ff.exports.element=Ff.exports.Element=a,Ff.exports}var ooe=ioe();const kr=QL(ooe),Bf=0,p1=32,loe=32,coe=(s,t)=>{const r=t.replace(/-/g,"");if(r.length!==loe)throw new Error(`Error: Cannot extract GUID from font filename: ${t}`);const a=r.replace(/(..)/g,"$1 ").trim().split(" ").map(d=>parseInt(d,16));a.reverse();const o=s.slice(Bf,p1).map((d,h)=>d^a[h%a.length]),c=new Uint8Array(Bf+o.length+Math.max(0,s.length-p1));return c.set(s.slice(0,Bf)),c.set(o,Bf),c.set(s.slice(p1),Bf+o.length),c};class doe{format(t,r={stack:[]}){const n=t.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class uoe{replace(t,r,n){let a=t;return r.forEach((i,o)=>{a=a.replace(new RegExp(`{${i.fileName}}`,"g"),(n+o).toString())}),a}getMediaData(t,r){return r.Array.filter(n=>t.search(`{${n.fileName}}`)>0)}}class hoe{replace(t,r){let n=t;for(const a of r)n=n.replace(new RegExp(`{${a.reference}-${a.instance}}`,"g"),a.numId.toString());return n}}class foe{constructor(){st(this,"formatter"),st(this,"imageReplacer"),st(this,"numberingReplacer"),this.formatter=new doe,this.imageReplacer=new uoe,this.numberingReplacer=new hoe}compile(t,r,n=[]){const a=new noe,i=this.xmlifyFile(t,r),o=new Map(Object.entries(i));for(const[,c]of o)if(Array.isArray(c))for(const d of c)a.file(d.path,d.data);else a.file(c.path,c.data);for(const c of n)a.file(c.path,c.data);for(const c of t.Media.Array)c.type!=="svg"?a.file(`word/media/${c.fileName}`,c.data):(a.file(`word/media/${c.fileName}`,c.data),a.file(`word/media/${c.fallback.fileName}`,c.fallback.data));for(const{data:c,name:d,fontKey:h}of t.FontTable.fontOptionsWithKey){const[m]=d.split(".");a.file(`word/fonts/${m}.odttf`,coe(c,h))}return a}xmlifyFile(t,r){const n=t.Document.Relationships.RelationshipCount+1,a=kr(this.formatter.format(t.Document.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),i=t.Comments.Relationships.RelationshipCount+1,o=kr(this.formatter.format(t.Comments,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(a,t.Media),d=this.imageReplacer.getMediaData(o,t.Media);return{Relationships:{data:(c.forEach((h,m)=>{t.Document.Relationships.createRelationship(n+m,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),t.Document.Relationships.createRelationship(t.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),kr(this.formatter.format(t.Document.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const h=this.imageReplacer.replace(a,c,n);return this.numberingReplacer.replace(h,t.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const h=kr(this.formatter.format(t.Styles,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(h,t.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:kr(this.formatter.format(t.CoreProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:kr(this.formatter.format(t.Numbering,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:kr(this.formatter.format(t.FileRelationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:t.Headers.map((h,m)=>{const f=kr(this.formatter.format(h.View,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,t.Media).forEach((b,v)=>{h.Relationships.createRelationship(v,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${b.fileName}`)}),{data:kr(this.formatter.format(h.Relationships,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${m+1}.xml.rels`}}),FooterRelationships:t.Footers.map((h,m)=>{const f=kr(this.formatter.format(h.View,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,t.Media).forEach((b,v)=>{h.Relationships.createRelationship(v,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${b.fileName}`)}),{data:kr(this.formatter.format(h.Relationships,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${m+1}.xml.rels`}}),Headers:t.Headers.map((h,m)=>{const f=kr(this.formatter.format(h.View,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(f,t.Media),b=this.imageReplacer.replace(f,g,0);return{data:this.numberingReplacer.replace(b,t.Numbering.ConcreteNumbering),path:`word/header${m+1}.xml`}}),Footers:t.Footers.map((h,m)=>{const f=kr(this.formatter.format(h.View,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(f,t.Media),b=this.imageReplacer.replace(f,g,0);return{data:this.numberingReplacer.replace(b,t.Numbering.ConcreteNumbering),path:`word/footer${m+1}.xml`}}),ContentTypes:{data:kr(this.formatter.format(t.ContentTypes,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:kr(this.formatter.format(t.CustomProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:kr(this.formatter.format(t.AppProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:kr(this.formatter.format(t.FootNotes.View,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:kr(this.formatter.format(t.FootNotes.Relationships,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:kr(this.formatter.format(t.Settings,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const h=this.imageReplacer.replace(o,d,i);return this.numberingReplacer.replace(h,t.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(d.forEach((h,m)=>{t.Comments.Relationships.createRelationship(i+m,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),kr(this.formatter.format(t.Comments.Relationships,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:kr(this.formatter.format(t.FontTable.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:kr(this.formatter.format(t.FontTable.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const moe={WITH_2_BLANKS:"  "},_R=s=>s===!0?moe.WITH_2_BLANKS:s===!1?void 0:s,L8=class Ou{static pack(t,r,n){return Vse(this,arguments,function*(a,i,o,c=[]){return this.compiler.compile(a,_R(o),c).generateAsync({type:i,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(t,r,n=[]){return Ou.pack(t,"string",r,n)}static toBuffer(t,r,n=[]){return Ou.pack(t,"nodebuffer",r,n)}static toBase64String(t,r,n=[]){return Ou.pack(t,"base64",r,n)}static toBlob(t,r,n=[]){return Ou.pack(t,"blob",r,n)}static toArrayBuffer(t,r,n=[]){return Ou.pack(t,"arraybuffer",r,n)}static toStream(t,r,n=[]){const a=new toe.Stream;return this.compiler.compile(t,_R(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{a.emit("data",o),a.emit("end")}),a}};st(L8,"compiler",new foe);let poe=L8;const Fo="________________________________________________________________";function pn(s,t=!1){return new qs({children:[new y0({text:`${s}${t?" *":""}: `,bold:!0}),new y0(Fo)],spacing:{after:120}})}function Qc(s){return new qs({text:s,heading:D8.HEADING_2,spacing:{before:240,after:120}})}async function goe(){const s=[new qs({text:"Create Car  Agency Form",heading:D8.TITLE,alignment:ya.CENTER,spacing:{after:120}}),new qs({text:"Print this form and fill it by hand with a pen. You can then enter the same information online or hand the form to the office.",alignment:ya.CENTER,spacing:{after:360}}),Qc("Basic Information"),pn("Make",!0),pn("Model",!0),pn("Year",!0),pn("License Plate",!0),pn("Color"),pn("Mileage (km)"),Qc("Technical Specifications"),pn("Fuel Type (Petrol / Diesel / Electric / Hybrid)",!0),pn("Transmission (Automatic / Manual)",!0),pn("Wheels Drive (4x4 / Front / Rear / Autoblock)"),pn("Seats",!0),pn("Doors",!0),pn("Category (Luxury / Sport / Commercial / Industrial / Normal / Event / Sea)",!0),Qc("Features & Add-ons"),new qs({text:"Features (tick as applicable): GPS, Bluetooth, Backup Camera, Sunroof, Leather Seats, Apple CarPlay, Android Auto, Heated Seats, Cruise Control, Parking Sensors",spacing:{after:120}}),new qs({text:Fo,spacing:{after:120}}),new qs({text:"Add-ons (tick as applicable): Child Seat, GPS Device, Phone Holder, WiFi Hotspot, Roof Rack",spacing:{after:120}}),new qs({text:Fo,spacing:{after:120}}),new qs({text:"Reason of rent (tick as applicable): Vacation, Business Trip, Wedding, Daily Use, Long Trip, Airport Transfer",spacing:{after:120}}),new qs({text:Fo,spacing:{after:240}}),Qc("Pricing & Rental Terms"),pn("Daily Rate ($)",!0),pn("Holiday Rate ($)"),pn("Min Rental Days"),pn("Max Driving Mileage per day (km)"),new qs({text:" Require Deposit    If yes, Deposit Amount ($): ____________",spacing:{after:120}}),new qs({text:" Delivery Available    If yes, Delivery Fee ($): ____________",spacing:{after:120}}),new qs({text:" Driver Available    If yes, Driver Fee per day ($): ____________",spacing:{after:240}}),Qc("Delivery & Driver Options"),new qs({text:"Delivery / driver options are listed above.",spacing:{after:240}}),Qc("Car Images"),new qs({text:"Attach or upload: Main image *, Front, Back, Left, Right (as per online form).",spacing:{after:240}}),Qc("Location Information"),new qs({text:"Live Location  Address (region):",spacing:{after:60}}),new qs({text:"Governorate: ________________    Coordinates / Google Maps link: "+Fo,spacing:{after:120}}),new qs({text:"Delivery Location  Address (region):",spacing:{after:60}}),new qs({text:"Governorate: ________________    Coordinates: "+Fo,spacing:{after:120}}),new qs({text:"Return Location  Address (region):",spacing:{after:60}}),new qs({text:"Governorate: ________________    Coordinates: "+Fo,spacing:{after:240}}),new qs({text:"Notes (optional):",spacing:{before:120,after:60}}),new qs({text:Fo,spacing:{after:120}}),new qs({text:Fo,spacing:{after:120}}),new qs({text:" End of form ",alignment:ya.CENTER,spacing:{before:240}})],t=new eoe({sections:[{properties:{},children:s}]});return poe.toBlob(t)}async function xoe(s="create-car-form.docx"){const t=await goe(),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=s,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}const Jc={BMW:["1 Series","3 Series","5 Series","7 Series","X1","X3","X5","X7","M3","M5","Z4","i4","i7","iX"],"Mercedes-Benz":["A-Class","C-Class","E-Class","S-Class","GLA","GLC","GLE","GLS","G-Class","AMG GT","Maybach","EQE","EQS"],Audi:["A3","A4","A6","A8","Q3","Q5","Q7","Q8","TT","R8","e-tron"],Porsche:["911","Cayenne","Macan","Panamera","Taycan","Boxster","Cayman"],Volkswagen:["Polo","Golf","Jetta","Passat","Tiguan","Touareg","Arteon","ID.4","ID.7"],Opel:["Corsa","Astra","Insignia","Mokka","Grandland"],Smart:["Fortwo","Forfour"],Ferrari:["Roma","Portofino","F8","812","SF90","Purosangue"],Lamborghini:["Huracan","Aventador","Urus","Revuelto"],Maserati:["Ghibli","Quattroporte","Levante","Grecale","MC20"],"Alfa Romeo":["Giulia","Stelvio","Tonale","Giulietta"],Fiat:["500","Panda","Tipo","Doblo"],Pagani:["Huayra","Zonda"],"Rolls-Royce":["Phantom","Ghost","Wraith","Cullinan","Spectre"],Bentley:["Continental GT","Flying Spur","Bentayga"],"Aston Martin":["Vantage","DB11","DB12","DBX","Valhalla"],Jaguar:["XE","XF","XJ","F-Type","E-Pace","F-Pace"],"Land Rover":["Range Rover","Range Rover Sport","Velar","Evoque","Defender","Discovery"],McLaren:["720S","750S","Artura","GT"],Mini:["Cooper","Countryman","Clubman"],Lotus:["Emira","Evija","Eletre"],Tesla:["Model 3","Model S","Model X","Model Y","Cybertruck","Roadster"],Ford:["Fiesta","Focus","Mustang","Explorer","Escape","Edge","F-150","Bronco"],Chevrolet:["Spark","Malibu","Camaro","Corvette","Tahoe","Suburban","Silverado"],Dodge:["Charger","Challenger","Durango"],Jeep:["Wrangler","Grand Cherokee","Compass","Renegade","Gladiator"],Cadillac:["CT4","CT5","Escalade","Lyriq"],Chrysler:["300","Pacifica"],GMC:["Sierra","Yukon","Acadia"],Rivian:["R1T","R1S"],Lucid:["Air","Gravity"],Toyota:["Corolla","Camry","Yaris","Prius","RAV4","Highlander","Land Cruiser","Supra","Hilux"],Lexus:["IS","ES","GS","LS","NX","RX","GX","LX","LC"],Honda:["Civic","Accord","City","CR-V","HR-V","Pilot","Odyssey"],Nissan:["Micra","Sentra","Altima","Maxima","Qashqai","X-Trail","GT-R","370Z"],Infiniti:["Q50","Q60","QX50","QX60","QX80"],Mazda:["Mazda2","Mazda3","Mazda6","CX-5","CX-9","MX-5"],Subaru:["Impreza","Legacy","Outback","Forester","WRX","BRZ"],Mitsubishi:["Mirage","Lancer","ASX","Outlander","Pajero"],Suzuki:["Swift","Vitara","Jimny","Baleno"],Isuzu:["D-Max","MU-X"],Hyundai:["Accent","Elantra","Sonata","Kona","Tucson","Santa Fe","Palisade","Ioniq 5"],Kia:["Rio","Cerato","K5","Soul","Sportage","Sorento","Telluride","EV6"],Genesis:["G70","G80","G90","GV70","GV80"],Peugeot:["208","308","508","2008","3008","5008"],Renault:["Clio","Megane","Talisman","Captur","Kadjar","Koleos"],Citron:["C3","C4","C5","C5 Aircross"],Bugatti:["Chiron","Mistral","Tourbillon"],"DS Automobiles":["DS3","DS4","DS7"],BYD:["Atto 3","Han","Tang","Seal"],Geely:["Coolray","Emgrand","Tugella"],Chery:["Tiggo 7","Tiggo 8"],"Great Wall":["Haval H6","Tank 300"],NIO:["ES6","ES8","ET5","ET7"],XPeng:["P7","G6","G9"],MG:["ZS","HS","MG4","MG5"],Zeekr:["001","X"],Volvo:["S60","S90","V60","XC40","XC60","XC90"],Polestar:["Polestar 2","Polestar 3","Polestar 4"],Koenigsegg:["Jesko","Regera","Gemera"],Rimac:["Nevera"],Hennessey:["Venom F5"],SSC:["Tuatara"],Mahindra:["Scorpio","XUV700"],Tata:["Nexon","Harrier","Safari"]},yoe=["White","Black","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown","Beige","Gold","Purple","Pink","Pearl White","Metallic Gray","Metallic Blue","Dark Blue","Light Blue","Burgundy"],boe=["GPS","Bluetooth","Backup Camera","Sunroof","Leather Seats","Apple CarPlay","Android Auto","Heated Seats","Cruise Control","Parking Sensors"],voe=["Child Seat","GPS Device","Phone Holder","WiFi Hotspot","Roof Rack"],woe=["Vacation","Business Trip","Wedding","Daily Use","Long Trip","Airport Transfer"],joe=["Beirut","Mount Lebanon","North","South","Bekaa","Baalbek","Keserwan","Nabatieh","Akkar"];function F8(s){if(!s||typeof s!="string")return null;const t=s.trim(),r=t.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(r)return{lat:parseFloat(r[1]),lng:parseFloat(r[2])};const n=t.match(/[?&]q=(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(n)return{lat:parseFloat(n[1]),lng:parseFloat(n[2])};const a=t.match(/(?:!3d|!4d|!1d)(-?\d+\.?\d*)/g);if(a&&a.length>=2){const i=parseFloat(a[0].replace(/\D/g,"")),o=parseFloat(a[1].replace(/\D/g,""));if(!isNaN(i)&&!isNaN(o))return{lat:i,lng:o}}return null}function J_(s){if(!s||typeof s!="string")return!1;const t=s.trim();return/^(https?:)?\/\/(maps\.app\.goo\.gl|goo\.gl\/maps)\//i.test(t)||/^https?:\/\/maps\.app\.goo\.gl\//i.test(t)}async function _oe(s){const t=(s||"").trim();if(!J_(t))return null;try{const r=await fetch(t,{redirect:"follow",method:"HEAD"});return F8(r.url||t)}catch{return null}}async function Noe(s){const t=(s||"").trim();if(!t)return null;try{const{data:r}=await Le.get("/resolve-map-link",{params:{url:t}}),n=r?.lat??r?.latitude,a=r?.lng??r?.longitude;return n!=null&&a!=null&&!Number.isNaN(Number(n))&&!Number.isNaN(Number(a))?{lat:Number(n),lng:Number(a)}:null}catch{return null}}function g1(){try{const s=localStorage.getItem("user");if(!s)return null;let r=JSON.parse(s)?.agent?.location;if(!r)return null;typeof r=="string"&&(r=JSON.parse(r),typeof r=="string"&&(r=JSON.parse(r)));const n=r?.lat??r?.latitude,a=r?.lng??r?.longitude;return n!=null&&a!=null?{latitude:String(Number(n)),longitude:String(Number(a))}:null}catch{return null}}function koe({center:s,selectedLocation:t,onLocationSelect:r}){const n=w.useRef(null),a=w.useRef(null);w.useEffect(()=>{if(typeof window<"u"&&!window.L){const o=document.createElement("link");o.rel="stylesheet",o.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(o);const c=document.createElement("script");c.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",c.onload=()=>i(),document.head.appendChild(c)}else window.L&&i()},[]),w.useEffect(()=>{if(n.current&&window.L&&s?.latitude!=null&&s?.longitude!=null){const o=parseFloat(s.latitude),c=parseFloat(s.longitude);n.current.setView([o,c],13)}},[s?.latitude,s?.longitude]),w.useEffect(()=>{t&&a.current&&window.L&&a.current.setLatLng([parseFloat(t.latitude),parseFloat(t.longitude)])},[t]);const i=()=>{if(!window.L||n.current)return;const o=parseFloat(s?.latitude)||33.8547,c=parseFloat(s?.longitude)||35.8623,d=window.L.map("map-container").setView([o,c],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}).addTo(d);const h=window.L.marker([o,c],{draggable:!0}).addTo(d);h.on("dragend",m=>{const f=m.target.getLatLng();r(f.lat,f.lng)}),d.on("click",m=>{h.setLatLng(m.latlng),r(m.latlng.lat,m.latlng.lng)}),n.current=d,a.current=h};return e.jsx("div",{id:"map-container",className:"w-full h-full"})}const Soe=()=>{const s=br(),[t,r]=w.useState(!1),[n,a]=w.useState([]),[i,o]=w.useState(!1),[c,d]=w.useState(null),[h,m]=w.useState(null),[f,g]=w.useState(""),[b,v]=w.useState(!1),[y,_]=w.useState({liveLocation:"",deliveryLocation:"",returnLocation:""}),[j,S]=w.useState(null),[N,k]=w.useState({make:"",model:"",customMake:"",customModel:"",year:new Date().getFullYear(),licensePlate:"",color:"",mileage:0,fuelType:"Petrol",transmission:"",wheelsDrive:"",carCategory:"",seats:5,doors:4,cylinderNumber:"",dailyRate:"",holidayRate:"",notes:"",requireDeposit:!1,depositAmount:0,deliveryAvailable:!1,deliveryFees:0,driverAvailable:!1,driverFees:0,maxDrivingMileage:"",minRentalDays:1,selectedFeatures:[],selectedAddons:[],selectedReasons:[],liveLocation:{address:"",latitude:0,longitude:0},deliveryLocation:{address:"",latitude:0,longitude:0},returnLocation:{address:"",latitude:0,longitude:0},isPrivate:!1}),[C,z]=w.useState({main:null,front:null,back:null,left:null,right:null}),[E,U]=w.useState({main:null,front:null,back:null,left:null,right:null});w.useEffect(()=>{N.make&&Jc[N.make]?(a(Jc[N.make]),!Jc[N.make].includes(N.model)&&N.model!=="Other"&&k(O=>({...O,model:""}))):(a([]),N.make&&N.make!=="Other"&&N.model&&k(O=>({...O,model:""})))},[N.make]);const T=(O,oe,D)=>{oe.includes(O)?D(oe.filter(Ce=>Ce!==O)):D([...oe,O])},re=(O,oe)=>{if(oe){if(!oe.type.startsWith("image/")){xe.error("Please select an image file (e.g. JPG, PNG)");return}z(D=>({...D,[O]:oe})),U(D=>{const Ce=D[O];return Ce&&URL.revokeObjectURL(Ce),{...D,[O]:URL.createObjectURL(oe)}})}},[Y,I]=w.useState(null),K=(O,oe)=>{O.preventDefault(),O.stopPropagation(),I(oe)},L=(O,oe)=>{O.preventDefault(),O.stopPropagation(),I(D=>D===oe?null:D)},J=(O,oe)=>{O.preventDefault(),O.stopPropagation(),I(null);const D=O.dataTransfer?.files?.[0];D&&re(oe,D)},Q=O=>{z(oe=>({...oe,[O]:null})),U(oe=>({...oe,[O]:null}))},Z=O=>{if(!navigator.geolocation){xe.error("Geolocation is not supported by your browser");return}xe.info("Getting your location..."),navigator.geolocation.getCurrentPosition(oe=>{const D={address:N[O].address||"",latitude:oe.coords.latitude.toFixed(6),longitude:oe.coords.longitude.toFixed(6)};k(Ce=>({...Ce,[O]:D})),xe.success("Location detected successfully!")},oe=>{console.error("Geolocation error:",oe),xe.error("Could not get your location. Please select manually.")})},ee=O=>{d(O);const oe=N[O];m({latitude:oe.latitude||33.8547,longitude:oe.longitude||35.8623}),o(!0)},F=(O,oe)=>{m({latitude:O.toFixed(6),longitude:oe.toFixed(6)})},de=()=>{h&&c?(k(O=>({...O,[c]:{address:O[c].address||"",latitude:h.latitude,longitude:h.longitude}})),xe.success("Location selected!"),o(!1),d(null)):xe.error("Please select a location on the map")},q=(O,oe)=>{k(D=>({...D,[O]:{...D[O],address:oe}}))},G=async(O,oe)=>{const D=(oe||"").trim();if(!D)return;let Ce=F8(D);if(!Ce&&J_(D)){S(O);try{Ce=await _oe(D),Ce||(Ce=await Noe(D))}finally{S(null)}}Ce?(k(H=>({...H,[O]:{...H[O],latitude:Ce.lat.toFixed(6),longitude:Ce.lng.toFixed(6),address:H[O].address||""}})),xe.success("Location set from Google Maps link.")):J_(D)?xe.error('Short link (maps.app.goo.gl) not resolved: browser cannot follow the link, and the server may not have the resolve endpoint yet. Workaround: open the link in a new tab, then copy the long URL from the address bar and paste it here, or set location with "Select on map" / "Use current location".',{duration:7e3}):xe.error("Could not read coordinates from this link. Use a link with lat,lng (e.g. @33.89,35.50 or ?q=33.89,35.50) or a maps.app.goo.gl link.")},ie=async()=>{const O=f.trim();if(O){v(!0);try{const D=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(O)}&limit=1`,{headers:{Accept:"application/json"}})).json();if(D&&D[0]){const Ce=parseFloat(D[0].lat),H=parseFloat(D[0].lon);m({latitude:Ce.toFixed(6),longitude:H.toFixed(6)}),xe.success("Location found. Adjust marker if needed.")}else xe.error("No results found. Try another search.")}catch{xe.error("Search failed. Try again.")}finally{v(!1)}}},le=()=>{const O=g1();O?(m(O),xe.success("Office location set. Confirm to use it.")):xe.error("Office location not found. Complete your agency profile with a location first.")},be=O=>{const oe=g1();oe?(k(D=>({...D,[O]:{...D[O],latitude:oe.latitude,longitude:oe.longitude,address:D[O].address||""}})),xe.success("Location set to your agency office.")):xe.error("Office location not found. Complete your agency profile with a location first.")},[ye,$]=w.useState(""),[V,me]=w.useState(!1),ce=async()=>{const O=ye.trim();if(!O){xe.error("Please enter a short description of the car.");return}if(O.length>2e3){xe.error("Description must be at most 2000 characters.");return}me(!0);try{const{data:oe}=await Le.post("/ai/car-fill/parse",{description:O});if(!oe.success||!oe.form){xe.error(oe.message||"Could not parse description.");return}const D=oe.form,Ce=D.use_office_location===!0,H={...D};delete H.use_office_location;const R=pe=>{if(!pe||typeof pe!="object")return{address:"",latitude:0,longitude:0};const ge=pe.latitude??pe.lat??0,Re=pe.longitude??pe.lng??0;return{address:pe.address??"",latitude:typeof ge=="number"?ge:parseFloat(ge)||0,longitude:typeof Re=="number"?Re:parseFloat(Re)||0}};let P=H.make??"",W=H.model??"",Ne="",X="";if(P&&!Object.prototype.hasOwnProperty.call(Jc,P)&&(Ne=P,P="Other"),P&&P!=="Other"&&W&&Jc[P]&&!Jc[P].includes(W)&&(X=W,W="Other"),k(pe=>({...pe,make:P||pe.make,model:W||pe.model,customMake:Ne||pe.customMake,customModel:X||pe.customModel,year:H.year??pe.year,licensePlate:H.licensePlate??pe.licensePlate,color:H.color??pe.color,mileage:H.mileage!=null?H.mileage:pe.mileage,fuelType:H.fuelType??pe.fuelType,transmission:H.transmission??pe.transmission,wheelsDrive:H.wheelsDrive??pe.wheelsDrive,carCategory:H.carCategory??pe.carCategory,seats:H.seats??pe.seats,doors:H.doors??pe.doors,cylinderNumber:H.cylinderNumber??H.cylinder_number??pe.cylinderNumber,dailyRate:H.dailyRate!=null?H.dailyRate:pe.dailyRate,holidayRate:H.holidayRate!=null?H.holidayRate:pe.holidayRate,notes:H.notes??pe.notes,requireDeposit:H.requireDeposit??pe.requireDeposit,depositAmount:H.depositAmount??pe.depositAmount,deliveryAvailable:H.deliveryAvailable??pe.deliveryAvailable,deliveryFees:H.deliveryFees??pe.deliveryFees,driverAvailable:H.driverAvailable??pe.driverAvailable,driverFees:H.driverFees??pe.driverFees,maxDrivingMileage:H.maxDrivingMileage!=null?H.maxDrivingMileage:pe.maxDrivingMileage,minRentalDays:H.minRentalDays??pe.minRentalDays,selectedFeatures:Array.isArray(H.selectedFeatures)?H.selectedFeatures:pe.selectedFeatures,selectedAddons:Array.isArray(H.selectedAddons)?H.selectedAddons:pe.selectedAddons,selectedReasons:Array.isArray(H.selectedReasons)?H.selectedReasons:pe.selectedReasons,liveLocation:R(H.liveLocation),deliveryLocation:R(H.deliveryLocation),returnLocation:R(H.returnLocation)})),Ce){const pe=g1();pe?(k(ge=>({...ge,liveLocation:{...ge.liveLocation,address:ge.liveLocation?.address||"",latitude:pe.latitude,longitude:pe.longitude},deliveryLocation:{...ge.deliveryLocation,address:ge.deliveryLocation?.address||"",latitude:pe.latitude,longitude:pe.longitude},returnLocation:{...ge.returnLocation,address:ge.returnLocation?.address||"",latitude:pe.latitude,longitude:pe.longitude}})),xe.success("Form filled from description. Office location applied for Live, Delivery, and Return.")):xe.success("Form filled from description. Set your agency office location in profile to use it next time.")}else xe.success("Form filled from description. Review, add license plate and photos, then submit.")}catch(oe){const D=oe.response?.status,Ce=oe.response?.data;D===403?xe.error(Ce?.message||"Only agencies can use AI car fill."):D===422&&Ce?.errors?.description?Ce.errors.description.forEach(H=>xe.error(H)):D===500||Ce?.message?xe.error(Ce?.message||"AI parsing failed. Please fill the form manually."):xe.error("Could not parse description. Please fill the form manually.")}finally{me(!1)}},he=async O=>{O.preventDefault(),r(!0);const oe=new FormData;if(!(N.liveLocation?.address||"").trim()){xe.error("Please enter the Live Location address (region/address)."),r(!1);return}const Ce=N.make==="Other",H=N.model==="Other",R=Ce?N.customMake.trim():N.make,P=Ce||H?N.customModel.trim():N.model;if(!R){xe.error("Please enter the car make"),r(!1);return}if(!P){xe.error("Please enter the car model"),r(!1);return}oe.append("make",R),oe.append("model",P),oe.append("year",N.year),oe.append("license_plate",N.licensePlate.toUpperCase());const W={Petrol:"benz",Diesel:"diesel",Electric:"electric",Hybrid:"hybrid"};oe.append("fuel_type",W[N.fuelType]||N.fuelType.toLowerCase()),oe.append("transmission",N.transmission.toLowerCase()),oe.append("car_category",N.carCategory.toLowerCase()),oe.append("daily_rate",N.dailyRate),oe.append("seats",N.seats),oe.append("doors",N.doors),N.cylinderNumber&&oe.append("cylinder_number",N.cylinderNumber),N.color&&oe.append("color",N.color),N.mileage&&oe.append("mileage",N.mileage),N.wheelsDrive&&oe.append("wheels_drive",N.wheelsDrive.toLowerCase()),N.holidayRate&&oe.append("holiday_rate",N.holidayRate),N.notes&&oe.append("notes",N.notes),N.maxDrivingMileage&&oe.append("max_driving_mileage",N.maxDrivingMileage),N.minRentalDays&&oe.append("min_rental_days",N.minRentalDays),N.selectedFeatures.forEach(Ne=>oe.append("features[]",Ne)),N.selectedAddons.forEach(Ne=>oe.append("car_add_on[]",Ne)),N.selectedReasons.forEach(Ne=>oe.append("reason_of_rent[]",Ne)),oe.append("is_deposit",N.requireDeposit?"1":"0"),N.requireDeposit&&N.depositAmount>0&&oe.append("deposit",N.depositAmount),oe.append("is_delivered",N.deliveryAvailable?"1":"0"),N.deliveryAvailable&&N.deliveryFees>0&&oe.append("delivery_fees",N.deliveryFees),oe.append("with_driver",N.driverAvailable?"1":"0"),N.driverAvailable&&N.driverFees>0&&oe.append("driver_fees",N.driverFees),oe.append("is_private",N.isPrivate?"1":"0"),oe.append("live_location",JSON.stringify(N.liveLocation)),oe.append("delivery_location",JSON.stringify(N.deliveryLocation)),oe.append("return_location",JSON.stringify(N.returnLocation)),C.main&&oe.append("main_image_url",C.main),C.front&&oe.append("front_image_url",C.front),C.back&&oe.append("back_image_url",C.back),C.left&&oe.append("left_image_url",C.left),C.right&&oe.append("right_image_url",C.right);try{const Ne=await Le.post("/cars",oe,{headers:{"Content-Type":"multipart/form-data"}});console.log("Car created successfully:",Ne.data),xe.success("Car created successfully! Waiting for admin approval."),s("/agent/cars")}catch(Ne){console.error("Create car error:",Ne.response?.data);const X=Ne.response?.data?.errors;if(X)Object.entries(X).forEach(([pe,ge])=>{ge.forEach(Re=>xe.error(`${pe}: ${Re}`))});else{const pe=Ne.response?.data?.error||Ne.response?.data?.message||"Failed to create car";xe.error(pe)}}finally{r(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-teal-50/30 to-cyan-50/30 dark:from-gray-950 dark:via-teal-950/20 dark:to-cyan-950/20 pt-20",children:[e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse delay-700"})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(fe,{variant:"ghost",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>s(-1),children:[e.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),e.jsxs(fe,{variant:"secondary",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>s("/agent/cars"),children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Go to Cars Page"]}),e.jsxs(fe,{variant:"outline",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors border-2 border-dashed",onClick:async()=>{try{await xoe("create-car-form-agency.docx"),xe.success("Form downloaded. Print and fill by hand if needed.")}catch(O){console.error(O),xe.error("Failed to download form.")}},children:[e.jsx(cW,{className:"w-4 h-4 mr-2"}),"Download form (print & fill by hand)"]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center shadow-lg",children:e.jsx(Qt,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white",children:"Create New Car"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Add a premium vehicle to your fleet"})]})]})]}),e.jsxs("form",{onSubmit:he,className:"space-y-6",children:[e.jsx(Ue,{className:"border-2 border-teal-500/30 bg-teal-50/50 dark:bg-teal-950/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center",children:e.jsx(Yl,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Fill with AI"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Describe your car in one line; we'll pre-fill the form."})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("textarea",{placeholder:"e.g. bmw serie 5 2025 auto 4 seats 4 doors sport address beirut, location office",value:ye,onChange:O=>$(O.target.value.slice(0,2e3)),maxLength:2e3,rows:2,className:"flex-1 min-w-0 h-auto resize-y rounded-xl border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 px-4 py-3 bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder:text-gray-500"}),e.jsx(fe,{type:"button",onClick:ce,disabled:V||!ye.trim(),className:"shrink-0 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white border-0 h-12 px-6 rounded-xl font-semibold",children:V?e.jsx(e.Fragment,{children:e.jsx("span",{className:"animate-pulse",children:"Parsing"})}):e.jsxs(e.Fragment,{children:[e.jsx(Yl,{className:"w-4 h-4 mr-2 inline"}),"Fill with AI"]})})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:[ye.length,"/2000"]})]})}),e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:e.jsx(to,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Make ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:N.make,onChange:O=>{const oe=O.target.value;k(D=>({...D,make:oe,...oe!=="Other"?{customMake:""}:{}}))},className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select Make..."}),Object.keys(Jc).sort().map(O=>e.jsx("option",{value:O,children:O},O)),e.jsx("option",{value:"Other",children:"Other"})]})]}),N.make==="Other"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Make ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ae,{required:!0,placeholder:"Type the make",value:N.customMake,onChange:O=>k({...N,customMake:O.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Model ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:N.make!=="Other",value:N.model,onChange:O=>{const oe=O.target.value;k(D=>({...D,model:oe,...oe!=="Other"?{customModel:""}:{}}))},disabled:!N.make||N.make==="Other",className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Model..."}),n.map(O=>e.jsx("option",{value:O,children:O},O)),N.make&&N.make!=="Other"&&e.jsx("option",{value:"Other",children:"Other"})]}),!N.make&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a make first"}),N.make==="Other"&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a custom make above to enter a model."})]}),(N.make==="Other"||N.model==="Other")&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Model ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ae,{required:!0,placeholder:"Type the model",value:N.customModel,onChange:O=>k({...N,customModel:O.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Year ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ae,{required:!0,type:"number",placeholder:"e.g., 2024",value:N.year,onChange:O=>k({...N,year:O.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["License Plate ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ae,{required:!0,placeholder:"e.g., ABC-1234",value:N.licensePlate,onChange:O=>k({...N,licensePlate:O.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Color"}),e.jsxs("select",{value:N.color,onChange:O=>k({...N,color:O.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select Color..."}),yoe.map(O=>e.jsx("option",{value:O,children:O},O))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Mileage (km)"}),e.jsx(Ae,{type:"number",placeholder:"e.g., 15000",value:N.mileage,onChange:O=>k({...N,mileage:O.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})]})}),e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center",children:e.jsx(Vm,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Technical Specifications"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Fuel Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:N.fuelType,onChange:O=>k({...N,fuelType:O.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Petrol",children:"Petrol"}),e.jsx("option",{value:"Diesel",children:"Diesel"}),e.jsx("option",{value:"Electric",children:"Electric"}),e.jsx("option",{value:"Hybrid",children:"Hybrid"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Transmission ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:N.transmission,onChange:O=>k({...N,transmission:O.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Automatic",children:"Automatic"}),e.jsx("option",{value:"Manual",children:"Manual"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Wheels Drive"}),e.jsxs("select",{value:N.wheelsDrive,onChange:O=>k({...N,wheelsDrive:O.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"4x4",children:"4x4"}),e.jsx("option",{value:"Front",children:"Front"}),e.jsx("option",{value:"Rear",children:"Rear"}),e.jsx("option",{value:"Autoblock",children:"Autoblock"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Seats ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ae,{required:!0,type:"number",placeholder:"e.g., 5",value:N.seats,onChange:O=>k({...N,seats:O.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Doors ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ae,{required:!0,type:"number",placeholder:"e.g., 4",value:N.doors,onChange:O=>k({...N,doors:O.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Cylinder number"}),e.jsxs("select",{value:N.cylinderNumber||"",onChange:O=>k({...N,cylinderNumber:O.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"12",children:"12"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:N.carCategory,onChange:O=>k({...N,carCategory:O.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Sedan",children:"Sedan"}),e.jsx("option",{value:"Hatchback",children:"Hatchback"}),e.jsx("option",{value:"Coupe",children:"Coupe"}),e.jsx("option",{value:"SUV",children:"SUV"}),e.jsx("option",{value:"Crossover",children:"Crossover"}),e.jsx("option",{value:"Wagon",children:"Wagon"}),e.jsx("option",{value:"Pickup",children:"Pickup"}),e.jsx("option",{value:"Minivan",children:"Minivan"}),e.jsx("option",{value:"Convertible",children:"Convertible"})]})]})]})]})}),e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-600 to-teal-400 flex items-center justify-center",children:e.jsx(Yl,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Features & Add-ons"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Features (Click to select)"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:boe.map(O=>e.jsxs(Ge,{onClick:()=>T(O,N.selectedFeatures,oe=>k({...N,selectedFeatures:oe})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${N.selectedFeatures.includes(O)?"bg-gradient-to-r from-teal-600 to-cyan-600 text-white hover:from-teal-700 hover:to-cyan-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[N.selectedFeatures.includes(O)&&e.jsx(Qn,{className:"w-3 h-3 mr-1"}),O]},O))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Add-ons (Click to select)"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:voe.map(O=>e.jsxs(Ge,{onClick:()=>T(O,N.selectedAddons,oe=>k({...N,selectedAddons:oe})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${N.selectedAddons.includes(O)?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white hover:from-cyan-700 hover:to-blue-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[N.selectedAddons.includes(O)&&e.jsx(Qn,{className:"w-3 h-3 mr-1"}),O]},O))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Reason of Rent (Click to select)"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:woe.map(O=>e.jsxs(Ge,{onClick:()=>T(O,N.selectedReasons,oe=>k({...N,selectedReasons:oe})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${N.selectedReasons.includes(O)?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white hover:from-teal-600 hover:to-cyan-600":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[N.selectedReasons.includes(O)&&e.jsx(Qn,{className:"w-3 h-3 mr-1"}),O]},O))})]})]})]})}),e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-yellow-500 flex items-center justify-center",children:e.jsx(dr,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Pricing & Rental Terms"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Daily Rate ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(Ae,{required:!0,type:"number",placeholder:"100",value:N.dailyRate,onChange:O=>k({...N,dailyRate:O.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Holiday Rate"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(Ae,{type:"number",placeholder:"150",value:N.holidayRate,onChange:O=>k({...N,holidayRate:O.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Min Rental Days"}),e.jsx(Ae,{type:"number",placeholder:"e.g., 1",value:N.minRentalDays,onChange:O=>k({...N,minRentalDays:O.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Max Driving Mileage/Day (km)"}),e.jsx(Ae,{type:"number",placeholder:"e.g., 200",value:N.maxDrivingMileage,onChange:O=>k({...N,maxDrivingMileage:O.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{className:"flex items-center space-x-3 pt-8",children:[e.jsx("input",{type:"checkbox",id:"requireDeposit",checked:N.requireDeposit,onChange:O=>k({...N,requireDeposit:O.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("label",{htmlFor:"requireDeposit",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Require Deposit"})]}),N.requireDeposit&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Deposit Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(Ae,{type:"number",placeholder:"500",value:N.depositAmount,onChange:O=>k({...N,depositAmount:O.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]})]})]})}),e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:e.jsx(Qt,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Delivery & Driver Options"})]}),e.jsxs("div",{className:"flex flex-wrap gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"deliveryAvailable",checked:N.deliveryAvailable,onChange:O=>k({...N,deliveryAvailable:O.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("label",{htmlFor:"deliveryAvailable",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Delivery Available"})]}),N.deliveryAvailable&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Delivery Fee"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(Ae,{type:"number",placeholder:"50",value:N.deliveryFees,onChange:O=>k({...N,deliveryFees:O.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"driverAvailable",checked:N.driverAvailable,onChange:O=>k({...N,driverAvailable:O.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("label",{htmlFor:"driverAvailable",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Driver Available"})]}),N.driverAvailable&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Driver Fee Per Day"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(Ae,{type:"number",placeholder:"50",value:N.driverFees,onChange:O=>k({...N,driverFees:O.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[e.jsx("input",{type:"checkbox",id:"isPrivate",checked:N.isPrivate,onChange:O=>k({...N,isPrivate:O.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("label",{htmlFor:"isPrivate",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Private car (hidden from public listings)"})]})]})]})}),e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-600 to-blue-500 flex items-center justify-center",children:e.jsx(Lu,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Car Images"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:["main","front","back","left","right"].map(O=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:O==="main"?"Main Image *":`${O.charAt(0).toUpperCase()+O.slice(1)} Image`}),e.jsx("div",{className:"relative",onDragOver:oe=>K(oe,O),onDragLeave:oe=>L(oe,O),onDrop:oe=>J(oe,O),children:E[O]?e.jsxs("div",{className:`relative aspect-square rounded-xl overflow-hidden border-2 bg-gray-100 dark:bg-gray-800 select-none ${Y===O?"border-teal-500 ring-2 ring-teal-500/30":"border-gray-300"}`,onClick:oe=>oe.preventDefault(),role:"presentation",children:[e.jsx("img",{src:E[O],alt:"",className:"w-full h-full object-cover pointer-events-none",draggable:!1}),Y===O&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-teal-500/20 pointer-events-none",children:e.jsx("span",{className:"text-sm font-semibold text-teal-700 dark:text-teal-200",children:"Drop to replace"})}),e.jsx("button",{type:"button",onClick:oe=>{oe.preventDefault(),oe.stopPropagation(),Q(O)},className:"absolute top-2 right-2 bg-red-500 text-white p-1.5 rounded-full hover:bg-red-600 z-10",children:e.jsx(Sr,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"block cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:oe=>{const D=oe.target.files?.[0];D&&re(O,D),oe.target.value=""}}),e.jsxs("div",{className:`aspect-square border-2 border-dashed rounded-xl flex flex-col items-center justify-center transition bg-gray-50 dark:bg-gray-800/50 ${Y===O?"border-teal-500 bg-teal-50/50 dark:bg-teal-950/30":"hover:border-teal-500"}`,children:[e.jsx(N_,{className:"w-10 h-10 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500 mt-2",children:"Click or drag & drop"})]})]})})]},O))})]})}),e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-600 to-cyan-600 flex items-center justify-center",children:e.jsx(js,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Location Information"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["liveLocation","deliveryLocation","returnLocation"].map(O=>{const oe=O==="liveLocation"?"Live Location":O==="deliveryLocation"?"Delivery Location":"Return Location",D=N[O],Ce=D.latitude&&D.longitude&&D.latitude!==0&&D.longitude!==0;return e.jsxs("div",{className:"p-5 border-2 rounded-lg bg-gray-50 dark:bg-gray-800",children:[e.jsx("h4",{className:"font-semibold mb-4 text-lg",children:oe}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Address (region) ",O==="liveLocation"&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:D.address||"",onChange:H=>q(O,H.target.value),className:`w-full h-12 border-2 rounded-xl px-4 bg-white dark:bg-gray-900 ${O==="liveLocation"&&!(D.address||"").trim()?"border-amber-400 dark:border-amber-500 focus:border-teal-500":"border-gray-200 dark:border-gray-700 focus:border-teal-500"}`,required:O==="liveLocation",children:[e.jsx("option",{value:"",children:"Select region..."}),joe.map(H=>e.jsx("option",{value:H,children:H},H))]}),O==="liveLocation"&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Required: enter the live address/region where the car is located."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Paste Google Maps link (to set coordinates)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ae,{placeholder:"e.g. https://www.google.com/maps/@33.89,35.50 or https://maps.app.goo.gl/...",value:y[O]||"",onChange:H=>_(R=>({...R,[O]:H.target.value})),onBlur:H=>{const R=H.target.value?.trim();R&&G(O,R)},className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl flex-1"}),e.jsx(fe,{type:"button",variant:"outline",disabled:j===O,onClick:()=>{const H=y[O];H?.trim()&&G(O,H)},className:"h-12 shrink-0 min-w-[80px]",children:j===O?e.jsxs(e.Fragment,{children:[e.jsx(fn,{className:"w-4 h-4 mr-1 animate-spin"}),"Resolving..."]}):"Apply"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Paste a link with coordinates (e.g. google.com/maps/@33.89,35.50) or a short link (maps.app.goo.gl). If a short link fails, open it in a new tab, copy the long URL from the address bar, and paste that here."})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(fe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>Z(O),children:[e.jsx(q0,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),e.jsxs(fe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>ee(O),children:[e.jsx(js,{className:"w-4 h-4 mr-2"}),"Select on Map"]}),e.jsxs(fe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>be(O),children:[e.jsx(wa,{className:"w-4 h-4 mr-2"}),"Office location"]})]}),Ce?e.jsx("div",{className:"p-4 bg-primary/10 border-2 border-primary/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:e.jsx(js,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm mb-1",children:"Location Selected"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Latitude: ",D.latitude]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Longitude: ",D.longitude]})]})]})}):e.jsxs("div",{className:"p-4 bg-muted/30 border-2 border-dashed rounded-lg text-center",children:[e.jsx(js,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No location selected yet"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click one of the buttons above to set location"})]})]})]},O)})})]})}),e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:e.jsx(to,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Additional Information"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),e.jsx("textarea",{placeholder:"Any additional information about the vehicle...",value:N.notes,onChange:O=>k({...N,notes:O.target.value}),rows:5,className:"w-full border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl p-4 bg-white dark:bg-gray-900 resize-none"})]})]})}),e.jsxs("div",{className:"flex gap-4 justify-end",children:[e.jsx(fe,{type:"button",variant:"outline",size:"lg",className:"px-8 py-6 rounded-xl border-2 border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>s(-1),children:"Cancel"}),e.jsxs(fe,{type:"submit",size:"lg",disabled:t||!C.main,className:"px-8 py-6 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsx(N_,{className:"w-5 h-5 mr-2"}),t?"Creating Car...":"Create Car Listing"]})]})]})]})]}),e.jsx(yr,{open:i,onOpenChange:O=>{o(O),O||g("")},children:e.jsxs(ur,{className:"max-w-4xl max-h-[90vh]",children:[e.jsxs(hr,{children:[e.jsx(fr,{children:"Select Location"}),e.jsx(xi,{children:"Search or click on the map, or use your office location. Drag the marker to adjust."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"flex flex-1 min-w-[200px] rounded-lg overflow-hidden border-2 border-gray-200 dark:border-gray-700",children:[e.jsx(Ae,{placeholder:"Search address or place...",value:f,onChange:O=>g(O.target.value),onKeyDown:O=>{O.key==="Enter"&&(O.preventDefault(),ie())},className:"rounded-r-none border-0 h-11 focus-visible:ring-0"}),e.jsx(fe,{type:"button",variant:"secondary",onClick:ie,disabled:b,className:"rounded-l-none h-11 px-4",children:e.jsx(Mr,{className:"w-4 h-4"})})]}),e.jsxs(fe,{type:"button",variant:"outline",onClick:le,className:"h-11 shrink-0",children:[e.jsx(wa,{className:"w-4 h-4 mr-2"}),"Office location"]})]}),e.jsx("div",{className:"w-full h-[500px] bg-muted rounded-lg overflow-hidden",children:h&&e.jsx(koe,{center:h,selectedLocation:h,onLocationSelect:F})}),h&&e.jsx("div",{className:"p-3 bg-muted/50 rounded-md",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Selected:"})," ",h.latitude,", ",h.longitude]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(fe,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(fe,{onClick:de,children:"Confirm Location"})]})]})]})})]})},W2=w.createContext({});function Y2(s){const t=w.useRef(null);return t.current===null&&(t.current=s()),t.current}const K2=typeof window<"u",B8=K2?w.useLayoutEffect:w.useEffect,Cy=w.createContext(null);function X2(s,t){s.indexOf(t)===-1&&s.push(t)}function Z2(s,t){const r=s.indexOf(t);r>-1&&s.splice(r,1)}const Qo=(s,t,r)=>r>t?t:r<s?s:r;let Q2=()=>{};const Jo={},I8=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function z8(s){return typeof s=="object"&&s!==null}const U8=s=>/^0[^.\s]+$/u.test(s);function J2(s){let t;return()=>(t===void 0&&(t=s()),t)}const Ka=s=>s,Coe=(s,t)=>r=>t(s(r)),ap=(...s)=>s.reduce(Coe),Sm=(s,t,r)=>{const n=t-s;return n===0?1:(r-s)/n};class ek{constructor(){this.subscriptions=[]}add(t){return X2(this.subscriptions,t),()=>Z2(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qi=s=>s*1e3,Ya=s=>s/1e3;function $8(s,t){return t?s*(1e3/t):0}const V8=(s,t,r)=>(((1-3*r+3*t)*s+(3*r-6*t))*s+3*t)*s,Aoe=1e-7,Eoe=12;function Toe(s,t,r,n,a){let i,o,c=0;do o=t+(r-t)/2,i=V8(o,n,a)-s,i>0?r=o:t=o;while(Math.abs(i)>Aoe&&++c<Eoe);return o}function ip(s,t,r,n){if(s===t&&r===n)return Ka;const a=i=>Toe(i,0,1,s,r);return i=>i===0||i===1?i:V8(a(i),t,n)}const H8=s=>t=>t<=.5?s(2*t)/2:(2-s(2*(1-t)))/2,q8=s=>t=>1-s(1-t),G8=ip(.33,1.53,.69,.99),tk=q8(G8),W8=H8(tk),Y8=s=>(s*=2)<1?.5*tk(s):.5*(2-Math.pow(2,-10*(s-1))),sk=s=>1-Math.sin(Math.acos(s)),K8=q8(sk),X8=H8(sk),Roe=ip(.42,0,1,1),Doe=ip(0,0,.58,1),Z8=ip(.42,0,.58,1),Moe=s=>Array.isArray(s)&&typeof s[0]!="number",Q8=s=>Array.isArray(s)&&typeof s[0]=="number",Poe={linear:Ka,easeIn:Roe,easeInOut:Z8,easeOut:Doe,circIn:sk,circInOut:X8,circOut:K8,backIn:tk,backInOut:W8,backOut:G8,anticipate:Y8},Ooe=s=>typeof s=="string",NR=s=>{if(Q8(s)){Q2(s.length===4);const[t,r,n,a]=s;return ip(t,r,n,a)}else if(Ooe(s))return Poe[s];return s},sx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Loe(s,t){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(h.schedule(m),s()),m(c)}const h={schedule:(m,f=!1,g=!1)=>{const v=g&&a?r:n;return f&&o.add(m),v.has(m)||v.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(c=m,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(d),r.clear(),a=!1,i&&(i=!1,h.process(m))}};return h}const Foe=40;function J8(s,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=sx.reduce((N,k)=>(N[k]=Loe(i),N),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:f,preRender:g,render:b,postRender:v}=o,y=()=>{const N=Jo.useManualTiming?a.timestamp:performance.now();r=!1,Jo.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(N-a.timestamp,Foe),1)),a.timestamp=N,a.isProcessing=!0,c.process(a),d.process(a),h.process(a),m.process(a),f.process(a),g.process(a),b.process(a),v.process(a),a.isProcessing=!1,r&&t&&(n=!1,s(y))},_=()=>{r=!0,n=!0,a.isProcessing||s(y)};return{schedule:sx.reduce((N,k)=>{const C=o[k];return N[k]=(z,E=!1,U=!1)=>(r||_(),C.schedule(z,E,U)),N},{}),cancel:N=>{for(let k=0;k<sx.length;k++)o[sx[k]].cancel(N)},state:a,steps:o}}const{schedule:or,cancel:dc,state:hn,steps:x1}=J8(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ka,!0);let Fx;function Boe(){Fx=void 0}const Zn={now:()=>(Fx===void 0&&Zn.set(hn.isProcessing||Jo.useManualTiming?hn.timestamp:performance.now()),Fx),set:s=>{Fx=s,queueMicrotask(Boe)}},eF=s=>t=>typeof t=="string"&&t.startsWith(s),tF=eF("--"),Ioe=eF("var(--"),rk=s=>Ioe(s)?zoe.test(s.split("/*")[0].trim()):!1,zoe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ch={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Cm={...Ch,transform:s=>Qo(0,1,s)},rx={...Ch,default:1},lm=s=>Math.round(s*1e5)/1e5,nk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Uoe(s){return s==null}const $oe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ak=(s,t)=>r=>!!(typeof r=="string"&&$oe.test(r)&&r.startsWith(s)||t&&!Uoe(r)&&Object.prototype.hasOwnProperty.call(r,t)),sF=(s,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,c]=n.match(nk);return{[s]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},Voe=s=>Qo(0,255,s),y1={...Ch,transform:s=>Math.round(Voe(s))},pd={test:ak("rgb","red"),parse:sF("red","green","blue"),transform:({red:s,green:t,blue:r,alpha:n=1})=>"rgba("+y1.transform(s)+", "+y1.transform(t)+", "+y1.transform(r)+", "+lm(Cm.transform(n))+")"};function Hoe(s){let t="",r="",n="",a="";return s.length>5?(t=s.substring(1,3),r=s.substring(3,5),n=s.substring(5,7),a=s.substring(7,9)):(t=s.substring(1,2),r=s.substring(2,3),n=s.substring(3,4),a=s.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const eN={test:ak("#"),parse:Hoe,transform:pd.transform},op=s=>({test:t=>typeof t=="string"&&t.endsWith(s)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${s}`}),ql=op("deg"),Ji=op("%"),Gt=op("px"),qoe=op("vh"),Goe=op("vw"),kR={...Ji,parse:s=>Ji.parse(s)/100,transform:s=>Ji.transform(s*100)},Fu={test:ak("hsl","hue"),parse:sF("hue","saturation","lightness"),transform:({hue:s,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(s)+", "+Ji.transform(lm(t))+", "+Ji.transform(lm(r))+", "+lm(Cm.transform(n))+")"},Hr={test:s=>pd.test(s)||eN.test(s)||Fu.test(s),parse:s=>pd.test(s)?pd.parse(s):Fu.test(s)?Fu.parse(s):eN.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?pd.transform(s):Fu.transform(s),getAnimatableNone:s=>{const t=Hr.parse(s);return t.alpha=0,Hr.transform(t)}},Woe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yoe(s){return isNaN(s)&&typeof s=="string"&&(s.match(nk)?.length||0)+(s.match(Woe)?.length||0)>0}const rF="number",nF="color",Koe="var",Xoe="var(",SR="${}",Zoe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Am(s){const t=s.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const c=t.replace(Zoe,d=>(Hr.test(d)?(n.color.push(i),a.push(nF),r.push(Hr.parse(d))):d.startsWith(Xoe)?(n.var.push(i),a.push(Koe),r.push(d)):(n.number.push(i),a.push(rF),r.push(parseFloat(d))),++i,SR)).split(SR);return{values:r,split:c,indexes:n,types:a}}function aF(s){return Am(s).values}function iF(s){const{split:t,types:r}=Am(s),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const c=r[o];c===rF?i+=lm(a[o]):c===nF?i+=Hr.transform(a[o]):i+=a[o]}return i}}const Qoe=s=>typeof s=="number"?0:Hr.test(s)?Hr.getAnimatableNone(s):s;function Joe(s){const t=aF(s);return iF(s)(t.map(Qoe))}const uc={test:Yoe,parse:aF,createTransformer:iF,getAnimatableNone:Joe};function b1(s,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?s+(t-s)*6*r:r<1/2?t:r<2/3?s+(t-s)*(2/3-r)*6:s}function ele({hue:s,saturation:t,lightness:r,alpha:n}){s/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const c=r<.5?r*(1+t):r+t-r*t,d=2*r-c;a=b1(d,c,s+1/3),i=b1(d,c,s),o=b1(d,c,s-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function b0(s,t){return r=>r>0?t:s}const gr=(s,t,r)=>s+(t-s)*r,v1=(s,t,r)=>{const n=s*s,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},tle=[eN,pd,Fu],sle=s=>tle.find(t=>t.test(s));function CR(s){const t=sle(s);if(!t)return!1;let r=t.parse(s);return t===Fu&&(r=ele(r)),r}const AR=(s,t)=>{const r=CR(s),n=CR(t);if(!r||!n)return b0(s,t);const a={...r};return i=>(a.red=v1(r.red,n.red,i),a.green=v1(r.green,n.green,i),a.blue=v1(r.blue,n.blue,i),a.alpha=gr(r.alpha,n.alpha,i),pd.transform(a))},tN=new Set(["none","hidden"]);function rle(s,t){return tN.has(s)?r=>r<=0?s:t:r=>r>=1?t:s}function nle(s,t){return r=>gr(s,t,r)}function ik(s){return typeof s=="number"?nle:typeof s=="string"?rk(s)?b0:Hr.test(s)?AR:ole:Array.isArray(s)?oF:typeof s=="object"?Hr.test(s)?AR:ale:b0}function oF(s,t){const r=[...s],n=r.length,a=s.map((i,o)=>ik(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function ale(s,t){const r={...s,...t},n={};for(const a in r)s[a]!==void 0&&t[a]!==void 0&&(n[a]=ik(s[a])(s[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function ile(s,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=s.indexes[i][n[i]],c=s.values[o]??0;r[a]=c,n[i]++}return r}const ole=(s,t)=>{const r=uc.createTransformer(t),n=Am(s),a=Am(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?tN.has(s)&&!a.values.length||tN.has(t)&&!n.values.length?rle(s,t):ap(oF(ile(n,a),a.values),r):b0(s,t)};function lF(s,t,r){return typeof s=="number"&&typeof t=="number"&&typeof r=="number"?gr(s,t,r):ik(s)(s,t)}const lle=s=>{const t=({timestamp:r})=>s(r);return{start:(r=!0)=>or.update(t,r),stop:()=>dc(t),now:()=>hn.isProcessing?hn.timestamp:Zn.now()}},cF=(s,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(s(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},v0=2e4;function ok(s){let t=0;const r=50;let n=s.next(t);for(;!n.done&&t<v0;)t+=r,n=s.next(t);return t>=v0?1/0:t}function cle(s,t=100,r){const n=r({...s,keyframes:[0,t]}),a=Math.min(ok(n),v0);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Ya(a)}}const dle=5;function dF(s,t,r){const n=Math.max(t-dle,0);return $8(r-s(n),t-n)}const Cr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},w1=.001;function ule({duration:s=Cr.duration,bounce:t=Cr.bounce,velocity:r=Cr.velocity,mass:n=Cr.mass}){let a,i,o=1-t;o=Qo(Cr.minDamping,Cr.maxDamping,o),s=Qo(Cr.minDuration,Cr.maxDuration,Ya(s)),o<1?(a=h=>{const m=h*o,f=m*s,g=m-r,b=sN(h,o),v=Math.exp(-f);return w1-g/b*v},i=h=>{const f=h*o*s,g=f*r+r,b=Math.pow(o,2)*Math.pow(h,2)*s,v=Math.exp(-f),y=sN(Math.pow(h,2),o);return(-a(h)+w1>0?-1:1)*((g-b)*v)/y}):(a=h=>{const m=Math.exp(-h*s),f=(h-r)*s+1;return-w1+m*f},i=h=>{const m=Math.exp(-h*s),f=(r-h)*(s*s);return m*f});const c=5/s,d=fle(a,i,c);if(s=Qi(s),isNaN(d))return{stiffness:Cr.stiffness,damping:Cr.damping,duration:s};{const h=Math.pow(d,2)*n;return{stiffness:h,damping:o*2*Math.sqrt(n*h),duration:s}}}const hle=12;function fle(s,t,r){let n=r;for(let a=1;a<hle;a++)n=n-s(n)/t(n);return n}function sN(s,t){return s*Math.sqrt(1-t*t)}const mle=["duration","bounce"],ple=["stiffness","damping","mass"];function ER(s,t){return t.some(r=>s[r]!==void 0)}function gle(s){let t={velocity:Cr.velocity,stiffness:Cr.stiffness,damping:Cr.damping,mass:Cr.mass,isResolvedFromDuration:!1,...s};if(!ER(s,ple)&&ER(s,mle))if(s.visualDuration){const r=s.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Qo(.05,1,1-(s.bounce||0))*Math.sqrt(a);t={...t,mass:Cr.mass,stiffness:a,damping:i}}else{const r=ule(s);t={...t,...r,mass:Cr.mass},t.isResolvedFromDuration=!0}return t}function w0(s=Cr.visualDuration,t=Cr.bounce){const r=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:t}:s;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],c={done:!1,value:i},{stiffness:d,damping:h,mass:m,duration:f,velocity:g,isResolvedFromDuration:b}=gle({...r,velocity:-Ya(r.velocity||0)}),v=g||0,y=h/(2*Math.sqrt(d*m)),_=o-i,j=Ya(Math.sqrt(d/m)),S=Math.abs(_)<5;n||(n=S?Cr.restSpeed.granular:Cr.restSpeed.default),a||(a=S?Cr.restDelta.granular:Cr.restDelta.default);let N;if(y<1){const C=sN(j,y);N=z=>{const E=Math.exp(-y*j*z);return o-E*((v+y*j*_)/C*Math.sin(C*z)+_*Math.cos(C*z))}}else if(y===1)N=C=>o-Math.exp(-j*C)*(_+(v+j*_)*C);else{const C=j*Math.sqrt(y*y-1);N=z=>{const E=Math.exp(-y*j*z),U=Math.min(C*z,300);return o-E*((v+y*j*_)*Math.sinh(U)+C*_*Math.cosh(U))/C}}const k={calculatedDuration:b&&f||null,next:C=>{const z=N(C);if(b)c.done=C>=f;else{let E=C===0?v:0;y<1&&(E=C===0?Qi(v):dF(N,C,z));const U=Math.abs(E)<=n,T=Math.abs(o-z)<=a;c.done=U&&T}return c.value=c.done?o:z,c},toString:()=>{const C=Math.min(ok(k),v0),z=cF(E=>k.next(C*E).value,C,30);return C+"ms "+z},toTransition:()=>{}};return k}w0.applyToOptions=s=>{const t=cle(s,100,w0);return s.ease=t.ease,s.duration=Qi(t.duration),s.type="keyframes",s};function rN({keyframes:s,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:d,restDelta:h=.5,restSpeed:m}){const f=s[0],g={done:!1,value:f},b=U=>c!==void 0&&U<c||d!==void 0&&U>d,v=U=>c===void 0?d:d===void 0||Math.abs(c-U)<Math.abs(d-U)?c:d;let y=r*t;const _=f+y,j=o===void 0?_:o(_);j!==_&&(y=j-f);const S=U=>-y*Math.exp(-U/n),N=U=>j+S(U),k=U=>{const T=S(U),re=N(U);g.done=Math.abs(T)<=h,g.value=g.done?j:re};let C,z;const E=U=>{b(g.value)&&(C=U,z=w0({keyframes:[g.value,v(g.value)],velocity:dF(N,U,g.value),damping:a,stiffness:i,restDelta:h,restSpeed:m}))};return E(0),{calculatedDuration:null,next:U=>{let T=!1;return!z&&C===void 0&&(T=!0,k(U),E(U)),C!==void 0&&U>=C?z.next(U-C):(!T&&k(U),g)}}}function xle(s,t,r){const n=[],a=r||Jo.mix||lF,i=s.length-1;for(let o=0;o<i;o++){let c=a(s[o],s[o+1]);if(t){const d=Array.isArray(t)?t[o]||Ka:t;c=ap(d,c)}n.push(c)}return n}function yle(s,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=s.length;if(Q2(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=s[0]===s[1];s[0]>s[i-1]&&(s=[...s].reverse(),t=[...t].reverse());const c=xle(t,n,a),d=c.length,h=m=>{if(o&&m<s[0])return t[0];let f=0;if(d>1)for(;f<s.length-2&&!(m<s[f+1]);f++);const g=Sm(s[f],s[f+1],m);return c[f](g)};return r?m=>h(Qo(s[0],s[i-1],m)):h}function ble(s,t){const r=s[s.length-1];for(let n=1;n<=t;n++){const a=Sm(0,t,n);s.push(gr(r,1,a))}}function vle(s){const t=[0];return ble(t,s.length-1),t}function wle(s,t){return s.map(r=>r*t)}function jle(s,t){return s.map(()=>t||Z8).splice(0,s.length-1)}function cm({duration:s=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=Moe(n)?n.map(NR):NR(n),i={done:!1,value:t[0]},o=wle(r&&r.length===t.length?r:vle(t),s),c=yle(o,t,{ease:Array.isArray(a)?a:jle(t,a)});return{calculatedDuration:s,next:d=>(i.value=c(d),i.done=d>=s,i)}}const _le=s=>s!==null;function lk(s,{repeat:t,repeatType:r="loop"},n,a=1){const i=s.filter(_le),c=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!c||n===void 0?i[c]:n}const Nle={decay:rN,inertia:rN,tween:cm,keyframes:cm,spring:w0};function uF(s){typeof s.type=="string"&&(s.type=Nle[s.type])}class ck{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const kle=s=>s/100;class dk extends ck{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Zn.now()&&this.tick(Zn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;uF(t);const{type:r=cm,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:c}=t;const d=r||cm;d!==cm&&typeof c[0]!="number"&&(this.mixKeyframes=ap(kle,lF(c[0],c[1])),c=[0,100]);const h=d({...t,keyframes:c});i==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=ok(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=h}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:m,repeat:f,repeatType:g,repeatDelay:b,type:v,onUpdate:y,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const j=this.currentTime-h*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let N=this.currentTime,k=n;if(f){const U=Math.min(this.currentTime,a)/c;let T=Math.floor(U),re=U%1;!re&&U>=1&&(re=1),re===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(g==="reverse"?(re=1-re,b&&(re-=b/c)):g==="mirror"&&(k=o)),N=Qo(0,1,re)*c}const C=S?{done:!1,value:m[0]}:k.next(N);i&&(C.value=i(C.value));let{done:z}=C;!S&&d!==null&&(z=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return E&&v!==rN&&(C.value=lk(m,this.options,_,this.speed)),y&&y(C.value),E&&this.finish(),C}then(t,r){return this.finished.then(t,r)}get duration(){return Ya(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ya(t)}get time(){return Ya(this.currentTime)}set time(t){t=Qi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Zn.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ya(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=lle,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Sle(s){for(let t=1;t<s.length;t++)s[t]??(s[t]=s[t-1])}const gd=s=>s*180/Math.PI,nN=s=>{const t=gd(Math.atan2(s[1],s[0]));return aN(t)},Cle={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:nN,rotateZ:nN,skewX:s=>gd(Math.atan(s[1])),skewY:s=>gd(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},aN=s=>(s=s%360,s<0&&(s+=360),s),TR=nN,RR=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),DR=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),Ale={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RR,scaleY:DR,scale:s=>(RR(s)+DR(s))/2,rotateX:s=>aN(gd(Math.atan2(s[6],s[5]))),rotateY:s=>aN(gd(Math.atan2(-s[2],s[0]))),rotateZ:TR,rotate:TR,skewX:s=>gd(Math.atan(s[4])),skewY:s=>gd(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function iN(s){return s.includes("scale")?1:0}function oN(s,t){if(!s||s==="none")return iN(t);const r=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Ale,a=r;else{const c=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Cle,a=c}if(!a)return iN(t);const i=n[t],o=a[1].split(",").map(Tle);return typeof i=="function"?i(o):o[i]}const Ele=(s,t)=>{const{transform:r="none"}=getComputedStyle(s);return oN(r,t)};function Tle(s){return parseFloat(s.trim())}const Ah=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Eh=new Set(Ah),MR=s=>s===Ch||s===Gt,Rle=new Set(["x","y","z"]),Dle=Ah.filter(s=>!Rle.has(s));function Mle(s){const t=[];return Dle.forEach(r=>{const n=s.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const bd={width:({x:s},{paddingLeft:t="0",paddingRight:r="0"})=>s.max-s.min-parseFloat(t)-parseFloat(r),height:({y:s},{paddingTop:t="0",paddingBottom:r="0"})=>s.max-s.min-parseFloat(t)-parseFloat(r),top:(s,{top:t})=>parseFloat(t),left:(s,{left:t})=>parseFloat(t),bottom:({y:s},{top:t})=>parseFloat(t)+(s.max-s.min),right:({x:s},{left:t})=>parseFloat(t)+(s.max-s.min),x:(s,{transform:t})=>oN(t,"x"),y:(s,{transform:t})=>oN(t,"y")};bd.translateX=bd.x;bd.translateY=bd.y;const vd=new Set;let lN=!1,cN=!1,dN=!1;function hF(){if(cN){const s=Array.from(vd).filter(n=>n.needsMeasurement),t=new Set(s.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Mle(n);a.length&&(r.set(n,a),n.render())}),s.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),s.forEach(n=>n.measureEndState()),s.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}cN=!1,lN=!1,vd.forEach(s=>s.complete(dN)),vd.clear()}function fF(){vd.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(cN=!0)})}function Ple(){dN=!0,fF(),hF(),dN=!1}class uk{constructor(t,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(vd.add(this),lN||(lN=!0,or.read(fF),or.resolveKeyframes(hF))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const c=n.readValue(r,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}Sle(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),vd.delete(this)}cancel(){this.state==="scheduled"&&(vd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ole=s=>s.startsWith("--");function Lle(s,t,r){Ole(t)?s.style.setProperty(t,r):s.style[t]=r}const Fle=J2(()=>window.ScrollTimeline!==void 0),Ble={};function Ile(s,t){const r=J2(s);return()=>Ble[t]??r()}const mF=Ile(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qf=([s,t,r,n])=>`cubic-bezier(${s}, ${t}, ${r}, ${n})`,PR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qf([0,.65,.55,1]),circOut:Qf([.55,0,1,.45]),backIn:Qf([.31,.01,.66,-.59]),backOut:Qf([.33,1.53,.69,.99])};function pF(s,t){if(s)return typeof s=="function"?mF()?cF(s,t):"ease-out":Q8(s)?Qf(s):Array.isArray(s)?s.map(r=>pF(r,t)||PR.easeOut):PR[s]}function zle(s,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[t]:r};d&&(m.offset=d);const f=pF(c,a);Array.isArray(f)&&(m.easing=f);const g={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),s.animate(m,g)}function gF(s){return typeof s=="function"&&"applyToOptions"in s}function Ule({type:s,...t}){return gF(s)&&mF()?s.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class $le extends ck{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Q2(typeof t.type!="string");const h=Ule(t);this.animation=zle(r,n,a,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=lk(a,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):Lle(r,n,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ya(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ya(t)}get time(){return Ya(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Qi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Fle()?(this.animation.timeline=t,Ka):r(this)}}const xF={anticipate:Y8,backInOut:W8,circInOut:X8};function Vle(s){return s in xF}function Hle(s){typeof s.ease=="string"&&Vle(s.ease)&&(s.ease=xF[s.ease])}const OR=10;class qle extends $le{constructor(t){Hle(t),uF(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const c=new dk({...o,autoplay:!1}),d=Qi(this.finishedTime??this.time);r.setWithVelocity(c.sample(d-OR).value,c.sample(d).value,OR),c.stop()}}const LR=(s,t)=>t==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(uc.test(s)||s==="0")&&!s.startsWith("url("));function Gle(s){const t=s[0];if(s.length===1)return!0;for(let r=0;r<s.length;r++)if(s[r]!==t)return!0}function Wle(s,t,r,n){const a=s[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=s[s.length-1],o=LR(a,t),c=LR(i,t);return!o||!c?!1:Gle(s)||(r==="spring"||gF(r))&&n}function uN(s){s.duration=0,s.type="keyframes"}const Yle=new Set(["opacity","clipPath","filter","transform"]),Kle=J2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Xle(s){const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=s;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return Kle()&&r&&Yle.has(r)&&(r!=="transform"||!h)&&!d&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const Zle=40;class Qle extends ck{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:c,name:d,motionValue:h,element:m,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Zn.now();const g={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:d,motionValue:h,element:m,...f},b=m?.KeyframeResolver||uk;this.keyframeResolver=new b(c,(v,y,_)=>this.onKeyframesResolved(v,y,g,!_),d,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:c,delay:d,isHandoff:h,onUpdate:m}=n;this.resolvedAt=Zn.now(),Wle(t,i,o,c)||((Jo.instantAnimations||!d)&&m?.(lk(t,n,r)),t[0]=t[t.length-1],uN(n),n.repeat=0);const g={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Zle?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},b=!h&&Xle(g)?new qle({...g,element:g.motionValue.owner.current}):new dk(g);b.finished.then(()=>this.notifyFinished()).catch(Ka),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ple()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Jle=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ece(s){const t=Jle.exec(s);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function yF(s,t,r=1){const[n,a]=ece(s);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return I8(o)?parseFloat(o):o}return rk(a)?yF(a,t,r+1):a}function hk(s,t){return s?.[t]??s?.default??s}const bF=new Set(["width","height","top","left","right","bottom",...Ah]),tce={test:s=>s==="auto",parse:s=>s},vF=s=>t=>t.test(s),wF=[Ch,Gt,Ji,ql,Goe,qoe,tce],FR=s=>wF.find(vF(s));function sce(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||U8(s):!0}const rce=new Set(["brightness","contrast","saturate","opacity"]);function nce(s){const[t,r]=s.slice(0,-1).split("(");if(t==="drop-shadow")return s;const[n]=r.match(nk)||[];if(!n)return s;const a=r.replace(n,"");let i=rce.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const ace=/\b([a-z-]*)\(.*?\)/gu,hN={...uc,getAnimatableNone:s=>{const t=s.match(ace);return t?t.map(nce).join(" "):s}},BR={...Ch,transform:Math.round},ice={rotate:ql,rotateX:ql,rotateY:ql,rotateZ:ql,scale:rx,scaleX:rx,scaleY:rx,scaleZ:rx,skew:ql,skewX:ql,skewY:ql,distance:Gt,translateX:Gt,translateY:Gt,translateZ:Gt,x:Gt,y:Gt,z:Gt,perspective:Gt,transformPerspective:Gt,opacity:Cm,originX:kR,originY:kR,originZ:Gt},fk={borderWidth:Gt,borderTopWidth:Gt,borderRightWidth:Gt,borderBottomWidth:Gt,borderLeftWidth:Gt,borderRadius:Gt,radius:Gt,borderTopLeftRadius:Gt,borderTopRightRadius:Gt,borderBottomRightRadius:Gt,borderBottomLeftRadius:Gt,width:Gt,maxWidth:Gt,height:Gt,maxHeight:Gt,top:Gt,right:Gt,bottom:Gt,left:Gt,padding:Gt,paddingTop:Gt,paddingRight:Gt,paddingBottom:Gt,paddingLeft:Gt,margin:Gt,marginTop:Gt,marginRight:Gt,marginBottom:Gt,marginLeft:Gt,backgroundPositionX:Gt,backgroundPositionY:Gt,...ice,zIndex:BR,fillOpacity:Cm,strokeOpacity:Cm,numOctaves:BR},oce={...fk,color:Hr,backgroundColor:Hr,outlineColor:Hr,fill:Hr,stroke:Hr,borderColor:Hr,borderTopColor:Hr,borderRightColor:Hr,borderBottomColor:Hr,borderLeftColor:Hr,filter:hN,WebkitFilter:hN},jF=s=>oce[s];function _F(s,t){let r=jF(s);return r!==hN&&(r=uc),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const lce=new Set(["auto","none","0"]);function cce(s,t,r){let n=0,a;for(;n<s.length&&!a;){const i=s[n];typeof i=="string"&&!lce.has(i)&&Am(i).values.length&&(a=s[n]),n++}if(a&&r)for(const i of t)s[i]=_F(r,a)}class dce extends uk{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),rk(h))){const m=yF(h,r.current);m!==void 0&&(t[d]=m),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!bF.has(n)||t.length!==2)return;const[a,i]=t,o=FR(a),c=FR(i);if(o!==c)if(MR(o)&&MR(c))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else bd[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||sce(t[a]))&&n.push(a);n.length&&cce(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=bd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function uce(s,t,r){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let n=document;const a=r?.[s]??n.querySelectorAll(s);return a?Array.from(a):[]}return Array.from(s)}const NF=(s,t)=>t&&typeof s=="number"?t.transform(s):s;function kF(s){return z8(s)&&"offsetHeight"in s}const IR=30,hce=s=>!isNaN(parseFloat(s));class fce{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=Zn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Zn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=hce(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new ek);const n=this.events[t].add(r);return t==="change"?()=>{n(),or.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>IR)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,IR);return $8(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lh(s,t){return new fce(s,t)}const{schedule:mk}=J8(queueMicrotask,!1),fi={x:!1,y:!1};function SF(){return fi.x||fi.y}function mce(s){return s==="x"||s==="y"?fi[s]?null:(fi[s]=!0,()=>{fi[s]=!1}):fi.x||fi.y?null:(fi.x=fi.y=!0,()=>{fi.x=fi.y=!1})}function CF(s,t){const r=uce(s),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function zR(s){return!(s.pointerType==="touch"||SF())}function pce(s,t,r={}){const[n,a,i]=CF(s,r),o=c=>{if(!zR(c))return;const{target:d}=c,h=t(d,c);if(typeof h!="function"||!d)return;const m=f=>{zR(f)&&(h(f),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,a)};return n.forEach(c=>{c.addEventListener("pointerenter",o,a)}),i}const AF=(s,t)=>t?s===t?!0:AF(s,t.parentElement):!1,pk=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,gce=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xce(s){return gce.has(s.tagName)||s.tabIndex!==-1}const Bx=new WeakSet;function UR(s){return t=>{t.key==="Enter"&&s(t)}}function j1(s,t){s.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const yce=(s,t)=>{const r=s.currentTarget;if(!r)return;const n=UR(()=>{if(Bx.has(r))return;j1(r,"down");const a=UR(()=>{j1(r,"up")}),i=()=>j1(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function $R(s){return pk(s)&&!SF()}function bce(s,t,r={}){const[n,a,i]=CF(s,r),o=c=>{const d=c.currentTarget;if(!$R(c))return;Bx.add(d);const h=t(d,c),m=(b,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),Bx.has(d)&&Bx.delete(d),$R(b)&&typeof h=="function"&&h(b,{success:v})},f=b=>{m(b,d===window||d===document||r.useGlobalTarget||AF(d,b.target))},g=b=>{m(b,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",g,a)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",o,a),kF(c)&&(c.addEventListener("focus",h=>yce(h,a)),!xce(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function EF(s){return z8(s)&&"ownerSVGElement"in s}function vce(s){return EF(s)&&s.tagName==="svg"}const wn=s=>!!(s&&s.getVelocity),wce=[...wF,Hr,uc],jce=s=>wce.find(vF(s)),gk=w.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function VR(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function _ce(...s){return t=>{let r=!1;const n=s.map(a=>{const i=VR(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():VR(s[a],null)}}}}function Nce(...s){return w.useCallback(_ce(...s),s)}class kce extends w.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=kF(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Sce({children:s,isPresent:t,anchorX:r,root:n}){const a=w.useId(),i=w.useRef(null),o=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=w.useContext(gk),d=Nce(i,s?.ref);return w.useInsertionEffect(()=>{const{width:h,height:m,top:f,left:g,right:b}=o.current;if(t||!i.current||!h||!m)return;const v=r==="left"?`left: ${g}`:`right: ${b}`;i.current.dataset.motionPopId=a;const y=document.createElement("style");c&&(y.nonce=c);const _=n??document.head;return _.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{_.contains(y)&&_.removeChild(y)}},[t]),e.jsx(kce,{isPresent:t,childRef:i,sizeRef:o,children:w.cloneElement(s,{ref:d})})}const Cce=({children:s,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:c,root:d})=>{const h=Y2(Ace),m=w.useId();let f=!0,g=w.useMemo(()=>(f=!1,{id:m,initial:t,isPresent:r,custom:a,onExitComplete:b=>{h.set(b,!0);for(const v of h.values())if(!v)return;n&&n()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[r,h,n]);return i&&f&&(g={...g}),w.useMemo(()=>{h.forEach((b,v)=>h.set(v,!1))},[r]),w.useEffect(()=>{!r&&!h.size&&n&&n()},[r]),o==="popLayout"&&(s=e.jsx(Sce,{isPresent:r,anchorX:c,root:d,children:s})),e.jsx(Cy.Provider,{value:g,children:s})};function Ace(){return new Map}function TF(s=!0){const t=w.useContext(Cy);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=w.useId();w.useEffect(()=>{if(s)return a(i)},[s]);const o=w.useCallback(()=>s&&n&&n(i),[i,n,s]);return!r&&n?[!1,o]:[!0]}const nx=s=>s.key||"";function HR(s){const t=[];return w.Children.forEach(s,r=>{w.isValidElement(r)&&t.push(r)}),t}const el=({children:s,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[h,m]=TF(o),f=w.useMemo(()=>HR(s),[s]),g=o&&!h?[]:f.map(nx),b=w.useRef(!0),v=w.useRef(f),y=Y2(()=>new Map),[_,j]=w.useState(f),[S,N]=w.useState(f);B8(()=>{b.current=!1,v.current=f;for(let z=0;z<S.length;z++){const E=nx(S[z]);g.includes(E)?y.delete(E):y.get(E)!==!0&&y.set(E,!1)}},[S,g.length,g.join("-")]);const k=[];if(f!==_){let z=[...f];for(let E=0;E<S.length;E++){const U=S[E],T=nx(U);g.includes(T)||(z.splice(E,0,U),k.push(U))}return i==="wait"&&k.length&&(z=k),N(HR(z)),j(f),null}const{forceRender:C}=w.useContext(W2);return e.jsx(e.Fragment,{children:S.map(z=>{const E=nx(z),U=o&&!h?!1:f===S||g.includes(E),T=()=>{if(y.has(E))y.set(E,!0);else return;let re=!0;y.forEach(Y=>{Y||(re=!1)}),re&&(C?.(),N(v.current),o&&m?.(),n&&n())};return e.jsx(Cce,{isPresent:U,initial:!b.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:d,onExitComplete:U?void 0:T,anchorX:c,children:z},E)})})},RF=w.createContext({strict:!1}),qR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ch={};for(const s in qR)ch[s]={isEnabled:t=>qR[s].some(r=>!!t[r])};function Ece(s){for(const t in s)ch[t]={...ch[t],...s[t]}}const Tce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function j0(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||Tce.has(s)}let DF=s=>!j0(s);function Rce(s){typeof s=="function"&&(DF=t=>t.startsWith("on")?!j0(t):s(t))}try{Rce(require("@emotion/is-prop-valid").default)}catch{}function Dce(s,t,r){const n={};for(const a in s)a==="values"&&typeof s.values=="object"||(DF(a)||r===!0&&j0(a)||!t&&!j0(a)||s.draggable&&a.startsWith("onDrag"))&&(n[a]=s[a]);return n}const Ay=w.createContext({});function Ey(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function Em(s){return typeof s=="string"||Array.isArray(s)}const xk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yk=["initial",...xk];function Ty(s){return Ey(s.animate)||yk.some(t=>Em(s[t]))}function MF(s){return!!(Ty(s)||s.variants)}function Mce(s,t){if(Ty(s)){const{initial:r,animate:n}=s;return{initial:r===!1||Em(r)?r:void 0,animate:Em(n)?n:void 0}}return s.inherit!==!1?t:{}}function Pce(s){const{initial:t,animate:r}=Mce(s,w.useContext(Ay));return w.useMemo(()=>({initial:t,animate:r}),[GR(t),GR(r)])}function GR(s){return Array.isArray(s)?s.join(" "):s}function WR(s,t){return t.max===t.min?0:s/(t.max-t.min)*100}const If={correct:(s,t)=>{if(!t.target)return s;if(typeof s=="string")if(Gt.test(s))s=parseFloat(s);else return s;const r=WR(s,t.target.x),n=WR(s,t.target.y);return`${r}% ${n}%`}},Oce={correct:(s,{treeScale:t,projectionDelta:r})=>{const n=s,a=uc.parse(s);if(a.length>5)return n;const i=uc.createTransformer(s),o=typeof a[0]!="number"?1:0,c=r.x.scale*t.x,d=r.y.scale*t.y;a[0+o]/=c,a[1+o]/=d;const h=gr(c,d,.5);return typeof a[2+o]=="number"&&(a[2+o]/=h),typeof a[3+o]=="number"&&(a[3+o]/=h),i(a)}},fN={borderRadius:{...If,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:If,borderTopRightRadius:If,borderBottomLeftRadius:If,borderBottomRightRadius:If,boxShadow:Oce};function PF(s,{layout:t,layoutId:r}){return Eh.has(s)||s.startsWith("origin")||(t||r!==void 0)&&(!!fN[s]||s==="opacity")}const Lce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Fce=Ah.length;function Bce(s,t,r){let n="",a=!0;for(let i=0;i<Fce;i++){const o=Ah[i],c=s[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||r){const h=NF(c,fk[o]);if(!d){a=!1;const m=Lce[o]||o;n+=`${m}(${h}) `}r&&(t[o]=h)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function bk(s,t,r){const{style:n,vars:a,transformOrigin:i}=s;let o=!1,c=!1;for(const d in t){const h=t[d];if(Eh.has(d)){o=!0;continue}else if(tF(d)){a[d]=h;continue}else{const m=NF(h,fk[d]);d.startsWith("origin")?(c=!0,i[d]=m):n[d]=m}}if(t.transform||(o||r?n.transform=Bce(t,s.transform,r):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=i;n.transformOrigin=`${d} ${h} ${m}`}}const vk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OF(s,t,r){for(const n in t)!wn(t[n])&&!PF(n,r)&&(s[n]=t[n])}function Ice({transformTemplate:s},t){return w.useMemo(()=>{const r=vk();return bk(r,t,s),Object.assign({},r.vars,r.style)},[t])}function zce(s,t){const r=s.style||{},n={};return OF(n,r,s),Object.assign(n,Ice(s,t)),n}function Uce(s,t){const r={},n=zce(s,t);return s.drag&&s.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(r.tabIndex=0),r.style=n,r}const $ce={offset:"stroke-dashoffset",array:"stroke-dasharray"},Vce={offset:"strokeDashoffset",array:"strokeDasharray"};function Hce(s,t,r=1,n=0,a=!0){s.pathLength=1;const i=a?$ce:Vce;s[i.offset]=Gt.transform(-n);const o=Gt.transform(t),c=Gt.transform(r);s[i.array]=`${o} ${c}`}function LF(s,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...c},d,h,m){if(bk(s,c,h),d){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:f,style:g}=s;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=m?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&Hce(f,a,i,o,!1)}const FF=()=>({...vk(),attrs:{}}),BF=s=>typeof s=="string"&&s.toLowerCase()==="svg";function qce(s,t,r,n){const a=w.useMemo(()=>{const i=FF();return LF(i,t,BF(n),s.transformTemplate,s.style),{...i.attrs,style:{...i.style}}},[t]);if(s.style){const i={};OF(i,s.style,s),a.style={...i,...a.style}}return a}const Gce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wk(s){return typeof s!="string"||s.includes("-")?!1:!!(Gce.indexOf(s)>-1||/[A-Z]/u.test(s))}function Wce(s,t,r,{latestValues:n},a,i=!1){const c=(wk(s)?qce:Uce)(t,n,a,s),d=Dce(t,typeof s=="string",i),h=s!==w.Fragment?{...d,...c,ref:r}:{},{children:m}=t,f=w.useMemo(()=>wn(m)?m.get():m,[m]);return w.createElement(s,{...h,children:f})}function YR(s){const t=[{},{}];return s?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function jk(s,t,r,n){if(typeof t=="function"){const[a,i]=YR(n);t=t(r!==void 0?r:s.custom,a,i)}if(typeof t=="string"&&(t=s.variants&&s.variants[t]),typeof t=="function"){const[a,i]=YR(n);t=t(r!==void 0?r:s.custom,a,i)}return t}function Ix(s){return wn(s)?s.get():s}function Yce({scrapeMotionValuesFromProps:s,createRenderState:t},r,n,a){return{latestValues:Kce(r,n,a,s),renderState:t()}}function Kce(s,t,r,n){const a={},i=n(s,{});for(const g in i)a[g]=Ix(i[g]);let{initial:o,animate:c}=s;const d=Ty(s),h=MF(s);t&&h&&!d&&s.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let m=r?r.initial===!1:!1;m=m||o===!1;const f=m?c:o;if(f&&typeof f!="boolean"&&!Ey(f)){const g=Array.isArray(f)?f:[f];for(let b=0;b<g.length;b++){const v=jk(s,g[b]);if(v){const{transitionEnd:y,transition:_,...j}=v;for(const S in j){let N=j[S];if(Array.isArray(N)){const k=m?N.length-1:0;N=N[k]}N!==null&&(a[S]=N)}for(const S in y)a[S]=y[S]}}}return a}const IF=s=>(t,r)=>{const n=w.useContext(Ay),a=w.useContext(Cy),i=()=>Yce(s,t,n,a);return r?i():Y2(i)};function _k(s,t,r){const{style:n}=s,a={};for(const i in n)(wn(n[i])||t.style&&wn(t.style[i])||PF(i,s)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=n[i]);return a}const Xce=IF({scrapeMotionValuesFromProps:_k,createRenderState:vk});function zF(s,t,r){const n=_k(s,t,r);for(const a in s)if(wn(s[a])||wn(t[a])){const i=Ah.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=s[a]}return n}const Zce=IF({scrapeMotionValuesFromProps:zF,createRenderState:FF}),Qce=Symbol.for("motionComponentSymbol");function Bu(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function Jce(s,t,r){return w.useCallback(n=>{n&&s.onMount&&s.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Bu(r)&&(r.current=n))},[t])}const Nk=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ede="framerAppearId",UF="data-"+Nk(ede),$F=w.createContext({});function tde(s,t,r,n,a){const{visualElement:i}=w.useContext(Ay),o=w.useContext(RF),c=w.useContext(Cy),d=w.useContext(gk).reducedMotion,h=w.useRef(null);n=n||o.renderer,!h.current&&n&&(h.current=n(s,{visualState:t,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,f=w.useContext($F);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&sde(h.current,r,a,f);const g=w.useRef(!1);w.useInsertionEffect(()=>{m&&g.current&&m.update(r,c)});const b=r[UF],v=w.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return B8(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),v.current&&m.animationState&&m.animationState.animateChanges())}),w.useEffect(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),v.current=!1),m.enteringChildren=void 0)}),m}function sde(s,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=t;s.projection=new r(s.latestValues,t["data-framer-portal-id"]?void 0:VF(s.parent)),s.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||c&&Bu(c),visualElement:s,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:d,layoutRoot:h})}function VF(s){if(s)return s.options.allowProjection!==!1?s.projection:VF(s.parent)}function _1(s,{forwardMotionProps:t=!1}={},r,n){r&&Ece(r);const a=wk(s)?Zce:Xce;function i(c,d){let h;const m={...w.useContext(gk),...c,layoutId:rde(c)},{isStatic:f}=m,g=Pce(c),b=a(c,f);if(!f&&K2){nde();const v=ade(m);h=v.MeasureLayout,g.visualElement=tde(s,b,m,n,v.ProjectionNode)}return e.jsxs(Ay.Provider,{value:g,children:[h&&g.visualElement?e.jsx(h,{visualElement:g.visualElement,...m}):null,Wce(s,c,Jce(b,g.visualElement,d),b,f,t)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=w.forwardRef(i);return o[Qce]=s,o}function rde({layoutId:s}){const t=w.useContext(W2).id;return t&&s!==void 0?t+"-"+s:s}function nde(s,t){w.useContext(RF).strict}function ade(s){const{drag:t,layout:r}=ch;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(s)||r?.isEnabled(s)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function ide(s,t){if(typeof Proxy>"u")return _1;const r=new Map,n=(i,o)=>_1(i,o,s,t),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,_1(o,void 0,s,t)),r.get(o))})}function HF({top:s,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:s,max:n}}}function ode({x:s,y:t}){return{top:t.min,right:s.max,bottom:t.max,left:s.min}}function lde(s,t){if(!t)return s;const r=t({x:s.left,y:s.top}),n=t({x:s.right,y:s.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function N1(s){return s===void 0||s===1}function mN({scale:s,scaleX:t,scaleY:r}){return!N1(s)||!N1(t)||!N1(r)}function ld(s){return mN(s)||qF(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function qF(s){return KR(s.x)||KR(s.y)}function KR(s){return s&&s!=="0%"}function _0(s,t,r){const n=s-r,a=t*n;return r+a}function XR(s,t,r,n,a){return a!==void 0&&(s=_0(s,a,n)),_0(s,r,n)+t}function pN(s,t=0,r=1,n,a){s.min=XR(s.min,t,r,n,a),s.max=XR(s.max,t,r,n,a)}function GF(s,{x:t,y:r}){pN(s.x,t.translate,t.scale,t.originPoint),pN(s.y,r.translate,r.scale,r.originPoint)}const ZR=.999999999999,QR=1.0000000000001;function cde(s,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let c=0;c<a;c++){i=r[c],o=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&zu(s,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,GF(s,o)),n&&ld(i.latestValues)&&zu(s,i.latestValues))}t.x<QR&&t.x>ZR&&(t.x=1),t.y<QR&&t.y>ZR&&(t.y=1)}function Iu(s,t){s.min=s.min+t,s.max=s.max+t}function JR(s,t,r,n,a=.5){const i=gr(s.min,s.max,a);pN(s,t,r,i,n)}function zu(s,t){JR(s.x,t.x,t.scaleX,t.scale,t.originX),JR(s.y,t.y,t.scaleY,t.scale,t.originY)}function WF(s,t){return HF(lde(s.getBoundingClientRect(),t))}function dde(s,t,r){const n=WF(s,r),{scroll:a}=t;return a&&(Iu(n.x,a.offset.x),Iu(n.y,a.offset.y)),n}const eD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uu=()=>({x:eD(),y:eD()}),tD=()=>({min:0,max:0}),Kr=()=>({x:tD(),y:tD()}),gN={current:null},YF={current:!1};function ude(){if(YF.current=!0,!!K2)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),t=()=>gN.current=s.matches;s.addEventListener("change",t),t()}else gN.current=!1}const hde=new WeakMap;function fde(s,t,r){for(const n in t){const a=t[n],i=r[n];if(wn(a))s.addValue(n,a);else if(wn(i))s.addValue(n,lh(a,{owner:s}));else if(i!==a)if(s.hasValue(n)){const o=s.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=s.getStaticValue(n);s.addValue(n,lh(o!==void 0?o:a,{owner:s}))}}for(const n in r)t[n]===void 0&&s.removeValue(n);return t}const sD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mde{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Zn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,or.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Ty(r),this.isVariantNode=MF(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in f){const b=f[g];d[g]!==void 0&&wn(b)&&b.set(d[g])}}mount(t){this.current=t,hde.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),YF.current||ude(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gN.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),dc(this.notifyUpdate),dc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Eh.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&or.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ch){const r=ch[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<sD.length;n++){const a=sD[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=fde(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=lh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(I8(n)||U8(n))?n=parseFloat(n):!jce(n)&&uc.test(r)&&(n=_F(t,r)),this.setBaseTarget(t,wn(n)?n.get():n)),wn(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=jk(this.props,r,this.presenceContext?.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!wn(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new ek),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){mk.render(this.render)}}class KF extends mde{constructor(){super(...arguments),this.KeyframeResolver=dce}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function XF(s,{style:t,vars:r},n,a){const i=s.style;let o;for(o in t)i[o]=t[o];a?.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function pde(s){return window.getComputedStyle(s)}class gde extends KF{constructor(){super(...arguments),this.type="html",this.renderInstance=XF}readValueFromInstance(t,r){if(Eh.has(r))return this.projection?.isProjecting?iN(r):Ele(t,r);{const n=pde(t),a=(tF(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return WF(t,r)}build(t,r,n){bk(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return _k(t,r,n)}}const ZF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xde(s,t,r,n){XF(s,t,void 0,n);for(const a in t.attrs)s.setAttribute(ZF.has(a)?a:Nk(a),t.attrs[a])}class yde extends KF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Eh.has(r)){const n=jF(r);return n&&n.default||0}return r=ZF.has(r)?r:Nk(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return zF(t,r,n)}build(t,r,n){LF(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){xde(t,r,n,a)}mount(t){this.isSVGTag=BF(t.tagName),super.mount(t)}}const bde=(s,t)=>wk(s)?new yde(t):new gde(t,{allowProjection:s!==w.Fragment});function Ku(s,t,r){const n=s.getProps();return jk(n,t,r!==void 0?r:n.custom,s)}const xN=s=>Array.isArray(s);function vde(s,t,r){s.hasValue(t)?s.getValue(t).set(r):s.addValue(t,lh(r))}function wde(s){return xN(s)?s[s.length-1]||0:s}function jde(s,t){const r=Ku(s,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const c=wde(i[o]);vde(s,o,c)}}function _de(s){return!!(wn(s)&&s.add)}function yN(s,t){const r=s.getValue("willChange");if(_de(r))return r.add(t);if(!r&&Jo.WillChange){const n=new Jo.WillChange("auto");s.addValue("willChange",n),n.add(t)}}function QF(s){return s.props[UF]}const Nde=s=>s!==null;function kde(s,{repeat:t,repeatType:r="loop"},n){const a=s.filter(Nde),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const Sde={type:"spring",stiffness:500,damping:25,restSpeed:10},Cde=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),Ade={type:"keyframes",duration:.8},Ede={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tde=(s,{keyframes:t})=>t.length>2?Ade:Eh.has(s)?s.startsWith("scale")?Cde(t[1]):Sde:Ede;function Rde({when:s,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const kk=(s,t,r,n={},a,i)=>o=>{const c=hk(n,s)||{},d=c.delay||n.delay||0;let{elapsed:h=0}=n;h=h-Qi(d);const m={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:g=>{t.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:s,motionValue:t,element:i?void 0:a};Rde(c)||Object.assign(m,Tde(s,m)),m.duration&&(m.duration=Qi(m.duration)),m.repeatDelay&&(m.repeatDelay=Qi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let f=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(uN(m),m.delay===0&&(f=!0)),(Jo.instantAnimations||Jo.skipAnimations)&&(f=!0,uN(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,f&&!i&&t.get()!==void 0){const g=kde(m.keyframes,c);if(g!==void 0){or.update(()=>{m.onUpdate(g),m.onComplete()});return}}return c.isSync?new dk(m):new Qle(m)};function Dde({protectedKeys:s,needsAnimating:t},r){const n=s.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function JF(s,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=s.getDefaultTransition(),transitionEnd:o,...c}=t;n&&(i=n);const d=[],h=a&&s.animationState&&s.animationState.getState()[a];for(const m in c){const f=s.getValue(m,s.latestValues[m]??null),g=c[m];if(g===void 0||h&&Dde(h,m))continue;const b={delay:r,...hk(i||{},m)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===v&&!b.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const j=QF(s);if(j){const S=window.MotionHandoffAnimation(j,m,or);S!==null&&(b.startTime=S,y=!0)}}yN(s,m),f.start(kk(m,f,g,s.shouldReduceMotion&&bF.has(m)?{type:!1}:b,s,y));const _=f.animation;_&&d.push(_)}return o&&Promise.all(d).then(()=>{or.update(()=>{o&&jde(s,o)})}),d}function eB(s,t,r,n=0,a=1){const i=Array.from(s).sort((h,m)=>h.sortNodePosition(m)).indexOf(t),o=s.size,c=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:c-i*n}function bN(s,t,r={}){const n=Ku(s,t,r.type==="exit"?s.presenceContext?.custom:void 0);let{transition:a=s.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(JF(s,n,r)):()=>Promise.resolve(),o=s.variantChildren&&s.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:f}=a;return Mde(s,t,d,h,m,f,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,h]=c==="beforeChildren"?[i,o]:[o,i];return d().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function Mde(s,t,r=0,n=0,a=0,i=1,o){const c=[];for(const d of s.variantChildren)d.notify("AnimationStart",t),c.push(bN(d,t,{...o,delay:r+(typeof n=="function"?0:n)+eB(s.variantChildren,d,n,a,i)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function Pde(s,t,r={}){s.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>bN(s,i,r));n=Promise.all(a)}else if(typeof t=="string")n=bN(s,t,r);else{const a=typeof t=="function"?Ku(s,t,r.custom):t;n=Promise.all(JF(s,a,r))}return n.then(()=>{s.notify("AnimationComplete",t)})}function tB(s,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==s.length)return!1;for(let n=0;n<r;n++)if(t[n]!==s[n])return!1;return!0}const Ode=yk.length;function sB(s){if(!s)return;if(!s.isControllingVariants){const r=s.parent?sB(s.parent)||{}:{};return s.props.initial!==void 0&&(r.initial=s.props.initial),r}const t={};for(let r=0;r<Ode;r++){const n=yk[r],a=s.props[n];(Em(a)||a===!1)&&(t[n]=a)}return t}const Lde=[...xk].reverse(),Fde=xk.length;function Bde(s){return t=>Promise.all(t.map(({animation:r,options:n})=>Pde(s,r,n)))}function Ide(s){let t=Bde(s),r=rD(),n=!0;const a=d=>(h,m)=>{const f=Ku(s,m,d==="exit"?s.presenceContext?.custom:void 0);if(f){const{transition:g,transitionEnd:b,...v}=f;h={...h,...v,...b}}return h};function i(d){t=d(s)}function o(d){const{props:h}=s,m=sB(s.parent)||{},f=[],g=new Set;let b={},v=1/0;for(let _=0;_<Fde;_++){const j=Lde[_],S=r[j],N=h[j]!==void 0?h[j]:m[j],k=Em(N),C=j===d?S.isActive:null;C===!1&&(v=_);let z=N===m[j]&&N!==h[j]&&k;if(z&&n&&s.manuallyAnimateOnMount&&(z=!1),S.protectedKeys={...b},!S.isActive&&C===null||!N&&!S.prevProp||Ey(N)||typeof N=="boolean")continue;const E=zde(S.prevProp,N);let U=E||j===d&&S.isActive&&!z&&k||_>v&&k,T=!1;const re=Array.isArray(N)?N:[N];let Y=re.reduce(a(j),{});C===!1&&(Y={});const{prevResolvedValues:I={}}=S,K={...I,...Y},L=Z=>{U=!0,g.has(Z)&&(T=!0,g.delete(Z)),S.needsAnimating[Z]=!0;const ee=s.getValue(Z);ee&&(ee.liveStyle=!1)};for(const Z in K){const ee=Y[Z],F=I[Z];if(b.hasOwnProperty(Z))continue;let de=!1;xN(ee)&&xN(F)?de=!tB(ee,F):de=ee!==F,de?ee!=null?L(Z):g.add(Z):ee!==void 0&&g.has(Z)?L(Z):S.protectedKeys[Z]=!0}S.prevProp=N,S.prevResolvedValues=Y,S.isActive&&(b={...b,...Y}),n&&s.blockInitialAnimation&&(U=!1);const J=z&&E;U&&(!J||T)&&f.push(...re.map(Z=>{const ee={type:j};if(typeof Z=="string"&&n&&!J&&s.manuallyAnimateOnMount&&s.parent){const{parent:F}=s,de=Ku(F,Z);if(F.enteringChildren&&de){const{delayChildren:q}=de.transition||{};ee.delay=eB(F.enteringChildren,s,q)}}return{animation:Z,options:ee}}))}if(g.size){const _={};if(typeof h.initial!="boolean"){const j=Ku(s,Array.isArray(h.initial)?h.initial[0]:h.initial);j&&j.transition&&(_.transition=j.transition)}g.forEach(j=>{const S=s.getBaseTarget(j),N=s.getValue(j);N&&(N.liveStyle=!0),_[j]=S??null}),f.push({animation:_})}let y=!!f.length;return n&&(h.initial===!1||h.initial===h.animate)&&!s.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(f):Promise.resolve()}function c(d,h){if(r[d].isActive===h)return Promise.resolve();s.variantChildren?.forEach(f=>f.animationState?.setActive(d,h)),r[d].isActive=h;const m=o(d);for(const f in r)r[f].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>r,reset:()=>{r=rD()}}}function zde(s,t){return typeof t=="string"?t!==s:Array.isArray(t)?!tB(t,s):!1}function ed(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rD(){return{animate:ed(!0),whileInView:ed(),whileHover:ed(),whileTap:ed(),whileDrag:ed(),whileFocus:ed(),exit:ed()}}class bc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Ude extends bc{constructor(t){super(t),t.animationState||(t.animationState=Ide(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ey(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $de=0;class Vde extends bc{constructor(){super(...arguments),this.id=$de++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Hde={animation:{Feature:Ude},exit:{Feature:Vde}};function Tm(s,t,r,n={passive:!0}){return s.addEventListener(t,r,n),()=>s.removeEventListener(t,r)}function lp(s){return{point:{x:s.pageX,y:s.pageY}}}const qde=s=>t=>pk(t)&&s(t,lp(t));function dm(s,t,r,n){return Tm(s,t,qde(r),n)}const rB=1e-4,Gde=1-rB,Wde=1+rB,nB=.01,Yde=0-nB,Kde=0+nB;function Rn(s){return s.max-s.min}function Xde(s,t,r){return Math.abs(s-t)<=r}function nD(s,t,r,n=.5){s.origin=n,s.originPoint=gr(t.min,t.max,s.origin),s.scale=Rn(r)/Rn(t),s.translate=gr(r.min,r.max,s.origin)-s.originPoint,(s.scale>=Gde&&s.scale<=Wde||isNaN(s.scale))&&(s.scale=1),(s.translate>=Yde&&s.translate<=Kde||isNaN(s.translate))&&(s.translate=0)}function um(s,t,r,n){nD(s.x,t.x,r.x,n?n.originX:void 0),nD(s.y,t.y,r.y,n?n.originY:void 0)}function aD(s,t,r){s.min=r.min+t.min,s.max=s.min+Rn(t)}function Zde(s,t,r){aD(s.x,t.x,r.x),aD(s.y,t.y,r.y)}function iD(s,t,r){s.min=t.min-r.min,s.max=s.min+Rn(t)}function N0(s,t,r){iD(s.x,t.x,r.x),iD(s.y,t.y,r.y)}function Wa(s){return[s("x"),s("y")]}const aB=({current:s})=>s?s.ownerDocument.defaultView:null,oD=(s,t)=>Math.abs(s-t);function Qde(s,t){const r=oD(s.x,t.x),n=oD(s.y,t.y);return Math.sqrt(r**2+n**2)}class iB{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=S1(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=Qde(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!v)return;const{point:y}=g,{timestamp:_}=hn;this.history.push({...y,timestamp:_});const{onStart:j,onMove:S}=this.handlers;b||(j&&j(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=k1(b,this.transformPagePoint),or.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=S1(g.type==="pointercancel"?this.lastMoveEventInfo:k1(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,j),y&&y(g,j)},!pk(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const c=lp(t),d=k1(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=hn;this.history=[{...h,timestamp:m}];const{onSessionStart:f}=r;f&&f(t,S1(d,this.history)),this.removeListeners=ap(dm(this.contextWindow,"pointermove",this.handlePointerMove),dm(this.contextWindow,"pointerup",this.handlePointerUp),dm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),dc(this.updatePoint)}}function k1(s,t){return t?{point:t(s.point)}:s}function lD(s,t){return{x:s.x-t.x,y:s.y-t.y}}function S1({point:s},t){return{point:s,delta:lD(s,oB(t)),offset:lD(s,Jde(t)),velocity:eue(t,.1)}}function Jde(s){return s[0]}function oB(s){return s[s.length-1]}function eue(s,t){if(s.length<2)return{x:0,y:0};let r=s.length-1,n=null;const a=oB(s);for(;r>=0&&(n=s[r],!(a.timestamp-n.timestamp>Qi(t)));)r--;if(!n)return{x:0,y:0};const i=Ya(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tue(s,{min:t,max:r},n){return t!==void 0&&s<t?s=n?gr(t,s,n.min):Math.max(s,t):r!==void 0&&s>r&&(s=n?gr(r,s,n.max):Math.min(s,r)),s}function cD(s,t,r){return{min:t!==void 0?s.min+t:void 0,max:r!==void 0?s.max+r-(s.max-s.min):void 0}}function sue(s,{top:t,left:r,bottom:n,right:a}){return{x:cD(s.x,r,a),y:cD(s.y,t,n)}}function dD(s,t){let r=t.min-s.min,n=t.max-s.max;return t.max-t.min<s.max-s.min&&([r,n]=[n,r]),{min:r,max:n}}function rue(s,t){return{x:dD(s.x,t.x),y:dD(s.y,t.y)}}function nue(s,t){let r=.5;const n=Rn(s),a=Rn(t);return a>n?r=Sm(t.min,t.max-n,s.min):n>a&&(r=Sm(s.min,s.max-a,t.min)),Qo(0,1,r)}function aue(s,t){const r={};return t.min!==void 0&&(r.min=t.min-s.min),t.max!==void 0&&(r.max=t.max-s.min),r}const vN=.35;function iue(s=vN){return s===!1?s=0:s===!0&&(s=vN),{x:uD(s,"left","right"),y:uD(s,"top","bottom")}}function uD(s,t,r){return{min:hD(s,t),max:hD(s,r)}}function hD(s,t){return typeof s=="number"?s:s[t]||0}const oue=new WeakMap;class lue{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(lp(f).point)},o=(f,g)=>{const{drag:b,dragPropagation:v,onDragStart:y}=this.getProps();if(b&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mce(b),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wa(j=>{let S=this.getAxisMotionValue(j).get()||0;if(Ji.test(S)){const{projection:N}=this.visualElement;if(N&&N.layout){const k=N.layout.layoutBox[j];k&&(S=Rn(k)*(parseFloat(S)/100))}}this.originPoint[j]=S}),y&&or.postRender(()=>y(f,g)),yN(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},c=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:b,dragDirectionLock:v,onDirectionLock:y,onDrag:_}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:j}=g;if(v&&this.currentDirection===null){this.currentDirection=cue(j),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",g.point,j),this.updateAxis("y",g.point,j),this.visualElement.render(),_&&_(f,g)},d=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Wa(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new iB(t,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:aB(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&or.postRender(()=>c(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!ax(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=tue(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Bu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=sue(n.layoutBox,t):this.constraints=!1,this.elastic=iue(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Wa(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=aue(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Bu(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=dde(n,a.root,this.visualElement.getTransformPagePoint());let o=rue(a.layout.layoutBox,i);if(r){const c=r(ode(o));this.hasMutatedConstraints=!!c,c&&(o=HF(c))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Wa(m=>{if(!ax(m,r,this.currentDirection))return;let f=d&&d[m]||{};o&&(f={min:0,max:0});const g=a?200:1e6,b=a?40:1e7,v={type:"inertia",velocity:n?t[m]:0,bounceStiffness:g,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(m,v)});return Promise.all(h).then(c)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return yN(this.visualElement,t),n.start(kk(t,n,0,r,this.visualElement,!1))}stopAnimation(){Wa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Wa(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Wa(r=>{const{drag:n}=this.getProps();if(!ax(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:c}=a.layout.layoutBox[r];i.set(t[r]-gr(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Bu(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Wa(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();a[o]=nue({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Wa(o=>{if(!ax(o,t,null))return;const c=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];c.set(gr(d,h,a[o]))})}addListeners(){if(!this.visualElement.current)return;oue.set(this.visualElement,this);const t=this.visualElement.current,r=dm(t,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Bu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),or.read(n);const o=Tm(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Wa(m=>{const f=this.getAxisMotionValue(m);f&&(this.originPoint[m]+=d[m].translate,f.set(f.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=vN,dragMomentum:c=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function ax(s,t,r){return(t===!0||t===s)&&(r===null||r===s)}function cue(s,t=10){let r=null;return Math.abs(s.y)>t?r="y":Math.abs(s.x)>t&&(r="x"),r}class due extends bc{constructor(t){super(t),this.removeGroupControls=Ka,this.removeListeners=Ka,this.controls=new lue(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ka}unmount(){this.removeGroupControls(),this.removeListeners()}}const fD=s=>(t,r)=>{s&&or.postRender(()=>s(t,r))};class uue extends bc{constructor(){super(...arguments),this.removePointerDownListener=Ka}onPointerDown(t){this.session=new iB(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aB(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:fD(t),onStart:fD(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&or.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=dm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let C1=!1;class hue extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),C1&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,C1=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||or.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),mk.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;C1=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function lB(s){const[t,r]=TF(),n=w.useContext(W2);return e.jsx(hue,{...s,layoutGroup:n,switchLayoutGroup:w.useContext($F),isPresent:t,safeToRemove:r})}function fue(s,t,r){const n=wn(s)?s:lh(s);return n.start(kk("",n,t,r)),n.animation}const mue=(s,t)=>s.depth-t.depth;class pue{constructor(){this.children=[],this.isDirty=!1}add(t){X2(this.children,t),this.isDirty=!0}remove(t){Z2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(mue),this.isDirty=!1,this.children.forEach(t)}}function gue(s,t){const r=Zn.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(dc(n),s(i-t))};return or.setup(n,!0),()=>dc(n)}const cB=["TopLeft","TopRight","BottomLeft","BottomRight"],xue=cB.length,mD=s=>typeof s=="string"?parseFloat(s):s,pD=s=>typeof s=="number"||Gt.test(s);function yue(s,t,r,n,a,i){a?(s.opacity=gr(0,r.opacity??1,bue(n)),s.opacityExit=gr(t.opacity??1,0,vue(n))):i&&(s.opacity=gr(t.opacity??1,r.opacity??1,n));for(let o=0;o<xue;o++){const c=`border${cB[o]}Radius`;let d=gD(t,c),h=gD(r,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||pD(d)===pD(h)?(s[c]=Math.max(gr(mD(d),mD(h),n),0),(Ji.test(h)||Ji.test(d))&&(s[c]+="%")):s[c]=h}(t.rotate||r.rotate)&&(s.rotate=gr(t.rotate||0,r.rotate||0,n))}function gD(s,t){return s[t]!==void 0?s[t]:s.borderRadius}const bue=dB(0,.5,K8),vue=dB(.5,.95,Ka);function dB(s,t,r){return n=>n<s?0:n>t?1:r(Sm(s,t,n))}function xD(s,t){s.min=t.min,s.max=t.max}function di(s,t){xD(s.x,t.x),xD(s.y,t.y)}function yD(s,t){s.translate=t.translate,s.scale=t.scale,s.originPoint=t.originPoint,s.origin=t.origin}function bD(s,t,r,n,a){return s-=t,s=_0(s,1/r,n),a!==void 0&&(s=_0(s,1/a,n)),s}function wue(s,t=0,r=1,n=.5,a,i=s,o=s){if(Ji.test(t)&&(t=parseFloat(t),t=gr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=gr(i.min,i.max,n);s===i&&(c-=t),s.min=bD(s.min,t,r,c,a),s.max=bD(s.max,t,r,c,a)}function vD(s,t,[r,n,a],i,o){wue(s,t[r],t[n],t[a],t.scale,i,o)}const jue=["x","scaleX","originX"],_ue=["y","scaleY","originY"];function wD(s,t,r,n){vD(s.x,t,jue,r?r.x:void 0,n?n.x:void 0),vD(s.y,t,_ue,r?r.y:void 0,n?n.y:void 0)}function jD(s){return s.translate===0&&s.scale===1}function uB(s){return jD(s.x)&&jD(s.y)}function _D(s,t){return s.min===t.min&&s.max===t.max}function Nue(s,t){return _D(s.x,t.x)&&_D(s.y,t.y)}function ND(s,t){return Math.round(s.min)===Math.round(t.min)&&Math.round(s.max)===Math.round(t.max)}function hB(s,t){return ND(s.x,t.x)&&ND(s.y,t.y)}function kD(s){return Rn(s.x)/Rn(s.y)}function SD(s,t){return s.translate===t.translate&&s.scale===t.scale&&s.originPoint===t.originPoint}class kue{constructor(){this.members=[]}add(t){X2(this.members,t),t.scheduleRender()}remove(t){if(Z2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sue(s,t,r){let n="";const a=s.x.translate/t.x,i=s.y.translate/t.y,o=r?.z||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:h,rotate:m,rotateX:f,rotateY:g,skewX:b,skewY:v}=r;h&&(n=`perspective(${h}px) ${n}`),m&&(n+=`rotate(${m}deg) `),f&&(n+=`rotateX(${f}deg) `),g&&(n+=`rotateY(${g}deg) `),b&&(n+=`skewX(${b}deg) `),v&&(n+=`skewY(${v}deg) `)}const c=s.x.scale*t.x,d=s.y.scale*t.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const A1=["","X","Y","Z"],Cue=1e3;let Aue=0;function E1(s,t,r,n){const{latestValues:a}=t;a[s]&&(r[s]=a[s],t.setStaticValue(s,0),n&&(n[s]=0))}function fB(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:t}=s.options;if(!t)return;const r=QF(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=s.options;window.MotionCancelOptimisedAnimation(r,"transform",or,!(a||i))}const{parent:n}=s;n&&!n.hasCheckedOptimisedAppear&&fB(n)}function mB({attachResizeListener:s,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},c=t?.()){this.id=Aue++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Rue),this.nodes.forEach(Oue),this.nodes.forEach(Lue),this.nodes.forEach(Due)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new pue)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ek),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=EF(o)&&!vce(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),s){let m,f=0;const g=()=>this.root.updateBlockedByResize=!1;or.read(()=>{f=window.innerWidth}),s(o,()=>{const b=window.innerWidth;b!==f&&(f=b,this.root.updateBlockedByResize=!0,m&&m(),m=gue(g,250),zx.hasAnimatedSinceResize&&(zx.hasAnimatedSinceResize=!1,this.nodes.forEach(ED)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||Uue,{onLayoutAnimationStart:y,onLayoutAnimationComplete:_}=h.getProps(),j=!this.targetLayout||!hB(this.targetLayout,b),S=!f&&g;if(this.options.layoutRoot||this.resumeFrom||S||f&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...hk(v,"layout"),onPlay:y,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(m,S)}else f||ED(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),dc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Fue),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const f=this.path[m];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(AD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Pue),this.nodes.forEach(Eue),this.nodes.forEach(Tue)):this.nodes.forEach(AD),this.clearAllSnapshots();const c=Zn.now();hn.delta=Qo(0,1e3/60,c-hn.timestamp),hn.timestamp=c,hn.isProcessing=!0,x1.update.process(hn),x1.preRender.process(hn),x1.render.process(hn),hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Mue),this.sharedNodes.forEach(Bue)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,or.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){or.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Kr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!uB(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||ld(this.latestValues)||m)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),$ue(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Kr();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Hue))){const{scroll:h}=this.root;h&&(Iu(c.x,h.offset.x),Iu(c.y,h.offset.y))}return c}removeElementScroll(o){const c=Kr();if(di(c,o),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:f}=h;h!==this.root&&m&&f.layoutScroll&&(m.wasRoot&&di(c,o),Iu(c.x,m.offset.x),Iu(c.y,m.offset.y))}return c}applyTransform(o,c=!1){const d=Kr();di(d,o);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&zu(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ld(m.latestValues)&&zu(d,m.latestValues)}return ld(this.latestValues)&&zu(d,this.latestValues),d}removeTransform(o){const c=Kr();di(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!ld(h.latestValues))continue;mN(h.latestValues)&&h.updateSnapshot();const m=Kr(),f=h.measurePageBox();di(m,f),wD(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return ld(this.latestValues)&&wD(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:f}=this.options;if(!this.layout||!(m||f))return;this.resolvedRelativeTargetAt=hn.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kr(),this.targetWithTransforms=Kr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Zde(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):di(this.target,this.layout.layoutBox),GF(this.target,this.targetDelta)):di(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||mN(this.parent.latestValues)||qF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,c,d){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kr(),this.relativeTargetOrigin=Kr(),N0(this.relativeTargetOrigin,c,d),di(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===hn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;di(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;cde(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Kr());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yD(this.prevProjectionDelta.x,this.projectionDelta.x),yD(this.prevProjectionDelta.y,this.projectionDelta.y)),um(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!SD(this.projectionDelta.x,this.prevProjectionDelta.x)||!SD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uu(),this.projectionDelta=Uu(),this.projectionDeltaWithTransform=Uu()}setAnimationOrigin(o,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},f=Uu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Kr(),b=d?d.source:void 0,v=this.layout?this.layout.source:void 0,y=b!==v,_=this.getStack(),j=!_||_.members.length<=1,S=!!(y&&!j&&this.options.crossfade===!0&&!this.path.some(zue));this.animationProgress=0;let N;this.mixTargetDelta=k=>{const C=k/1e3;TD(f.x,o.x,C),TD(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(N0(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Iue(this.relativeTarget,this.relativeTargetOrigin,g,C),N&&Nue(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Kr()),di(N,this.relativeTarget)),y&&(this.animationValues=m,yue(m,h,this.latestValues,C,S,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(dc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=or.update(()=>{zx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lh(0)),this.currentAnimation=fue(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Cue),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=o;if(!(!c||!d||!h)){if(this!==o&&this.layout&&h&&pB(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Kr();const f=Rn(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+f;const g=Rn(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}di(c,d),zu(c,m),um(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new kue),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&E1("z",o,h,this.animationValues);for(let m=0;m<A1.length;m++)E1(`rotate${A1[m]}`,o,h,this.animationValues),E1(`skew${A1[m]}`,o,h,this.animationValues);o.render();for(const m in h)o.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ix(c?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ix(c?.pointerEvents)||""),this.hasProjected&&!ld(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let f=Sue(this.projectionDeltaWithTransform,this.treeScale,m);d&&(f=d(m,f)),o.transform=f;const{x:g,y:b}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,h.animationValues?o.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in fN){if(m[v]===void 0)continue;const{correct:y,applyTo:_,isCSSVariable:j}=fN[v],S=f==="none"?m[v]:y(m[v],h);if(_){const N=_.length;for(let k=0;k<N;k++)o[_[k]]=S}else j?this.options.visualElement.renderState.vars[v]=S:o[v]=S}this.options.layoutId&&(o.pointerEvents=h===this?Ix(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(CD),this.root.sharedNodes.clear()}}}function Eue(s){s.updateLayout()}function Tue(s){const t=s.resumeFrom?.snapshot||s.snapshot;if(s.isLead()&&s.layout&&t&&s.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=s.layout,{animationType:a}=s.options,i=t.source!==s.layout.source;a==="size"?Wa(m=>{const f=i?t.measuredBox[m]:t.layoutBox[m],g=Rn(f);f.min=r[m].min,f.max=f.min+g}):pB(a,t.layoutBox,r)&&Wa(m=>{const f=i?t.measuredBox[m]:t.layoutBox[m],g=Rn(r[m]);f.max=f.min+g,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[m].max=s.relativeTarget[m].min+g)});const o=Uu();um(o,r,t.layoutBox);const c=Uu();i?um(c,s.applyTransform(n,!0),t.measuredBox):um(c,r,t.layoutBox);const d=!uB(o);let h=!1;if(!s.resumeFrom){const m=s.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:g}=m;if(f&&g){const b=Kr();N0(b,t.layoutBox,f.layoutBox);const v=Kr();N0(v,r,g.layoutBox),hB(b,v)||(h=!0),m.options.layoutRoot&&(s.relativeTarget=v,s.relativeTargetOrigin=b,s.relativeParent=m)}}}s.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(s.isLead()){const{onExitComplete:r}=s.options;r&&r()}s.options.transition=void 0}function Rue(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function Due(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function Mue(s){s.clearSnapshot()}function CD(s){s.clearMeasurements()}function AD(s){s.isLayoutDirty=!1}function Pue(s){const{visualElement:t}=s.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),s.resetTransform()}function ED(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function Oue(s){s.resolveTargetDelta()}function Lue(s){s.calcProjection()}function Fue(s){s.resetSkewAndRotation()}function Bue(s){s.removeLeadSnapshot()}function TD(s,t,r){s.translate=gr(t.translate,0,r),s.scale=gr(t.scale,1,r),s.origin=t.origin,s.originPoint=t.originPoint}function RD(s,t,r,n){s.min=gr(t.min,r.min,n),s.max=gr(t.max,r.max,n)}function Iue(s,t,r,n){RD(s.x,t.x,r.x,n),RD(s.y,t.y,r.y,n)}function zue(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const Uue={duration:.45,ease:[.4,0,.1,1]},DD=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),MD=DD("applewebkit/")&&!DD("chrome/")?Math.round:Ka;function PD(s){s.min=MD(s.min),s.max=MD(s.max)}function $ue(s){PD(s.x),PD(s.y)}function pB(s,t,r){return s==="position"||s==="preserve-aspect"&&!Xde(kD(t),kD(r),.2)}function Hue(s){return s!==s.root&&s.scroll?.wasRoot}const que=mB({attachResizeListener:(s,t)=>Tm(s,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),T1={current:void 0},gB=mB({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!T1.current){const s=new que({});s.mount(window),s.setOptions({layoutScroll:!0}),T1.current=s}return T1.current},resetTransform:(s,t)=>{s.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),Gue={pan:{Feature:uue},drag:{Feature:due,ProjectionNode:gB,MeasureLayout:lB}};function OD(s,t,r){const{props:n}=s;s.animationState&&n.whileHover&&s.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&or.postRender(()=>i(t,lp(t)))}class Wue extends bc{mount(){const{current:t}=this.node;t&&(this.unmount=pce(t,(r,n)=>(OD(this.node,n,"Start"),a=>OD(this.node,a,"End"))))}unmount(){}}class Yue extends bc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ap(Tm(this.node.current,"focus",()=>this.onFocus()),Tm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LD(s,t,r){const{props:n}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&n.whileTap&&s.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&or.postRender(()=>i(t,lp(t)))}class Kue extends bc{mount(){const{current:t}=this.node;t&&(this.unmount=bce(t,(r,n)=>(LD(this.node,n,"Start"),(a,{success:i})=>LD(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wN=new WeakMap,R1=new WeakMap,Xue=s=>{const t=wN.get(s.target);t&&t(s)},Zue=s=>{s.forEach(Xue)};function Que({root:s,...t}){const r=s||document;R1.has(r)||R1.set(r,{});const n=R1.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Zue,{root:s,...t})),n[a]}function Jue(s,t,r){const n=Que(t);return wN.set(s,r),n.observe(s),()=>{wN.delete(s),n.unobserve(s)}}const ehe={some:0,all:1};class the extends bc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:ehe[a]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:f}=this.node.getProps(),g=h?m:f;g&&g(d)};return Jue(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(she(t,r))&&this.startObserver()}unmount(){}}function she({viewport:s={}},{viewport:t={}}={}){return r=>s[r]!==t[r]}const rhe={inView:{Feature:the},tap:{Feature:Kue},focus:{Feature:Yue},hover:{Feature:Wue}},nhe={layout:{ProjectionNode:gB,MeasureLayout:lB}},ahe={...Hde,...rhe,...Gue,...nhe},nt=ide(ahe,bde),FD=new Date().getFullYear(),BD=["available","not_available","rented","maintenance"],ID=["automatic","manual"],ihe=["Beirut","Mount Lebanon","North","South","Bekaa","Baalbek","Keserwan","Nabatieh","Akkar"],_t={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"},Jf={BMW:["1 Series","3 Series","5 Series","7 Series","X1","X3","X5","X7","M3","M5","Z4","i4","i7","iX"],"Mercedes-Benz":["A-Class","C-Class","E-Class","S-Class","GLA","GLC","GLE","GLS","G-Class","AMG GT","Maybach","EQE","EQS"],Audi:["A3","A4","A6","A8","Q3","Q5","Q7","Q8","TT","R8","e-tron"],Porsche:["911","Cayenne","Macan","Panamera","Taycan","Boxster","Cayman"],Volkswagen:["Polo","Golf","Jetta","Passat","Tiguan","Touareg","Arteon","ID.4","ID.7"],Opel:["Corsa","Astra","Insignia","Mokka","Grandland"],Smart:["Fortwo","Forfour"],Ferrari:["Roma","Portofino","F8","812","SF90","Purosangue"],Lamborghini:["Huracan","Aventador","Urus","Revuelto"],Maserati:["Ghibli","Quattroporte","Levante","Grecale","MC20"],"Alfa Romeo":["Giulia","Stelvio","Tonale","Giulietta"],Fiat:["500","Panda","Tipo","Doblo"],Pagani:["Huayra","Zonda"],"Rolls-Royce":["Phantom","Ghost","Wraith","Cullinan","Spectre"],Bentley:["Continental GT","Flying Spur","Bentayga"],"Aston Martin":["Vantage","DB11","DB12","DBX","Valhalla"],Jaguar:["XE","XF","XJ","F-Type","E-Pace","F-Pace"],"Land Rover":["Range Rover","Range Rover Sport","Velar","Evoque","Defender","Discovery"],McLaren:["720S","750S","Artura","GT"],Mini:["Cooper","Countryman","Clubman"],Lotus:["Emira","Evija","Eletre"],Tesla:["Model 3","Model S","Model X","Model Y","Cybertruck","Roadster"],Ford:["Fiesta","Focus","Mustang","Explorer","Escape","Edge","F-150","Bronco"],Chevrolet:["Spark","Malibu","Camaro","Corvette","Tahoe","Suburban","Silverado"],Dodge:["Charger","Challenger","Durango"],Jeep:["Wrangler","Grand Cherokee","Compass","Renegade","Gladiator"],Cadillac:["CT4","CT5","Escalade","Lyriq"],Chrysler:["300","Pacifica"],GMC:["Sierra","Yukon","Acadia"],Rivian:["R1T","R1S"],Lucid:["Air","Gravity"],Toyota:["Corolla","Camry","Yaris","Prius","RAV4","Highlander","Land Cruiser","Supra","Hilux"],Lexus:["IS","ES","GS","LS","NX","RX","GX","LX","LC"],Honda:["Civic","Accord","City","CR-V","HR-V","Pilot","Odyssey"],Nissan:["Micra","Sentra","Altima","Maxima","Qashqai","X-Trail","GT-R","370Z"],Infiniti:["Q50","Q60","QX50","QX60","QX80"],Mazda:["Mazda2","Mazda3","Mazda6","CX-5","CX-9","MX-5"],Subaru:["Impreza","Legacy","Outback","Forester","WRX","BRZ"],Mitsubishi:["Mirage","Lancer","ASX","Outlander","Pajero"],Suzuki:["Swift","Vitara","Jimny","Baleno"],Isuzu:["D-Max","MU-X"],Hyundai:["Accent","Elantra","Sonata","Kona","Tucson","Santa Fe","Palisade","Ioniq 5"],Kia:["Rio","Cerato","K5","Soul","Sportage","Sorento","Telluride","EV6"],Genesis:["G70","G80","G90","GV70","GV80"],Peugeot:["208","308","508","2008","3008","5008"],Renault:["Clio","Megane","Talisman","Captur","Kadjar","Koleos"],Citron:["C3","C4","C5","C5 Aircross"],Bugatti:["Chiron","Mistral","Tourbillon"],"DS Automobiles":["DS3","DS4","DS7"],BYD:["Atto 3","Han","Tang","Seal"],Geely:["Coolray","Emgrand","Tugella"],Chery:["Tiggo 7","Tiggo 8"],"Great Wall":["Haval H6","Tank 300"],NIO:["ES6","ES8","ET5","ET7"],XPeng:["P7","G6","G9"],MG:["ZS","HS","MG4","MG5"],Zeekr:["001","X"],Volvo:["S60","S90","V60","XC40","XC60","XC90"],Polestar:["Polestar 2","Polestar 3","Polestar 4"],Koenigsegg:["Jesko","Regera","Gemera"],Rimac:["Nevera"],Hennessey:["Venom F5"],SSC:["Tuatara"],Mahindra:["Scorpio","XUV700"],Tata:["Nexon","Harrier","Safari"]},ohe=["Other",...Object.keys(Jf).sort()],D1=["White","Black","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown","Beige","Gold","Purple","Pink","Pearl White","Metallic Gray","Metallic Blue","Dark Blue","Light Blue","Burgundy"],lhe=["GPS","Bluetooth","Backup Camera","Sunroof","Leather Seats","Apple CarPlay","Android Auto","Heated Seats","Cruise Control","Parking Sensors"],che=["Child Seat","GPS Device","Phone Holder","WiFi Hotspot","Roof Rack"];function zD(s){if(!s||typeof s!="string")return null;const t=s.trim(),r=t.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(r)return{lat:parseFloat(r[1]),lng:parseFloat(r[2])};const n=t.match(/[?&]q=(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(n)return{lat:parseFloat(n[1]),lng:parseFloat(n[2])};const a=t.match(/(?:!3d|!4d|!1d)(-?\d+\.?\d*)/g);if(a&&a.length>=2){const i=parseFloat(a[0].replace(/\D/g,"")),o=parseFloat(a[1].replace(/\D/g,""));if(!isNaN(i)&&!isNaN(o))return{lat:i,lng:o}}return null}function dhe(s){return!s||typeof s!="string"?!1:/^(https?:)?\/\/(maps\.app\.goo\.gl|goo\.gl\/maps)\//i.test(s.trim())}async function uhe(s){try{const{data:t}=await Le.get("/resolve-map-link",{params:{url:(s||"").trim()}}),r=t?.lat??t?.latitude,n=t?.lng??t?.longitude;if(r!=null&&n!=null&&!Number.isNaN(Number(r))&&!Number.isNaN(Number(n)))return{lat:Number(r),lng:Number(n)}}catch{}return null}function UD(){try{const s=localStorage.getItem("user");if(!s)return null;let r=JSON.parse(s)?.agent?.location;if(!r)return null;typeof r=="string"&&(r=JSON.parse(r),typeof r=="string"&&(r=JSON.parse(r)));const n=r?.lat??r?.latitude,a=r?.lng??r?.longitude;return n!=null&&a!=null?{latitude:String(Number(n)),longitude:String(Number(a))}:null}catch{return null}}function hhe({center:s,selectedLocation:t,onLocationSelect:r}){const n=w.useRef(null),a=w.useRef(null);w.useEffect(()=>{if(typeof window<"u"&&!window.L){const o=document.createElement("link");o.rel="stylesheet",o.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(o);const c=document.createElement("script");c.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",c.onload=()=>i(),document.head.appendChild(c)}else window.L&&i()},[]),w.useEffect(()=>{n.current&&window.L&&s?.latitude!=null&&s?.longitude!=null&&n.current.setView([parseFloat(s.latitude),parseFloat(s.longitude)],13)},[s?.latitude,s?.longitude]),w.useEffect(()=>{t&&a.current&&window.L&&a.current.setLatLng([parseFloat(t.latitude),parseFloat(t.longitude)])},[t]);const i=()=>{if(!window.L||n.current)return;const o=parseFloat(s?.latitude)||33.8547,c=parseFloat(s?.longitude)||35.8623,d=window.L.map("edit-location-map").setView([o,c],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(d);const h=window.L.marker([o,c],{draggable:!0}).addTo(d);h.on("dragend",m=>{const f=m.target.getLatLng();r(f.lat,f.lng)}),d.on("click",m=>{h.setLatLng(m.latlng),r(m.latlng.lat,m.latlng.lng)}),n.current=d,a.current=h};return e.jsx("div",{id:"edit-location-map",className:"w-full h-full min-h-[300px]"})}const fhe=[{value:"all",label:"All Categories"},{value:"sedan",label:"Sedan"},{value:"hatchback",label:"Hatchback"},{value:"coupe",label:"Coupe"},{value:"suv",label:"SUV"},{value:"crossover",label:"Crossover"},{value:"wagon",label:"Wagon"},{value:"pickup",label:"Pickup"},{value:"minivan",label:"Minivan"},{value:"convertible",label:"Convertible"}],mhe=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],phe=s=>{switch(s){case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"rejected":default:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}},ghe=s=>{switch(s){case"luxury":return _t.darkBlue;case"sport":return _t.limeGreen;default:return _t.teal}},xhe=({car:s,onClose:t})=>{if(!s)return null;const r=n=>Array.isArray(n)?n:[];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsxs(nt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl p-6 relative overflow-y-auto max-h-[90vh]",children:[e.jsx("button",{className:"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{background:_t.tealDim},onClick:t,children:e.jsx(Sr,{className:"w-5 h-5",style:{color:_t.teal}})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${_t.teal}, ${_t.darkBlue})`},children:e.jsx(Qt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[s.make," ",s.model]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s.year,"  ",s.license_plate]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mt-4",children:[e.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:_t.tealDim},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(er,{className:"w-4 h-4",style:{color:_t.teal}}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Views"})]}),e.jsx("p",{className:"text-xl font-bold",style:{color:_t.teal},children:s.views_count||0})]}),e.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:_t.darkBlueDim},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Jl,{className:"w-4 h-4",style:{color:_t.darkBlue}}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Clicks"})]}),e.jsx("p",{className:"text-xl font-bold",style:{color:_t.darkBlue},children:s.clicks_count??0})]}),e.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:_t.limeGreenDim},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(dr,{className:"w-4 h-4",style:{color:_t.limeGreen}}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Daily Rate"})]}),e.jsxs("p",{className:"text-xl font-bold",style:{color:_t.limeGreen},children:["$",s.daily_rate]})]}),e.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:_t.tealDim},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Bs,{className:"w-4 h-4",style:{color:_t.teal}}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status"})]}),e.jsx(Ge,{className:`text-xs ${phe(s.status)}`,children:s.status})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-lg",style:{height:"240px"},children:s.main_image_url?e.jsx("img",{src:`/api/storage/${s.main_image_url}`,alt:"Main",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{background:_t.tealDim},children:e.jsx(Qt,{className:"w-16 h-16",style:{color:_t.teal,opacity:.3}})})}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["front","back","left","right"].map(n=>s[`${n}_image_url`]?e.jsx("div",{className:"relative rounded-lg overflow-hidden shadow",style:{height:"70px"},children:e.jsx("img",{src:`/api/storage/${s[`${n}_image_url`]}`,alt:n,className:"w-full h-full object-cover"})},n):e.jsx("div",{className:"rounded-lg flex items-center justify-center",style:{height:"70px",background:_t.tealDim},children:e.jsx(Qt,{className:"w-6 h-6",style:{color:_t.teal,opacity:.3}})},n))})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx(rn,{icon:Qt,label:"Category",value:s.car_category}),e.jsx(rn,{icon:dr,label:"Holiday Rate",value:`$${s.holiday_rate}/day`}),e.jsx(rn,{icon:Wl,label:"Mileage",value:`${s.mileage?.toLocaleString()} km`}),e.jsx(rn,{label:"Color",value:s.color}),e.jsx(rn,{label:"Fuel Type",value:s.fuel_type}),e.jsx(rn,{label:"Transmission",value:s.transmission}),e.jsx(rn,{label:"Wheel Drive",value:s.wheels_drive}),e.jsx(rn,{label:"Seats",value:s.seats}),e.jsx(rn,{label:"Doors",value:s.doors}),e.jsx(rn,{label:"Max Driving Mileage",value:`${s.max_driving_mileage} km`}),e.jsx(rn,{label:"Min Rental Days",value:s.min_rental_days}),e.jsx(rn,{label:"Add-Ons",value:r(s.car_add_on).join(", ")||"N/A"}),e.jsx(rn,{label:"Features",value:r(s.features).join(", ")||"N/A"}),e.jsx(rn,{label:"Reason for Rent",value:r(s.reason_of_rent).join(", ")||"N/A"}),s.notes&&e.jsx(rn,{label:"Notes",value:s.notes}),e.jsx(rn,{icon:js,label:"Delivery Location",value:s.delivery_location?.address||"N/A"}),e.jsx(rn,{icon:js,label:"Return Location",value:s.return_location?.address||"N/A"}),s.live_location&&e.jsx(rn,{icon:js,label:"Current Location",value:s.live_location.address,badge:!0})]})]})]})})},rn=({icon:s,label:t,value:r,badge:n})=>e.jsxs("div",{className:"flex items-start gap-2 py-2 border-b border-gray-100 dark:border-gray-800",children:[s&&e.jsx(s,{className:"w-4 h-4 mt-0.5",style:{color:_t.teal}}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:[t,":"]}),n?e.jsx(Ge,{className:"ml-2 text-xs",style:{background:_t.teal,color:"white"},children:r}):e.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:r})]})]}),yhe=()=>{const s=br(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState({search:"",category:"all",status:"all"}),[c,d]=w.useState(null),[h,m]=w.useState(!1),[f,g]=w.useState({}),[b,v]=w.useState(!1),[y,_]=w.useState(null),[j,S]=w.useState(""),[N,k]=w.useState(!1),[C,z]=w.useState(""),[E,U]=w.useState(null),T=async()=>{a(!0);try{const{data:X}=await Le.get("/cars/agent/Mycars",{params:{per_page:1e3}}),pe=X.cars?.data??X.cars??X?.data??[];r(Array.isArray(pe)?pe:[])}catch{xe.error("Failed to fetch cars.")}finally{a(!1)}};w.useEffect(()=>{T()},[]);const re=(X,pe)=>{o(ge=>({...ge,[X]:pe}))},Y=()=>o({search:"",category:"all",status:"all"}),[I,K]=w.useState(null),[L,J]=w.useState(""),Q=X=>{K(X),J("")},Z=()=>{K(null),J("")},ee=async()=>{if(!(!I||L.toLowerCase()!=="delete"))try{await Le.delete(`/cars/${I.id}`),xe.success("Car deleted successfully."),r(X=>X.filter(pe=>pe.id!==I.id)),Z()}catch(X){xe.error(X.response?.data?.error||"Failed to delete car.")}},F=X=>{d(X);const pe=(X.transmission||"").toLowerCase(),ge=X.make&&Jf[X.make],Re=ge?Jf[X.make]:[],De=X.model&&Re.includes(X.model),Se={benz:"Petrol",diesel:"Diesel",electric:"Electric",hybrid:"Hybrid"},Ie=(X.fuel_type||"").toLowerCase(),We=Se[Ie]||(["Petrol","Diesel","Electric","Hybrid"].includes(X.fuel_type)?X.fuel_type:"Petrol"),gt={"4x4":"4x4",front:"Front",rear:"Rear",autoblock:"Autoblock"}[(X.wheels_drive||"").toLowerCase()]||X.wheels_drive||"";g({make:ge?X.make:"Other",customMake:ge?"":X.make||"",model:De?X.model:"Other",customModel:De?"":X.model||"",year:X.year||new Date().getFullYear(),license_plate:X.license_plate||"",color:X.color||"",car_category:X.car_category||"",fuel_type:We,transmission:pe==="automatic"||pe==="manual"?pe:"automatic",wheels_drive:gt,cylinder_number:X.cylinder_number||"",seats:X.seats??5,doors:X.doors??4,daily_rate:X.daily_rate??"",holiday_rate:X.holiday_rate??"",status:BD.includes(X.status)?X.status:"available",mileage:X.mileage??"",max_driving_mileage:X.max_driving_mileage??"",notes:X.notes||"",is_deposit:!!X.is_deposit,deposit:X.deposit??"",is_delivered:!!X.is_delivered,delivery_fees:X.delivery_fees??"",with_driver:!!X.with_driver,driver_fees:X.driver_fees??"",min_rental_days:X.min_rental_days??1,insurance_expiry:X.insurance_expiry||"",registration_expiry:X.registration_expiry||"",features:Array.isArray(X.features)?X.features:[],car_add_on:Array.isArray(X.car_add_on)?X.car_add_on:[],live_location:(()=>{const pt=X.live_location;if(!pt)return{address:"",latitude:0,longitude:0};const Nt=pt.latitude??pt.lat??0,yt=pt.longitude??pt.lng??0;return{address:pt.address??"",latitude:Number(Nt)||0,longitude:Number(yt)||0}})()}),z(""),m(!0)},de=()=>{const X=f.make??"";return X==="Other"?String(f.customMake??"").trim():X},q=()=>{const X=f.make??"",pe=f.model??"";return X==="Other"||pe==="Other"?String(f.customModel??"").trim():pe},G=()=>{const X=de(),pe=q();if(!X)return xe.error("Make is required."),!1;if(X.length>100)return xe.error("Make must be at most 100 characters."),!1;if(!pe)return xe.error("Model is required."),!1;if(pe.length>100)return xe.error("Model must be at most 100 characters."),!1;const ge=f.year!==void 0&&f.year!==""?Number(f.year):null;if(ge!==null&&(isNaN(ge)||ge<1900||ge>FD+1))return xe.error(`Year must be between 1900 and ${FD+1}.`),!1;const Re=(f.transmission||"").toLowerCase();if(Re&&!ID.includes(Re))return xe.error("Transmission must be Automatic or Manual."),!1;const De=f.status||"available";if(!BD.includes(De))return xe.error("Invalid status."),!1;const Se=f.daily_rate;if(Se==null||Se==="")return xe.error("Daily rate is required."),!1;const Ie=Number(Se);if(isNaN(Ie)||Ie<0)return xe.error("Daily rate must be 0 or greater."),!1;const We=f.holiday_rate!==void 0&&f.holiday_rate!==""?Number(f.holiday_rate):null;if(We!==null&&(isNaN(We)||We<0))return xe.error("Holiday rate must be 0 or greater."),!1;if(f.is_deposit){const pt=Number(f.deposit);if(isNaN(pt)||pt<0)return xe.error("Deposit amount must be 0 or greater."),!1}if(f.is_delivered){const pt=Number(f.delivery_fees);if(isNaN(pt)||pt<0)return xe.error("Delivery fees must be 0 or greater."),!1}if(f.with_driver){const pt=Number(f.driver_fees);if(isNaN(pt)||pt<0)return xe.error("Driver fees must be 0 or greater."),!1}const wt=f.min_rental_days!==void 0&&f.min_rental_days!==""?Number(f.min_rental_days):1;if(isNaN(wt)||wt<1)return xe.error("Minimum rental days must be at least 1."),!1;const gt=f.mileage!==void 0&&f.mileage!==""?Number(f.mileage):null;return gt!==null&&(isNaN(gt)||gt<0)?(xe.error("Mileage must be 0 or greater."),!1):!0},ie=(X,pe)=>{g(ge=>{const Re={...ge,[X]:pe};return X==="make"&&(Re.model="",Re.customModel=""),Re})},le=X=>{const pe=f.features||[],ge=pe.includes(X)?pe.filter(Re=>Re!==X):[...pe,X];ie("features",ge)},be=X=>{const pe=f.car_add_on||[],ge=pe.includes(X)?pe.filter(Re=>Re!==X):[...pe,X];ie("car_add_on",ge)},ye=f.live_location||{address:"",latitude:0,longitude:0},$=ye.latitude&&ye.longitude&&Number(ye.latitude)!==0&&Number(ye.longitude)!==0,V=()=>{if(!navigator.geolocation){xe.error("Geolocation is not supported by your browser");return}xe.info("Getting your location..."),navigator.geolocation.getCurrentPosition(X=>{ie("live_location",{...ye,latitude:X.coords.latitude.toFixed(6),longitude:X.coords.longitude.toFixed(6)}),xe.success("Location set from current position.")},()=>xe.error("Could not get your location. Please select manually."))},me=()=>{const X=UD();X?(ie("live_location",{...ye,latitude:X.latitude,longitude:X.longitude}),xe.success("Location set to office.")):xe.error("Office location not found. Complete your agency profile with a location first.")},ce=()=>{_({latitude:ye.latitude||33.8547,longitude:ye.longitude||35.8623}),S(""),v(!0)},he=(X,pe)=>{_({latitude:X.toFixed(6),longitude:pe.toFixed(6)})},O=()=>{y&&(ie("live_location",{...ye,latitude:y.latitude,longitude:y.longitude}),xe.success("Location selected on map.")),v(!1)},oe=async()=>{const X=j.trim();if(X){k(!0);try{const ge=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(X)}&limit=1`,{headers:{Accept:"application/json"}})).json();ge?.[0]?(_({latitude:parseFloat(ge[0].lat).toFixed(6),longitude:parseFloat(ge[0].lon).toFixed(6)}),xe.success("Location found.")):xe.error("No results found.")}catch{xe.error("Search failed.")}finally{k(!1)}}},D=()=>{const X=UD();X?(_(X),xe.success("Office location set. Confirm to use.")):xe.error("Office location not found.")},Ce=async()=>{const X=(C||"").trim();if(!X)return;let pe=zD(X);if(!pe&&dhe(X)){U("live");try{const ge=await fetch(X,{redirect:"follow",method:"HEAD"});pe=zD(ge?.url||X),pe||(pe=await uhe(X))}finally{U(null)}}pe?(ie("live_location",{...ye,latitude:pe.lat.toFixed(6),longitude:pe.lng.toFixed(6)}),xe.success("Location set from Google Maps link.")):xe.error("Could not read coordinates. Use a link with lat,lng (e.g. @33.89,35.50 or ?q=33.89,35.50).")},H=async()=>{if(!c||!G())return;const X={},pe=de(),ge=q();pe&&(X.make=pe),ge&&(X.model=ge),f.year!==void 0&&f.year!==""&&(X.year=Number(f.year)),f.license_plate!==void 0&&(X.license_plate=String(f.license_plate||"").toUpperCase().trim()),f.color!==void 0&&(X.color=f.color),f.car_category!==void 0&&(X.car_category=String(f.car_category||"").toLowerCase());const Re={Petrol:"benz",Diesel:"diesel",Electric:"electric",Hybrid:"hybrid"};f.fuel_type&&(X.fuel_type=Re[f.fuel_type]||f.fuel_type.toLowerCase()),f.wheels_drive&&(X.wheels_drive=String(f.wheels_drive||"").toLowerCase()),f.cylinder_number&&(X.cylinder_number=f.cylinder_number),f.seats!==void 0&&(X.seats=Number(f.seats)||5),f.doors!==void 0&&(X.doors=Number(f.doors)||4),f.max_driving_mileage!==void 0&&f.max_driving_mileage!==""&&(X.max_driving_mileage=Number(f.max_driving_mileage)),f.insurance_expiry!==void 0&&(X.insurance_expiry=f.insurance_expiry||null),f.registration_expiry!==void 0&&(X.registration_expiry=f.registration_expiry||null),Array.isArray(f.features)&&(X.features=f.features),Array.isArray(f.car_add_on)&&(X.car_add_on=f.car_add_on),f.daily_rate!==void 0&&f.daily_rate!==""&&(X.daily_rate=Number(f.daily_rate)),f.holiday_rate!==void 0&&f.holiday_rate!==""&&(X.holiday_rate=Number(f.holiday_rate)),f.status!==void 0&&(X.status=f.status);const De=(f.transmission||"").toLowerCase();De&&ID.includes(De)&&(X.transmission=De),f.mileage!==void 0&&f.mileage!==""&&(X.mileage=Number(f.mileage)),f.notes!==void 0&&(X.notes=f.notes),X.is_deposit=!!f.is_deposit,f.is_deposit&&f.deposit!==void 0&&f.deposit!==""&&(X.deposit=Number(f.deposit)),X.is_delivered=!!f.is_delivered,f.is_delivered&&f.delivery_fees!==void 0&&f.delivery_fees!==""&&(X.delivery_fees=Number(f.delivery_fees)),X.with_driver=!!f.with_driver,f.with_driver&&f.driver_fees!==void 0&&f.driver_fees!==""&&(X.driver_fees=Number(f.driver_fees)),f.min_rental_days!==void 0&&f.min_rental_days!==""&&(X.min_rental_days=Math.max(1,Number(f.min_rental_days))),f.live_location&&(f.live_location.address||f.live_location.latitude||f.live_location.longitude)&&(X.live_location=f.live_location);try{const{data:Se}=await Le.put(`/cars/${c.id}`,X,{headers:{"Content-Type":"application/json"}});xe.success("Car updated successfully"),r(Ie=>Ie.map(We=>We.id===c.id?{...We,...Se.car}:We)),m(!1)}catch(Se){const Ie=Se.response?.data?.errors?Object.values(Se.response.data.errors).flat().join(", "):Se.response?.data?.error||Se.response?.data?.message||"Failed to update car";xe.error(Ie)}},R=w.useMemo(()=>t.filter(X=>{const pe=i.category==="all"||(X.car_category||"").toLowerCase()===i.category,ge=i.status==="all"||X.status===i.status,Re=[X.make,X.model,X.license_plate].some(De=>De?.toLowerCase().includes(i.search.toLowerCase()));return pe&&ge&&Re}),[t,i]),P=t.reduce((X,pe)=>X+(pe.views_count||0),0),W=t.reduce((X,pe)=>X+(pe.clicks_count||0),0),Ne=t.filter(X=>X.status==="approved").length;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${_t.teal}, ${_t.darkBlue})`},children:e.jsx(Qt,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Cars"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage your listed vehicles"})]})]}),e.jsxs(fe,{onClick:()=>s("/add-car"),className:"h-11 rounded-xl text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",style:{background:`linear-gradient(135deg, ${_t.teal}, ${_t.darkBlue})`},children:[e.jsx(nr,{className:"w-5 h-5 mr-2"}),"Add New Car"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(ix,{icon:Qt,label:"Total Cars",value:t.length,gradient:`linear-gradient(135deg, ${_t.teal}, ${_t.darkBlue})`}),e.jsx(ix,{icon:er,label:"Total Views",value:P,gradient:`linear-gradient(135deg, ${_t.darkBlue}, ${_t.teal})`}),e.jsx(ix,{icon:Jl,label:"Total Clicks",value:W,gradient:`linear-gradient(135deg, ${_t.teal}, ${_t.limeGreen})`}),e.jsx(ix,{icon:oc,label:"Approved",value:Ne,gradient:`linear-gradient(135deg, ${_t.limeGreen}, ${_t.teal})`})]}),e.jsx(Ue,{className:"mb-6 border-2 border-transparent shadow-lg rounded-xl",children:e.jsx(He,{className:"p-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ae,{placeholder:"Search cars...",value:i.search,onChange:X=>re("search",X.target.value),className:"pl-9 h-10 border-2 rounded-xl transition-all duration-200",style:{borderColor:i.search?_t.teal:void 0}})]})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsxs(ot,{value:i.category,onValueChange:X=>re("category",X),children:[e.jsx(at,{className:"h-10 border-2 rounded-xl",children:e.jsx(lt,{placeholder:"Select category"})}),e.jsx(it,{children:fhe.map(X=>e.jsx(ke,{value:X.value,children:X.label},X.value))})]})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs(ot,{value:i.status,onValueChange:X=>re("status",X),children:[e.jsx(at,{className:"h-10 border-2 rounded-xl",children:e.jsx(lt,{placeholder:"Select status"})}),e.jsx(it,{children:mhe.map(X=>e.jsx(ke,{value:X.value,children:X.label},X.value))})]})]}),e.jsx("div",{className:"md:col-span-1 flex justify-end",children:(i.search||i.category!=="all"||i.status!=="all")&&e.jsx(fe,{variant:"outline",className:"h-10 rounded-xl border-2",style:{borderColor:_t.teal,color:_t.teal},onClick:Y,children:"Clear Filters"})})]})})}),e.jsxs(Ue,{className:"border-2 border-transparent shadow-lg rounded-xl",children:[e.jsx(ts,{className:"pb-4",children:e.jsxs(ss,{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Your Listed Cars (",R.length,")"]})}),e.jsx(He,{children:n?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:_t.teal,borderTopColor:"transparent"}})}):R.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{background:_t.tealDim},children:e.jsx(Qt,{className:"w-8 h-8",style:{color:_t.teal}})}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["No cars found."," ",e.jsx(fe,{variant:"link",className:"p-0 h-auto",style:{color:_t.teal},onClick:()=>s("/Add/car"),children:"Add your first car"})]})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:R.map((X,pe)=>{const ge=X.car_accepted===!1||X.status==="pending";return e.jsxs(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:pe*.03},className:`rounded-xl border-2 overflow-hidden bg-white dark:bg-gray-900 shadow-md hover:shadow-lg transition-shadow duration-200 ${ge?"border-red-200 dark:border-red-900/50":"border-transparent"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-[4/3] w-full overflow-hidden bg-gray-100 dark:bg-gray-800",children:X.main_image_url?e.jsx("img",{src:X.main_image_url.startsWith("http")?X.main_image_url:`/api/storage/${X.main_image_url}`,alt:`${X.make} ${X.model}`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{background:_t.tealDim},children:e.jsx(Qt,{className:"w-12 h-12",style:{color:_t.teal,opacity:.5}})})}),e.jsx("div",{className:"absolute top-2 right-2 flex flex-col gap-1 items-end",children:X.car_accepted===!0?e.jsx(Ge,{className:"bg-green-600 hover:bg-green-600 text-white text-xs font-semibold shadow",children:"Accepted"}):e.jsx(Ge,{className:"bg-red-600 hover:bg-red-600 text-white text-xs font-semibold shadow",children:"Not accepted"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white truncate",children:[X.make," ",X.model]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[X.year,"  ",e.jsx("span",{className:"font-mono",children:X.license_plate})]}),e.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[e.jsx(Ge,{className:"px-2 py-0.5 text-xs text-white font-semibold shrink-0",style:{background:ghe(X.car_category)},children:X.car_category}),e.jsxs("span",{className:"text-sm font-bold",style:{color:_t.teal},children:["$",X.daily_rate,e.jsx("span",{className:"text-xs font-normal text-gray-500",children:"/day"})]})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",title:"Views",children:[e.jsx(er,{className:"w-3.5 h-3.5",style:{color:_t.darkBlue}}),X.views_count??0]}),e.jsxs("span",{className:"flex items-center gap-1",title:"Clicks",children:[e.jsx(Jl,{className:"w-3.5 h-3.5",style:{color:_t.teal}}),X.clicks_count??0]})]}),e.jsxs("div",{className:"mt-3 flex gap-1",children:[e.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 flex-1 p-0 hover:scale-105 transition-transform",style:{color:_t.teal},onClick:()=>d(X),children:e.jsx(er,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 flex-1 p-0 hover:scale-105 transition-transform",style:{color:_t.darkBlue},onClick:()=>F(X),children:e.jsx(j_,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 flex-1 p-0 text-red-600 hover:text-red-700 hover:scale-105 transition-transform",onClick:()=>Q(X),children:e.jsx(tr,{className:"w-4 h-4"})})]})]})]},X.id)})})})]}),!n&&R.length>0&&e.jsxs("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:["Showing all ",R.length," car",R.length!==1?"s":""]}),c&&e.jsx(xhe,{car:c,onClose:()=>d(null)}),I&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsxs(nt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-md p-6 relative",children:[e.jsx("button",{type:"button",className:"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{background:_t.tealDim},onClick:Z,children:e.jsx(Sr,{className:"w-5 h-5",style:{color:_t.teal}})}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-red-100 dark:bg-red-900/30",children:e.jsx(tr,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete car"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[I.make," ",I.model," (",I.license_plate,")"]})]})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["This action cannot be undone. Type ",e.jsx("strong",{className:"text-gray-900 dark:text-white",children:"delete"})," below to confirm."]}),e.jsx(Ae,{type:"text",value:L,onChange:X=>J(X.target.value),placeholder:"Type delete to confirm",className:"h-10 border-2 rounded-xl mb-6",autoComplete:"off"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(fe,{variant:"outline",onClick:Z,className:"h-10 rounded-xl",children:"Cancel"}),e.jsx(fe,{onClick:ee,disabled:L.toLowerCase()!=="delete",className:"h-10 rounded-xl text-white font-semibold bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:pointer-events-none",children:"Delete car"})]})]})}),h&&c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsxs(nt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto p-6 relative",children:[e.jsx("button",{className:"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{background:_t.tealDim},onClick:()=>m(!1),children:e.jsx(Sr,{className:"w-5 h-5",style:{color:_t.teal}})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${_t.darkBlue}, ${_t.teal})`},children:e.jsx(j_,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Car"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.license_plate})]})]}),(c.main_image_url||c.front_image_url)&&e.jsxs("div",{className:"mb-6 p-4 rounded-xl bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2 uppercase tracking-wider",children:"Photos (read-only)"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:["main","front","back","left","right"].map(X=>{const pe=c[`${X}_image_url`]||c[`${X}_image_full_url`];if(!pe)return null;const ge=pe.startsWith("http")?pe:`/api/storage/${pe}`;return e.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-600 shrink-0",children:e.jsx("img",{src:ge,alt:X,className:"w-full h-full object-cover"})},X)})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Photos cannot be changed here."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Basic info"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Make ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(ot,{value:f.make??"",onValueChange:X=>ie("make",X),children:[e.jsx(at,{className:"h-10 border-2 rounded-xl",children:e.jsx(lt,{placeholder:"Select make"})}),e.jsx(it,{children:ohe.map(X=>e.jsx(ke,{value:X,children:X},X))})]})]}),f.make==="Other"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Make ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ae,{value:f.customMake??"",onChange:X=>ie("customMake",X.target.value),placeholder:"Type make",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Model ",e.jsx("span",{className:"text-red-500",children:"*"})]}),f.make&&f.make!=="Other"?e.jsxs(ot,{value:f.model&&Jf[f.make]?.includes(f.model)?f.model:f.model==="Other"?"Other":"_",onValueChange:X=>ie("model",X==="_"?"":X),children:[e.jsx(at,{className:"h-10 border-2 rounded-xl",children:e.jsx(lt,{placeholder:"Select model"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"_",children:"Select model..."}),(Jf[f.make]||[]).map(X=>e.jsx(ke,{value:X,children:X},X)),e.jsx(ke,{value:"Other",children:"Other"})]})]}):e.jsx(Ae,{value:f.customModel??"",onChange:X=>ie("customModel",X.target.value),placeholder:"Type model",className:"h-10 border-2 rounded-xl"})]}),f.make&&f.make!=="Other"&&f.model==="Other"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Model ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ae,{value:f.customModel??"",onChange:X=>ie("customModel",X.target.value),placeholder:"Type model",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Year"}),e.jsx(Ae,{type:"number",value:f.year??"",onChange:X=>ie("year",X.target.value),placeholder:"e.g. 2023",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsxs(ot,{value:f.car_category||"_",onValueChange:X=>ie("car_category",X==="_"?"":X),children:[e.jsx(at,{className:"h-10 border-2 rounded-xl",children:e.jsx(lt,{placeholder:"Select category"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"_",children:""}),e.jsx(ke,{value:"Sedan",children:"Sedan"}),e.jsx(ke,{value:"Hatchback",children:"Hatchback"}),e.jsx(ke,{value:"Coupe",children:"Coupe"}),e.jsx(ke,{value:"SUV",children:"SUV"}),e.jsx(ke,{value:"Crossover",children:"Crossover"}),e.jsx(ke,{value:"Wagon",children:"Wagon"}),e.jsx(ke,{value:"Pickup",children:"Pickup"}),e.jsx(ke,{value:"Minivan",children:"Minivan"}),e.jsx(ke,{value:"Convertible",children:"Convertible"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Color"}),e.jsxs(ot,{value:f.color||"_",onValueChange:X=>ie("color",X==="_"?"":X),children:[e.jsx(at,{className:"h-10 border-2 rounded-xl",children:e.jsx(lt,{placeholder:"Select color"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"_",children:""}),(()=>{const X=f.color??"";return(X&&!D1.includes(X)?[X,...D1]:D1).map(Re=>e.jsx(ke,{value:Re,children:Re},Re))})()]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"License plate"}),e.jsx(Ae,{value:f.license_plate??"",onChange:X=>ie("license_plate",X.target.value),placeholder:"e.g. ABC 1234",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Fuel type"}),e.jsxs(ot,{value:f.fuel_type||"_",onValueChange:X=>ie("fuel_type",X==="_"?"":X),children:[e.jsx(at,{className:"h-10 border-2 rounded-xl",children:e.jsx(lt,{placeholder:"Fuel type"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"_",children:""}),e.jsx(ke,{value:"Petrol",children:"Petrol"}),e.jsx(ke,{value:"Diesel",children:"Diesel"}),e.jsx(ke,{value:"Electric",children:"Electric"}),e.jsx(ke,{value:"Hybrid",children:"Hybrid"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Wheels drive"}),e.jsxs(ot,{value:f.wheels_drive||"_",onValueChange:X=>ie("wheels_drive",X==="_"?"":X),children:[e.jsx(at,{className:"h-10 border-2 rounded-xl",children:e.jsx(lt,{placeholder:"Wheels drive"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"_",children:""}),e.jsx(ke,{value:"4x4",children:"4x4"}),e.jsx(ke,{value:"Front",children:"Front"}),e.jsx(ke,{value:"Rear",children:"Rear"}),e.jsx(ke,{value:"Autoblock",children:"Autoblock"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Cylinder number"}),e.jsxs(ot,{value:f.cylinder_number||"_",onValueChange:X=>ie("cylinder_number",X==="_"?"":X),children:[e.jsx(at,{className:"h-10 border-2 rounded-xl",children:e.jsx(lt,{placeholder:"Cylinder"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"_",children:""}),e.jsx(ke,{value:"4",children:"4"}),e.jsx(ke,{value:"6",children:"6"}),e.jsx(ke,{value:"8",children:"8"}),e.jsx(ke,{value:"10",children:"10"}),e.jsx(ke,{value:"12",children:"12"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Seats"}),e.jsx(Ae,{type:"number",min:1,max:20,value:f.seats??"",onChange:X=>ie("seats",X.target.value),placeholder:"5",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Doors"}),e.jsx(Ae,{type:"number",min:1,max:10,value:f.doors??"",onChange:X=>ie("doors",X.target.value),placeholder:"4",className:"h-10 border-2 rounded-xl"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Transmission"}),e.jsxs(ot,{value:(f.transmission||"automatic").toLowerCase(),onValueChange:X=>ie("transmission",X),children:[e.jsx(at,{className:"h-10 border-2 rounded-xl",children:e.jsx(lt,{placeholder:"Transmission"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"automatic",children:"Automatic"}),e.jsx(ke,{value:"manual",children:"Manual"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Status"}),e.jsxs(ot,{value:f.status??"available",onValueChange:X=>ie("status",X),children:[e.jsx(at,{className:"h-10 border-2 rounded-xl",children:e.jsx(lt,{placeholder:"Car status"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"available",children:"Available"}),e.jsx(ke,{value:"not_available",children:"Not available"}),e.jsx(ke,{value:"rented",children:"Rented"}),e.jsx(ke,{value:"maintenance",children:"Maintenance"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Pricing & costs"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Daily rate ($) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ae,{type:"number",min:0,value:f.daily_rate??"",onChange:X=>ie("daily_rate",X.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Holiday rate ($)"}),e.jsx(Ae,{type:"number",min:0,value:f.holiday_rate??"",onChange:X=>ie("holiday_rate",X.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Min rental days"}),e.jsx(Ae,{type:"number",min:1,value:f.min_rental_days??1,onChange:X=>ie("min_rental_days",X.target.value),className:"h-10 border-2 rounded-xl"})]})]}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!f.is_deposit,onChange:X=>ie("is_deposit",X.target.checked),className:"w-4 h-4 rounded border-2",style:{accentColor:_t.teal}}),e.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Require deposit"})]}),f.is_deposit&&e.jsxs("div",{className:"pl-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Deposit amount ($)"}),e.jsx(Ae,{type:"number",min:0,value:f.deposit??"",onChange:X=>ie("deposit",X.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl max-w-xs"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!f.is_delivered,onChange:X=>ie("is_delivered",X.target.checked),className:"w-4 h-4 rounded border-2",style:{accentColor:_t.teal}}),e.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Delivery available"})]}),f.is_delivered&&e.jsxs("div",{className:"pl-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Delivery fees ($)"}),e.jsx(Ae,{type:"number",min:0,value:f.delivery_fees??"",onChange:X=>ie("delivery_fees",X.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl max-w-xs"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!f.with_driver,onChange:X=>ie("with_driver",X.target.checked),className:"w-4 h-4 rounded border-2",style:{accentColor:_t.teal}}),e.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Driver available"})]}),f.with_driver&&e.jsxs("div",{className:"pl-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Driver fees per day ($)"}),e.jsx(Ae,{type:"number",min:0,value:f.driver_fees??"",onChange:X=>ie("driver_fees",X.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl max-w-xs"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Features & Add-ons"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Features"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:lhe.map(X=>e.jsxs(Ge,{onClick:()=>le(X),className:`cursor-pointer px-3 py-1.5 text-sm transition-all ${(f.features||[]).includes(X)?"opacity-100":"opacity-60 hover:opacity-80"}`,style:{background:(f.features||[]).includes(X)?_t.teal:_t.tealDim,color:(f.features||[]).includes(X)?"white":"inherit"},children:[(f.features||[]).includes(X)&&e.jsx(Qn,{className:"w-3 h-3 inline mr-1"}),X]},X))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Add-ons"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:che.map(X=>e.jsxs(Ge,{onClick:()=>be(X),className:`cursor-pointer px-3 py-1.5 text-sm transition-all ${(f.car_add_on||[]).includes(X)?"opacity-100":"opacity-60 hover:opacity-80"}`,style:{background:(f.car_add_on||[]).includes(X)?_t.darkBlue:_t.darkBlueDim,color:(f.car_add_on||[]).includes(X)?"white":"inherit"},children:[(f.car_add_on||[]).includes(X)&&e.jsx(Qn,{className:"w-3 h-3 inline mr-1"}),X]},X))})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:[e.jsx(js,{className:"w-4 h-4 inline mr-1",style:{color:_t.teal}}),"Edit Location & Address"]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Address (region where car is located)"}),e.jsxs("select",{value:ye.address||"",onChange:X=>ie("live_location",{...ye,address:X.target.value}),className:"w-full h-10 border-2 rounded-xl px-4 bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700 focus:border-teal-500",children:[e.jsx("option",{value:"",children:"Select region..."}),ihe.map(X=>e.jsx("option",{value:X,children:X},X))]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Set coordinates using one of these options:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(fe,{type:"button",variant:"outline",size:"sm",onClick:V,className:"rounded-xl",children:[e.jsx(q0,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),e.jsxs(fe,{type:"button",variant:"outline",size:"sm",onClick:ce,className:"rounded-xl",children:[e.jsx(js,{className:"w-4 h-4 mr-2"}),"Select on Map"]}),e.jsxs(fe,{type:"button",variant:"outline",size:"sm",onClick:me,className:"rounded-xl",children:[e.jsx(wa,{className:"w-4 h-4 mr-2"}),"Office location"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Or paste Google Maps link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ae,{placeholder:"https://www.google.com/maps/@33.89,35.50 or maps.app.goo.gl/...",value:C,onChange:X=>z(X.target.value),className:"h-9 border-2 rounded-xl flex-1 text-sm"}),e.jsx(fe,{type:"button",variant:"outline",size:"sm",disabled:E==="live",onClick:Ce,className:"h-9 shrink-0",children:E==="live"?e.jsx(fn,{className:"w-4 h-4 animate-spin"}):"Apply"})]})]}),$?e.jsxs("div",{className:"p-3 rounded-lg",style:{background:_t.tealDim},children:[e.jsx("p",{className:"text-sm font-medium",style:{color:_t.teal},children:"Location set"}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Lat: ",ye.latitude,"  Lng: ",ye.longitude]})]}):e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No location selected yet."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Other"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Wl,{className:"w-4 h-4 inline mr-1",style:{color:_t.teal}}),"Mileage (km)"]}),e.jsx(Ae,{type:"number",min:0,value:f.mileage??"",onChange:X=>ie("mileage",X.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Max driving mileage"}),e.jsx(Ae,{type:"number",min:0,value:f.max_driving_mileage??"",onChange:X=>ie("max_driving_mileage",X.target.value),placeholder:"Optional",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Insurance expiry"}),e.jsx(Ae,{type:"date",value:f.insurance_expiry??"",onChange:X=>ie("insurance_expiry",X.target.value),className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Registration expiry"}),e.jsx(Ae,{type:"date",value:f.registration_expiry??"",onChange:X=>ie("registration_expiry",X.target.value),className:"h-10 border-2 rounded-xl"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),e.jsx("textarea",{value:f.notes??"",onChange:X=>ie("notes",X.target.value),placeholder:"Optional notes about the vehicle",rows:3,className:"w-full border-2 rounded-xl p-3 bg-white dark:bg-gray-900 resize-none"})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3 sticky bottom-0 bg-white dark:bg-gray-900 pt-4 -mb-6",children:[e.jsx(fe,{variant:"outline",onClick:()=>m(!1),className:"h-10 rounded-xl",children:"Cancel"}),e.jsx(fe,{onClick:H,className:"h-10 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${_t.teal}, ${_t.darkBlue})`},children:"Save Changes"})]})]})}),e.jsx(yr,{open:b,onOpenChange:X=>{v(X),X||S("")},children:e.jsxs(ur,{className:"max-w-4xl max-h-[90vh]",children:[e.jsxs(hr,{children:[e.jsx(fr,{children:"Choose location on map"}),e.jsx(xi,{children:"Search or click on the map. Drag the marker to adjust. Confirm to save."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"flex flex-1 min-w-[200px] rounded-lg overflow-hidden border-2 border-gray-200 dark:border-gray-700",children:[e.jsx(Ae,{placeholder:"Search address or place...",value:j,onChange:X=>S(X.target.value),onKeyDown:X=>{X.key==="Enter"&&(X.preventDefault(),oe())},className:"rounded-r-none border-0 h-11"}),e.jsx(fe,{type:"button",variant:"secondary",onClick:oe,disabled:N,className:"rounded-l-none h-11 px-4",children:e.jsx(Mr,{className:"w-4 h-4"})})]}),e.jsxs(fe,{type:"button",variant:"outline",onClick:D,className:"h-11 shrink-0",children:[e.jsx(wa,{className:"w-4 h-4 mr-2"}),"Office location"]})]}),e.jsx("div",{className:"w-full h-[400px] bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden",children:y&&e.jsx(hhe,{center:y,selectedLocation:y,onLocationSelect:he})}),y&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Selected: ",y.latitude,", ",y.longitude]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(fe,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsx(fe,{onClick:O,children:"Confirm Location"})]})]})]})})]})})},ix=({icon:s,label:t,value:r,gradient:n})=>e.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:e.jsx(Ue,{className:"border-2 border-transparent hover:shadow-lg transition-all duration-300 rounded-xl",children:e.jsx(He,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center shadow-md",style:{background:n},children:e.jsx(s,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:t}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r})]})]})})})});class Sk{constructor(){this.notificationCreatedEvent=".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated"}listenForWhisper(t,r){return this.listen(".client-"+t,r)}notification(t){return this.listen(this.notificationCreatedEvent,t)}stopListeningForNotification(t){return this.stopListening(this.notificationCreatedEvent,t)}stopListeningForWhisper(t,r){return this.stopListening(".client-"+t,r)}}class xB{constructor(t){this.namespace=t}format(t){return[".","\\"].includes(t.charAt(0))?t.substring(1):(this.namespace&&(t=this.namespace+"."+t),t.replace(/\./g,"\\"))}setNamespace(t){this.namespace=t}}function bhe(s){try{new s}catch(t){if(t instanceof Error&&t.message.includes("is not a constructor"))return!1}return!0}class Ck extends Sk{constructor(t,r,n){super(),this.name=r,this.pusher=t,this.options=n,this.eventFormatter=new xB(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(t,r){return this.on(this.eventFormatter.format(t),r),this}listenToAll(t){return this.subscription.bind_global((r,n)=>{if(r.startsWith("pusher:"))return;let a=String(this.options.namespace??"").replace(/\./g,"\\"),i=r.startsWith(a)?r.substring(a.length+1):"."+r;t(i,n)}),this}stopListening(t,r){return r?this.subscription.unbind(this.eventFormatter.format(t),r):this.subscription.unbind(this.eventFormatter.format(t)),this}stopListeningToAll(t){return t?this.subscription.unbind_global(t):this.subscription.unbind_global(),this}subscribed(t){return this.on("pusher:subscription_succeeded",()=>{t()}),this}error(t){return this.on("pusher:subscription_error",r=>{t(r)}),this}on(t,r){return this.subscription.bind(t,r),this}}class yB extends Ck{whisper(t,r){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,r),this}}class vhe extends Ck{whisper(t,r){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,r),this}}class whe extends yB{here(t){return this.on("pusher:subscription_succeeded",r=>{t(Object.keys(r.members).map(n=>r.members[n]))}),this}joining(t){return this.on("pusher:member_added",r=>{t(r.info)}),this}whisper(t,r){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,r),this}leaving(t){return this.on("pusher:member_removed",r=>{t(r.info)}),this}}class bB extends Sk{constructor(t,r,n){super(),this.events={},this.listeners={},this.name=r,this.socket=t,this.options=n,this.eventFormatter=new xB(this.options.namespace),this.subscribe()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(t,r){return this.on(this.eventFormatter.format(t),r),this}stopListening(t,r){return this.unbindEvent(this.eventFormatter.format(t),r),this}subscribed(t){return this.on("connect",r=>{t(r)}),this}error(t){return this}on(t,r){return this.listeners[t]=this.listeners[t]||[],this.events[t]||(this.events[t]=(n,a)=>{this.name===n&&this.listeners[t]&&this.listeners[t].forEach(i=>i(a))},this.socket.on(t,this.events[t])),this.listeners[t].push(r),this}unbind(){Object.keys(this.events).forEach(t=>{this.unbindEvent(t)})}unbindEvent(t,r){this.listeners[t]=this.listeners[t]||[],r&&(this.listeners[t]=this.listeners[t].filter(n=>n!==r)),(!r||this.listeners[t].length===0)&&(this.events[t]&&(this.socket.removeListener(t,this.events[t]),delete this.events[t]),delete this.listeners[t])}}class vB extends bB{whisper(t,r){return this.socket.emit("client event",{channel:this.name,event:`client-${t}`,data:r}),this}}class jhe extends vB{here(t){return this.on("presence:subscribed",r=>{t(r.map(n=>n.user_info))}),this}joining(t){return this.on("presence:joining",r=>t(r.user_info)),this}whisper(t,r){return this.socket.emit("client event",{channel:this.name,event:`client-${t}`,data:r}),this}leaving(t){return this.on("presence:leaving",r=>t(r.user_info)),this}}class k0 extends Sk{subscribe(){}unsubscribe(){}listen(t,r){return this}listenToAll(t){return this}stopListening(t,r){return this}subscribed(t){return this}error(t){return this}on(t,r){return this}}class wB extends k0{whisper(t,r){return this}}class _he extends k0{whisper(t,r){return this}}class Nhe extends wB{here(t){return this}joining(t){return this}whisper(t,r){return this}leaving(t){return this}}const jB=class _B{constructor(t){this.setOptions(t),this.connect()}setOptions(t){this.options={..._B._defaultOptions,...t,broadcaster:t.broadcaster};let r=this.csrfToken();r&&(this.options.auth.headers["X-CSRF-TOKEN"]=r,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=r),r=this.options.bearerToken,r&&(this.options.auth.headers.Authorization="Bearer "+r,this.options.userAuthentication.headers.Authorization="Bearer "+r)}csrfToken(){var t,r;return typeof window<"u"&&(t=window.Laravel)!=null&&t.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"?((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))??null:null}};jB._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};let Ak=jB;class ox extends Ak{constructor(){super(...arguments),this.channels={}}connect(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}signin(){this.pusher.signin()}listen(t,r,n){return this.channel(t).listen(r,n)}channel(t){return this.channels[t]||(this.channels[t]=new Ck(this.pusher,t,this.options)),this.channels[t]}privateChannel(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new yB(this.pusher,"private-"+t,this.options)),this.channels["private-"+t]}encryptedPrivateChannel(t){return this.channels["private-encrypted-"+t]||(this.channels["private-encrypted-"+t]=new vhe(this.pusher,"private-encrypted-"+t,this.options)),this.channels["private-encrypted-"+t]}presenceChannel(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new whe(this.pusher,"presence-"+t,this.options)),this.channels["presence-"+t]}leave(t){[t,"private-"+t,"private-encrypted-"+t,"presence-"+t].forEach(r=>{this.leaveChannel(r)})}leaveChannel(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}class khe extends Ak{constructor(){super(...arguments),this.channels={}}connect(){let t=this.getSocketIO();this.socket=t(this.options.host??void 0,this.options),this.socket.io.on("reconnect",()=>{Object.values(this.channels).forEach(r=>{r.subscribe()})})}getSocketIO(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(t,r,n){return this.channel(t).listen(r,n)}channel(t){return this.channels[t]||(this.channels[t]=new bB(this.socket,t,this.options)),this.channels[t]}privateChannel(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new vB(this.socket,"private-"+t,this.options)),this.channels["private-"+t]}presenceChannel(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new jhe(this.socket,"presence-"+t,this.options)),this.channels["presence-"+t]}leave(t){[t,"private-"+t,"presence-"+t].forEach(r=>{this.leaveChannel(r)})}leaveChannel(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}}class $D extends Ak{constructor(){super(...arguments),this.channels={}}connect(){}listen(t,r,n){return new k0}channel(t){return new k0}privateChannel(t){return new wB}encryptedPrivateChannel(t){return new _he}presenceChannel(t){return new Nhe}leave(t){}leaveChannel(t){}socketId(){return"fake-socket-id"}disconnect(){}}class NB{constructor(t){this.options=t,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(t){return this.connector.channel(t)}connect(){if(this.options.broadcaster==="reverb")this.connector=new ox({...this.options,cluster:""});else if(this.options.broadcaster==="pusher")this.connector=new ox(this.options);else if(this.options.broadcaster==="ably")this.connector=new ox({...this.options,cluster:"",broadcaster:"pusher"});else if(this.options.broadcaster==="socket.io")this.connector=new khe(this.options);else if(this.options.broadcaster==="null")this.connector=new $D(this.options);else if(typeof this.options.broadcaster=="function"&&bhe(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} is not supported.`)}disconnect(){this.connector.disconnect()}join(t){return this.connector.presenceChannel(t)}leave(t){this.connector.leave(t)}leaveChannel(t){this.connector.leaveChannel(t)}leaveAllChannels(){for(const t in this.connector.channels)this.leaveChannel(t)}listen(t,r,n){return this.connector.listen(t,r,n)}private(t){return this.connector.privateChannel(t)}encryptedPrivate(t){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(t);throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} does not support encrypted private channels.`)}connectorSupportsEncryptedPrivateChannels(t){return t instanceof ox||t instanceof $D}socketId(){return this.connector.socketId()}registerInterceptors(){typeof Vue<"u"&&Vue!=null&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),typeof Turbo=="object"&&this.registerTurboRequestInterceptor()}registerVueRequestInterceptor(){Vue.http.interceptors.push((t,r)=>{this.socketId()&&t.headers.set("X-Socket-ID",this.socketId()),r()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(t=>(this.socketId()&&(t.headers["X-Socket-Id"]=this.socketId()),t))}registerjQueryAjaxSetup(){typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter((t,r,n)=>{this.socketId()&&n.setRequestHeader("X-Socket-Id",this.socketId())})}registerTurboRequestInterceptor(){document.addEventListener("turbo:before-fetch-request",t=>{t.detail.fetchOptions.headers["X-Socket-Id"]=this.socketId()})}}var M1={exports:{}};var VD;function She(){return VD||(VD=1,(function(s,t){(function(n,a){s.exports=a()})(window,function(){return(function(r){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.d=function(i,o,c){a.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:c})},a.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,o){if(o&1&&(i=a(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var d in i)a.d(c,d,(function(h){return i[h]}).bind(null,d));return c},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=2)})([(function(r,n,a){var i=this&&this.__extends||(function(){var y=function(_,j){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,N){S.__proto__=N}||function(S,N){for(var k in N)N.hasOwnProperty(k)&&(S[k]=N[k])},y(_,j)};return function(_,j){y(_,j);function S(){this.constructor=_}_.prototype=j===null?Object.create(j):(S.prototype=j.prototype,new S)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=256,c=(function(){function y(_){_===void 0&&(_="="),this._paddingCharacter=_}return y.prototype.encodedLength=function(_){return this._paddingCharacter?(_+2)/3*4|0:(_*8+5)/6|0},y.prototype.encode=function(_){for(var j="",S=0;S<_.length-2;S+=3){var N=_[S]<<16|_[S+1]<<8|_[S+2];j+=this._encodeByte(N>>>18&63),j+=this._encodeByte(N>>>12&63),j+=this._encodeByte(N>>>6&63),j+=this._encodeByte(N>>>0&63)}var k=_.length-S;if(k>0){var N=_[S]<<16|(k===2?_[S+1]<<8:0);j+=this._encodeByte(N>>>18&63),j+=this._encodeByte(N>>>12&63),k===2?j+=this._encodeByte(N>>>6&63):j+=this._paddingCharacter||"",j+=this._paddingCharacter||""}return j},y.prototype.maxDecodedLength=function(_){return this._paddingCharacter?_/4*3|0:(_*6+7)/8|0},y.prototype.decodedLength=function(_){return this.maxDecodedLength(_.length-this._getPaddingLength(_))},y.prototype.decode=function(_){if(_.length===0)return new Uint8Array(0);for(var j=this._getPaddingLength(_),S=_.length-j,N=new Uint8Array(this.maxDecodedLength(S)),k=0,C=0,z=0,E=0,U=0,T=0,re=0;C<S-4;C+=4)E=this._decodeChar(_.charCodeAt(C+0)),U=this._decodeChar(_.charCodeAt(C+1)),T=this._decodeChar(_.charCodeAt(C+2)),re=this._decodeChar(_.charCodeAt(C+3)),N[k++]=E<<2|U>>>4,N[k++]=U<<4|T>>>2,N[k++]=T<<6|re,z|=E&o,z|=U&o,z|=T&o,z|=re&o;if(C<S-1&&(E=this._decodeChar(_.charCodeAt(C)),U=this._decodeChar(_.charCodeAt(C+1)),N[k++]=E<<2|U>>>4,z|=E&o,z|=U&o),C<S-2&&(T=this._decodeChar(_.charCodeAt(C+2)),N[k++]=U<<4|T>>>2,z|=T&o),C<S-3&&(re=this._decodeChar(_.charCodeAt(C+3)),N[k++]=T<<6|re,z|=re&o),z!==0)throw new Error("Base64Coder: incorrect characters for decoding");return N},y.prototype._encodeByte=function(_){var j=_;return j+=65,j+=25-_>>>8&6,j+=51-_>>>8&-75,j+=61-_>>>8&-15,j+=62-_>>>8&3,String.fromCharCode(j)},y.prototype._decodeChar=function(_){var j=o;return j+=(42-_&_-44)>>>8&-o+_-43+62,j+=(46-_&_-48)>>>8&-o+_-47+63,j+=(47-_&_-58)>>>8&-o+_-48+52,j+=(64-_&_-91)>>>8&-o+_-65+0,j+=(96-_&_-123)>>>8&-o+_-97+26,j},y.prototype._getPaddingLength=function(_){var j=0;if(this._paddingCharacter){for(var S=_.length-1;S>=0&&_[S]===this._paddingCharacter;S--)j++;if(_.length<4||j>2)throw new Error("Base64Coder: incorrect padding")}return j},y})();n.Coder=c;var d=new c;function h(y){return d.encode(y)}n.encode=h;function m(y){return d.decode(y)}n.decode=m;var f=(function(y){i(_,y);function _(){return y!==null&&y.apply(this,arguments)||this}return _.prototype._encodeByte=function(j){var S=j;return S+=65,S+=25-j>>>8&6,S+=51-j>>>8&-75,S+=61-j>>>8&-13,S+=62-j>>>8&49,String.fromCharCode(S)},_.prototype._decodeChar=function(j){var S=o;return S+=(44-j&j-46)>>>8&-o+j-45+62,S+=(94-j&j-96)>>>8&-o+j-95+63,S+=(47-j&j-58)>>>8&-o+j-48+52,S+=(64-j&j-91)>>>8&-o+j-65+0,S+=(96-j&j-123)>>>8&-o+j-97+26,S},_})(c);n.URLSafeCoder=f;var g=new f;function b(y){return g.encode(y)}n.encodeURLSafe=b;function v(y){return g.decode(y)}n.decodeURLSafe=v,n.encodedLength=function(y){return d.encodedLength(y)},n.maxDecodedLength=function(y){return d.maxDecodedLength(y)},n.decodedLength=function(y){return d.decodedLength(y)}}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i="utf8: invalid string",o="utf8: invalid source encoding";function c(m){for(var f=new Uint8Array(d(m)),g=0,b=0;b<m.length;b++){var v=m.charCodeAt(b);v<128?f[g++]=v:v<2048?(f[g++]=192|v>>6,f[g++]=128|v&63):v<55296?(f[g++]=224|v>>12,f[g++]=128|v>>6&63,f[g++]=128|v&63):(b++,v=(v&1023)<<10,v|=m.charCodeAt(b)&1023,v+=65536,f[g++]=240|v>>18,f[g++]=128|v>>12&63,f[g++]=128|v>>6&63,f[g++]=128|v&63)}return f}n.encode=c;function d(m){for(var f=0,g=0;g<m.length;g++){var b=m.charCodeAt(g);if(b<128)f+=1;else if(b<2048)f+=2;else if(b<55296)f+=3;else if(b<=57343){if(g>=m.length-1)throw new Error(i);g++,f+=4}else throw new Error(i)}return f}n.encodedLength=d;function h(m){for(var f=[],g=0;g<m.length;g++){var b=m[g];if(b&128){var v=void 0;if(b<224){if(g>=m.length)throw new Error(o);var y=m[++g];if((y&192)!==128)throw new Error(o);b=(b&31)<<6|y&63,v=128}else if(b<240){if(g>=m.length-1)throw new Error(o);var y=m[++g],_=m[++g];if((y&192)!==128||(_&192)!==128)throw new Error(o);b=(b&15)<<12|(y&63)<<6|_&63,v=2048}else if(b<248){if(g>=m.length-2)throw new Error(o);var y=m[++g],_=m[++g],j=m[++g];if((y&192)!==128||(_&192)!==128||(j&192)!==128)throw new Error(o);b=(b&15)<<18|(y&63)<<12|(_&63)<<6|j&63,v=65536}else throw new Error(o);if(b<v||b>=55296&&b<=57343)throw new Error(o);if(b>=65536){if(b>1114111)throw new Error(o);b-=65536,f.push(String.fromCharCode(55296|b>>10)),b=56320|b&1023}}f.push(String.fromCharCode(b))}return f.join("")}n.decode=h}),(function(r,n,a){r.exports=a(3).default}),(function(r,n,a){a.r(n);class i{constructor(B,se){this.lastId=0,this.prefix=B,this.name=se}create(B){this.lastId++;var se=this.lastId,Ee=this.prefix+se,Pe=this.name+"["+se+"]",Je=!1,mt=function(){Je||(B.apply(null,arguments),Je=!0)};return this[se]=mt,{number:se,id:Ee,name:Pe,callback:mt}}remove(B){delete this[B.number]}}var o=new i("_pusher_script_","Pusher.ScriptReceivers"),c={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},d=c;class h{constructor(B){this.options=B,this.receivers=B.receivers||o,this.loading={}}load(B,se,Ee){var Pe=this;if(Pe.loading[B]&&Pe.loading[B].length>0)Pe.loading[B].push(Ee);else{Pe.loading[B]=[Ee];var Je=$t.createScriptRequest(Pe.getPath(B,se)),mt=Pe.receivers.create(function(At){if(Pe.receivers.remove(mt),Pe.loading[B]){var Zt=Pe.loading[B];delete Pe.loading[B];for(var fs=function(wr){wr||Je.cleanup()},ys=0;ys<Zt.length;ys++)Zt[ys](At,fs)}});Je.send(mt)}}getRoot(B){var se,Ee=$t.getDocument().location.protocol;return B&&B.useTLS||Ee==="https:"?se=this.options.cdn_https:se=this.options.cdn_http,se.replace(/\/*$/,"")+"/"+this.options.version}getPath(B,se){return this.getRoot(se)+"/"+B+this.options.suffix+".js"}}var m=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),f=new h({cdn_http:d.cdn_http,cdn_https:d.cdn_https,version:d.VERSION,suffix:d.dependency_suffix,receivers:m});const g={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var v={buildLogSuffix:function(ae){const B="See:",se=g.urls[ae];if(!se)return"";let Ee;return se.fullUrl?Ee=se.fullUrl:se.path&&(Ee=g.baseUrl+se.path),Ee?`${B} ${Ee}`:""}},y;(function(ae){ae.UserAuthentication="user-authentication",ae.ChannelAuthorization="channel-authorization"})(y||(y={}));class _ extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class j extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class N extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class z extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class U extends Error{constructor(B,se){super(se),this.status=B,Object.setPrototypeOf(this,new.target.prototype)}}var re=function(ae,B,se,Ee,Pe){const Je=$t.createXHR();Je.open("POST",se.endpoint,!0),Je.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var mt in se.headers)Je.setRequestHeader(mt,se.headers[mt]);if(se.headersProvider!=null){let At=se.headersProvider();for(var mt in At)Je.setRequestHeader(mt,At[mt])}return Je.onreadystatechange=function(){if(Je.readyState===4)if(Je.status===200){let At,Zt=!1;try{At=JSON.parse(Je.responseText),Zt=!0}catch{Pe(new U(200,`JSON returned from ${Ee.toString()} endpoint was invalid, yet status code was 200. Data was: ${Je.responseText}`),null)}Zt&&Pe(null,At)}else{let At="";switch(Ee){case y.UserAuthentication:At=v.buildLogSuffix("authenticationEndpoint");break;case y.ChannelAuthorization:At=`Clients must be authorized to join private or presence channels. ${v.buildLogSuffix("authorizationEndpoint")}`;break}Pe(new U(Je.status,`Unable to retrieve auth string from ${Ee.toString()} endpoint - received status: ${Je.status} from ${se.endpoint}. ${At}`),null)}},Je.send(B),Je};function Y(ae){return Z(J(ae))}var I=String.fromCharCode,K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=function(ae){var B=ae.charCodeAt(0);return B<128?ae:B<2048?I(192|B>>>6)+I(128|B&63):I(224|B>>>12&15)+I(128|B>>>6&63)+I(128|B&63)},J=function(ae){return ae.replace(/[^\x00-\x7F]/g,L)},Q=function(ae){var B=[0,2,1][ae.length%3],se=ae.charCodeAt(0)<<16|(ae.length>1?ae.charCodeAt(1):0)<<8|(ae.length>2?ae.charCodeAt(2):0),Ee=[K.charAt(se>>>18),K.charAt(se>>>12&63),B>=2?"=":K.charAt(se>>>6&63),B>=1?"=":K.charAt(se&63)];return Ee.join("")},Z=window.btoa||function(ae){return ae.replace(/[\s\S]{1,3}/g,Q)};class ee{constructor(B,se,Ee,Pe){this.clear=se,this.timer=B(()=>{this.timer&&(this.timer=Pe(this.timer))},Ee)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var F=ee;function de(ae){window.clearTimeout(ae)}function q(ae){window.clearInterval(ae)}class G extends F{constructor(B,se){super(setTimeout,de,B,function(Ee){return se(),null})}}class ie extends F{constructor(B,se){super(setInterval,q,B,function(Ee){return se(),Ee})}}var le={now(){return Date.now?Date.now():new Date().valueOf()},defer(ae){return new G(0,ae)},method(ae,...B){var se=Array.prototype.slice.call(arguments,1);return function(Ee){return Ee[ae].apply(Ee,se.concat(arguments))}}},be=le;function ye(ae,...B){for(var se=0;se<B.length;se++){var Ee=B[se];for(var Pe in Ee)Ee[Pe]&&Ee[Pe].constructor&&Ee[Pe].constructor===Object?ae[Pe]=ye(ae[Pe]||{},Ee[Pe]):ae[Pe]=Ee[Pe]}return ae}function $(){for(var ae=["Pusher"],B=0;B<arguments.length;B++)typeof arguments[B]=="string"?ae.push(arguments[B]):ae.push(ge(arguments[B]));return ae.join(" : ")}function V(ae,B){var se=Array.prototype.indexOf;if(ae===null)return-1;if(se&&ae.indexOf===se)return ae.indexOf(B);for(var Ee=0,Pe=ae.length;Ee<Pe;Ee++)if(ae[Ee]===B)return Ee;return-1}function me(ae,B){for(var se in ae)Object.prototype.hasOwnProperty.call(ae,se)&&B(ae[se],se,ae)}function ce(ae){var B=[];return me(ae,function(se,Ee){B.push(Ee)}),B}function he(ae){var B=[];return me(ae,function(se){B.push(se)}),B}function O(ae,B,se){for(var Ee=0;Ee<ae.length;Ee++)B.call(se||window,ae[Ee],Ee,ae)}function oe(ae,B){for(var se=[],Ee=0;Ee<ae.length;Ee++)se.push(B(ae[Ee],Ee,ae,se));return se}function D(ae,B){var se={};return me(ae,function(Ee,Pe){se[Pe]=B(Ee)}),se}function Ce(ae,B){B=B||function(Pe){return!!Pe};for(var se=[],Ee=0;Ee<ae.length;Ee++)B(ae[Ee],Ee,ae,se)&&se.push(ae[Ee]);return se}function H(ae,B){var se={};return me(ae,function(Ee,Pe){(B&&B(Ee,Pe,ae,se)||Ee)&&(se[Pe]=Ee)}),se}function R(ae){var B=[];return me(ae,function(se,Ee){B.push([Ee,se])}),B}function P(ae,B){for(var se=0;se<ae.length;se++)if(B(ae[se],se,ae))return!0;return!1}function W(ae,B){for(var se=0;se<ae.length;se++)if(!B(ae[se],se,ae))return!1;return!0}function Ne(ae){return D(ae,function(B){return typeof B=="object"&&(B=ge(B)),encodeURIComponent(Y(B.toString()))})}function X(ae){var B=H(ae,function(Ee){return Ee!==void 0}),se=oe(R(Ne(B)),be.method("join","=")).join("&");return se}function pe(ae){var B=[],se=[];return(function Ee(Pe,Je){var mt,At,Zt;switch(typeof Pe){case"object":if(!Pe)return null;for(mt=0;mt<B.length;mt+=1)if(B[mt]===Pe)return{$ref:se[mt]};if(B.push(Pe),se.push(Je),Object.prototype.toString.apply(Pe)==="[object Array]")for(Zt=[],mt=0;mt<Pe.length;mt+=1)Zt[mt]=Ee(Pe[mt],Je+"["+mt+"]");else{Zt={};for(At in Pe)Object.prototype.hasOwnProperty.call(Pe,At)&&(Zt[At]=Ee(Pe[At],Je+"["+JSON.stringify(At)+"]"))}return Zt;case"number":case"string":case"boolean":return Pe}})(ae,"$")}function ge(ae){try{return JSON.stringify(ae)}catch{return JSON.stringify(pe(ae))}}class Re{constructor(){this.globalLog=B=>{window.console&&window.console.log&&window.console.log(B)}}debug(...B){this.log(this.globalLog,B)}warn(...B){this.log(this.globalLogWarn,B)}error(...B){this.log(this.globalLogError,B)}globalLogWarn(B){window.console&&window.console.warn?window.console.warn(B):this.globalLog(B)}globalLogError(B){window.console&&window.console.error?window.console.error(B):this.globalLogWarn(B)}log(B,...se){var Ee=$.apply(this,arguments);Lh.log?Lh.log(Ee):Lh.logToConsole&&B.bind(this)(Ee)}}var De=new Re,Se=function(ae,B,se,Ee,Pe){(se.headers!==void 0||se.headersProvider!=null)&&De.warn(`To send headers with the ${Ee.toString()} request, you must use AJAX, rather than JSONP.`);var Je=ae.nextAuthCallbackID.toString();ae.nextAuthCallbackID++;var mt=ae.getDocument(),At=mt.createElement("script");ae.auth_callbacks[Je]=function(ys){Pe(null,ys)};var Zt="Pusher.auth_callbacks['"+Je+"']";At.src=se.endpoint+"?callback="+encodeURIComponent(Zt)+"&"+B;var fs=mt.getElementsByTagName("head")[0]||mt.documentElement;fs.insertBefore(At,fs.firstChild)},Ie=Se;class We{constructor(B){this.src=B}send(B){var se=this,Ee="Error loading "+se.src;se.script=document.createElement("script"),se.script.id=B.id,se.script.src=se.src,se.script.type="text/javascript",se.script.charset="UTF-8",se.script.addEventListener?(se.script.onerror=function(){B.callback(Ee)},se.script.onload=function(){B.callback(null)}):se.script.onreadystatechange=function(){(se.script.readyState==="loaded"||se.script.readyState==="complete")&&B.callback(null)},se.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(se.errorScript=document.createElement("script"),se.errorScript.id=B.id+"_error",se.errorScript.text=B.name+"('"+Ee+"');",se.script.async=se.errorScript.async=!1):se.script.async=!0;var Pe=document.getElementsByTagName("head")[0];Pe.insertBefore(se.script,Pe.firstChild),se.errorScript&&Pe.insertBefore(se.errorScript,se.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class wt{constructor(B,se){this.url=B,this.data=se}send(B){if(!this.request){var se=X(this.data),Ee=this.url+"/"+B.number+"?"+se;this.request=$t.createScriptRequest(Ee),this.request.send(B)}}cleanup(){this.request&&this.request.cleanup()}}var gt=function(ae,B){return function(se,Ee){var Pe="http"+(B?"s":"")+"://",Je=Pe+(ae.host||ae.options.host)+ae.options.path,mt=$t.createJSONPRequest(Je,se),At=$t.ScriptReceivers.create(function(Zt,fs){o.remove(At),mt.cleanup(),fs&&fs.host&&(ae.host=fs.host),Ee&&Ee(Zt,fs)});mt.send(At)}},pt={name:"jsonp",getAgent:gt},Nt=pt;function yt(ae,B,se){var Ee=ae+(B.useTLS?"s":""),Pe=B.useTLS?B.hostTLS:B.hostNonTLS;return Ee+"://"+Pe+se}function Ot(ae,B){var se="/app/"+ae,Ee="?protocol="+d.PROTOCOL+"&client=js&version="+d.VERSION+(B?"&"+B:"");return se+Ee}var Ze={getInitial:function(ae,B){var se=(B.httpPath||"")+Ot(ae,"flash=false");return yt("ws",B,se)}},Te={getInitial:function(ae,B){var se=(B.httpPath||"/pusher")+Ot(ae);return yt("http",B,se)}},Be={getInitial:function(ae,B){return yt("http",B,B.httpPath||"/pusher")},getPath:function(ae,B){return Ot(ae)}};class xt{constructor(){this._callbacks={}}get(B){return this._callbacks[jt(B)]}add(B,se,Ee){var Pe=jt(B);this._callbacks[Pe]=this._callbacks[Pe]||[],this._callbacks[Pe].push({fn:se,context:Ee})}remove(B,se,Ee){if(!B&&!se&&!Ee){this._callbacks={};return}var Pe=B?[jt(B)]:ce(this._callbacks);se||Ee?this.removeCallback(Pe,se,Ee):this.removeAllCallbacks(Pe)}removeCallback(B,se,Ee){O(B,function(Pe){this._callbacks[Pe]=Ce(this._callbacks[Pe]||[],function(Je){return se&&se!==Je.fn||Ee&&Ee!==Je.context}),this._callbacks[Pe].length===0&&delete this._callbacks[Pe]},this)}removeAllCallbacks(B){O(B,function(se){delete this._callbacks[se]},this)}}function jt(ae){return"_"+ae}class Pt{constructor(B){this.callbacks=new xt,this.global_callbacks=[],this.failThrough=B}bind(B,se,Ee){return this.callbacks.add(B,se,Ee),this}bind_global(B){return this.global_callbacks.push(B),this}unbind(B,se,Ee){return this.callbacks.remove(B,se,Ee),this}unbind_global(B){return B?(this.global_callbacks=Ce(this.global_callbacks||[],se=>se!==B),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(B,se,Ee){for(var Pe=0;Pe<this.global_callbacks.length;Pe++)this.global_callbacks[Pe](B,se);var Je=this.callbacks.get(B),mt=[];if(Ee?mt.push(se,Ee):se&&mt.push(se),Je&&Je.length>0)for(var Pe=0;Pe<Je.length;Pe++)Je[Pe].fn.apply(Je[Pe].context||window,mt);else this.failThrough&&this.failThrough(B,se);return this}}class Is extends Pt{constructor(B,se,Ee,Pe,Je){super(),this.initialize=$t.transportConnectionInitializer,this.hooks=B,this.name=se,this.priority=Ee,this.key=Pe,this.options=Je,this.state="new",this.timeline=Je.timeline,this.activityTimeout=Je.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var B=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(B,this.options)}catch(se){return be.defer(()=>{this.onError(se),this.changeState("closed")}),!1}return this.bindListeners(),De.debug("Connecting",{transport:this.name,url:B}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(B){return this.state==="open"?(be.defer(()=>{this.socket&&this.socket.send(B)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(B){this.emit("error",{type:"WebSocketError",error:B}),this.timeline.error(this.buildTimelineMessage({error:B.toString()}))}onClose(B){B?this.changeState("closed",{code:B.code,reason:B.reason,wasClean:B.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(B){this.emit("message",B)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=B=>{this.onError(B)},this.socket.onclose=B=>{this.onClose(B)},this.socket.onmessage=B=>{this.onMessage(B)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(B,se){this.state=B,this.timeline.info(this.buildTimelineMessage({state:B,params:se})),this.emit(B,se)}buildTimelineMessage(B){return ye({cid:this.id},B)}}class cs{constructor(B){this.hooks=B}isSupported(B){return this.hooks.isSupported(B)}createConnection(B,se,Ee,Pe){return new Is(this.hooks,B,se,Ee,Pe)}}var Rs=new cs({urls:Ze,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!$t.getWebSocketAPI()},isSupported:function(){return!!$t.getWebSocketAPI()},getSocket:function(ae){return $t.createWebSocket(ae)}}),Dt={urls:Te,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},we=ye({getSocket:function(ae){return $t.HTTPFactory.createStreamingSocket(ae)}},Dt),Rt=ye({getSocket:function(ae){return $t.HTTPFactory.createPollingSocket(ae)}},Dt),Gs={isSupported:function(){return $t.isXHRSupported()}},Mt=new cs(ye({},we,Gs)),ht=new cs(ye({},Rt,Gs)),Ns={ws:Rs,xhr_streaming:Mt,xhr_polling:ht},mr=Ns,Ys=new cs({file:"sockjs",urls:Be,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(ae,B){return new window.SockJS(ae,null,{js_path:f.getPath("sockjs",{useTLS:B.useTLS}),ignore_null_origin:B.ignoreNullOrigin})},beforeOpen:function(ae,B){ae.send(JSON.stringify({path:B}))}}),qr={isSupported:function(ae){var B=$t.isXDRSupported(ae.useTLS);return B}},On=new cs(ye({},we,qr)),Cn=new cs(ye({},Rt,qr));mr.xdr_streaming=On,mr.xdr_polling=Cn,mr.sockjs=Ys;var _i=mr;class Id extends Pt{constructor(){super();var B=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){B.emit("online")},!1),window.addEventListener("offline",function(){B.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var An=new Id;class Er{constructor(B,se,Ee){this.manager=B,this.transport=se,this.minPingDelay=Ee.minPingDelay,this.maxPingDelay=Ee.maxPingDelay,this.pingDelay=void 0}createConnection(B,se,Ee,Pe){Pe=ye({},Pe,{activityTimeout:this.pingDelay});var Je=this.transport.createConnection(B,se,Ee,Pe),mt=null,At=function(){Je.unbind("open",At),Je.bind("closed",Zt),mt=be.now()},Zt=fs=>{if(Je.unbind("closed",Zt),fs.code===1002||fs.code===1003)this.manager.reportDeath();else if(!fs.wasClean&&mt){var ys=be.now()-mt;ys<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(ys/2,this.minPingDelay))}};return Je.bind("open",At),Je}isSupported(B){return this.manager.isAlive()&&this.transport.isSupported(B)}}const vr={decodeMessage:function(ae){try{var B=JSON.parse(ae.data),se=B.data;if(typeof se=="string")try{se=JSON.parse(B.data)}catch{}var Ee={event:B.event,channel:B.channel,data:se};return B.user_id&&(Ee.user_id=B.user_id),Ee}catch(Pe){throw{type:"MessageParseError",error:Pe,data:ae.data}}},encodeMessage:function(ae){return JSON.stringify(ae)},processHandshake:function(ae){var B=vr.decodeMessage(ae);if(B.event==="pusher:connection_established"){if(!B.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:B.data.socket_id,activityTimeout:B.data.activity_timeout*1e3}}else{if(B.event==="pusher:error")return{action:this.getCloseAction(B.data),error:this.getCloseError(B.data)};throw"Invalid handshake"}},getCloseAction:function(ae){return ae.code<4e3?ae.code>=1002&&ae.code<=1004?"backoff":null:ae.code===4e3?"tls_only":ae.code<4100?"refused":ae.code<4200?"backoff":ae.code<4300?"retry":"refused"},getCloseError:function(ae){return ae.code!==1e3&&ae.code!==1001?{type:"PusherError",data:{code:ae.code,message:ae.reason||ae.message}}:null}};var Fr=vr;class co extends Pt{constructor(B,se){super(),this.id=B,this.transport=se,this.activityTimeout=se.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(B){return this.transport.send(B)}send_event(B,se,Ee){var Pe={event:B,data:se};return Ee&&(Pe.channel=Ee),De.debug("Event sent",Pe),this.send(Fr.encodeMessage(Pe))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var B={message:Ee=>{var Pe;try{Pe=Fr.decodeMessage(Ee)}catch(Je){this.emit("error",{type:"MessageParseError",error:Je,data:Ee.data})}if(Pe!==void 0){switch(De.debug("Event recd",Pe),Pe.event){case"pusher:error":this.emit("error",{type:"PusherError",data:Pe.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",Pe)}},activity:()=>{this.emit("activity")},error:Ee=>{this.emit("error",Ee)},closed:Ee=>{se(),Ee&&Ee.code&&this.handleCloseEvent(Ee),this.transport=null,this.emit("closed")}},se=()=>{me(B,(Ee,Pe)=>{this.transport.unbind(Pe,Ee)})};me(B,(Ee,Pe)=>{this.transport.bind(Pe,Ee)})}handleCloseEvent(B){var se=Fr.getCloseAction(B),Ee=Fr.getCloseError(B);Ee&&this.emit("error",Ee),se&&this.emit(se,{action:se,error:Ee})}}class uo{constructor(B,se){this.transport=B,this.callback=se,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=B=>{this.unbindListeners();var se;try{se=Fr.processHandshake(B)}catch(Ee){this.finish("error",{error:Ee}),this.transport.close();return}se.action==="connected"?this.finish("connected",{connection:new co(se.id,this.transport),activityTimeout:se.activityTimeout}):(this.finish(se.action,{error:se.error}),this.transport.close())},this.onClosed=B=>{this.unbindListeners();var se=Fr.getCloseAction(B)||"backoff",Ee=Fr.getCloseError(B);this.finish(se,{error:Ee})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(B,se){this.callback(ye({transport:this.transport,action:B},se))}}class al{constructor(B,se){this.timeline=B,this.options=se||{}}send(B,se){this.timeline.isEmpty()||this.timeline.send($t.TimelineTransport.getAgent(this,B),se)}}class Ea extends Pt{constructor(B,se){super(function(Ee,Pe){De.debug("No callbacks on "+B+" for "+Ee)}),this.name=B,this.pusher=se,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(B,se){return se(null,{auth:""})}trigger(B,se){if(B.indexOf("client-")!==0)throw new _("Event '"+B+"' does not start with 'client-'");if(!this.subscribed){var Ee=v.buildLogSuffix("triggeringClientEvents");De.warn(`Client event triggered before channel 'subscription_succeeded' event . ${Ee}`)}return this.pusher.send_event(B,se,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(B){var se=B.event,Ee=B.data;if(se==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(B);else if(se==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(B);else if(se.indexOf("pusher_internal:")!==0){var Pe={};this.emit(se,Ee,Pe)}}handleSubscriptionSucceededEvent(B){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",B.data)}handleSubscriptionCountEvent(B){B.data.subscription_count&&(this.subscriptionCount=B.data.subscription_count),this.emit("pusher:subscription_count",B.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(B,se)=>{B?(this.subscriptionPending=!1,De.error(B.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:B.message},B instanceof U?{status:B.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:se.auth,channel_data:se.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class ti extends Ea{authorize(B,se){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:B},se)}}class jc{constructor(){this.reset()}get(B){return Object.prototype.hasOwnProperty.call(this.members,B)?{id:B,info:this.members[B]}:null}each(B){me(this.members,(se,Ee)=>{B(this.get(Ee))})}setMyID(B){this.myID=B}onSubscription(B){this.members=B.presence.hash,this.count=B.presence.count,this.me=this.get(this.myID)}addMember(B){return this.get(B.user_id)===null&&this.count++,this.members[B.user_id]=B.user_info,this.get(B.user_id)}removeMember(B){var se=this.get(B.user_id);return se&&(delete this.members[B.user_id],this.count--),se}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Ni=function(ae,B,se,Ee){function Pe(Je){return Je instanceof se?Je:new se(function(mt){mt(Je)})}return new(se||(se=Promise))(function(Je,mt){function At(ys){try{fs(Ee.next(ys))}catch(wr){mt(wr)}}function Zt(ys){try{fs(Ee.throw(ys))}catch(wr){mt(wr)}}function fs(ys){ys.done?Je(ys.value):Pe(ys.value).then(At,Zt)}fs((Ee=Ee.apply(ae,B||[])).next())})};class na extends ti{constructor(B,se){super(B,se),this.members=new jc}authorize(B,se){super.authorize(B,(Ee,Pe)=>Ni(this,void 0,void 0,function*(){if(!Ee)if(Pe=Pe,Pe.channel_data!=null){var Je=JSON.parse(Pe.channel_data);this.members.setMyID(Je.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let mt=v.buildLogSuffix("authorizationEndpoint");De.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${mt}, or the user should be signed in.`),se("Invalid auth response");return}se(Ee,Pe)}))}handleEvent(B){var se=B.event;if(se.indexOf("pusher_internal:")===0)this.handleInternalEvent(B);else{var Ee=B.data,Pe={};B.user_id&&(Pe.user_id=B.user_id),this.emit(se,Ee,Pe)}}handleInternalEvent(B){var se=B.event,Ee=B.data;switch(se){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(B);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(B);break;case"pusher_internal:member_added":var Pe=this.members.addMember(Ee);this.emit("pusher:member_added",Pe);break;case"pusher_internal:member_removed":var Je=this.members.removeMember(Ee);Je&&this.emit("pusher:member_removed",Je);break}}handleSubscriptionSucceededEvent(B){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(B.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var ki=a(1),aa=a(0);class zs extends ti{constructor(B,se,Ee){super(B,se),this.key=null,this.nacl=Ee}authorize(B,se){super.authorize(B,(Ee,Pe)=>{if(Ee){se(Ee,Pe);return}let Je=Pe.shared_secret;if(!Je){se(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(aa.decode)(Je),delete Pe.shared_secret,se(null,Pe)})}trigger(B,se){throw new C("Client events are not currently supported for encrypted channels")}handleEvent(B){var se=B.event,Ee=B.data;if(se.indexOf("pusher_internal:")===0||se.indexOf("pusher:")===0){super.handleEvent(B);return}this.handleEncryptedEvent(se,Ee)}handleEncryptedEvent(B,se){if(!this.key){De.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!se.ciphertext||!se.nonce){De.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+se);return}let Ee=Object(aa.decode)(se.ciphertext);if(Ee.length<this.nacl.secretbox.overheadLength){De.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${Ee.length}`);return}let Pe=Object(aa.decode)(se.nonce);if(Pe.length<this.nacl.secretbox.nonceLength){De.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${Pe.length}`);return}let Je=this.nacl.secretbox.open(Ee,Pe,this.key);if(Je===null){De.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(mt,At)=>{if(mt){De.error(`Failed to make a request to the authEndpoint: ${At}. Unable to fetch new key, so dropping encrypted event`);return}if(Je=this.nacl.secretbox.open(Ee,Pe,this.key),Je===null){De.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(B,this.getDataToEmit(Je))});return}this.emit(B,this.getDataToEmit(Je))}getDataToEmit(B){let se=Object(ki.decode)(B);try{return JSON.parse(se)}catch{return se}}}class il extends Pt{constructor(B,se){super(),this.state="initialized",this.connection=null,this.key=B,this.options=se,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var Ee=$t.getNetwork();Ee.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),Ee.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(B){return this.connection?this.connection.send(B):!1}send_event(B,se,Ee){return this.connection?this.connection.send_event(B,se,Ee):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var B=(se,Ee)=>{se?this.runner=this.strategy.connect(0,B):Ee.action==="error"?(this.emit("error",{type:"HandshakeError",error:Ee.error}),this.timeline.error({handshakeError:Ee.error})):(this.abortConnecting(),this.handshakeCallbacks[Ee.action](Ee))};this.runner=this.strategy.connect(0,B)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var B=this.abandonConnection();B.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(B){this.timeline.info({action:"retry",delay:B}),B>0&&this.emit("connecting_in",Math.round(B/1e3)),this.retryTimer=new G(B||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new G(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new G(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new G(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(B){return ye({},B,{message:se=>{this.resetActivityCheck(),this.emit("message",se)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:se=>{this.emit("error",se)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(B){return ye({},B,{connected:se=>{this.activityTimeout=Math.min(this.options.activityTimeout,se.activityTimeout,se.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(se.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let B=se=>Ee=>{Ee.error&&this.emit("error",{type:"WebSocketError",error:Ee.error}),se(Ee)};return{tls_only:B(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:B(()=>{this.disconnect()}),backoff:B(()=>{this.retryIn(1e3)}),retry:B(()=>{this.retryIn(0)})}}setConnection(B){this.connection=B;for(var se in this.connectionCallbacks)this.connection.bind(se,this.connectionCallbacks[se]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var B in this.connectionCallbacks)this.connection.unbind(B,this.connectionCallbacks[B]);var se=this.connection;return this.connection=null,se}}updateState(B,se){var Ee=this.state;if(this.state=B,Ee!==B){var Pe=B;Pe==="connected"&&(Pe+=" with new socket ID "+se.socket_id),De.debug("State changed",Ee+" -> "+Pe),this.timeline.info({state:B,params:se}),this.emit("state_change",{previous:Ee,current:B}),this.emit(B,se)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class _c{constructor(){this.channels={}}add(B,se){return this.channels[B]||(this.channels[B]=Ta(B,se)),this.channels[B]}all(){return he(this.channels)}find(B){return this.channels[B]}remove(B){var se=this.channels[B];return delete this.channels[B],se}disconnect(){me(this.channels,function(B){B.disconnect()})}}function Ta(ae,B){if(ae.indexOf("private-encrypted-")===0){if(B.config.nacl)return Ln.createEncryptedChannel(ae,B,B.config.nacl);let se="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",Ee=v.buildLogSuffix("encryptedChannelSupport");throw new C(`${se}. ${Ee}`)}else{if(ae.indexOf("private-")===0)return Ln.createPrivateChannel(ae,B);if(ae.indexOf("presence-")===0)return Ln.createPresenceChannel(ae,B);if(ae.indexOf("#")===0)throw new j('Cannot create a channel with name "'+ae+'".');return Ln.createChannel(ae,B)}}var En={createChannels(){return new _c},createConnectionManager(ae,B){return new il(ae,B)},createChannel(ae,B){return new Ea(ae,B)},createPrivateChannel(ae,B){return new ti(ae,B)},createPresenceChannel(ae,B){return new na(ae,B)},createEncryptedChannel(ae,B,se){return new zs(ae,B,se)},createTimelineSender(ae,B){return new al(ae,B)},createHandshake(ae,B){return new uo(ae,B)},createAssistantToTheTransportManager(ae,B,se){return new Er(ae,B,se)}},Ln=En;class ol{constructor(B){this.options=B||{},this.livesLeft=this.options.lives||1/0}getAssistant(B){return Ln.createAssistantToTheTransportManager(this,B,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class ia{constructor(B,se){this.strategies=B,this.loop=!!se.loop,this.failFast=!!se.failFast,this.timeout=se.timeout,this.timeoutLimit=se.timeoutLimit}isSupported(){return P(this.strategies,be.method("isSupported"))}connect(B,se){var Ee=this.strategies,Pe=0,Je=this.timeout,mt=null,At=(Zt,fs)=>{fs?se(null,fs):(Pe=Pe+1,this.loop&&(Pe=Pe%Ee.length),Pe<Ee.length?(Je&&(Je=Je*2,this.timeoutLimit&&(Je=Math.min(Je,this.timeoutLimit))),mt=this.tryStrategy(Ee[Pe],B,{timeout:Je,failFast:this.failFast},At)):se(!0))};return mt=this.tryStrategy(Ee[Pe],B,{timeout:Je,failFast:this.failFast},At),{abort:function(){mt.abort()},forceMinPriority:function(Zt){B=Zt,mt&&mt.forceMinPriority(Zt)}}}tryStrategy(B,se,Ee,Pe){var Je=null,mt=null;return Ee.timeout>0&&(Je=new G(Ee.timeout,function(){mt.abort(),Pe(!0)})),mt=B.connect(se,function(At,Zt){At&&Je&&Je.isRunning()&&!Ee.failFast||(Je&&Je.ensureAborted(),Pe(At,Zt))}),{abort:function(){Je&&Je.ensureAborted(),mt.abort()},forceMinPriority:function(At){mt.forceMinPriority(At)}}}}class oa{constructor(B){this.strategies=B}isSupported(){return P(this.strategies,be.method("isSupported"))}connect(B,se){return ho(this.strategies,B,function(Ee,Pe){return function(Je,mt){if(Pe[Ee].error=Je,Je){fo(Pe)&&se(!0);return}O(Pe,function(At){At.forceMinPriority(mt.transport.priority)}),se(null,mt)}})}}function ho(ae,B,se){var Ee=oe(ae,function(Pe,Je,mt,At){return Pe.connect(B,se(Je,At))});return{abort:function(){O(Ee,Fn)},forceMinPriority:function(Pe){O(Ee,function(Je){Je.forceMinPriority(Pe)})}}}function fo(ae){return W(ae,function(B){return!!B.error})}function Fn(ae){!ae.error&&!ae.aborted&&(ae.abort(),ae.aborted=!0)}class Jr{constructor(B,se,Ee){this.strategy=B,this.transports=se,this.ttl=Ee.ttl||1800*1e3,this.usingTLS=Ee.useTLS,this.timeline=Ee.timeline}isSupported(){return this.strategy.isSupported()}connect(B,se){var Ee=this.usingTLS,Pe=Th(Ee),Je=Pe&&Pe.cacheSkipCount?Pe.cacheSkipCount:0,mt=[this.strategy];if(Pe&&Pe.timestamp+this.ttl>=be.now()){var At=this.transports[Pe.transport];At&&(["ws","wss"].includes(Pe.transport)||Je>3?(this.timeline.info({cached:!0,transport:Pe.transport,latency:Pe.latency}),mt.push(new ia([At],{timeout:Pe.latency*2+1e3,failFast:!0}))):Je++)}var Zt=be.now(),fs=mt.pop().connect(B,function ys(wr,Tc){wr?(ll(Ee),mt.length>0?(Zt=be.now(),fs=mt.pop().connect(B,ys)):se(wr)):(Nc(Ee,Tc.transport.name,be.now()-Zt,Je),se(null,Tc))});return{abort:function(){fs.abort()},forceMinPriority:function(ys){B=ys,fs&&fs.forceMinPriority(ys)}}}}function mo(ae){return"pusherTransport"+(ae?"TLS":"NonTLS")}function Th(ae){var B=$t.getLocalStorage();if(B)try{var se=B[mo(ae)];if(se)return JSON.parse(se)}catch{ll(ae)}return null}function Nc(ae,B,se,Ee){var Pe=$t.getLocalStorage();if(Pe)try{Pe[mo(ae)]=ge({timestamp:be.now(),transport:B,latency:se,cacheSkipCount:Ee})}catch{}}function ll(ae){var B=$t.getLocalStorage();if(B)try{delete B[mo(ae)]}catch{}}class si{constructor(B,{delay:se}){this.strategy=B,this.options={delay:se}}isSupported(){return this.strategy.isSupported()}connect(B,se){var Ee=this.strategy,Pe,Je=new G(this.options.delay,function(){Pe=Ee.connect(B,se)});return{abort:function(){Je.ensureAborted(),Pe&&Pe.abort()},forceMinPriority:function(mt){B=mt,Pe&&Pe.forceMinPriority(mt)}}}}class Si{constructor(B,se,Ee){this.test=B,this.trueBranch=se,this.falseBranch=Ee}isSupported(){var B=this.test()?this.trueBranch:this.falseBranch;return B.isSupported()}connect(B,se){var Ee=this.test()?this.trueBranch:this.falseBranch;return Ee.connect(B,se)}}class Br{constructor(B){this.strategy=B}isSupported(){return this.strategy.isSupported()}connect(B,se){var Ee=this.strategy.connect(B,function(Pe,Je){Je&&Ee.abort(),se(Pe,Je)});return Ee}}function ri(ae){return function(){return ae.isSupported()}}var kc=function(ae,B,se){var Ee={};function Pe(Rc,Ap,Ep,$h,Vh){var Hh=se(ae,Rc,Ap,Ep,$h,Vh);return Ee[Rc]=Hh,Hh}var Je=Object.assign({},B,{hostNonTLS:ae.wsHost+":"+ae.wsPort,hostTLS:ae.wsHost+":"+ae.wssPort,httpPath:ae.wsPath}),mt=Object.assign({},Je,{useTLS:!0}),At=Object.assign({},B,{hostNonTLS:ae.httpHost+":"+ae.httpPort,hostTLS:ae.httpHost+":"+ae.httpsPort,httpPath:ae.httpPath}),Zt={loop:!0,timeout:15e3,timeoutLimit:6e4},fs=new ol({minPingDelay:1e4,maxPingDelay:ae.activityTimeout}),ys=new ol({lives:2,minPingDelay:1e4,maxPingDelay:ae.activityTimeout}),wr=Pe("ws","ws",3,Je,fs),Tc=Pe("wss","ws",3,mt,fs),kp=Pe("sockjs","sockjs",1,At),Fh=Pe("xhr_streaming","xhr_streaming",1,At,ys),Sp=Pe("xdr_streaming","xdr_streaming",1,At,ys),Bh=Pe("xhr_polling","xhr_polling",1,At),gl=Pe("xdr_polling","xdr_polling",1,At),Cp=new ia([wr],Zt),sb=new ia([Tc],Zt),rb=new ia([kp],Zt),Ih=new ia([new Si(ri(Fh),Fh,Sp)],Zt),zh=new ia([new Si(ri(Bh),Bh,gl)],Zt),xl=new ia([new Si(ri(Ih),new oa([Ih,new si(zh,{delay:4e3})]),zh)],Zt),xo=new Si(ri(xl),xl,rb),Uh;return B.useTLS?Uh=new oa([Cp,new si(xo,{delay:2e3})]):Uh=new oa([Cp,new si(sb,{delay:2e3}),new si(xo,{delay:5e3})]),new Jr(new Br(new Si(ri(wr),Uh,xo)),Ee,{ttl:18e5,timeline:B.timeline,useTLS:B.useTLS})},Sc=kc,Ci=(function(){var ae=this;ae.timeline.info(ae.buildTimelineMessage({transport:ae.name+(ae.options.useTLS?"s":"")})),ae.hooks.isInitialized()?ae.changeState("initialized"):ae.hooks.file?(ae.changeState("initializing"),f.load(ae.hooks.file,{useTLS:ae.options.useTLS},function(B,se){ae.hooks.isInitialized()?(ae.changeState("initialized"),se(!0)):(B&&ae.onError(B),ae.onClose(),se(!1))})):ae.onClose()}),zd={getRequest:function(ae){var B=new window.XDomainRequest;return B.ontimeout=function(){ae.emit("error",new S),ae.close()},B.onerror=function(se){ae.emit("error",se),ae.close()},B.onprogress=function(){B.responseText&&B.responseText.length>0&&ae.onChunk(200,B.responseText)},B.onload=function(){B.responseText&&B.responseText.length>0&&ae.onChunk(200,B.responseText),ae.emit("finished",200),ae.close()},B},abortRequest:function(ae){ae.ontimeout=ae.onerror=ae.onprogress=ae.onload=null,ae.abort()}},Ud=zd;const Ai=256*1024;class Rh extends Pt{constructor(B,se,Ee){super(),this.hooks=B,this.method=se,this.url=Ee}start(B){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},$t.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(B)}close(){this.unloader&&($t.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(B,se){for(;;){var Ee=this.advanceBuffer(se);if(Ee)this.emit("chunk",{status:B,data:Ee});else break}this.isBufferTooLong(se)&&this.emit("buffer_too_long")}advanceBuffer(B){var se=B.slice(this.position),Ee=se.indexOf(`
`);return Ee!==-1?(this.position+=Ee+1,se.slice(0,Ee)):null}isBufferTooLong(B){return this.position===B.length&&B.length>Ai}}var cl;(function(ae){ae[ae.CONNECTING=0]="CONNECTING",ae[ae.OPEN=1]="OPEN",ae[ae.CLOSED=3]="CLOSED"})(cl||(cl={}));var Ra=cl,Cc=1;class Dh{constructor(B,se){this.hooks=B,this.session=ul(1e3)+"/"+ni(8),this.location=Mh(se),this.readyState=Ra.CONNECTING,this.openStream()}send(B){return this.sendRaw(JSON.stringify([B]))}ping(){this.hooks.sendHeartbeat(this)}close(B,se){this.onClose(B,se,!0)}sendRaw(B){if(this.readyState===Ra.OPEN)try{return $t.createSocketRequest("POST",Bn(dl(this.location,this.session))).start(B),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(B,se,Ee){this.closeStream(),this.readyState=Ra.CLOSED,this.onclose&&this.onclose({code:B,reason:se,wasClean:Ee})}onChunk(B){if(B.status===200){this.readyState===Ra.OPEN&&this.onActivity();var se,Ee=B.data.slice(0,1);switch(Ee){case"o":se=JSON.parse(B.data.slice(1)||"{}"),this.onOpen(se);break;case"a":se=JSON.parse(B.data.slice(1)||"[]");for(var Pe=0;Pe<se.length;Pe++)this.onEvent(se[Pe]);break;case"m":se=JSON.parse(B.data.slice(1)||"null"),this.onEvent(se);break;case"h":this.hooks.onHeartbeat(this);break;case"c":se=JSON.parse(B.data.slice(1)||"[]"),this.onClose(se[0],se[1],!0);break}}}onOpen(B){this.readyState===Ra.CONNECTING?(B&&B.hostname&&(this.location.base=Ac(this.location.base,B.hostname)),this.readyState=Ra.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(B){this.readyState===Ra.OPEN&&this.onmessage&&this.onmessage({data:B})}onActivity(){this.onactivity&&this.onactivity()}onError(B){this.onerror&&this.onerror(B)}openStream(){this.stream=$t.createSocketRequest("POST",Bn(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",B=>{this.onChunk(B)}),this.stream.bind("finished",B=>{this.hooks.onFinished(this,B)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(B){be.defer(()=>{this.onError(B),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Mh(ae){var B=/([^\?]*)\/*(\??.*)/.exec(ae);return{base:B[1],queryString:B[2]}}function dl(ae,B){return ae.base+"/"+B+"/xhr_send"}function Bn(ae){var B=ae.indexOf("?")===-1?"?":"&";return ae+B+"t="+ +new Date+"&n="+Cc++}function Ac(ae,B){var se=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(ae);return se[1]+B+se[3]}function ul(ae){return $t.randomInt(ae)}function ni(ae){for(var B=[],se=0;se<ae;se++)B.push(ul(32).toString(32));return B.join("")}var Ei=Dh,$d={getReceiveURL:function(ae,B){return ae.base+"/"+B+"/xhr_streaming"+ae.queryString},onHeartbeat:function(ae){ae.sendRaw("[]")},sendHeartbeat:function(ae){ae.sendRaw("[]")},onFinished:function(ae,B){ae.onClose(1006,"Connection interrupted ("+B+")",!1)}},Ti=$d,po={getReceiveURL:function(ae,B){return ae.base+"/"+B+"/xhr"+ae.queryString},onHeartbeat:function(){},sendHeartbeat:function(ae){ae.sendRaw("[]")},onFinished:function(ae,B){B===200?ae.reconnect():ae.onClose(1006,"Connection interrupted ("+B+")",!1)}},Ri=po,la={getRequest:function(ae){var B=$t.getXHRAPI(),se=new B;return se.onreadystatechange=se.onprogress=function(){switch(se.readyState){case 3:se.responseText&&se.responseText.length>0&&ae.onChunk(se.status,se.responseText);break;case 4:se.responseText&&se.responseText.length>0&&ae.onChunk(se.status,se.responseText),ae.emit("finished",se.status),ae.close();break}},se},abortRequest:function(ae){ae.onreadystatechange=null,ae.abort()}},Ec=la,go={createStreamingSocket(ae){return this.createSocket(Ti,ae)},createPollingSocket(ae){return this.createSocket(Ri,ae)},createSocket(ae,B){return new Ei(ae,B)},createXHR(ae,B){return this.createRequest(Ec,ae,B)},createRequest(ae,B,se){return new Rh(ae,B,se)}},In=go;In.createXDR=function(ae,B){return this.createRequest(Ud,ae,B)};var hl=In,fl={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:m,getDefaultStrategy:Sc,Transports:_i,transportConnectionInitializer:Ci,HTTPFactory:hl,TimelineTransport:Nt,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(ae){window.Pusher=ae;var B=()=>{this.onDocumentBody(ae.ready)};window.JSON?B():f.load("json2",{},B)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:re,jsonp:Ie}},onDocumentBody(ae){document.body?ae():setTimeout(()=>{this.onDocumentBody(ae)},0)},createJSONPRequest(ae,B){return new wt(ae,B)},createScriptRequest(ae){return new We(ae)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var ae=this.getXHRAPI();return new ae},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return An},createWebSocket(ae){var B=this.getWebSocketAPI();return new B(ae)},createSocketRequest(ae,B){if(this.isXHRSupported())return this.HTTPFactory.createXHR(ae,B);if(this.isXDRSupported(B.indexOf("https:")===0))return this.HTTPFactory.createXDR(ae,B);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var ae=this.getXHRAPI();return!!ae&&new ae().withCredentials!==void 0},isXDRSupported(ae){var B=ae?"https:":"http:",se=this.getProtocol();return!!window.XDomainRequest&&se===B},addUnloadListener(ae){window.addEventListener!==void 0?window.addEventListener("unload",ae,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",ae)},removeUnloadListener(ae){window.addEventListener!==void 0?window.removeEventListener("unload",ae,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",ae)},randomInt(ae){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*ae)}},$t=fl,zn;(function(ae){ae[ae.ERROR=3]="ERROR",ae[ae.INFO=6]="INFO",ae[ae.DEBUG=7]="DEBUG"})(zn||(zn={}));var Da=zn;class Vd{constructor(B,se,Ee){this.key=B,this.session=se,this.events=[],this.options=Ee||{},this.sent=0,this.uniqueID=0}log(B,se){B<=this.options.level&&(this.events.push(ye({},se,{timestamp:be.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(B){this.log(Da.ERROR,B)}info(B){this.log(Da.INFO,B)}debug(B){this.log(Da.DEBUG,B)}isEmpty(){return this.events.length===0}send(B,se){var Ee=ye({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],B(Ee,(Pe,Je)=>{Pe||this.sent++,se&&se(Pe,Je)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class en{constructor(B,se,Ee,Pe){this.name=B,this.priority=se,this.transport=Ee,this.options=Pe||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(B,se){if(this.isSupported()){if(this.priority<B)return Ma(new N,se)}else return Ma(new E,se);var Ee=!1,Pe=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),Je=null,mt=function(){Pe.unbind("initialized",mt),Pe.connect()},At=function(){Je=Ln.createHandshake(Pe,function(wr){Ee=!0,ys(),se(null,wr)})},Zt=function(wr){ys(),se(wr)},fs=function(){ys();var wr;wr=ge(Pe),se(new k(wr))},ys=function(){Pe.unbind("initialized",mt),Pe.unbind("open",At),Pe.unbind("error",Zt),Pe.unbind("closed",fs)};return Pe.bind("initialized",mt),Pe.bind("open",At),Pe.bind("error",Zt),Pe.bind("closed",fs),Pe.initialize(),{abort:()=>{Ee||(ys(),Je?Je.close():Pe.close())},forceMinPriority:wr=>{Ee||this.priority<wr&&(Je?Je.close():Pe.close())}}}}function Ma(ae,B){return be.defer(function(){B(ae)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:ne}=$t;var Me=function(ae,B,se,Ee,Pe,Je){var mt=ne[se];if(!mt)throw new z(se);var At=(!ae.enabledTransports||V(ae.enabledTransports,B)!==-1)&&(!ae.disabledTransports||V(ae.disabledTransports,B)===-1),Zt;return At?(Pe=Object.assign({ignoreNullOrigin:ae.ignoreNullOrigin},Pe),Zt=new en(B,Ee,Je?Je.getAssistant(mt):mt,Pe)):Zt=vt,Zt},vt={isSupported:function(){return!1},connect:function(ae,B){var se=be.defer(function(){B(new E)});return{abort:function(){se.ensureAborted()},forceMinPriority:function(){}}}};function Ss(ae){if(ae==null)throw"You must pass an options object";if(ae.cluster==null)throw"Options object must provide a cluster";"disableStats"in ae&&De.warn("The disableStats option is deprecated in favor of enableStats")}const Ir=(ae,B)=>{var se="socket_id="+encodeURIComponent(ae.socketId);for(var Ee in B.params)se+="&"+encodeURIComponent(Ee)+"="+encodeURIComponent(B.params[Ee]);if(B.paramsProvider!=null){let Pe=B.paramsProvider();for(var Ee in Pe)se+="&"+encodeURIComponent(Ee)+"="+encodeURIComponent(Pe[Ee])}return se};var ai=ae=>{if(typeof $t.getAuthorizers()[ae.transport]>"u")throw`'${ae.transport}' is not a recognized auth transport`;return(B,se)=>{const Ee=Ir(B,ae);$t.getAuthorizers()[ae.transport]($t,Ee,ae,y.UserAuthentication,se)}};const Pa=(ae,B)=>{var se="socket_id="+encodeURIComponent(ae.socketId);se+="&channel_name="+encodeURIComponent(ae.channelName);for(var Ee in B.params)se+="&"+encodeURIComponent(Ee)+"="+encodeURIComponent(B.params[Ee]);if(B.paramsProvider!=null){let Pe=B.paramsProvider();for(var Ee in Pe)se+="&"+encodeURIComponent(Ee)+"="+encodeURIComponent(Pe[Ee])}return se};var pl=ae=>{if(typeof $t.getAuthorizers()[ae.transport]>"u")throw`'${ae.transport}' is not a recognized auth transport`;return(B,se)=>{const Ee=Pa(B,ae);$t.getAuthorizers()[ae.transport]($t,Ee,ae,y.ChannelAuthorization,se)}};const qy=(ae,B,se)=>{const Ee={authTransport:B.transport,authEndpoint:B.endpoint,auth:{params:B.params,headers:B.headers}};return(Pe,Je)=>{const mt=ae.channel(Pe.channelName);se(mt,Ee).authorize(Pe.socketId,Je)}};function Ph(ae,B){let se={activityTimeout:ae.activityTimeout||d.activityTimeout,cluster:ae.cluster,httpPath:ae.httpPath||d.httpPath,httpPort:ae.httpPort||d.httpPort,httpsPort:ae.httpsPort||d.httpsPort,pongTimeout:ae.pongTimeout||d.pongTimeout,statsHost:ae.statsHost||d.stats_host,unavailableTimeout:ae.unavailableTimeout||d.unavailableTimeout,wsPath:ae.wsPath||d.wsPath,wsPort:ae.wsPort||d.wsPort,wssPort:ae.wssPort||d.wssPort,enableStats:Xy(ae),httpHost:Gy(ae),useTLS:Ky(ae),wsHost:Wy(ae),userAuthenticator:_p(ae),channelAuthorizer:Qy(ae,B)};return"disabledTransports"in ae&&(se.disabledTransports=ae.disabledTransports),"enabledTransports"in ae&&(se.enabledTransports=ae.enabledTransports),"ignoreNullOrigin"in ae&&(se.ignoreNullOrigin=ae.ignoreNullOrigin),"timelineParams"in ae&&(se.timelineParams=ae.timelineParams),"nacl"in ae&&(se.nacl=ae.nacl),se}function Gy(ae){return ae.httpHost?ae.httpHost:ae.cluster?`sockjs-${ae.cluster}.pusher.com`:d.httpHost}function Wy(ae){return ae.wsHost?ae.wsHost:Yy(ae.cluster)}function Yy(ae){return`ws-${ae}.pusher.com`}function Ky(ae){return $t.getProtocol()==="https:"?!0:ae.forceTLS!==!1}function Xy(ae){return"enableStats"in ae?ae.enableStats:"disableStats"in ae?!ae.disableStats:!1}function _p(ae){const B=Object.assign(Object.assign({},d.userAuthentication),ae.userAuthentication);return"customHandler"in B&&B.customHandler!=null?B.customHandler:ai(B)}function Zy(ae,B){let se;return"channelAuthorization"in ae?se=Object.assign(Object.assign({},d.channelAuthorization),ae.channelAuthorization):(se={transport:ae.authTransport||d.authTransport,endpoint:ae.authEndpoint||d.authEndpoint},"auth"in ae&&("params"in ae.auth&&(se.params=ae.auth.params),"headers"in ae.auth&&(se.headers=ae.auth.headers)),"authorizer"in ae&&(se.customHandler=qy(B,se,ae.authorizer))),se}function Qy(ae,B){const se=Zy(ae,B);return"customHandler"in se&&se.customHandler!=null?se.customHandler:pl(se)}class Jy extends Pt{constructor(B){super(function(se,Ee){De.debug(`No callbacks on watchlist events for ${se}`)}),this.pusher=B,this.bindWatchlistInternalEvent()}handleEvent(B){B.data.events.forEach(se=>{this.emit(se.name,se)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",B=>{var se=B.event;se==="pusher_internal:watchlist_events"&&this.handleEvent(B)})}}function eb(){let ae,B;return{promise:new Promise((Ee,Pe)=>{ae=Ee,B=Pe}),resolve:ae,reject:B}}var Oh=eb;class tb extends Pt{constructor(B){super(function(se,Ee){De.debug("No callbacks on user for "+se)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(se,Ee)=>{if(se){De.warn(`Error during signin: ${se}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:Ee.auth,user_data:Ee.user_data})},this.pusher=B,this.pusher.connection.bind("state_change",({previous:se,current:Ee})=>{se!=="connected"&&Ee==="connected"&&this._signin(),se==="connected"&&Ee!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Jy(B),this.pusher.connection.bind("message",se=>{var Ee=se.event;Ee==="pusher:signin_success"&&this._onSigninSuccess(se.data),this.serverToUserChannel&&this.serverToUserChannel.name===se.channel&&this.serverToUserChannel.handleEvent(se)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(B){try{this.user_data=JSON.parse(B.user_data)}catch{De.error(`Failed parsing user data after signin: ${B.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){De.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const B=se=>{se.subscriptionPending&&se.subscriptionCancelled?se.reinstateSubscription():!se.subscriptionPending&&this.pusher.connection.state==="connected"&&se.subscribe()};this.serverToUserChannel=new Ea(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((se,Ee)=>{se.indexOf("pusher_internal:")===0||se.indexOf("pusher:")===0||this.emit(se,Ee)}),B(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:B,resolve:se}=Oh();B.done=!1;const Ee=()=>{B.done=!0};B.then(Ee).catch(Ee),this.signinDonePromise=B,this._signinDoneResolve=se}}class Gr{static ready(){Gr.isReady=!0;for(var B=0,se=Gr.instances.length;B<se;B++)Gr.instances[B].connect()}static getClientFeatures(){return ce(H({ws:$t.Transports.ws},function(B){return B.isSupported({})}))}constructor(B,se){Np(B),Ss(se),this.key=B,this.config=Ph(se,this),this.channels=Ln.createChannels(),this.global_emitter=new Pt,this.sessionID=$t.randomInt(1e9),this.timeline=new Vd(this.key,this.sessionID,{cluster:this.config.cluster,features:Gr.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Da.INFO,version:d.VERSION}),this.config.enableStats&&(this.timelineSender=Ln.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+$t.TimelineTransport.name}));var Ee=Pe=>$t.getDefaultStrategy(this.config,Pe,Me);this.connection=Ln.createConnectionManager(this.key,{getStrategy:Ee,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",Pe=>{var Je=Pe.event,mt=Je.indexOf("pusher_internal:")===0;if(Pe.channel){var At=this.channel(Pe.channel);At&&At.handleEvent(Pe)}mt||this.global_emitter.emit(Pe.event,Pe.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",Pe=>{De.warn(Pe)}),Gr.instances.push(this),this.timeline.info({instances:Gr.instances.length}),this.user=new tb(this),Gr.isReady&&this.connect()}channel(B){return this.channels.find(B)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var B=this.connection.isUsingTLS(),se=this.timelineSender;this.timelineSenderTimer=new ie(6e4,function(){se.send(B)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(B,se,Ee){return this.global_emitter.bind(B,se,Ee),this}unbind(B,se,Ee){return this.global_emitter.unbind(B,se,Ee),this}bind_global(B){return this.global_emitter.bind_global(B),this}unbind_global(B){return this.global_emitter.unbind_global(B),this}unbind_all(B){return this.global_emitter.unbind_all(),this}subscribeAll(){var B;for(B in this.channels.channels)this.channels.channels.hasOwnProperty(B)&&this.subscribe(B)}subscribe(B){var se=this.channels.add(B,this);return se.subscriptionPending&&se.subscriptionCancelled?se.reinstateSubscription():!se.subscriptionPending&&this.connection.state==="connected"&&se.subscribe(),se}unsubscribe(B){var se=this.channels.find(B);se&&se.subscriptionPending?se.cancelSubscription():(se=this.channels.remove(B),se&&se.subscribed&&se.unsubscribe())}send_event(B,se,Ee){return this.connection.send_event(B,se,Ee)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Gr.instances=[],Gr.isReady=!1,Gr.logToConsole=!1,Gr.Runtime=$t,Gr.ScriptReceivers=$t.ScriptReceivers,Gr.DependenciesReceivers=$t.DependenciesReceivers,Gr.auth_callbacks=$t.auth_callbacks;var Lh=n.default=Gr;function Np(ae){if(ae==null)throw"You must pass your app key when you instantiate Pusher."}$t.setup(Gr)})])})})(M1)),M1.exports}var Che=She();const kB=B0(Che),vs={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function Ahe(){const[s,t]=w.useState([]),[r,n]=w.useState(null),[a,i]=w.useState([]),[o,c]=w.useState(""),[d,h]=w.useState(!1),[m,f]=w.useState(!0),[g,b]=w.useState(!1),[v,y]=w.useState(null),[_,j]=w.useState(""),S=w.useRef(null),N=w.useRef(null),k=w.useRef(null),C=w.useRef(null),z=ra(),E=w.useRef(z.state?.bookingId??null),[U]=w.useState(()=>localStorage.getItem("token"));w.useEffect(()=>{console.log("Token:",U),console.log("API Base:","https://rento-lb.com/api/api")},[]);const T=F=>{const de=F?.created_at??F?.createdAt??F?.data?.created_at??null;return{id:F?.id??F?.data?.id??`rt-${Date.now()}`,booking_id:F?.booking_id??F?.data?.booking_id??r?.id,sender_id:F?.sender_id??F?.data?.sender_id??F?.sender?.id,receiver_id:F?.receiver_id??F?.data?.receiver_id??null,message:F?.message??F?.data?.message??"",read_at:F?.read_at??F?.data?.read_at??null,created_at:de,sender:F?.sender??F?.data?.sender??null}};w.useEffect(()=>{if(!U){console.error("No token found in localStorage"),y("Authentication required. Please log in.");return}window.Pusher=kB,k.current=new NB({broadcaster:"pusher",key:"316e84fa5f5bf1a94b26",cluster:"ap1",forceTLS:!0,encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:"https://rento-lb.com/api/api/broadcasting/auth",auth:{headers:{Authorization:`Bearer ${U}`,Accept:"application/json"}}});const F=k.current.connector.pusher;return F.connection.bind("initialized",()=>console.log("[PUSHER] initialized")),F.connection.bind("connecting",()=>console.log("[PUSHER] connecting...")),F.connection.bind("connected",()=>console.log("[PUSHER]  connected")),F.connection.bind("disconnected",()=>console.log("[PUSHER] disconnected")),F.connection.bind("unavailable",()=>console.log("[PUSHER] unavailable")),F.connection.bind("failed",()=>console.log("[PUSHER]  failed")),F.connection.bind("error",de=>console.error("[PUSHER] error:",de)),console.log("[ECHO] authEndpoint:","https://rento-lb.com/api/api/broadcasting/auth"),console.log("[ECHO] cluster:","ap1"),console.log("[ECHO] key:","316e84fa5f5bf1a94b26"),Le.get("/profile").then(({data:de})=>{C.current=de.user?.id,console.log("Current user ID:",C.current)}).catch(de=>{console.error("Failed to fetch profile:",de),y("Failed to load user profile")}),()=>{k.current?.disconnect()}},[U]),w.useEffect(()=>{U&&re()},[U]);const re=async()=>{f(!0),y(null);try{const{data:F}=await Le.get("/driver/bookings");console.log("Bookings response:",F);const q=(F.data||[]).filter(G=>G.booking_request_status==="confirmed"||G.booking_request_status==="accepted");t(q)}catch(F){console.error("Failed to fetch bookings:",F),y("Failed to load bookings"),t([])}finally{f(!1)}};w.useEffect(()=>{if(!s.length)return;const F=E.current??z.state?.bookingId;if(!F||r&&String(r.id)===String(F))return;const de=s.find(q=>String(q.id)===String(F));de&&n(de)},[s,r,z.state]);const Y=()=>{const F=S.current;F&&(F.scrollTop=F.scrollHeight)};w.useEffect(()=>{Y()},[a]);const I=async F=>{h(!0),y(null);try{const{data:de}=await Le.get(`/bookings/${F}/chat`),q=de.data?.data||de.data?.messages||[];i(q),q.forEach(G=>{!G.read_at&&G.sender_id!==C.current&&L(G.id)})}catch(de){console.error("Failed to load messages:",de),y("Failed to load messages"),i([])}finally{h(!1)}};w.useEffect(()=>{if(!r?.id||!k.current)return;const F=r.id,de=`private-booking.${F}`;console.log("[ECHO] subscribing to:",de);const q=k.current.connector.pusher,G=q.subscribe(de);G.bind("pusher:subscription_succeeded",()=>{console.log("[PUSHER]  subscription_succeeded:",de)}),G.bind("pusher:subscription_error",be=>{console.error("[PUSHER]  subscription_error:",de,"status:",be),console.error("-> If status=403, your /broadcasting/auth or channels.php auth is rejecting the user.")});const ie=k.current.private(`booking.${F}`),le=be=>{const ye=T(be);i($=>$.some(me=>String(me.id)===String(ye.id))?$:[...$,ye]),ye.sender_id&&ye.sender_id!==C.current&&L(F,ye.id)};return ie.listen(".message.sent",le),ie.listen("message.sent",le),ie.listen(".message.read",be=>console.log("[ECHO] message.read:",be)),I(F),()=>{console.log("[ECHO] leaving:",de),k.current?.leave(`booking.${F}`),q.unsubscribe(de)}},[r?.id]);const K=async F=>{if(F.preventDefault(),!o.trim()||!r)return;const de=o.trim();c("");try{const{data:q}=await Le.post(`/bookings/${r.id}/chat`,{booking_id:r.id,message:de});q.data&&i(G=>[...G,q.data])}catch(q){console.error("Failed to send message:",q),y("Failed to send message"),c(de)}},L=async F=>{try{await Le.post(`/bookings/${r?.id}/chat/mark-read`,{message_id:F})}catch(de){console.error("Failed to mark message as read:",de)}},J=async()=>{try{if(!s?.length)return;const F=await Promise.all(s.map(async q=>{try{const{data:G}=await Le.get(`/bookings/${q.id}/chat/unread-count`),ie=G?.data?.unread_count??G?.data??G?.unread_count??0;return{id:q.id,count:Number(ie)||0}}catch(G){return console.error(`Failed unread count for booking ${q.id}:`,G),{id:q.id,count:0}}})),de=Object.fromEntries(F.map(q=>[q.id,q.count]));t(q=>q.map(G=>({...G,unread_count:de[G.id]??0})))}catch(F){console.error("Failed to fetch unread counts:",F)}};w.useEffect(()=>{if(U){J();const F=setInterval(J,1e4);return()=>clearInterval(F)}},[U]),w.useRef(null);const Q=F=>{if(!F)return"";const de=new Date(F);if(Number.isNaN(de.getTime()))return"";const G=Math.floor((new Date-de)/6e4);if(G<1)return"Just now";if(G<60)return`${G}m ago`;const ie=Math.floor(G/60);if(ie<24)return`${ie}h ago`;const le=Math.floor(ie/24);return le<7?`${le}d ago`:de.toLocaleDateString("en-US",{month:"short",day:"numeric"})},Z=F=>{if(!F)return"";const de=new Date(F);return Number.isNaN(de.getTime())?"":de.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},ee=s.filter(F=>{if(!_)return!0;const de=_.toLowerCase(),q=`${F.client?.first_name||""} ${F.client?.last_name||""}`.toLowerCase(),G=`${F.car?.make||""} ${F.car?.model||""}`.toLowerCase();return q.includes(de)||G.includes(de)});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx(nt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${vs.teal}, ${vs.darkBlue})`},children:e.jsx(_a,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${vs.darkBlue}, ${vs.teal}, ${vs.limeGreen})`},children:"Booking Messages"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Stay connected with your clients"})]})]})}),e.jsx(el,{children:v&&e.jsx(nt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-4 rounded-xl border-2",style:{background:"rgba(220, 38, 38, 0.1)",borderColor:"#DC2626"},children:e.jsxs("p",{className:"text-red-800 dark:text-red-200 flex items-center gap-2",children:[e.jsx(Sr,{className:"w-5 h-5"}),v]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-[calc(100vh-180px)]",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx(Mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:_,onChange:F=>j(F.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white text-sm",style:{focusRing:vs.teal}})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:m?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:vs.tealDim,borderTopColor:"transparent"}})}):ee.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-gray-400",children:[e.jsx(_a,{className:"w-16 h-16 mb-3",style:{color:vs.teal,opacity:.3}}),e.jsx("p",{className:"text-center font-medium",children:"No bookings found"}),e.jsx("p",{className:"text-xs text-center mt-1",children:"Try adjusting your search"})]}):ee.map(F=>e.jsx(nt.div,{whileHover:{x:5},onClick:()=>n(F),className:`p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer transition-all ${r?.id===F.id?"border-l-4":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,style:r?.id===F.id?{background:vs.tealDim,borderLeftColor:vs.teal}:{},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:F.client?.profile_picture?`/api/storage/${F.client.profile_picture}`:"/default-avatar.png",alt:F.client?.first_name||"Client",className:"w-12 h-12 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),F.unread_count>0&&e.jsx(nt.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center shadow-lg",style:{background:vs.limeGreen},children:e.jsx("span",{className:"text-xs text-white font-bold",children:F.unread_count})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white truncate flex items-center gap-1",children:[F.client?.first_name||"N/A"," ",F.client?.last_name||"",F.client?.verified_by_admin&&e.jsx(Dn,{className:"w-3 h-3",style:{color:vs.teal}})]}),F.unread_count>0&&e.jsx(Zr,{className:"w-4 h-4",style:{color:vs.teal}})]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate flex items-center gap-1",children:[e.jsx(Qt,{className:"w-3 h-3"}),F.car?.make||"N/A"," ",F.car?.model||""]})]})]})},F.id))})]}),e.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${vs.darkBlue}, ${vs.teal}, ${vs.limeGreen})`},children:[e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:r.client?.profile_picture?`/api/storage/${r.client.profile_picture}`:"/default-avatar.png",alt:r.client?.first_name||"Client",className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[r.client?.first_name||"N/A"," ",r.client?.last_name||"",r.client?.verified_by_admin&&e.jsx(Dn,{className:"w-4 h-4"})]}),e.jsxs("p",{className:"text-xs opacity-90",children:["@",r.client?.username||"unknown"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r.client?.phone_number&&e.jsx(nt.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`tel:${r.client.phone_number}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:e.jsx(Za,{className:"w-4 h-4"})}),r.client?.email&&e.jsx(nt.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`mailto:${r.client.email}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:e.jsx(ja,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"p-3 bg-white/10 backdrop-blur-sm rounded-xl",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"w-4 h-4"}),e.jsxs("span",{className:"truncate",children:[r.car?.make||"N/A"," ",r.car?.model||""]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:r.start_datetime?Z(r.start_datetime):"N/A"})]})]})})]})]}),e.jsxs("div",{ref:S,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-gray-50/50 to-white dark:from-gray-900/50 dark:to-gray-800",style:{maxHeight:"calc(100vh - 450px)"},children:[d?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:vs.tealDim,borderTopColor:"transparent"}})}):a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{background:vs.tealDim},children:e.jsx(_a,{className:"w-10 h-10",style:{color:vs.teal}})}),e.jsx("p",{className:"text-lg font-medium",children:"No messages yet"}),e.jsx("p",{className:"text-sm",children:"Start the conversation!"})]}):e.jsxs(e.Fragment,{children:[a.map((F,de)=>{const q=F.sender_id===C.current||F.sender?.id===C.current,G=de===0||a[de-1].sender_id!==F.sender_id;return e.jsxs(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex items-end gap-2 ${q?"justify-end":"justify-start"}`,children:[!q&&G&&e.jsx("img",{src:F.sender?.profile_picture?`/api/storage/${F.sender.profile_picture}`:"/default-avatar.png",alt:F.sender?.first_name||"User",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),!q&&!G&&e.jsx("div",{className:"w-8"}),e.jsxs("div",{className:`flex flex-col ${q?"items-end":"items-start"} max-w-[70%]`,children:[e.jsx(nt.div,{whileHover:{scale:1.02},className:`rounded-2xl px-4 py-2 shadow-md ${q?"text-white rounded-br-none":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none border border-gray-200 dark:border-gray-600"}`,style:q?{background:`linear-gradient(135deg, ${vs.teal}, ${vs.darkBlue})`}:{},children:e.jsx("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed",children:F.message})}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 px-1",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:Q(F.created_at)}),q&&e.jsx("span",{children:F.read_at?e.jsx(QN,{className:"w-3 h-3",style:{color:vs.teal}}):e.jsx(Qn,{className:"w-3 h-3 text-gray-400"})})]})]}),q&&G&&e.jsx("img",{src:F.sender?.profile_picture?`/api/storage/${F.sender.profile_picture}`:"/default-avatar.png",alt:F.sender?.first_name||"You",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),q&&!G&&e.jsx("div",{className:"w-8"})]},F.id)}),e.jsx("div",{ref:N})]}),e.jsx(el,{children:g&&e.jsxs(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center gap-2",children:[e.jsx("img",{src:r.client?.profile_picture?`/api/storage/${r.client.profile_picture}`:"/default-avatar.png",alt:r.client?.first_name||"Client",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),e.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-2xl rounded-bl-none px-4 py-3 border border-gray-200 dark:border-gray-600",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:vs.teal,animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:vs.darkBlue,animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:vs.limeGreen,animationDelay:"300ms"}})]})})]})})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(nt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>console.log("Attach file"),className:"p-2 rounded-xl transition-colors",style:{background:vs.tealDim,color:vs.teal},children:e.jsx(MM,{className:"w-5 h-5"})}),e.jsx(nt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>console.log("Send emoji"),className:"p-2 rounded-xl transition-colors",style:{background:vs.limeGreenDim,color:vs.limeGreen},children:e.jsx(OM,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("textarea",{value:o,onChange:F=>{c(F.target.value)},onKeyPress:F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),K(F))},placeholder:"Type your message...",rows:1,className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 dark:bg-gray-700 dark:text-white resize-none",style:{focusRing:vs.teal}})}),e.jsx(nt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:K,disabled:!o.trim(),className:"p-3 rounded-xl text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",style:{background:`linear-gradient(135deg, ${vs.teal}, ${vs.darkBlue})`},children:e.jsx(G0,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:e.jsxs(nt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mb-6 mx-auto",style:{background:`linear-gradient(135deg, ${vs.tealDim}, ${vs.limeGreenDim})`},children:e.jsx(_a,{className:"w-12 h-12",style:{color:vs.teal}})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Select a Booking"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a conversation to start chatting"})]})})})]})]})})}const It=w.forwardRef(({className:s,...t},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:Tt("w-full caption-bottom text-sm",s),...t})}));It.displayName="Table";const zt=w.forwardRef(({className:s,...t},r)=>e.jsx("thead",{ref:r,className:Tt("[&_tr]:border-b",s),...t}));zt.displayName="TableHeader";const Ut=w.forwardRef(({className:s,...t},r)=>e.jsx("tbody",{ref:r,className:Tt("[&_tr:last-child]:border-0",s),...t}));Ut.displayName="TableBody";const Ehe=w.forwardRef(({className:s,...t},r)=>e.jsx("tfoot",{ref:r,className:Tt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...t}));Ehe.displayName="TableFooter";const Ye=w.forwardRef(({className:s,...t},r)=>e.jsx("tr",{ref:r,className:Tt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...t}));Ye.displayName="TableRow";const _e=w.forwardRef(({className:s,...t},r)=>e.jsx("th",{ref:r,className:Tt("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t}));_e.displayName="TableHead";const ve=w.forwardRef(({className:s,...t},r)=>e.jsx("td",{ref:r,className:Tt("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t}));ve.displayName="TableCell";const The=w.forwardRef(({className:s,...t},r)=>e.jsx("caption",{ref:r,className:Tt("mt-4 text-sm text-muted-foreground",s),...t}));The.displayName="TableCaption";const ft={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function Rhe(){const s=br(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(null),[c,d]=w.useState(!1),[h,m]=w.useState(null),[f,g]=w.useState("list"),[b,v]=w.useState(new Date),[y,_]=w.useState(0),[j,S]=w.useState("all"),[N,k]=w.useState(""),[C,z]=w.useState([]),[E,U]=w.useState(null),[T,re]=w.useState({rating:0,template_selections:[],comment:""}),[Y,I]=w.useState(!1),K=async()=>{a(!0);try{const{data:ge}=await Le.get("/driver/bookings");r(ge.data||[])}catch(ge){console.error("Error fetching bookings:",ge),r([]),xe.error("Failed to fetch bookings")}finally{a(!1)}};w.useEffect(()=>{K()},[]),w.useEffect(()=>{(async()=>{try{const{data:Re}=await jX();z(Re?.agent_rates_client||[])}catch(Re){console.error("Failed to load feedback templates:",Re)}})()},[]),w.useEffect(()=>{const ge=ce();if(ge.length>1){const Re=setInterval(()=>{_(De=>(De+1)%ge.length)},5e3);return()=>clearInterval(Re)}},[t]);const L=t.reduce((ge,Re)=>{const De=Re.car?.id;return De&&(ge[De]||(ge[De]={car:Re.car,bookings:[]}),ge[De].bookings.push(Re)),ge},{}),J=ge=>{if(!ge)return"N/A";if(typeof ge=="string")return ge;if(typeof ge=="object"){if(ge.address)return ge.address;const Re=ge.lat??ge.latitude,De=ge.lng??ge.longitude;return Re!=null&&De!=null?`${Re}, ${De}`:JSON.stringify(ge)}return String(ge)},Q=async ge=>{m(ge);try{if(await Le.post(`/driver/bookings/${ge}/accept`),await K(),i){const Re=t.filter(De=>De.car?.id===i.car?.id);o({...i,bookings:Re})}xe.success(" Booking accepted successfully!")}catch(Re){console.error("Error accepting booking:",Re),xe.error("Failed to accept booking")}finally{m(null)}},Z=async ge=>{if(confirm("Are you sure you want to reject this booking?")){m(ge);try{if(await Le.post(`/driver/bookings/${ge}/decline`),await K(),i){const Re=t.filter(De=>De.car?.id===i.car?.id&&De.id!==ge);Re.length===0?F():o({...i,bookings:Re})}xe.success("Booking rejected successfully")}catch(Re){console.error("Error rejecting booking:",Re),xe.error("Failed to reject booking")}finally{m(null)}}},ee=ge=>{o(ge),d(!0)},F=()=>{o(null),d(!1)},de=ge=>{const Re=ge?.booking_request_status,De=Re==="confirmed"||Re==="accepted",Se=ge?.end_datetime&&new Date(ge.end_datetime)<new Date,Ie=!ge?.client_rating;return!!(De&&Se&&Ie)},q=ge=>{U(ge),re({rating:0,template_selections:[],comment:""})},G=()=>{U(null),re({rating:0,template_selections:[],comment:""})},ie=ge=>{re(Re=>({...Re,template_selections:Re.template_selections.includes(ge)?Re.template_selections.filter(De=>De!==ge):[...Re.template_selections,ge]}))},le=async()=>{if(!E||T.rating<1||T.rating>5){xe.error("Please select a rating (15 stars).");return}I(!0);try{if(await _X(E.id,{rating:T.rating,template_selections:T.template_selections,comment:T.comment.slice(0,1e3)}),xe.success("Rating submitted successfully."),G(),await K(),i?.bookings?.length){const ge=i.bookings.map(Re=>Re.id===E.id?{...Re,client_rating:!0}:Re);o({...i,bookings:ge})}}catch(ge){const Re=ge.response?.data?.message||ge.response?.data?.error||ge.response?.data?.errors&&Object.values(ge.response.data.errors).flat().join(" ")||"Failed to submit rating.";xe.error(Re)}finally{I(!1)}},be=ge=>{const Re={pending:{label:"Pending",color:ft.teal,bgColor:ft.tealDim,textColor:ft.teal,icon:__},confirmed:{label:"Confirmed",color:ft.limeGreen,bgColor:ft.limeGreenDim,textColor:ft.limeGreen,icon:Xr},accepted:{label:"Accepted",color:ft.darkBlue,bgColor:ft.darkBlueDim,textColor:ft.darkBlue,icon:Qn},rejected:{label:"Rejected",color:"#DC2626",bgColor:"rgba(220, 38, 38, 0.1)",textColor:"#DC2626",icon:ta},completed:{label:"Completed",color:ft.limeGreen,bgColor:ft.limeGreenDim,textColor:ft.limeGreen,icon:Xr}};return Re[ge]||Re.pending},ye=(ge,Re)=>{const De=new Date(ge),Se=new Date(Re),Ie=Math.abs(Se-De);return Math.ceil(Ie/(1e3*60*60*24))},$=ge=>new Date(ge).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),V=ge=>new Date(ge).toLocaleDateString("en-US",{month:"short",day:"numeric"}),me=ge=>{const Re=new Date(ge),De=new Date;return Re.toDateString()===De.toDateString()},ce=()=>t.filter(ge=>me(ge.start_datetime)||me(ge.end_datetime)),O=(()=>{const ge=t.length,Re=t.filter(We=>We.booking_request_status==="pending").length,De=t.filter(We=>We.booking_request_status==="confirmed"||We.booking_request_status==="accepted").length,Se=t.filter(We=>We.booking_request_status==="rejected").length,Ie=t.filter(We=>We.booking_request_status==="confirmed"||We.booking_request_status==="accepted").reduce((We,wt)=>We+parseFloat(wt.total_booking_price||0),0);return{total:ge,pending:Re,confirmed:De,rejected:Se,totalRevenue:Ie}})(),oe=Object.entries(L).reduce((ge,[Re,De])=>{let Se=De.bookings;return j!=="all"&&(Se=Se.filter(Ie=>Ie.booking_request_status===j)),N&&(Se=Se.filter(Ie=>{const We=N.toLowerCase(),wt=`${Ie.car?.make} ${Ie.car?.model}`.toLowerCase().includes(We),gt=`${Ie.client?.first_name} ${Ie.client?.last_name}`.toLowerCase().includes(We),pt=Ie.client?.email?.toLowerCase().includes(We);return wt||gt||pt})),Se.length>0&&(ge[Re]={...De,bookings:Se}),ge},{}),D=ge=>{const Re=ge.getFullYear(),De=ge.getMonth(),Se=new Date(Re,De,1),We=new Date(Re,De+1,0).getDate(),wt=Se.getDay();return{daysInMonth:We,startingDayOfWeek:wt,year:Re,month:De}},Ce=ge=>t.filter(Re=>{const De=new Date(Re.start_datetime),Se=new Date(Re.end_datetime);return De.setHours(0,0,0,0),Se.setHours(0,0,0,0),ge.setHours(0,0,0,0),ge.getTime()===De.getTime()||ge.getTime()===Se.getTime()}),H=()=>{const{daysInMonth:ge,startingDayOfWeek:Re,year:De,month:Se}=D(b),Ie=["January","February","March","April","May","June","July","August","September","October","November","December"],We=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wt=()=>{v(new Date(b.getFullYear(),b.getMonth()-1))},gt=()=>{v(new Date(b.getFullYear(),b.getMonth()+1))},pt=[];for(let Nt=0;Nt<Re;Nt++)pt.push(e.jsx("div",{className:"aspect-square"},`empty-${Nt}`));for(let Nt=1;Nt<=ge;Nt++){const yt=new Date(De,Se,Nt),Ot=Ce(yt),Ze=me(yt.toISOString());pt.push(e.jsxs(nt.div,{whileHover:{scale:1.05},className:`aspect-square border rounded-xl p-2 transition-all cursor-pointer ${Ze?"border-2 shadow-lg":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-md"}`,style:Ze?{background:`linear-gradient(135deg, ${ft.tealDim}, ${ft.limeGreenDim})`,borderColor:ft.teal}:{},onClick:()=>{if(Ot.length>0){const Te=Ot.reduce((Be,xt)=>{const jt=xt.car?.id;return Be[jt]||(Be[jt]={car:xt.car,bookings:[]}),Be[jt].bookings.push(xt),Be},{});ee(Object.values(Te)[0])}},children:[e.jsx("div",{className:`text-sm font-bold mb-1 ${Ze?"dark:text-gray-800":"text-gray-700 dark:text-gray-300"}`,style:Ze?{color:ft.teal}:{},children:Nt}),Ot.length>0&&e.jsxs("div",{className:"space-y-1",children:[Ot.slice(0,2).map(Te=>{const Be=be(Te.booking_request_status);return e.jsx("div",{className:"text-xs px-1.5 py-0.5 rounded-md truncate font-medium shadow-sm",style:{background:Be.bgColor,color:Be.textColor},children:Te.car?.make},Te.id)}),Ot.length>2&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:["+",Ot.length-2," more"]})]})]},Nt))}return e.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-5 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-5",children:[e.jsxs("h2",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${ft.teal}, ${ft.darkBlue})`},children:[Ie[Se]," ",De]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(nt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:wt,className:"p-2 rounded-xl transition-colors",style:{background:ft.tealDim,color:ft.teal},children:e.jsx(vi,{className:"w-5 h-5"})}),e.jsx(nt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:gt,className:"p-2 rounded-xl transition-colors",style:{background:ft.tealDim,color:ft.teal},children:e.jsx(Zr,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[We.map(Nt=>e.jsx("div",{className:"text-center font-bold text-sm text-gray-600 dark:text-gray-400 py-2",children:Nt},Nt)),pt]}),e.jsx("div",{className:"flex justify-center gap-6 mt-5 pt-5 border-t border-gray-200 dark:border-gray-700",children:["pending","confirmed","rejected"].map(Nt=>{const yt=be(Nt);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-md shadow-sm",style:{background:yt.color}}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:yt.label})]},Nt)})})]})},R=ge=>{if(!ge.length)return{start:new Date,end:new Date};const Re=ge.flatMap(Ie=>[new Date(Ie.start_datetime),new Date(Ie.end_datetime)]),De=new Date(Math.min(...Re.map(Ie=>Ie.getTime()))),Se=new Date(Math.max(...Re.map(Ie=>Ie.getTime())));return De.setDate(De.getDate()-2),Se.setDate(Se.getDate()+2),{start:De,end:Se}},P=({startDate:ge,endDate:Re})=>{const De=[],Se=new Date(ge);for(;Se<=Re;){const Ie=me(Se.toISOString());De.push({date:Se.toLocaleDateString("en-US",{day:"numeric",month:"short"}),day:Se.toLocaleDateString("en-US",{weekday:"short"}),isToday:Ie}),Se.setDate(Se.getDate()+1)}return e.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:De.map((Ie,We)=>e.jsxs("div",{className:`px-4 py-3 text-sm font-semibold text-center ${Ie.isToday,""}`,style:Ie.isToday?{background:ft.tealDim,color:ft.teal}:{},children:[e.jsx("div",{className:"font-bold",children:Ie.day}),e.jsx("div",{className:"text-xs opacity-80",children:Ie.date})]},We))})},W=({car:ge,bookings:Re,dateRange:De,onBookingClick:Se})=>{const{start:Ie,end:We}=De,wt=Math.ceil((We-Ie)/(1e3*60*60*24));return e.jsxs(nt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center border-b border-gray-200 dark:border-gray-700 py-3 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[e.jsxs("div",{className:"w-56 flex items-center gap-3 px-4",children:[e.jsx("img",{src:ge.main_image_url?`/api/storage/${ge.main_image_url}`:"/placeholder.png",alt:ge.model,className:"w-14 h-10 object-cover rounded-lg shadow-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-bold text-gray-900 dark:text-white",children:[ge.make," ",ge.model]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[e.jsx(Bs,{className:"w-3 h-3"}),Re.length," booking",Re.length!==1?"s":""]})]})]}),e.jsx("div",{className:"relative flex-1 h-14 px-2",children:Re.map(gt=>{const pt=new Date(gt.start_datetime),Nt=new Date(gt.end_datetime),yt=Math.max(0,Math.floor((pt-Ie)/(1e3*60*60*24))),Ot=Math.max(1,Math.ceil((Nt-pt)/(1e3*60*60*24))),Ze=be(gt.booking_request_status);return e.jsx(nt.div,{whileHover:{scale:1.05,zIndex:10},className:"absolute h-10 rounded-xl cursor-pointer shadow-lg hover:shadow-xl transition-all flex items-center justify-center text-white text-xs font-semibold",style:{left:`${yt/wt*100}%`,width:`${Ot/wt*100}%`,background:Ze.color},title:`${gt.client?.first_name} ${gt.client?.last_name}
${$(gt.start_datetime)} - ${$(gt.end_datetime)}
Total: $${gt.total_booking_price}`,onClick:()=>Se({car:ge,bookings:[gt]}),children:e.jsx("span",{className:"truncate px-2",children:gt.client?.first_name})},gt.id)})})]})},Ne=()=>{const ge=R(t);return e.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700",children:[e.jsx(P,{startDate:ge.start,endDate:ge.end}),e.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:Object.values(L).map(({car:Re,bookings:De})=>e.jsx(W,{car:Re,bookings:De,dateRange:ge,onBookingClick:ee},Re.id))}),e.jsx("div",{className:"flex justify-center gap-6 p-4 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:["pending","confirmed","rejected"].map(Re=>{const De=be(Re);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-md shadow-sm",style:{background:De.color}}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:De.label})]},Re)})})]})},X=()=>{const ge=ce();if(ge.length===0)return null;const Re=ge[y],De=me(Re.start_datetime),Se=me(Re.end_datetime);return e.jsxs(nt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-5 rounded-2xl shadow-2xl p-5 text-white overflow-hidden relative",style:{background:`linear-gradient(135deg, ${ft.darkBlue}, ${ft.teal}, ${ft.limeGreen})`},children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full blur-3xl"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(nt.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl",children:e.jsx(o0,{className:"w-7 h-7"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Today's Action Required!"}),ge.length>1&&e.jsxs("span",{className:"text-xs bg-white/30 backdrop-blur-sm px-3 py-1 rounded-full font-semibold",children:[y+1," of ",ge.length]})]}),e.jsx("p",{className:"text-sm opacity-90 mb-4 flex items-center gap-2",children:De&&Se?e.jsxs(e.Fragment,{children:[e.jsx(bm,{className:"w-4 h-4"}),"Booking starts AND ends today"]}):De?e.jsxs(e.Fragment,{children:[e.jsx(e0,{className:"w-4 h-4"}),"Booking starts today"]}):e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"w-4 h-4"}),"Booking ends today"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:Re.car?.main_image_url?`/api/storage/${Re.car.main_image_url}`:"/placeholder.png",alt:Re.car?.model,className:"w-12 h-12 rounded-lg object-cover border-2 border-white/30 shadow-lg"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-lg",children:[Re.car?.make," ",Re.car?.model]}),e.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-1",children:[e.jsx(Qt,{className:"w-3 h-3"}),Re.car?.year,"  ",Re.car?.car_category]})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:Re.client?.profile_picture?`/api/storage/${Re.client.profile_picture}`:"/default-avatar.png",alt:Re.client?.username,className:"w-12 h-12 rounded-full object-cover border-2 border-white/30 shadow-lg"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-lg flex items-center gap-1",children:[Re.client?.first_name," ",Re.client?.last_name,Re.client?.verified_by_admin&&e.jsx(hE,{className:"w-4 h-4"})]}),e.jsxs("div",{className:"text-xs opacity-80",children:["@",Re.client?.username]})]})]})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[e.jsx(mc,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:$(Re.start_datetime)})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[e.jsx(dr,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-bold",children:["$",Re.total_booking_price]})]}),Re.app_fees_amount!=null&&e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[e.jsx("span",{className:"opacity-90",children:"App fee:"}),e.jsxs("span",{children:["$",Re.app_fees_amount]})]}),e.jsx("div",{className:"px-3 py-1.5 rounded-lg font-semibold text-xs bg-white/20",children:Re.booking_request_status.toUpperCase()})]})]})]})}),ge.length>1&&e.jsx("div",{className:"absolute bottom-4 right-6 flex gap-2",children:ge.map((Ie,We)=>e.jsx(nt.div,{animate:{scale:We===y?1.2:1},className:`h-2 rounded-full transition-all ${We===y?"bg-white w-8":"bg-white/40 w-2"}`},We))})]})},pe=()=>{const ge=[{title:"Total Bookings",value:O.total,icon:Bs,gradient:`linear-gradient(135deg, ${ft.teal}, ${ft.darkBlue})`,change:"+12%"},{title:"Pending Review",value:O.pending,icon:__,gradient:`linear-gradient(135deg, ${ft.darkBlue}, ${ft.teal})`,change:"Needs action",alert:O.pending>0},{title:"Confirmed",value:O.confirmed,icon:Xr,gradient:`linear-gradient(135deg, ${ft.limeGreen}, ${ft.teal})`,change:"+8%"},{title:"Total Revenue",value:`$${O.totalRevenue.toFixed(2)}`,icon:dr,gradient:`linear-gradient(135deg, ${ft.teal}, ${ft.limeGreen})`,change:"+15%"}];return e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-5",children:ge.map((Re,De)=>e.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:De*.1},whileHover:{y:-5},className:"relative",children:e.jsxs("div",{className:"relative z-10 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 border border-gray-200 dark:border-gray-700 group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl p-2.5 shadow-lg",style:{background:Re.gradient},children:e.jsx(Re.icon,{className:"w-full h-full text-white"})}),Re.alert&&e.jsx(nt.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-3 h-3 rounded-full",style:{background:ft.teal}})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:Re.title}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:Re.value}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:Re.change})]})},De))})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-950 dark:via-gray-900 dark:to-black pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("div",{className:"mb-5",children:e.jsx(nt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:e.jsx("h1",{className:"text-4xl font-bold bg-clip-text text-transparent mb-2",style:{backgroundImage:`linear-gradient(135deg, ${ft.darkBlue}, ${ft.teal}, ${ft.limeGreen})`},children:"Booking Management"})})}),e.jsx(X,{}),e.jsx(pe,{}),e.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 mb-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by car, client, or email...",value:N,onChange:ge=>k(ge.target.value),className:"w-full pl-11 pr-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white",style:{focusRing:ft.teal}})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:j,onChange:ge=>S(ge.target.value),className:"px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white",style:{focusRing:ft.teal},children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"accepted",children:"Accepted"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsx(nt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:K,className:"p-2.5 rounded-xl transition-colors",style:{background:ft.tealDim,color:ft.teal},children:e.jsx(Ft,{className:"w-5 h-5"})})]})]})}),e.jsx("div",{className:"flex gap-2 mb-5 overflow-x-auto pb-2",children:[{id:"list",label:"List View",icon:to},{id:"table",label:"Table",icon:jY},{id:"timeline",label:"Timeline",icon:bm},{id:"calendar",label:"Calendar",icon:Bs}].map(ge=>e.jsxs(nt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-medium whitespace-nowrap transition-all ${f===ge.id?"text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700"}`,style:f===ge.id?{background:`linear-gradient(135deg, ${ft.teal}, ${ft.darkBlue})`}:{},onClick:()=>g(ge.id),children:[e.jsx(ge.icon,{className:"w-5 h-5"}),ge.label]},ge.id))}),n?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(nt.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-t-4 rounded-full",style:{borderColor:ft.tealDim,borderTopColor:ft.teal}})}):Object.keys(oe).length===0?e.jsxs(nt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-20 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsx(_s,{className:"w-20 h-20 mx-auto mb-4",style:{color:ft.teal,opacity:.3}}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg font-medium mb-2",children:"No bookings found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm",children:"Try adjusting your filters or search query"})]}):f==="calendar"?e.jsx(H,{}):f==="timeline"?e.jsx(Ne,{}):f==="table"?e.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{className:"border-gray-200 dark:border-gray-700",children:[e.jsx(_e,{className:"text-gray-700 dark:text-gray-300",children:"Car"}),e.jsx(_e,{className:"text-gray-700 dark:text-gray-300",children:"Client"}),e.jsx(_e,{className:"text-gray-700 dark:text-gray-300",children:"Dates"}),e.jsx(_e,{className:"text-gray-700 dark:text-gray-300",children:"Status"}),e.jsx(_e,{className:"text-gray-700 dark:text-gray-300 text-right",children:"Amount"}),e.jsx(_e,{className:"text-gray-700 dark:text-gray-300 text-right",children:"App Fee"}),e.jsx(_e,{className:"text-gray-700 dark:text-gray-300 text-right",children:"Net"})]})}),e.jsx(Ut,{children:Object.values(oe).flatMap(ge=>ge.bookings).map(ge=>{const Re=be(ge.booking_request_status),De=parseFloat(ge.total_booking_price||0),Se=Number(ge.app_fees_amount)||0,Ie=De-Se;return e.jsxs(Ye,{className:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 border-gray-200 dark:border-gray-700",onClick:()=>ee({car:ge.car,bookings:[ge]}),children:[e.jsxs(ve,{className:"font-medium text-gray-900 dark:text-white",children:[ge.car?.make," ",ge.car?.model]}),e.jsxs(ve,{className:"text-gray-600 dark:text-gray-400",children:[ge.client?.first_name," ",ge.client?.last_name]}),e.jsxs(ve,{className:"text-gray-600 dark:text-gray-400 text-sm",children:[V(ge.start_datetime),"  ",V(ge.end_datetime)]}),e.jsx(ve,{children:e.jsx("span",{className:"px-2 py-1 rounded-lg text-xs font-semibold",style:{background:Re.bgColor,color:Re.textColor},children:Re.label})}),e.jsxs(ve,{className:"text-right font-semibold",style:{color:ft.limeGreen},children:["$",De.toFixed(2)]}),e.jsxs(ve,{className:"text-right text-gray-600 dark:text-gray-400",children:["$",Se.toFixed(2)]}),e.jsxs(ve,{className:"text-right font-bold",style:{color:ft.teal},children:["$",Ie.toFixed(2)]})]},ge.id)})})]})})}):e.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-5",children:Object.values(oe).map(({car:ge,bookings:Re},De)=>{const Se=Re.filter(We=>We.booking_request_status==="pending").length,Ie=Re.filter(We=>We.booking_request_status==="confirmed"||We.booking_request_status==="accepted").length;return e.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:De*.1},whileHover:{y:-8,scale:1.02},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer border border-gray-200 dark:border-gray-700 group",onClick:()=>ee({car:ge,bookings:Re}),children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:ge?.main_image_url?`/api/storage/${ge.main_image_url}`:"/placeholder.png",alt:ge?.model||"Car",className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),e.jsx("div",{className:"absolute top-3 right-3 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-full px-3 py-1.5 shadow-lg",children:e.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-1",children:[e.jsx(Bs,{className:"w-4 h-4"}),Re.length]})})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("h2",{className:"font-bold text-xl text-gray-900 dark:text-white mb-1",children:[ge?.make||"Unknown"," ",ge?.model||""]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Qt,{className:"w-4 h-4"}),ge?.year||"N/A","  ",ge?.car_category||"N/A"]}),ge?.notes&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2",children:ge.notes}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[Se>0&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border",style:{background:ft.tealDim,borderColor:ft.teal},children:[e.jsx(nt.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-2 h-2 rounded-full",style:{background:ft.teal}}),e.jsxs("span",{className:"text-xs font-semibold",style:{color:ft.teal},children:[Se," Pending"]})]}),Ie>0&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border",style:{background:ft.limeGreenDim,borderColor:ft.limeGreen},children:[e.jsx(Xr,{className:"w-4 h-4",style:{color:ft.limeGreen}}),e.jsxs("span",{className:"text-xs font-semibold",style:{color:ft.limeGreen},children:[Ie," Confirmed"]})]})]})]})]},ge.id)})}),e.jsx(el,{children:c&&i&&e.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",onClick:F,children:e.jsxs(nt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-4xl mx-4 shadow-2xl overflow-hidden border border-gray-200 dark:border-gray-700",style:{maxHeight:"90vh"},onClick:ge=>ge.stopPropagation(),children:[e.jsxs("div",{className:"p-5 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${ft.teal}, ${ft.darkBlue})`},children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2.5 bg-white/20 backdrop-blur-sm rounded-2xl",children:e.jsx(Qt,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold",children:[i.car?.make," ",i.car?.model]}),e.jsxs("p",{className:"text-sm opacity-90 flex items-center gap-2 mt-1",children:[e.jsx(Bs,{className:"w-4 h-4"}),i.bookings?.length||0," booking request",i.bookings?.length!==1?"s":""]})]})]}),e.jsx(nt.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:F,className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:e.jsx(Sr,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"overflow-y-auto p-5",style:{maxHeight:"calc(90vh - 120px)"},children:i.bookings?.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(_s,{className:"w-16 h-16 mx-auto mb-4",style:{color:ft.teal,opacity:.3}}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No bookings for this car yet."})]}):e.jsx("div",{className:"space-y-5",children:i.bookings?.map((ge,Re)=>{const De=ge.client,Se=De?.profile||{},Ie=be(ge.booking_request_status),We=Ie.icon,wt=ge.booking_request_status==="accepted"||ge.booking_request_status==="confirmed";return e.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Re*.1},className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 rounded-2xl p-5 shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:De?.profile_picture?`/api/storage/${De.profile_picture}`:"/default-avatar.png",alt:De?.username||"Client",className:"w-14 h-14 rounded-2xl object-cover border-4 border-white dark:border-gray-700 shadow-lg"}),Se?.trusted_by_app&&e.jsx("div",{className:"absolute -bottom-2 -right-2 w-6 h-6 rounded-full border-4 border-white dark:border-gray-700 flex items-center justify-center shadow-lg",style:{background:ft.darkBlue},children:e.jsx(Dn,{className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsxs("h3",{className:"font-bold text-xl text-gray-900 dark:text-white flex items-center gap-2",children:[De?.first_name||"N/A"," ",De?.last_name||"",De?.verified_by_admin&&e.jsx(hE,{className:"w-5 h-5",style:{color:ft.teal}})]})}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",De?.username||"Unknown","  Booked ",V(ge.created_at)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-xl border-2",style:{background:Ie.bgColor,borderColor:Ie.color},children:[e.jsx(We,{className:"w-5 h-5",style:{color:Ie.textColor}}),e.jsx("span",{className:"font-bold text-sm",style:{color:Ie.textColor},children:Ie.label})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{background:ft.tealDim},children:e.jsx(e0,{className:"w-4 h-4",style:{color:ft.teal}})}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Rental Period"})]}),e.jsxs("div",{className:"space-y-1.5 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Start:"}),e.jsx("span",{className:"font-semibold",children:$(ge.start_datetime)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"End:"}),e.jsx("span",{className:"font-semibold",children:$(ge.end_datetime)})]}),e.jsxs("div",{className:"flex justify-between pt-1.5 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),e.jsxs("span",{className:"font-bold",style:{color:ft.teal},children:[ye(ge.start_datetime,ge.end_datetime)," days"]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{background:ft.limeGreenDim},children:e.jsx(dr,{className:"w-4 h-4",style:{color:ft.limeGreen}})}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Payment Details"})]}),e.jsxs("div",{className:"space-y-1.5 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total (client paid):"}),e.jsxs("span",{className:"font-bold text-lg",style:{color:ft.limeGreen},children:["$",ge.total_booking_price??"0.00"]})]}),ge.app_fees_amount!=null&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"App fee:"}),e.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:["$",ge.app_fees_amount]})]}),e.jsxs("div",{className:"flex justify-between pt-1.5 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Your net:"}),e.jsxs("span",{className:"font-bold",style:{color:ft.teal},children:["$",(parseFloat(ge.total_booking_price||0)-(ge.app_fees_amount||0)).toFixed(2)]})]})]}),ge.needs_delivery&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Delivery:"}),e.jsx("span",{className:"font-semibold text-right truncate max-w-[160px]",children:"Requested"})]}),ge.needs_driver&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Driver:"}),e.jsx("span",{className:"font-semibold text-right truncate max-w-[160px]",children:"With driver"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pickup:"}),e.jsx("span",{className:"font-semibold text-right truncate max-w-[160px]",children:J(ge.pickup_location)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Dropoff:"}),e.jsx("span",{className:"font-semibold text-right truncate max-w-[160px]",children:J(ge.dropoff_location)})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4",children:[{label:"Email",value:De?.email,icon:ja},{label:"Phone",value:wt?De?.phone_number:"Hidden until booking accepted",icon:Za},{label:"City",value:De?.city,icon:js},{label:"Profession",value:Se?.profession,icon:sc}].map((gt,pt)=>e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-2.5 rounded-xl shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx(gt.icon,{className:"w-3 h-3 text-gray-400"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:gt.label})]}),e.jsx("p",{className:"font-semibold text-sm truncate text-gray-800 dark:text-gray-200",children:gt.value||"N/A"})]},pt))}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4",children:[{label:"Age",value:Se?.age},{label:"Gender",value:De?.gender},{label:"Salary",value:Se?.avg_salary},{label:"License",value:Se?.license_number}].map((gt,pt)=>e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-2.5 rounded-xl shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:gt.label}),e.jsx("p",{className:"font-semibold text-sm truncate text-gray-800 dark:text-gray-200",children:gt.value||"N/A"})]},pt))}),Se?.average_rating&&e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl mb-4 border",style:{background:ft.limeGreenDim,borderColor:ft.limeGreen},children:[e.jsx(ir,{className:"w-5 h-5 fill-current",style:{color:ft.limeGreen}}),e.jsxs("span",{className:"font-bold",style:{color:ft.limeGreen},children:[Se.average_rating," Average Rating"]})]}),ge.client_rating&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl mb-4 border",style:{background:ft.limeGreenDim,borderColor:ft.limeGreen},children:[e.jsx(Xr,{className:"w-5 h-5",style:{color:ft.limeGreen}}),e.jsx("span",{className:"font-semibold",style:{color:ft.limeGreen},children:"Rating submitted"})]}),!ge.client_rating&&de(ge)&&e.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700 mb-4",children:e.jsxs(nt.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:gt=>{gt.stopPropagation(),q(ge)},className:"flex items-center justify-center gap-2 py-2.5 px-4 rounded-xl font-bold text-white shadow-lg hover:shadow-xl transition-all w-full sm:w-auto",style:{background:`linear-gradient(135deg, ${ft.teal}, ${ft.darkBlue})`},children:[e.jsx(ir,{className:"w-5 h-5"}),"Rate client"]})}),ge.booking_request_status==="pending"&&e.jsxs("div",{className:"flex gap-2.5 pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs(nt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:gt=>{gt.stopPropagation(),Q(ge.id)},disabled:h===ge.id,className:"flex-1 py-2.5 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all text-white shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${ft.limeGreen}, ${ft.teal})`},children:[e.jsx(Qn,{className:"w-5 h-5"}),h===ge.id?"Processing...":"Accept Booking"]}),e.jsxs(nt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:gt=>{gt.stopPropagation(),Z(ge.id)},disabled:h===ge.id,className:"flex-1 py-2.5 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 text-white shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ta,{className:"w-5 h-5"}),h===ge.id?"Processing...":"Reject Booking"]})]}),wt&&e.jsx("div",{className:"flex gap-2.5 pt-3 mt-2 border-t border-gray-200 dark:border-gray-700",children:e.jsxs(nt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:gt=>{gt.stopPropagation(),s("/BookingChat",{state:{bookingId:ge.id}})},className:"flex-1 py-2.5 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all bg-gradient-to-r from-sky-500 to-teal-500 hover:from-sky-600 hover:to-teal-600 text-white shadow-lg hover:shadow-xl",children:[e.jsx(_a,{className:"w-5 h-5"}),"Chat with client"]})})]},ge.id)})})})]})})}),e.jsx(yr,{open:!!E,onOpenChange:ge=>!ge&&G(),children:e.jsxs(ur,{className:"sm:max-w-md bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[e.jsx(hr,{children:e.jsxs(fr,{className:"flex items-center gap-2",style:{color:ft.darkBlue},children:[e.jsx(ir,{className:"w-5 h-5",style:{color:ft.teal}}),"Rate client",E?.client&&e.jsxs("span",{className:"font-normal text-gray-600 dark:text-gray-400",children:[" ",E.client.first_name," ",E.client.last_name]})]})}),e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Rating ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(ge=>e.jsx(nt.button,{type:"button",whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>re(Re=>({...Re,rating:ge})),className:`p-2 rounded-lg border-2 transition-colors ${T.rating>=ge?"border-amber-400 bg-amber-50 dark:bg-amber-900/20":"border-gray-200 dark:border-gray-600 hover:border-amber-300"}`,children:e.jsx(ir,{className:`w-6 h-6 ${T.rating>=ge?"fill-amber-400 text-amber-400":"text-gray-400"}`})},ge))})]}),C.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tags (optional)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(ge=>e.jsx("button",{type:"button",onClick:()=>ie(ge.id),className:`px-3 py-1.5 rounded-full text-sm font-medium border-2 transition-colors ${T.template_selections.includes(ge.id)?"border-teal-500 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,style:T.template_selections.includes(ge.id)?{borderColor:ft.teal,background:ft.tealDim,color:ft.teal}:{},children:ge.label},ge.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Comment (optional, max 1000 characters)"}),e.jsx("textarea",{value:T.comment,onChange:ge=>re(Re=>({...Re,comment:ge.target.value.slice(0,1e3)})),placeholder:"e.g. Very good renter. Would rent to again.",rows:3,className:"w-full px-3 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-teal-500 focus:border-teal-500"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[T.comment.length,"/1000"]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(nt.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:G,className:"flex-1 py-2.5 px-4 rounded-xl font-semibold border-2 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),e.jsx(nt.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:le,disabled:Y||T.rating<1,className:"flex-1 py-2.5 px-4 rounded-xl font-bold text-white shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${ft.teal}, ${ft.darkBlue})`},children:Y?"Submitting":"Submit rating"})]})]})]})})]})})}const Dhe=[{name:"Instagram",url:"https://www.instagram.com/rentolebanon/?hl=en",icon:EM,gradient:"from-pink-500 to-purple-500"},{name:"Facebook",url:"https://www.facebook.com/profile.php?id=61585450048575",icon:CM,gradient:"from-pink-500 to-purple-500"},{name:"Twitter / X",url:"https://x.com/RENTO_lb",icon:LM,gradient:"from-blue-500 to-cyan-500"},{name:"LinkedIn",url:"https://www.linkedin.com/company/rento-lb/about/",icon:TM,gradient:"from-blue-700 to-blue-500"},{name:"Pinterest",url:"https://www.pinterest.com/rento1065/",icon:fE,gradient:"from-red-500 to-rose-500"},{name:"Tiktok",url:"https://www.tiktok.com/@rentolebanon",icon:fE,gradient:"from-black-500 to-white-500"},{name:"YouTube",url:"https://www.youtube.com/channel/UCW1dt_Y0qq0oczELUoGDI7Q",icon:UY,gradient:"from-red-600 to-red-400"}];function Mhe(){return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-gradient-to-br dark:from-gray-950 dark:via-gray-900 dark:to-teal-950 py-20 px-4",children:[e.jsxs("div",{className:"container mx-auto max-w-4xl text-center mb-16",children:[e.jsx(Ge,{className:"mb-6 bg-gradient-to-r from-teal-500 to-cyan-500 text-white border-0 px-6 py-2 text-sm font-bold shadow-lg",children:"Official Rento LB Social Media"}),e.jsxs("h1",{className:"text-5xl font-black text-gray-900 dark:text-white mb-6",children:["Stay Connected With",e.jsx("span",{className:"block bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Rento Lebanon"})]}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Follow us on all platforms for updates, new car listings, offers, and more."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 container mx-auto max-w-5xl",children:Dhe.map((s,t)=>e.jsx(Ue,{className:"group border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 hover:border-teal-500 transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:e.jsxs(He,{className:"p-6 text-center",children:[e.jsx("div",{className:`w-24 h-24 mx-auto mb-6 rounded-2xl bg-gradient-to-br ${s.gradient} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:e.jsx(s.icon,{className:"w-12 h-12 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:s.name}),e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",children:e.jsxs(fe,{className:"w-full bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold py-3 rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:["Visit Page",e.jsx(Nd,{className:"w-5 h-5 ml-2"})]})})]})},t))})]})}const Phe=["Beirut","Tripoli","Sidon","Tyre","Other"],Ohe=["Employee","Freelancer","Business Owner","Student","Other"],Lhe=["Male","Female","Other","Any"],Fhe=()=>{const s=br(),[t,r]=w.useState(!1),[n,a]=w.useState(!1),[i,o]=w.useState([]),[c,d]=w.useState(null),[h,m]=w.useState(null),[f,g]=w.useState({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1});w.useEffect(()=>{b()},[]);const b=async()=>{try{const C=await Le.get("/cars"),z=C.data.cars?.data||C.data.cars||[];o(z)}catch(C){console.error("Error loading cars:",C),xe.error("Failed to load cars")}},v=async C=>{try{const z=await Le.get(`/cars/${C}/qualifications`);if(z.data.qualifications){const E=z.data.qualifications,U=I=>I.charAt(0).toUpperCase()+I.slice(1).toLowerCase(),T=I=>!I||!I.length?[]:I.map(K=>U(K)),re=I=>!I||!I.length?[]:I.map(K=>U(K)),Y=I=>!I||!I.length?[]:I.map(K=>K.split("_").map(L=>U(L)).join(" "));g({enableAge:!!(E.min_age||E.max_age),minAge:E.min_age||25,maxAge:E.max_age||65,enableGender:!!(E.gender&&E.gender.length),selectedGenders:T(E.gender),enableCities:!!(E.required_cities&&E.required_cities.length),selectedCities:re(E.required_cities),enableProfessions:!!(E.professions&&E.professions.length),selectedProfessions:Y(E.professions),enableSalary:!!E.min_salary,minSalary:E.min_salary||1e3,enableRating:!!E.min_rating,minRating:E.min_rating||4,verifiedByAdmin:E.verified_by_admin||!1,trustedByApp:E.trusted_by_app||!1,hasDeposit:E.has_deposit||!1}),setTimeout(()=>S(),100)}}catch(z){console.error("Error loading qualifications:",z),z.response?.status===404&&console.info("Qualifications endpoint not available for this car")}},y=C=>{const z=i.find(E=>E.id===parseInt(C));d(z),m(null),z?v(z.id):g({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1})},_=(C,z)=>{g(E=>{const U=E[z];return U.includes(C)?{...E,[z]:U.filter(T=>T!==C)}:{...E,[z]:[...U,C]}})},j=()=>{const C={};return f.enableAge&&(f.minAge&&(C.min_age=parseInt(f.minAge)),f.maxAge&&(C.max_age=parseInt(f.maxAge))),f.enableGender&&f.selectedGenders.length&&(C.gender=f.selectedGenders.map(z=>z.toLowerCase())),f.enableCities&&f.selectedCities.length&&(C.required_cities=f.selectedCities.map(z=>z.toLowerCase())),f.enableProfessions&&f.selectedProfessions.length&&(C.professions=f.selectedProfessions.map(z=>z.toLowerCase().replace(/ /g,"_"))),f.enableSalary&&f.minSalary&&(C.min_salary=parseInt(f.minSalary)),f.enableRating&&f.minRating&&(C.min_rating=parseFloat(f.minRating)),f.verifiedByAdmin&&(C.verified_by_admin=!0),f.trustedByApp&&(C.trusted_by_app=!0),f.hasDeposit&&(C.has_deposit=!0),C},S=async()=>{const C=j();a(!0);try{const z=await Le.post("/cars/qualifications/preview",C);m(z.data)}catch(z){console.error("Preview error:",z),xe.error("Failed to preview qualifications")}finally{a(!1)}},N=async C=>{if(C.preventDefault(),!c){xe.error("Please select a car first");return}const z=j();r(!0);try{await Le.post(`/cars/${c.id}/qualifications`,z),xe.success("Qualifications saved successfully!")}catch(E){console.error("Save error:",E);const U=E.response?.data?.message||"Failed to save qualifications";xe.error(U)}finally{r(!1)}},k=async()=>{if(!c){xe.error("Please select a car first");return}if(confirm("Clear all qualifications for this car? It will be visible to all clients."))try{await Le.delete(`/cars/${c.id}/qualifications`),xe.success("Qualifications cleared successfully!"),g({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1}),m(null)}catch(C){console.error("Clear error:",C),xe.error("Failed to clear qualifications")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-teal-50/30 to-cyan-50/30 dark:from-gray-950 dark:via-teal-950/20 dark:to-cyan-950/20 pt-20",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"700ms"}})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(fe,{variant:"ghost",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>s(-1),children:[e.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),e.jsxs(fe,{variant:"secondary",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>s("/agent/cars"),children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Go to Cars Page"]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center shadow-lg",children:e.jsx(Dn,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white",children:"Set Car Qualifications"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Control who can see and book your vehicles"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:e.jsx(Qt,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Select Car"})]}),e.jsxs("select",{value:c?.id||"",onChange:C=>y(C.target.value),className:"w-full h-14 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900 text-lg font-medium transition-colors",children:[e.jsx("option",{value:"",children:"-- Select a car --"}),i.map(C=>e.jsxs("option",{value:C.id,children:[C.make," ",C.model," (",C.year,") - ",C.license_plate]},C.id))]}),c&&e.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["Selected: ",c.make," ",c.model," - Daily Rate: $",c.daily_rate]})})]})}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableAge",checked:f.enableAge,onChange:C=>g({...f,enableAge:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(Bs,{className:"w-6 h-6 text-teal-600"}),e.jsx("label",{htmlFor:"enableAge",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Age Requirement"})]}),f.enableAge&&e.jsxs("div",{className:"grid grid-cols-2 gap-6 ml-9",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Minimum Age"}),e.jsx(Ae,{type:"number",min:"18",max:"100",placeholder:"e.g., 25",value:f.minAge,onChange:C=>g({...f,minAge:C.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Maximum Age"}),e.jsx(Ae,{type:"number",min:"18",max:"100",placeholder:"e.g., 65",value:f.maxAge,onChange:C=>g({...f,maxAge:C.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})]})}),e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableGender",checked:f.enableGender,onChange:C=>g({...f,enableGender:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(_s,{className:"w-6 h-6 text-teal-600"}),e.jsx("label",{htmlFor:"enableGender",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Gender Restriction"})]}),f.enableGender&&e.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:Lhe.map(C=>e.jsxs(Ge,{onClick:()=>_(C,"selectedGenders"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedGenders.includes(C)?"bg-gradient-to-r from-teal-600 to-cyan-600 text-white hover:from-teal-700 hover:to-cyan-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedGenders.includes(C)&&e.jsx(Kn,{className:"w-3 h-3 mr-1"}),C]},C))})]})}),e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableCities",checked:f.enableCities,onChange:C=>g({...f,enableCities:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(js,{className:"w-6 h-6 text-teal-600"}),e.jsx("label",{htmlFor:"enableCities",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"City Restriction"})]}),f.enableCities&&e.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:Phe.map(C=>e.jsxs(Ge,{onClick:()=>_(C,"selectedCities"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedCities.includes(C)?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white hover:from-cyan-700 hover:to-blue-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedCities.includes(C)&&e.jsx(Kn,{className:"w-3 h-3 mr-1"}),C]},C))})]})}),e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableProfessions",checked:f.enableProfessions,onChange:C=>g({...f,enableProfessions:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(sc,{className:"w-6 h-6 text-teal-600"}),e.jsx("label",{htmlFor:"enableProfessions",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Profession Restriction"})]}),f.enableProfessions&&e.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:Ohe.map(C=>e.jsxs(Ge,{onClick:()=>_(C,"selectedProfessions"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedProfessions.includes(C)?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white hover:from-teal-600 hover:to-cyan-600":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedProfessions.includes(C)&&e.jsx(Kn,{className:"w-3 h-3 mr-1"}),C]},C))})]})}),e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableSalary",checked:f.enableSalary,onChange:C=>g({...f,enableSalary:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(dr,{className:"w-6 h-6 text-amber-600"}),e.jsx("label",{htmlFor:"enableSalary",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Minimum Salary"})]}),f.enableSalary&&e.jsxs("div",{className:"ml-9",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Monthly Salary (USD)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-bold",children:"$"}),e.jsx(Ae,{type:"number",min:"0",step:"100",placeholder:"e.g., 1000",value:f.minSalary,onChange:C=>g({...f,minSalary:C.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]})]})}),e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableRating",checked:f.enableRating,onChange:C=>g({...f,enableRating:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(ir,{className:"w-6 h-6 text-yellow-500"}),e.jsx("label",{htmlFor:"enableRating",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Minimum Rating"})]}),f.enableRating&&e.jsxs("div",{className:"ml-9",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Rating (0 to 5 stars)"}),e.jsx(Ae,{type:"number",min:"0",max:"5",step:"0.1",placeholder:"e.g., 4.0",value:f.minRating,onChange:C=>g({...f,minRating:C.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})}),e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Dn,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Verification Requirements"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f.verifiedByAdmin,onChange:C=>g({...f,verifiedByAdmin:C.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must be verified by admin"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f.trustedByApp,onChange:C=>g({...f,trustedByApp:C.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must be trusted by app"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f.hasDeposit,onChange:C=>g({...f,hasDeposit:C.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must have deposit on account"})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(fe,{type:"button",variant:"outline",size:"lg",onClick:S,disabled:!c||n,className:"flex-1 px-8 py-6 rounded-xl border-2 border-teal-500 text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-950",children:[e.jsx(er,{className:"w-5 h-5 mr-2"}),n?"Loading...":"Preview Results"]}),e.jsxs(fe,{type:"submit",size:"lg",disabled:!c||t,className:"flex-1 px-8 py-6 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx(Kn,{className:"w-5 h-5 mr-2"}),t?"Saving...":"Save Qualifications"]})]}),e.jsxs(fe,{type:"button",variant:"outline",size:"lg",onClick:k,disabled:!c,className:"w-full px-8 py-6 rounded-xl border-2 border-red-300 dark:border-red-700 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950",children:[e.jsx(ta,{className:"w-5 h-5 mr-2"}),"Clear All Requirements"]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg sticky top-6",children:e.jsxs(He,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:e.jsx(_s,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Qualified Clients"})]}),n&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-teal-500 border-t-transparent"}),e.jsx("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:"Calculating..."})]}),!n&&!h&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_s,{className:"w-20 h-20 mx-auto text-gray-300 dark:text-gray-700 mb-4"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Set requirements and click "Preview Results" to see how many clients qualify'})]}),!n&&h&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-6 p-8 bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-950/30 dark:to-cyan-950/30 rounded-2xl border-2 border-teal-200 dark:border-teal-800",children:[e.jsxs("div",{className:"text-6xl font-black bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-2",children:[h.percentage,"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 font-medium",children:"of clients qualify"}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[h.qualified_clients," / ",h.total_clients]})]}),h.breakdown&&Object.keys(h.breakdown).length>0&&e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-3",children:"Breakdown by Requirement"}),Object.entries(h.breakdown).map(([C,z])=>{const E=C.replace(/_/g," ").replace(/\b\w/g,U=>U.toUpperCase());return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[E,":"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:z.qualified}),e.jsxs(Ge,{className:"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300",children:[z.percentage,"%"]})]})]},C)})]}),h.percentage<10&&e.jsx("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-2 border-yellow-200 dark:border-yellow-800 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Vu,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-yellow-800 dark:text-yellow-200 mb-1",children:"Warning: Very Restrictive"}),e.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Very few clients qualify. Consider relaxing some requirements to increase visibility."})]})]})}),h.percentage>=10&&h.percentage<30&&e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Vu,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-blue-800 dark:text-blue-200 mb-1",children:"Selective Requirements"}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Your requirements are quite selective. This can help ensure quality bookings."})]})]})}),h.percentage>=30&&e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border-2 border-green-200 dark:border-green-800 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Kn,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-green-800 dark:text-green-200 mb-1",children:"Good Balance"}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Your requirements allow good visibility while maintaining quality standards."})]})]})})]})]})})})]})]})]})},gs={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function Bhe(){const s=br(),[t,r]=w.useState(null),[n,a]=w.useState({totalCars:0,activeBookings:0,pendingBookings:0,confirmedBookings:0,totalRevenue:0,totalViews:0,totalClicks:0,totalSearches:0,avgViewsPerCar:0,topViewedCar:null,topClickedCar:null,topSearchedCar:null}),[i,o]=w.useState([]),[c,d]=w.useState([]),[h,m]=w.useState(null),[f,g]=w.useState(!0),[b,v]=w.useState(!1),[y,_]=w.useState(!1),[j,S]=w.useState(!1);w.useEffect(()=>{const Y=localStorage.getItem("theme"),I=window.matchMedia("(prefers-color-scheme: dark)").matches,K=Y==="dark"||!Y&&I;S(K),document.documentElement.classList.toggle("dark",K)},[]);const N=()=>{const Y=!j;S(Y),document.documentElement.classList.toggle("dark",Y),localStorage.setItem("theme",Y?"dark":"light")},k=async()=>{g(!0),v(!1);try{const[Y,I,K]=await Promise.all([Le.get("/cars/agent/Mycars"),Le.get("/driver/bookings"),aP().catch(()=>({data:null}))]),L=Y.data.cars?.data||[],J=I.data.data||[];m(K?.data??null);const Q=L.reduce((me,ce)=>me+(ce.views_count||0),0),Z=L.reduce((me,ce)=>me+(ce.clicks_count||0),0),ee=L.reduce((me,ce)=>me+(ce.search_count||0),0),F=L.length>0?Math.round(Q/L.length):0,de=L.length?L.reduce((me,ce)=>(ce.views_count||0)>(me?.views_count||0)?ce:me,L[0]):null,q=L.length?L.reduce((me,ce)=>(ce.clicks_count||0)>(me?.clicks_count||0)?ce:me,L[0]):null,G=L.length?L.reduce((me,ce)=>(ce.search_count||0)>(me?.search_count||0)?ce:me,L[0]):null,ie=J.filter(me=>["pending","confirmed","arrived","started"].includes(me.booking_request_status)),le=J.filter(me=>me.booking_request_status==="pending"),be=J.filter(me=>me.booking_request_status==="confirmed"),ye=J.filter(me=>me.booking_request_status==="confirmed").reduce((me,ce)=>me+parseFloat(ce.total_booking_price||0),0);a({totalCars:Y.data.cars?.total||L.length,activeBookings:ie.length,pendingBookings:le.length,confirmedBookings:be.length,totalRevenue:ye,totalViews:Q,totalClicks:Z,totalSearches:ee,avgViewsPerCar:F,topViewedCar:de,topClickedCar:q,topSearchedCar:G});const $=[...L].sort((me,ce)=>(ce.views_count||0)+(ce.clicks_count||0)*2+(ce.search_count||0)-((me.views_count||0)+(me.clicks_count||0)*2+(me.search_count||0))).slice(0,3).map(me=>({id:me.id,name:`${me.make} ${me.model}`,image:me.main_image_url,views:me.views_count||0,clicks:me.clicks_count||0,searches:me.search_count||0,dailyRate:me.daily_rate,category:me.car_category}));d($);const V=J.sort((me,ce)=>new Date(ce.created_at)-new Date(me.created_at)).slice(0,8).map(me=>{const ce={pending:"New booking request received",confirmed:"Booking confirmed",cancelled:"Booking cancelled",completed:"Trip completed successfully",arrived:"Driver arrived",started:"Ride in progress"},he=me.car?`${me.car.make} ${me.car.model}`:"Unknown Car",O=me.client?`${me.client.first_name} ${me.client.last_name}`:"Unknown Client";return{message:ce[me.booking_request_status]||"Status updated",car:he,client:O,time:new Date(me.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),date:new Date(me.created_at).toLocaleDateString([],{month:"short",day:"numeric"}),status:me.booking_request_status,amount:me.total_booking_price,location:me.pickup_location||"N/A"}});o(V.length?V:[{message:"No recent activity",time:"",isEmpty:!0}])}catch(Y){console.error("Dashboard error:",Y),v(!0),xe.error("Failed to load dashboard data.")}finally{g(!1)}};w.useEffect(()=>{const Y=JSON.parse(localStorage.getItem("user"));Y&&r(Y),k()},[]);const C=async()=>{try{await Le.post("/logout")}catch{}localStorage.clear(),s("/auth")},z=[{title:"Add New Car",icon:nr,href:"/add-car",color:gs.teal,description:"List a new vehicle"},{title:"My Fleet",icon:Qt,href:"/Mycars",color:gs.darkBlue,description:"Manage your cars"},{title:"Bookings",icon:ZN,href:"/Mycars-bookings",color:gs.limeGreen,description:"View all bookings"},{title:"Analytics",icon:oc,href:"/statistic",color:gs.teal,description:"View statistics"},{title:"Balance",icon:wm,href:"/Balance",color:gs.limeGreen,description:"Earnings & app fees"}],E=Y=>{const I={pending:{color:"bg-amber-500",icon:__,label:"Pending",bgColor:"bg-amber-500/10",textColor:"text-amber-600 dark:text-amber-400"},confirmed:{color:"bg-blue-500",icon:Xr,label:"Confirmed",bgColor:"bg-blue-500/10",textColor:"text-blue-600 dark:text-blue-400"},cancelled:{color:"bg-gray-500",icon:ta,label:"Cancelled",bgColor:"bg-gray-500/10",textColor:"text-gray-600 dark:text-gray-400"},completed:{color:"bg-emerald-500",icon:Xr,label:"Completed",bgColor:"bg-emerald-500/10",textColor:"text-emerald-600 dark:text-emerald-400"},arrived:{color:"bg-cyan-500",icon:js,label:"Arrived",bgColor:"bg-cyan-500/10",textColor:"text-cyan-600 dark:text-cyan-400"},started:{color:"bg-purple-500",icon:o0,label:"In Progress",bgColor:"bg-purple-500/10",textColor:"text-purple-600 dark:text-purple-400"}};return I[Y]||I.pending},U={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},T={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}},re=[{title:"Total Fleet",value:n.totalCars,icon:Qt,color:gs.darkBlue,change:`${n.totalCars} vehicles`,changeType:"neutral",description:"Active listings"},{title:"Total Views",value:n.totalViews.toLocaleString(),icon:er,color:gs.teal,change:`${n.avgViewsPerCar} avg/car`,changeType:"neutral",description:"All time views"},{title:"Total Clicks",value:n.totalClicks.toLocaleString(),icon:Jl,color:gs.limeGreen,change:"Detail opens",changeType:"neutral",description:"Car detail page opens"},{title:"Active Bookings",value:n.activeBookings,icon:bm,color:gs.teal,change:`${n.confirmedBookings} confirmed`,changeType:"neutral",description:"Ongoing rentals"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[e.jsx(nt.div,{animate:{scale:[1,1.1,1],opacity:[.06,.1,.06]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1/4 -left-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${gs.darkBlue}30`}}),e.jsx(nt.div,{animate:{scale:[1,1.15,1],opacity:[.05,.08,.05]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-1/2 -right-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${gs.teal}30`}})]}),e.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(nt.div,{whileHover:{rotate:90},transition:{duration:.3},children:e.jsx(fe,{variant:"ghost",size:"icon",className:"lg:hidden h-8 w-8",children:e.jsx(DM,{className:"w-4 h-4"})})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${gs.darkBlue}, ${gs.teal}, ${gs.limeGreen})`},children:["Welcome back",t?.username?`, ${t.username}`:"","!"]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 hidden sm:block",children:"Your fleet performance dashboard"})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(nt.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(fe,{variant:"ghost",size:"icon",className:"relative h-8 w-8",onClick:()=>_(!y),children:[e.jsx(xd,{className:"w-4 h-4"}),n.pendingBookings>0&&e.jsx(nt.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-0.5 -right-0.5 text-white text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center shadow-lg",style:{backgroundColor:gs.teal},children:n.pendingBookings})]})}),e.jsx(el,{children:y&&e.jsxs(nt.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"p-3 text-white",style:{background:`linear-gradient(to right, ${gs.darkBlue}, ${gs.teal})`},children:[e.jsx("h3",{className:"font-bold text-base",children:"Notifications"}),e.jsxs("p",{className:"text-xs opacity-90",children:[n.pendingBookings," pending actions"]})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:i.slice(0,5).map((Y,I)=>{const K=E(Y.status);return e.jsx("div",{className:"p-3 border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`w-7 h-7 rounded-full ${K.color} flex items-center justify-center flex-shrink-0`,children:e.jsx(K.icon,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:Y.message}),e.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:Y.car}),Y.amount&&e.jsxs("p",{className:"text-[10px] font-semibold",style:{color:gs.teal},children:["$",Y.amount]}),e.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-0.5",children:[Y.date," at ",Y.time]})]})]})},I)})}),e.jsx("div",{className:"p-2 bg-gray-50 dark:bg-gray-800/50",children:e.jsxs(fe,{variant:"ghost",className:"w-full text-xs h-8",style:{color:gs.teal},onClick:()=>s("/Mycars-bookings"),children:["View All Bookings",e.jsx(Zr,{className:"w-3 h-3 ml-1"})]})})]})})]}),e.jsx(nt.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(fe,{variant:"ghost",size:"icon",onClick:N,className:"h-8 w-8",children:j?e.jsx(a0,{className:"w-4 h-4"}):e.jsx(n0,{className:"w-4 h-4"})})}),e.jsx(nt.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8 hidden sm:flex",children:e.jsx(Vm,{className:"w-4 h-4"})})}),e.jsx(nt.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(fe,{variant:"ghost",size:"icon",onClick:C,className:"h-8 w-8 hover:bg-red-50 dark:hover:bg-red-950/30 text-red-600 dark:text-red-400",children:e.jsx(ac,{className:"w-4 h-4"})})})]})]})})}),e.jsxs("main",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-7xl relative z-10",children:[f&&e.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[1,2,3,4].map(Y=>e.jsx(Ue,{className:"overflow-hidden",children:e.jsx(He,{className:"p-3 md:p-4",children:e.jsxs("div",{className:"animate-pulse space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"h-9 w-9 bg-gray-200 dark:bg-gray-700 rounded-lg"}),e.jsx("div",{className:"h-4 w-12 bg-gray-200 dark:bg-gray-700 rounded-full"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-3 w-20 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-6 w-14 bg-gray-300 dark:bg-gray-600 rounded"})]})]})})},Y))})}),!f&&b&&e.jsxs(nt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-16",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 mb-4",children:e.jsx(rc,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Unable to Load Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Please try again."}),e.jsxs(fe,{onClick:k,className:"text-white",style:{background:`linear-gradient(to right, ${gs.darkBlue}, ${gs.teal})`},children:[e.jsx(bm,{className:"w-4 h-4 mr-2"}),"Retry"]})]}),!f&&!b&&e.jsxs(nt.div,{variants:U,initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 md:gap-4",children:[re.map((Y,I)=>e.jsx(nt.div,{variants:T,whileHover:{y:-4,transition:{duration:.2}},children:e.jsxs(Ue,{className:"relative overflow-hidden group hover:shadow-xl transition-all duration-300 border-0 bg-white dark:bg-gray-900",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300",style:{backgroundColor:Y.color}}),e.jsxs(He,{className:"p-3 md:p-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg p-2 shadow-md group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:Y.color},children:e.jsx(Y.icon,{className:"w-full h-full text-white"})}),e.jsx("div",{className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded-full text-[10px] font-semibold
                          ${Y.changeType==="up"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":""}
                          ${Y.changeType==="neutral"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":""}
                        `,children:Y.change})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-medium text-gray-600 dark:text-gray-400",children:Y.title}),e.jsx("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:Y.value}),e.jsx("p",{className:"text-[9px] md:text-[10px] text-gray-500 dark:text-gray-500",children:Y.description})]}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-20 h-20 rounded-full blur-2xl opacity-5 group-hover:opacity-20 transition-opacity duration-300",style:{backgroundColor:Y.color}})]})]})},I)),h!=null&&e.jsx(nt.div,{variants:T,children:e.jsxs(Ue,{className:"relative overflow-hidden group hover:shadow-xl transition-all duration-300 border-0 bg-white dark:bg-gray-900 cursor-pointer",onClick:()=>s("/Balance"),children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300",style:{backgroundColor:gs.limeGreen}}),e.jsxs(He,{className:"p-3 md:p-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg p-2 shadow-md group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:gs.limeGreen},children:e.jsx(wm,{className:"w-full h-full text-white"})}),e.jsx("span",{className:"text-[10px] font-semibold bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 px-1.5 py-0.5 rounded-full",children:"Net earnings"})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-medium text-gray-600 dark:text-gray-400",children:"Your earnings"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:["$",(parseFloat(h?.net_earnings)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("p",{className:"text-[9px] md:text-[10px] text-gray-500 dark:text-gray-500",children:"View balance "})]})]})]})})]}),e.jsxs(nt.div,{variants:T,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Quick Actions"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Manage your fleet"})]})}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 md:gap-4",children:z.map((Y,I)=>e.jsx(nt.div,{variants:T,whileHover:{scale:1.02,y:-3},whileTap:{scale:.98},children:e.jsx("a",{href:Y.href,className:"block group",children:e.jsxs(Ue,{className:"relative overflow-hidden hover:shadow-xl transition-all duration-300 border-0 h-full",children:[e.jsx("div",{className:"absolute inset-0 opacity-5 group-hover:opacity-15 transition-opacity duration-300",style:{backgroundColor:Y.color}}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})}),e.jsxs(He,{className:"p-4 md:p-6 text-center relative",children:[e.jsxs("div",{className:"relative mb-3 inline-block",children:[e.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl p-3 shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300",style:{backgroundColor:Y.color},children:e.jsx(Y.icon,{className:"w-full h-full text-white"})}),e.jsx("div",{className:"absolute inset-0 rounded-xl blur-lg opacity-0 group-hover:opacity-50 transition-opacity duration-300",style:{backgroundColor:Y.color}})]}),e.jsx("h4",{className:"text-sm md:text-base font-bold text-gray-900 dark:text-white mb-1",children:Y.title}),e.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 dark:text-gray-400",children:Y.description}),e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-1 group-hover:translate-y-0",style:{color:Y.color},children:[e.jsx("span",{className:"text-xs font-semibold",children:"Go"}),e.jsx(Zr,{className:"w-3 h-3"})]})]})]})})},I))})]}),c.length>0&&e.jsxs(nt.div,{variants:T,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Top Performing Cars"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Views, clicks & search count"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3 md:gap-4",children:c.map((Y,I)=>e.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*I},whileHover:{y:-4},children:e.jsx(Ue,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 border-0",children:e.jsxs(He,{className:"p-0",children:[e.jsxs("div",{className:"relative h-32 bg-gray-100 dark:bg-gray-800",children:[e.jsx("img",{src:`/api/storage/${Y.image}`,alt:Y.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsx(Ge,{className:"absolute top-2 right-2 text-white border-0",style:{backgroundColor:gs.teal},children:Y.category})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h4",{className:"font-bold text-sm mb-2 text-gray-900 dark:text-white truncate",children:Y.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1.5 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",style:{color:gs.teal},title:"Views (impressions)",children:[e.jsx(er,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"font-semibold",children:Y.views})]}),e.jsxs("div",{className:"flex items-center gap-1",style:{color:gs.limeGreen},title:"Clicks (detail opens)",children:[e.jsx(Jl,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"font-semibold",children:Y.clicks})]}),e.jsxs("div",{className:"flex items-center gap-1",style:{color:gs.darkBlue},title:"Search count",children:[e.jsx(Mr,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"font-semibold",children:Y.searches})]}),e.jsxs("div",{className:"font-bold ml-auto",style:{color:gs.darkBlue},children:["$",Y.dailyRate,"/day"]})]})]})]})})},Y.id))})]}),h!=null&&e.jsx(nt.div,{variants:T,children:e.jsx(Ue,{className:"overflow-hidden border-0 shadow-lg cursor-pointer hover:shadow-xl transition-all",style:{background:`linear-gradient(to bottom right, ${gs.darkBlue}, ${gs.teal})`},onClick:()=>s("/Balance"),children:e.jsxs(He,{className:"p-4 md:p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold",children:"Earnings & Balance"}),e.jsx("span",{className:"text-xs opacity-90",children:"View details "})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"Total booking amount"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:["$",(parseFloat(h.total_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"App fees"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:["$",(parseFloat(h.app_fees_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"Your net earnings"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold",style:{color:gs.limeGreen},children:["$",(parseFloat(h.net_earnings)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"From bookings"}),e.jsx("p",{className:"text-xl md:text-2xl font-bold",children:h.bookings_count??0})]})]}),h.app_fees_percentage!=null&&e.jsxs("p",{className:"text-xs mt-3 opacity-90",children:["Fee: ",h.app_fees_percentage,"%"]})]})})}),e.jsx(nt.div,{variants:T,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[e.jsx(Ue,{className:"overflow-hidden border-0 shadow-lg text-white",style:{background:`linear-gradient(to bottom right, ${gs.teal}, ${gs.limeGreen})`},children:e.jsxs(He,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium mb-1 opacity-90",children:"Total Revenue"}),e.jsxs("h3",{className:"text-3xl md:text-4xl font-bold",children:["$",h!=null?(parseFloat(h.total_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):n.totalRevenue.toFixed(2)]})]}),e.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-lg bg-white/20 backdrop-blur-sm p-2.5",children:e.jsx(dr,{className:"w-full h-full"})})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold",children:[e.jsx(oc,{className:"w-2.5 h-2.5"}),h!=null?`${h.bookings_count??0} confirmed + completed`:`${n.confirmedBookings} confirmed`," bookings"]})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Pending bookings"}),e.jsx("span",{className:"font-bold",children:n.pendingBookings})]})})]})}),e.jsx(Ue,{className:"overflow-hidden border-0 shadow-lg text-white",style:{background:`linear-gradient(to bottom right, ${gs.darkBlue}, ${gs.teal})`},children:e.jsxs(He,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium mb-1 opacity-90",children:"Fleet Visibility"}),e.jsx("h3",{className:"text-3xl md:text-4xl font-bold",children:n.totalViews.toLocaleString()}),e.jsx("p",{className:"text-xs opacity-90 mt-0.5",children:"Total views (impressions)"})]}),e.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-lg bg-white/20 backdrop-blur-sm p-2.5",children:e.jsx(er,{className:"w-full h-full"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Total clicks (detail opens)"}),e.jsx("span",{className:"font-bold",children:n.totalClicks.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Total searches"}),e.jsx("span",{className:"font-bold",children:n.totalSearches.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Avg per vehicle"}),e.jsxs("span",{className:"font-bold",children:[n.avgViewsPerCar," views"]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[e.jsx(er,{className:"w-2.5 h-2.5"}),"Most viewed: ",n.topViewedCar?.make," ",n.topViewedCar?.model]}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[e.jsx(Jl,{className:"w-2.5 h-2.5"}),"Most clicked: ",n.topClickedCar?.make," ",n.topClickedCar?.model]}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[e.jsx(Mr,{className:"w-2.5 h-2.5"}),"Most searched: ",n.topSearchedCar?.make," ",n.topSearchedCar?.model]})]})]})})]})})]}),e.jsxs(nt.div,{variants:T,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Recent Activity"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Latest bookings"})]}),e.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>s("/Mycars-bookings"),className:"hidden sm:flex text-xs h-8",children:["View All",e.jsx(Zr,{className:"w-3 h-3 ml-1"})]})]}),e.jsx(Ue,{className:"overflow-hidden border-0 shadow-lg bg-white dark:bg-gray-900",children:e.jsx(He,{className:"p-0",children:i.map((Y,I)=>{const K=E(Y.status),L=K.icon;return e.jsx(nt.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{delay:I*.04},className:"group hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-all duration-200 border-b border-gray-100 dark:border-gray-800 last:border-b-0",children:e.jsxs("div",{className:"p-3 md:p-4 flex items-center gap-3",children:[e.jsx("div",{className:`flex-shrink-0 w-9 h-9 md:w-10 md:h-10 rounded-lg ${K.bgColor} flex items-center justify-center group-hover:scale-110 transition-transform duration-200`,children:e.jsx(L,{className:`w-4 h-4 md:w-5 md:h-5 ${K.textColor}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-0.5",children:[e.jsx("p",{className:`text-xs md:text-sm font-semibold ${Y.isEmpty?"italic text-gray-500":"text-gray-900 dark:text-gray-100"}`,children:Y.message}),e.jsx(Ge,{className:`${K.bgColor} ${K.textColor} border-0 flex-shrink-0 text-[10px] px-2 py-0.5`,children:K.label})]}),e.jsx("div",{className:"flex items-center gap-2 md:gap-3 text-[10px] md:text-xs text-gray-500 dark:text-gray-400 flex-wrap",children:!Y.isEmpty&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Qt,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),e.jsx("span",{className:"truncate max-w-[100px]",children:Y.car})]}),Y.amount&&e.jsxs("span",{className:"font-bold",style:{color:gs.teal},children:["$",Y.amount]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(mc,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),Y.date," ",Y.time]})]})})]}),!Y.isEmpty&&e.jsx(Zr,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 group-hover:translate-x-0.5 transition-all duration-200 hidden md:block"})]})},I)})})})]})]})]})}const Ks={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"},P1=s=>{if(s==null||s==="")return"0.00";const t=parseFloat(s);return Number.isNaN(t)?"0.00":t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})};function Ihe(){const s=br(),[t,r]=w.useState(!0),[n,a]=w.useState(!1),[i,o]=w.useState(null),[c,d]=w.useState([]),[h,m]=w.useState("all"),[f,g]=w.useState(""),[b,v]=w.useState(""),[y,_]=w.useState(null),j=C=>{if(!C)return null;const z=new Date(C);return Number.isNaN(z.getTime())?null:z},S=(C,z)=>{const E=j(C);if(!E)return!1;const U=new Date,T=new Date(U.getFullYear(),U.getMonth(),U.getDate());switch(z.type){case"day":return E>=T;case"week":{const re=new Date(T);return re.setDate(re.getDate()-7),E>=re}case"month":{const re=new Date(T.getFullYear(),T.getMonth(),1);return E>=re}case"custom":{const re=j(z.from),Y=j(z.to);if(!re&&!Y)return!0;if(re&&E<re)return!1;if(Y){const I=new Date(Y);if(I.setHours(23,59,59,999),E>I)return!1}return!0}default:return!0}},N=(C,z)=>{if(!Array.isArray(C)||C.length===0)return{total_amount:0,app_fees_amount:0,net_earnings:0,bookings_count:0,cancelled_count:0,rejected_count:0};const E=C.filter(K=>z.type==="all"?!0:S(K.start_datetime||K.created_at||K.updated_at,z)),U=E.filter(K=>["confirmed","accepted","completed"].includes(K.booking_request_status)),T=U.reduce((K,L)=>K+parseFloat(L.total_booking_price||0),0),re=U.reduce((K,L)=>K+(Number(L.app_fees_amount)||0),0),Y=E.filter(K=>K.booking_request_status==="cancelled").length,I=E.filter(K=>K.booking_request_status==="rejected").length;return{total_amount:T,app_fees_amount:re,net_earnings:T-re,bookings_count:U.length,cancelled_count:Y,rejected_count:I}},k=async()=>{r(!0),a(!1);try{const[{data:C},z]=await Promise.all([aP().catch(()=>({data:{}})),Le.get("/driver/bookings")]);o(C);const E=z.data?.data||[];d(E);const U=N(E,{type:"all"});_(U)}catch(C){console.error("Failed to load earnings:",C),a(!0),xe.error("Failed to load earnings. Please try again.")}finally{r(!1)}};return w.useEffect(()=>{k()},[]),w.useEffect(()=>{if(!c.length)return;_(N(c,{type:h,from:f,to:b}))},[c,h,f,b]),t&&!i?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 pt-20 flex items-center justify-center",children:e.jsx(nt.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-14 h-14 rounded-full border-4 border-t-transparent",style:{borderColor:Ks.tealDim,borderTopColor:Ks.teal}})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(nt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${Ks.teal}, ${Ks.darkBlue})`},children:e.jsx(wm,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${Ks.darkBlue}, ${Ks.teal})`},children:"Balance & Earnings"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Total amount, app fees, and your net earnings"})]})]}),e.jsxs(nt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:k,disabled:t,className:"flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium border-2 transition-colors",style:{borderColor:Ks.teal,color:Ks.teal},children:[e.jsx(Ft,{className:`w-5 h-5 ${t?"animate-spin":""}`}),"Refresh"]})]})}),n&&!i?e.jsxs(Ue,{className:"border-2 rounded-2xl p-8 text-center",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Could not load earnings."}),e.jsx(nt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:k,className:"px-5 py-2.5 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${Ks.teal}, ${Ks.darkBlue})`},children:"Try again"})]}):i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[e.jsx(Bs,{className:"w-4 h-4"}),"Balance range:"]}),[{id:"all",label:"All time"},{id:"day",label:"Today"},{id:"week",label:"Last 7 days"},{id:"month",label:"This month"},{id:"custom",label:"Custom"}].map(C=>e.jsx("button",{type:"button",onClick:()=>m(C.id),className:`px-3 py-1.5 rounded-full text-xs sm:text-sm border transition-colors ${h===C.id?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:C.label},C.id)),h==="custom"&&e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx("input",{type:"date",className:"border rounded-lg px-2 py-1 text-xs sm:text-sm bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700",value:f,onChange:C=>g(C.target.value)}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"to"}),e.jsx("input",{type:"date",className:"border rounded-lg px-2 py-1 text-xs sm:text-sm bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700",value:b,onChange:C=>v(C.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(Ue,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Ks.tealDim},children:e.jsxs(He,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Ks.tealDim},children:e.jsx(dr,{className:"w-6 h-6",style:{color:Ks.teal}})}),e.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Total booking amount"})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["$",P1(y?.total_amount??i.total_amount)]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"What clients paid (confirmed + completed)"})]})})}),e.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(Ue,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Ks.darkBlueDim},children:e.jsxs(He,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Ks.darkBlueDim},children:e.jsx(yE,{className:"w-6 h-6",style:{color:Ks.darkBlue}})}),e.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"App fees (platform)"})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["$",P1(y?.app_fees_amount??i.app_fees_amount)]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Deducted from you  Fee: ",i.app_fees_percentage!=null?`${i.app_fees_percentage}%`:""]})]})})}),e.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(Ue,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Ks.limeGreenDim},children:e.jsxs(He,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Ks.limeGreenDim},children:e.jsx(oc,{className:"w-6 h-6",style:{color:Ks.limeGreen}})}),e.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Your net earnings"})]}),e.jsxs("p",{className:"text-3xl font-bold",style:{color:Ks.limeGreen},children:["$",P1(y?.net_earnings??i.net_earnings)]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total amount  app fees"})]})})})]}),e.jsxs(nt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"flex flex-wrap items-center gap-6 p-4 rounded-2xl border-2 bg-white dark:bg-gray-800/50",style:{borderColor:Ks.tealDim},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dw,{className:"w-5 h-5",style:{color:Ks.teal}}),e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["From ",e.jsx("strong",{children:y?.bookings_count??i.bookings_count??0})," bookings"]})]}),i.app_fees_percentage!=null&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yE,{className:"w-5 h-5",style:{color:Ks.darkBlue}}),e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Your app fee: ",e.jsxs("strong",{children:[i.app_fees_percentage,"%"]})]})]}),y&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dw,{className:"w-5 h-5 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Cancelled bookings: ",e.jsx("strong",{children:y.cancelled_count})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dw,{className:"w-5 h-5 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Rejected bookings: ",e.jsx("strong",{children:y.rejected_count})]})]})]})]}),e.jsx(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8",children:e.jsx(Ue,{className:"border-2 rounded-2xl overflow-hidden cursor-pointer hover:shadow-xl transition-all",style:{borderColor:Ks.tealDim},onClick:()=>s("/Mycars-bookings"),children:e.jsxs(He,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl",style:{background:Ks.tealDim},children:e.jsx(Bs,{className:"w-5 h-5",style:{color:Ks.teal}})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"View bookings"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"See amount and app fee per booking"})]})]}),e.jsx(Zr,{className:"w-5 h-5 text-gray-400"})]})})})]}):null]})})}const zhe=({noIndex:s=!1})=>{w.useEffect(()=>{document.title="Rento LB | Rent & Compare Cars in Lebanon";let c=document.querySelector('meta[name="robots"]');c||(c=document.createElement("meta"),c.setAttribute("name","robots"),document.head.appendChild(c)),c.setAttribute("content",s?"noindex,nofollow":"index,follow")},[s]);const t=!1,r={en:[{question:"How do I rent a car on Rento LB?",answer:"Rento LB makes car rental easy. Simply browse our selection of vehicles from trusted agencies and private owners, choose your rental dates, and complete your booking online."}],fr:[{question:"Comment louer une voiture sur Rento LB ?",answer:"Rento LB simplifie la location de voitures en vous connectant directement avec des agences et propritaires."}],ar:[{question:"    Rento LB",answer:"         ."}]},n={"@context":"https://schema.org","@type":"RentalCarAgency","@id":"https://rento-lb.com/#organization",name:"Rento LB",alternateName:"Rento Lebanon",url:"https://rento-lb.com/",logo:{"@type":"ImageObject","@id":"https://rento-lb.com/#logo",url:"https://rento-lb.com/rento-512.png",contentUrl:"https://rento-lb.com/rento-512.png",width:512,height:512},image:"https://rento-lb.com/rento-512.png",telephone:"+96181001301",email:"social@rento-lb.com",address:{"@type":"PostalAddress",streetAddress:"City Center",addressLocality:"Beirut",addressCountry:"LB"},areaServed:{"@type":"Country",name:"Lebanon"},description:"Car rental marketplace in Lebanon connecting renters with private owners and agencies. Transparent pricing and direct communication.",priceRange:"$$",currenciesAccepted:"USD, LBP",paymentAccepted:["Cash"],founder:{"@type":"Person",name:"Rami Zeaiter"},contactPoint:[{"@type":"ContactPoint",telephone:"+96181001301",contactType:"customer support",areaServed:"LB",availableLanguage:["English","French","Arabic"]}],sameAs:["https://www.facebook.com/profile.php?id=61585450048575","https://www.instagram.com/rentolebanon","https://www.tiktok.com/@rentolebanon","https://x.com/RENTO_lb","https://www.linkedin.com/company/rento-lb/about/"],...t},a={"@context":"https://schema.org","@type":"WebSite","@id":"https://rento-lb.com/#website",name:"Rento LB",url:"https://rento-lb.com/",publisher:{"@id":"https://rento-lb.com/#organization"},potentialAction:{"@type":"SearchAction",target:"https://rento-lb.com/search?query={search_term_string}","query-input":"required name=search_term_string"},inLanguage:["en","fr","ar"]},i={"@context":"https://schema.org","@type":"FAQPage","@id":"https://rento-lb.com/#faq",mainEntity:Object.values(r).flat().map(c=>({"@type":"Question",name:c.question,acceptedAnswer:{"@type":"Answer",text:c.answer}}))},o={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:"https://rento-lb.com/"}]};return e.jsxs(e.Fragment,{children:[e.jsx("meta",{name:"trustpilot-one-time-domain-verification-id",content:"2ddec9a3-46a7-4ab8-a397-7482d145e508"}),e.jsx("meta",{name:"description",content:"Compare rental cars in Lebanon from agencies and private owners. Book easily and communicate directly."}),e.jsx("meta",{name:"keywords",content:"car rental Lebanon, rent a car Beirut, private car rental Lebanon"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),e.jsx("meta",{name:"theme-color",content:"#0d9488"}),e.jsx("meta",{name:"author",content:"Rento LB"}),e.jsx("link",{rel:"canonical",href:"https://rento-lb.com"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:"https://rento-lb.com"}),e.jsx("meta",{property:"og:title",content:"Rento LB | Car Rental in Lebanon"}),e.jsx("meta",{property:"og:description",content:"Find rental cars across Lebanon."}),e.jsx("meta",{property:"og:image",content:"https://rento-lb.com/og-cover.png"}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(n)}}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(i)}}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(o)}})]})},Uhe=[{label:"Beirut",value:"beirut"},{label:"Mount Lebanon",value:"mount-liban"},{label:"North",value:"north"},{label:"South",value:"south"},{label:"Bekaa",value:"bekaa"},{label:"Baalbek",value:"baalbek"},{label:"Keserwan",value:"keserwan"},{label:"Nabatieh",value:"nabatieh"},{label:"Akkar",value:"akkar"}];function $he(s){if(!s||typeof s!="string")return null;const t=s.trim(),r=t.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(r)return{lat:parseFloat(r[1]),lng:parseFloat(r[2])};const n=t.match(/[?&]q=(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(n)return{lat:parseFloat(n[1]),lng:parseFloat(n[2])};const a=t.match(/(?:!3d|!4d|!1d)(-?\d+\.?\d*)/g);if(a&&a.length>=2){const i=parseFloat(String(a[0]).replace(/\D/g,"")),o=parseFloat(String(a[1]).replace(/\D/g,""));if(!isNaN(i)&&!isNaN(o))return{lat:i,lng:o}}return null}function Vhe(){const s=br(),t=w.useMemo(()=>`cp_${Date.now()}_${Math.random().toString(16).slice(2)}`,[]),r=(...O)=>{console.log(`[CompleteProfile ${t}]`,...O)},n=()=>{try{r("axios.baseURL =",Le?.defaults?.baseURL),r("axios.withCredentials =",Le?.defaults?.withCredentials),r("axios.headers.Authorization =",Le?.defaults?.headers?.common?.Authorization)}catch(O){r("Failed to read axios defaults",O)}},a=O=>{try{const oe=[];for(const[D,Ce]of O.entries())Ce instanceof File?oe.push({key:D,type:"File",name:Ce.name,size:Ce.size,mime:Ce.type}):oe.push({key:D,type:typeof Ce,value:Ce});return r("FormData entries =>",oe),oe}catch(oe){return r("Failed to dump FormData",oe),null}},[i,o]=w.useState(null),[c,d]=w.useState(!1),[h,m]=w.useState(null),[f,g]=w.useState({first_name:"",last_name:"",gender:"",birth_date:"",city:"",bio:"",profile_picture:null,id_card_front:null,id_card_back:null,license_number:"",driver_license:null,profession:"",avg_salary:"",promo_code:"",business_type:"",company_number:"",business_doc:null,location:"",app_fees:"",contract_form:"",policies:"",website:""}),[b,v]=w.useState(!1),[y,_]=w.useState(!1),[j,S]=w.useState(null),[N,k]=w.useState({lat:33.8547,lng:35.8623}),[C,z]=w.useState(""),[E,U]=w.useState(""),[T,re]=w.useState(!1),[Y,I]=w.useState(""),[K,L]=w.useState(!1),J=i?.role==="client",Q=i?.role==="agency"||i?.role==="agency",Z=O=>O?String(O).slice(0,10):"",ee=O=>{const oe=O?.user||{},D=O?.client||oe?.client||{},Ce=O?.agency||oe?.agency||O?.agency||{};g(R=>({...R,first_name:oe.first_name??R.first_name??"",last_name:oe.last_name??R.last_name??"",gender:oe.gender??R.gender??"",birth_date:Z(oe.birth_date)||R.birth_date||"",city:oe.city??R.city??"",bio:oe.bio??R.bio??"",license_number:D.license_number??R.license_number??"",profession:D.profession??R.profession??"",avg_salary:D.avg_salary??R.avg_salary??"",promo_code:D.promo_code??R.promo_code??"",business_type:Ce.business_type??R.business_type??"",company_number:Ce.company_number??R.company_number??"",location:Ce.location?typeof Ce.location=="string"?Ce.location:JSON.stringify(Ce.location):R.location??"",app_fees:Ce.app_fees??R.app_fees??"",contract_form:Ce.contract_form??R.contract_form??"",policies:Ce.policies??R.policies??"",website:Ce.website??R.website??""}));const H=(Ce.business_type||"").toString();if(v(H==="company"),Ce.location)try{const R=typeof Ce.location=="string"?JSON.parse(Ce.location):Ce.location;R.latitude&&R.longitude&&(S({lat:R.latitude,lng:R.longitude}),k({lat:R.latitude,lng:R.longitude}))}catch(R){r("Failed to parse existing location",R)}},F=()=>{if(!navigator.geolocation){xe.error("Geolocation is not supported by your browser"),de();return}xe.info("Getting your location...");const O={enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4};navigator.geolocation.getCurrentPosition(oe=>{const D={lat:parseFloat(oe.coords.latitude.toFixed(6)),lng:parseFloat(oe.coords.longitude.toFixed(6))};S(D),k(D);const Ce={latitude:D.lat,longitude:D.lng,country:"Lebanon"};g(H=>({...H,location:JSON.stringify(Ce)})),xe.success("Location detected successfully!"),r("Current location:",Ce)},oe=>{r("Geolocation error:",oe),xe.info("Location could not be detected. Select your location on the map."),_(!0)},O)},de=()=>{_(!0)},q=(O,oe)=>{const D={lat:parseFloat(O.toFixed(6)),lng:parseFloat(oe.toFixed(6))};S(D),r("Map clicked location:",D)},G=()=>{if(j){const O={latitude:j.lat,longitude:j.lng,country:"Lebanon"};g(oe=>({...oe,location:JSON.stringify(O)})),xe.success("Location selected!"),_(!1)}else xe.error("Please select a location on the map")},ie=O=>{const oe=$he(O);if(oe){const D={lat:parseFloat(oe.lat.toFixed(6)),lng:parseFloat(oe.lng.toFixed(6))};S(D),k(D);const Ce={latitude:D.lat,longitude:D.lng,country:"Lebanon"};g(H=>({...H,location:JSON.stringify(Ce)})),xe.success("Location set from Google Maps link.")}else xe.error("Could not read coordinates. Use a link with lat,lng (e.g. @33.89,35.50 or ?q=33.89,35.50).")},le=async(O,oe)=>{const D=O.trim();if(D){oe?L(!0):re(!0);try{const H=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(D)}&limit=1`,{headers:{Accept:"application/json"}})).json();if(H&&H[0]){const R=parseFloat(H[0].lat),P=parseFloat(H[0].lon),W={lat:R,lng:P};S(W),k(W);const Ne={latitude:R,longitude:P,country:"Lebanon"};g(X=>({...X,location:JSON.stringify(Ne)})),xe.success("Location found. Confirm in the modal if needed.")}else xe.error("No results found. Try another search.")}catch{xe.error("Search failed. Try again.")}finally{oe?L(!1):re(!1)}}},be=()=>le(E,!1),ye=()=>le(Y,!0),$=async()=>{try{n(),r("GET /profile/status starting...");const O=await Le.get("/profile/status",{headers:{"X-Debug-Id":t}});if(r("GET /profile/status success:",O.status,O.data),m(O.data),ee(O.data),O.data?.is_complete){const oe=O.data.user;r("Profile already complete. Redirecting. role =",oe?.role),oe?.role==="agency"||oe?.role==="agency"?s("/Dashboard"):s("/")}}catch(O){r("GET /profile/status FAILED",O),O?.response&&r("Status error response:",O.response.status,O.response.data)}};w.useEffect(()=>{const O=JSON.parse(localStorage.getItem("user"));if(!O){xe.error("Please login first"),s("/auth");return}o(O),r("Loaded user from localStorage:",O),$()},[s]);const V=O=>{const{name:oe,value:D,files:Ce}=O.target;if(Ce){const H=Ce[0]||null;g(R=>({...R,[oe]:H})),r("File changed:",oe,H?{name:H.name,size:H.size,type:H.type}:null);return}g(H=>({...H,[oe]:D})),r("Field changed:",oe,D),oe==="business_type"&&v(D==="company")},me=(O,oe)=>{g(D=>({...D,[O]:oe})),r("Select changed:",O,oe),O==="business_type"&&v(oe==="company")},ce=()=>{if(!f.first_name||!f.last_name||!f.gender||!f.birth_date||!f.city)return xe.error("Please fill all required base fields"),!1;if(!f.id_card_front||!f.id_card_back)return xe.error("Please upload both ID card photos"),!1;if(J){if(!f.license_number||!f.driver_license||!f.profession||!f.avg_salary)return xe.error("Please fill all required client fields"),!1;if(!["employee","freelancer","business","student","other"].includes(f.profession))return xe.error("Please select a valid profession"),!1;if(!["200-500","500-1000","1000-2000","2000+"].includes(f.avg_salary))return xe.error("Please select a valid salary range"),!1}if(Q){if(console.log("[CompleteProfile Validate]","Agency validation started",{business_type:f.business_type,profession:f.profession,hasLocation:!!f.location,locationLength:f.location?.length}),!f.business_type||!f.profession)return console.log("[CompleteProfile Validate]","Failed: missing business_type or profession"),xe.error("Please fill all required agency fields"),!1;if(!f.location)return console.log("[CompleteProfile Validate]","Failed: no location"),xe.error("Please select your agency location. Opening map..."),_(!0),setTimeout(()=>document.getElementById("agency-location-section")?.scrollIntoView({behavior:"smooth"}),100),!1;if(!["rental","private","company","marina"].includes(f.business_type))return console.log("[CompleteProfile Validate]","Failed: invalid business_type",f.business_type),xe.error("Please select a valid business type"),!1;if(!["owner","manager"].includes(f.profession))return console.log("[CompleteProfile Validate]","Failed: invalid profession",f.profession),xe.error("Please select a valid profession"),!1;try{const D=JSON.parse(f.location);if(!D.latitude||!D.longitude)return console.log("[CompleteProfile Validate]","Failed: location missing lat/lng",D),xe.error("Invalid location data. Please select your location again"),!1;console.log("[CompleteProfile Validate]","Location OK",D)}catch(D){return console.log("[CompleteProfile Validate]","Failed: location parse error",D,"raw:",f.location),xe.error("Invalid location format. Please select your location again"),!1}if(f.business_type==="company"&&(!f.company_number||!f.business_doc))return console.log("[CompleteProfile Validate]","Failed: company fields",{company_number:f.company_number,business_doc:!!f.business_doc}),xe.error("Please fill company number and upload business document"),!1;console.log("[CompleteProfile Validate]","Agency validation passed")}return!0},he=async O=>{O.preventDefault();const oe="[CompleteProfile Submit]";if(console.log(oe,"Submit clicked",{role:i?.role,isClient:J,isAgency:Q,formKeys:Object.keys(f)}),(i?.role==="agency"||i?.role==="agency")&&console.log(oe,"Agency form state",{business_type:f.business_type,profession:f.profession,location:f.location,locationParsed:(()=>{try{return f.location?JSON.parse(f.location):null}catch(D){return{parseError:String(D.message)}}})(),company_number:f.company_number,business_doc:f.business_doc?.name??f.business_doc,app_fees:f.app_fees,contract_form:f.contract_form,policies:f.policies,website:f.website}),r("Submit clicked. role =",i?.role,"isClient =",J,"isAgency =",Q),n(),!ce()){console.log(oe,"Validation failed on client side."),r("Validation failed on client side.");return}try{d(!0);const D=new FormData;if(D.append("first_name",f.first_name),D.append("last_name",f.last_name),D.append("gender",f.gender.toLowerCase()),D.append("birth_date",f.birth_date),D.append("city",f.city.toLowerCase()),D.append("bio",f.bio||""),f.id_card_front&&D.append("id_card_front",f.id_card_front),f.id_card_back&&D.append("id_card_back",f.id_card_back),f.profile_picture&&D.append("profile_picture",f.profile_picture),J)D.append("license_number",f.license_number),f.driver_license&&D.append("driver_license",f.driver_license),D.append("profession",f.profession.toLowerCase()),D.append("avg_salary",f.avg_salary),f.promo_code?.trim()&&D.append("promo_code",f.promo_code.trim());else if(Q){console.log("[CompleteProfile Submit]","Building agency FormData..."),D.append("business_type",f.business_type.toLowerCase()),D.append("profession",f.profession.toLowerCase());let Ne;try{Ne=JSON.parse(f.location);const pe=JSON.stringify({latitude:parseFloat(Ne.latitude),longitude:parseFloat(Ne.longitude),country:Ne.country||"Lebanon"});D.append("location",pe),console.log("[CompleteProfile Submit]","Location appended",{cleanedLocation:pe,locationData:Ne})}catch(pe){throw console.error("[CompleteProfile Submit]","Location parse/append error",pe),console.log("[CompleteProfile Submit]","form.location raw:",f.location),pe}f.app_fees?.trim()&&D.append("app_fees",f.app_fees.trim()),f.contract_form?.trim()&&D.append("contract_form",f.contract_form.trim()),f.policies?.trim()&&D.append("policies",f.policies.trim()),f.website?.trim()&&D.append("website",f.website.trim()),f.business_type==="company"&&(D.append("company_number",f.company_number),f.business_doc&&D.append("business_doc",f.business_doc),console.log("[CompleteProfile Submit]","Company fields appended",{company_number:f.company_number,business_doc:f.business_doc?.name??(f.business_doc?"present":"missing")}));const X=[];D.forEach((pe,ge)=>{X.push({key:ge,value:pe instanceof File?`File: ${pe.name}`:pe})}),console.log("[CompleteProfile Submit]","FormData entries (agency)",X)}a(D);const Ce=Le.defaults?.baseURL?`${Le.defaults.baseURL}/profile/complete`:"/profile/complete";console.log("[CompleteProfile Submit]","POST /profile/complete",{apiUrl:Ce,contentType:"multipart/form-data"}),r("POST /profile/complete starting...");const H=await Le.post("/profile/complete",D,{headers:{"Content-Type":"multipart/form-data","X-Debug-Id":t}});console.log("[CompleteProfile Submit]","POST /profile/complete success",H.status,H.data),r("POST /profile/complete success:",H.status,H.data);const R=H.data.user;localStorage.setItem("user",JSON.stringify(R)),o(R),xe.success("Profile completed successfully!"),r("Refreshing status...");const P=await Le.get("/profile/status",{headers:{"X-Debug-Id":t}});r("GET /profile/status after submit:",P.status,P.data),m(P.data);const W=P.data.is_complete;setTimeout(()=>{W?R.role==="agency"||R.role==="agency"?s("/Dashboard"):s("/"):xe.warning("Please complete all required fields")},500)}catch(D){if(console.error("[CompleteProfile Submit]","Request failed",D),console.log("[CompleteProfile Submit]","Error name:",D?.name,"message:",D?.message),r("POST /profile/complete FAILED:",D),D?.response){if(console.log("[CompleteProfile Submit]","Response status:",D.response.status),console.log("[CompleteProfile Submit]","Response data:",D.response.data),console.log("[CompleteProfile Submit]","Response headers:",JSON.stringify(D.response.headers,null,2)),r("Error response status:",D.response.status),r("Error response data:",D.response.data),r("Error response headers:",D.response.headers),D.response.status===403){const Ce=D.response?.data?.message||D.response?.data?.error||"You do not have permission to update your profile. Please contact administrator.";xe.error(Ce);return}typeof D.response.data=="string"&&r("Error response (string, first 500 chars):",D.response.data.slice(0,500)),D.response?.data?.errors?(console.log("[CompleteProfile Submit]","Validation errors (422)",D.response.data.errors),Object.values(D.response.data.errors).flat().forEach(H=>xe.error(H))):(console.log("[CompleteProfile Submit]","Error message:",D.response?.data?.message),xe.error(D.response?.data?.message||"Failed to complete profile"))}else D?.request?(console.log("[CompleteProfile Submit]","No response received (network/CORS)",D.request),r("No response received. Request:",D.request),xe.error("No response from server. Check network/CORS/auth.")):(r("Unknown error:",D?.message||D),xe.error("Unexpected error occurred."));r("If you see https://.../api/api/... then your axios baseURL already contains /api and your proxy/route also adds /api."),r("Fix by adjusting api.defaults.baseURL OR Vite proxy OR route prefix so it becomes /api/profile/complete only once.")}finally{d(!1)}};return i?e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-background via-primary/5 to-secondary/5",children:[e.jsxs("div",{className:"w-full max-w-3xl",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center shadow-lg mb-4",children:e.jsx(Qt,{className:"w-8 h-8 text-primary-foreground"})}),e.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Complete Your Profile"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:i?.role==="client"?"Client Profile":"Agency Profile"}),h&&e.jsxs("div",{className:"mt-4 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Profile Completion"}),e.jsxs("span",{className:"text-sm font-semibold",children:[h.completion_percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-cyan-500 h-2 rounded-full transition-all",style:{width:`${h.completion_percentage}%`}})})]})]}),e.jsxs(Ue,{className:"hover-glow shadow-xl",children:[e.jsxs(ts,{children:[e.jsxs(ss,{className:"text-2xl",children:["Complete Your ",i?.role==="client"?"Client":"agency"," Profile"]}),e.jsx(jm,{children:"Please fill all required fields to continue"})]}),e.jsx(He,{children:e.jsxs("form",{onSubmit:he,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"First Name *"}),e.jsx(Ae,{type:"text",name:"first_name",value:f.first_name,onChange:V,required:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Last Name *"}),e.jsx(Ae,{type:"text",name:"last_name",value:f.last_name,onChange:V,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Gender *"}),e.jsxs(ot,{value:f.gender,onValueChange:O=>me("gender",O),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"male",children:"Male"}),e.jsx(ke,{value:"female",children:"Female"}),e.jsx(ke,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Birth Date *"}),e.jsx(Ae,{type:"date",name:"birth_date",value:f.birth_date,onChange:V,max:new Date().toISOString().split("T")[0],required:!0})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"City *"}),e.jsxs(ot,{value:f.city,onValueChange:O=>me("city",O),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select your city"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"beirut",children:"Beirut"}),e.jsx(ke,{value:"mount-liban",children:"Mount Liban"}),e.jsx(ke,{value:"south",children:"South"}),e.jsx(ke,{value:"north",children:"North"}),e.jsx(ke,{value:"bekaa",children:"Bekaa"}),e.jsx(ke,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Bio (optional)"}),e.jsx("textarea",{name:"bio",value:f.bio,onChange:V,rows:3,className:"w-full px-3 py-2 rounded-md border border-input bg-background",placeholder:"Tell us about yourself..."})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Profile Picture (optional)"}),e.jsx(Ae,{type:"file",name:"profile_picture",onChange:V,accept:"image/jpeg,image/jpg,image/png"}),f.profile_picture&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.profile_picture.name})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"ID Card - Front *"}),e.jsx(Ae,{type:"file",name:"id_card_front",onChange:V,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.id_card_front&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.id_card_front.name})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"ID Card - Back *"}),e.jsx(Ae,{type:"file",name:"id_card_back",onChange:V,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.id_card_back&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.id_card_back.name})]})]})]}),e.jsx("hr",{className:"my-6"}),i?.role==="client"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Client Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"License Number *"}),e.jsx(Ae,{type:"text",name:"license_number",value:f.license_number,onChange:V,required:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Driver License *"}),e.jsx(Ae,{type:"file",name:"driver_license",onChange:V,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.driver_license&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.driver_license.name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Profession *"}),e.jsxs(ot,{value:f.profession,onValueChange:O=>me("profession",O),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Choose..."})}),e.jsxs(it,{children:[e.jsx(ke,{value:"employee",children:"Employee"}),e.jsx(ke,{value:"freelancer",children:"Freelancer"}),e.jsx(ke,{value:"business",children:"Business"}),e.jsx(ke,{value:"student",children:"Student"}),e.jsx(ke,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Average Salary *"}),e.jsxs(ot,{value:f.avg_salary,onValueChange:O=>me("avg_salary",O),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select..."})}),e.jsxs(it,{children:[e.jsx(ke,{value:"200-500",children:"$200-500"}),e.jsx(ke,{value:"500-1000",children:"$500-1000"}),e.jsx(ke,{value:"1000-2000",children:"$1000-2000"}),e.jsx(ke,{value:"2000+",children:"$2000+"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Promo Code (optional)"}),e.jsx(Ae,{type:"text",name:"promo_code",value:f.promo_code,onChange:V})]})]}),(i?.role==="agency"||i?.role==="agency")&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Agency Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Business Type *"}),e.jsxs(ot,{value:f.business_type,onValueChange:O=>{me("business_type",O),v(O==="company")},children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"rental",children:"Rental"}),e.jsx(ke,{value:"private",children:"Private"}),e.jsx(ke,{value:"company",children:"Company"}),e.jsx(ke,{value:"marina",children:"Marina"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Profession *"}),e.jsxs(ot,{value:f.profession,onValueChange:O=>me("profession",O),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Choose..."})}),e.jsxs(it,{children:[e.jsx(ke,{value:"manager",children:"Manager"}),e.jsx(ke,{value:"owner",children:"Owner"})]})]})]})]}),b&&e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(rc,{className:"w-4 h-4"}),e.jsx("p",{children:"Company Details (Required)"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Company Number *"}),e.jsx(Ae,{type:"text",name:"company_number",value:f.company_number,onChange:V,required:b})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Business Document *"}),e.jsx(Ae,{type:"file",name:"business_doc",onChange:V,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:b}),f.business_doc&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.business_doc.name})]})]}),e.jsxs("div",{id:"agency-location-section",children:[e.jsx(ue,{children:"Address (region) *"}),e.jsxs(ot,{value:f.city||"",onValueChange:O=>me("city",O),children:[e.jsx(at,{className:"mb-3",children:e.jsx(lt,{placeholder:"Select your region"})}),e.jsx(it,{children:Uhe.map(O=>e.jsx(ke,{value:O.value,children:O.label},O.value))})]}),e.jsx(ue,{children:"Location *"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-muted-foreground text-xs",children:"Paste Google Maps link"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(Ae,{placeholder:"e.g. https://www.google.com/maps/@33.8938,35.5018,17z",value:C,onChange:O=>z(O.target.value),onBlur:O=>{const oe=O.target.value?.trim();oe&&ie(oe)},className:"flex-1"}),e.jsx(fe,{type:"button",variant:"outline",onClick:()=>C.trim()&&ie(C),children:"Apply"})]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-muted-foreground text-xs",children:"Search address"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(Ae,{placeholder:"Search address or place...",value:E,onChange:O=>U(O.target.value),onKeyDown:O=>O.key==="Enter"&&(O.preventDefault(),be()),className:"flex-1"}),e.jsx(fe,{type:"button",variant:"outline",onClick:be,disabled:T,children:e.jsx(Mr,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(fe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:F,children:[e.jsx(q0,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),e.jsxs(fe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:de,children:[e.jsx(js,{className:"w-4 h-4 mr-2"}),"Select on Map"]})]}),j?e.jsx("div",{className:"p-4 bg-primary/10 border-2 border-primary/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:e.jsx(js,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm mb-1",children:"Location Selected"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Latitude: ",j.lat]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Longitude: ",j.lng]})]})]})}):e.jsxs("div",{className:"p-4 bg-muted/30 border-2 border-dashed rounded-lg text-center",children:[e.jsx(js,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No location selected yet"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click one of the buttons above to set your location"})]}),e.jsx("input",{type:"hidden",name:"location",value:f.location,required:!0})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:e.jsxs("div",{children:[e.jsx(ue,{children:"Website (optional)"}),e.jsx(Ae,{type:"url",name:"website",value:f.website,onChange:V,placeholder:"https://example.com"})]})}),e.jsxs("div",{children:[e.jsx(ue,{children:"Contract Form (optional)"}),e.jsx("textarea",{name:"contract_form",value:f.contract_form,onChange:V,rows:2,className:"w-full px-3 py-2 rounded-md border border-input bg-background"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Policies (optional)"}),e.jsx("textarea",{name:"policies",value:f.policies,onChange:V,rows:2,className:"w-full px-3 py-2 rounded-md border border-input bg-background"})]})]}),e.jsx(fe,{type:"submit",className:"w-full bg-gradient-to-r from-secondary to-accent font-semibold text-lg py-6",disabled:c,children:c?"Saving...":"Save Profile"})]})})]})]}),e.jsx(yr,{open:y,onOpenChange:O=>{_(O),O||I("")},children:e.jsxs(ur,{className:"max-w-4xl max-h-[90vh]",children:[e.jsxs(hr,{children:[e.jsx(fr,{children:"Select Your Location"}),e.jsx(xi,{children:"Search for a place or click on the map to select your business location"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex gap-2 flex-wrap",children:e.jsxs("div",{className:"flex flex-1 min-w-[200px] rounded-md overflow-hidden border border-input",children:[e.jsx(Ae,{placeholder:"Search address or place...",value:Y,onChange:O=>I(O.target.value),onKeyDown:O=>O.key==="Enter"&&(O.preventDefault(),ye()),className:"rounded-r-none border-0 h-10 focus-visible:ring-0"}),e.jsx(fe,{type:"button",variant:"secondary",onClick:ye,disabled:K,className:"rounded-l-none h-10 px-4",children:e.jsx(Mr,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"w-full h-[500px] bg-muted rounded-lg overflow-hidden",children:e.jsx(Hhe,{center:N,selectedLocation:j,onLocationSelect:q})}),j&&e.jsx("div",{className:"p-3 bg-muted/50 rounded-md",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Selected:"})," ",j.lat,", ",j.lng]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(fe,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),e.jsx(fe,{onClick:G,children:"Confirm Location"})]})]})]})})]}):null}function Hhe({center:s,selectedLocation:t,onLocationSelect:r}){const n=ct.useRef(null),a=ct.useRef(null);w.useEffect(()=>{if(typeof window<"u"&&!window.L){const o=document.createElement("link");o.rel="stylesheet",o.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(o);const c=document.createElement("script");c.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",c.onload=()=>i(),document.head.appendChild(c)}else window.L&&i()},[]),w.useEffect(()=>{n.current&&window.L&&n.current.setView([parseFloat(s.lat),parseFloat(s.lng)],13)},[s]),w.useEffect(()=>{t&&a.current&&window.L&&a.current.setLatLng([parseFloat(t.lat),parseFloat(t.lng)])},[t]);const i=()=>{if(!window.L||n.current)return;const o=window.L.map("map-container").setView([parseFloat(s.lat),parseFloat(s.lng)],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}).addTo(o);const c=window.L.marker([parseFloat(s.lat),parseFloat(s.lng)],{draggable:!0}).addTo(o);c.on("dragend",d=>{const h=d.target.getLatLng();r(h.lat,h.lng)}),o.on("click",d=>{c.setLatLng(d.latlng),r(d.latlng.lat,d.latlng.lng)}),n.current=o,a.current=c};return e.jsx("div",{id:"map-container",className:"w-full h-full"})}const ks={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function qhe(){const[s,t]=w.useState([]),[r,n]=w.useState(null),[a,i]=w.useState([]),[o,c]=w.useState(""),[d,h]=w.useState(!1),[m,f]=w.useState(!0),[g,b]=w.useState(!1),[v,y]=w.useState(null),[_,j]=w.useState(""),S=w.useRef(null),N=w.useRef(null),k=w.useRef(null),C=w.useRef(null),z=w.useRef(null),[E]=w.useState(()=>localStorage.getItem("token")),U=(ee,F)=>{const de=ee?.created_at??ee?.createdAt??ee?.data?.created_at??null,q=ee?.read_at??ee?.data?.read_at??(ee?.is_read?de:null);return{id:ee?.id??ee?.data?.id??`rt-${Date.now()}`,booking_id:ee?.booking_id??ee?.data?.booking_id??F,sender_id:ee?.sender_id??ee?.data?.sender_id??ee?.sender?.id,receiver_id:ee?.receiver_id??ee?.data?.receiver_id??null,message:ee?.message??ee?.data?.message??"",read_at:q,created_at:de,sender:ee?.sender??ee?.data?.sender??null}};w.useEffect(()=>{if(!E){y("Authentication required. Please log in.");return}window.Pusher=kB,k.current=new NB({broadcaster:"pusher",key:"316e84fa5f5bf1a94b26",cluster:"ap1",forceTLS:!0,encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:"https://rento-lb.com/api/api/broadcasting/auth",auth:{headers:{Authorization:`Bearer ${E}`,Accept:"application/json"}}});const ee=k.current.connector.pusher;ee.connection.bind("initialized",()=>console.log("[PUSHER] initialized")),ee.connection.bind("connecting",()=>console.log("[PUSHER] connecting...")),ee.connection.bind("connected",()=>console.log("[PUSHER]  connected")),ee.connection.bind("disconnected",()=>console.log("[PUSHER] disconnected")),ee.connection.bind("unavailable",()=>console.log("[PUSHER] unavailable")),ee.connection.bind("failed",()=>console.log("[PUSHER]  failed")),ee.connection.bind("error",F=>console.error("[PUSHER] error:",F)),console.log("[ECHO] authEndpoint:","https://rento-lb.com/api/api/broadcasting/auth"),console.log("[ECHO] cluster:","ap1"),console.log("[ECHO] key:","316e84fa5f5bf1a94b26");try{k.current.connector?.pusher?.connection?.bind("error",F=>{console.error("Pusher connection error:",F)})}catch{}return Le.get("/profile").then(({data:F})=>{C.current=F.user?.id,console.log("Current user ID:",C.current)}).catch(F=>{console.error("Failed to fetch profile:",F),y("Failed to load user profile")}),()=>{k.current?.disconnect()}},[E]),w.useEffect(()=>{E&&T()},[E]);const T=async()=>{f(!0),y(null);try{const{data:ee}=await Le.get("/bookings"),de=(ee?.bookings?.data??[]).filter(q=>q.booking_request_status==="confirmed"||q.booking_request_status==="accepted");t(de)}catch(ee){console.error("Failed to fetch bookings:",ee),y("Failed to load bookings"),t([])}finally{f(!1)}},re=()=>{const ee=S.current;ee&&(ee.scrollTop=ee.scrollHeight)};w.useEffect(()=>{re()},[a]);const Y=async ee=>{h(!0),y(null);try{const{data:F}=await Le.get(`/bookings/${ee}/chat`),de=F?.data?.data??F?.data?.messages??F?.messages??[];i(de),de.forEach(q=>{!q.read_at&&q.sender_id!==C.current&&K(ee,q.id)})}catch(F){console.error("Failed to load messages:",F),y("Failed to load messages"),i([])}finally{h(!1)}};w.useEffect(()=>{if(!r?.id||!k.current)return;const ee=r.id,F=`private-booking.${ee}`;console.log("[ECHO] subscribing to:",F);const de=k.current.connector.pusher,q=de.subscribe(F);q.bind("pusher:subscription_succeeded",()=>{console.log("[PUSHER]  subscription_succeeded:",F)}),q.bind("pusher:subscription_error",le=>{console.error("[PUSHER]  subscription_error:",F,"status:",le),console.error("-> If status=403, your /broadcasting/auth or channels.php auth is rejecting the user.")});const G=k.current.private(`booking.${ee}`),ie=le=>{const be=U(le,ee);i(ye=>ye.some(V=>String(V.id)===String(be.id))?ye:[...ye,be]),be.sender_id&&be.sender_id!==C.current&&K(ee,be.id)};return G.listen(".message.sent",ie),G.listen("message.sent",ie),G.listenForWhisper("typing",le=>{le?.user_id&&le.user_id!==C.current&&(b(!0),z.current&&clearTimeout(z.current),z.current=setTimeout(()=>b(!1),3e3))}),G.listen(".message.read",le=>console.log("[ECHO] message.read:",le)),Y(ee),()=>{console.log("[ECHO] leaving:",F),k.current?.leave(`booking.${ee}`),de.unsubscribe(F)}},[r?.id]);const I=async ee=>{if(ee.preventDefault(),!o.trim()||!r?.id)return;const F=r.id,de=o.trim();c("");try{const{data:q}=await Le.post(`/bookings/${F}/chat`,{booking_id:F,message:de}),G=q?.data??q?.message;G&&i(ie=>[...ie,G])}catch(q){console.error("Failed to send message:",q),y("Failed to send message"),c(de)}},K=async(ee,F)=>{try{await Le.post(`/bookings/${ee}/chat/mark-read`,{message_id:F})}catch(de){console.error("Failed to mark message as read:",de)}},L=async()=>{try{if(!s?.length)return;const ee=await Promise.all(s.map(async de=>{try{const{data:q}=await Le.get(`/bookings/${de.id}/chat/unread-count`),G=q?.data?.unread_count??q?.data??q?.unread_count??0;return{id:de.id,count:Number(G)||0}}catch(q){return console.error(`Failed unread count for booking ${de.id}:`,q),{id:de.id,count:0}}})),F=Object.fromEntries(ee.map(de=>[de.id,de.count]));t(de=>de.map(q=>({...q,unread_count:F[q.id]??0})))}catch(ee){console.error("Failed to fetch unread counts:",ee)}};w.useEffect(()=>{if(!E)return;s.length&&L();const ee=setInterval(L,1e4);return()=>clearInterval(ee)},[E,s.length]);const J=ee=>{if(!ee)return"";const F=new Date(ee);if(Number.isNaN(F.getTime()))return"";const q=Math.floor((new Date-F)/6e4);if(q<1)return"Just now";if(q<60)return`${q}m ago`;const G=Math.floor(q/60);if(G<24)return`${G}h ago`;const ie=Math.floor(G/24);return ie<7?`${ie}d ago`:F.toLocaleDateString("en-US",{month:"short",day:"numeric"})},Q=ee=>{if(!ee)return"";const F=new Date(ee);return Number.isNaN(F.getTime())?"":F.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},Z=s.filter(ee=>{if(!_)return!0;const F=_.toLowerCase(),de=`${ee.car?.agent?.first_name||""} ${ee.car?.agent?.last_name||""}`.toLowerCase(),q=`${ee.car?.make||""} ${ee.car?.model||""}`.toLowerCase();return de.includes(F)||q.includes(F)});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx(nt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${ks.teal}, ${ks.darkBlue})`},children:e.jsx(_a,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${ks.darkBlue}, ${ks.teal}, ${ks.limeGreen})`},children:"My Bookings Chat"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Message your car agent"})]})]})}),e.jsx(el,{children:v&&e.jsx(nt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-4 rounded-xl border-2",style:{background:"rgba(220, 38, 38, 0.1)",borderColor:"#DC2626"},children:e.jsxs("p",{className:"text-red-800 dark:text-red-200 flex items-center gap-2",children:[e.jsx(Sr,{className:"w-5 h-5"}),v]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-[calc(100vh-180px)]",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx(Mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:_,onChange:ee=>j(ee.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white text-sm"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:m?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:ks.tealDim,borderTopColor:"transparent"}})}):Z.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-gray-400",children:[e.jsx(_a,{className:"w-16 h-16 mb-3",style:{color:ks.teal,opacity:.3}}),e.jsx("p",{className:"text-center font-medium",children:"No bookings found"}),e.jsx("p",{className:"text-xs text-center mt-1",children:"Book a car to start chatting"})]}):Z.map(ee=>{const F=ee.car?.agent,de=F?.profile_picture?`/api/storage/${F.profile_picture}`:"/default-avatar.png";return e.jsx(nt.div,{whileHover:{x:5},onClick:()=>n(ee),className:`p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer transition-all ${r?.id===ee.id?"border-l-4":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,style:r?.id===ee.id?{background:ks.tealDim,borderLeftColor:ks.teal}:{},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:de,alt:F?.first_name||"Agent",className:"w-12 h-12 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),(ee.unread_count??0)>0&&e.jsx(nt.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center shadow-lg",style:{background:ks.limeGreen},children:e.jsx("span",{className:"text-xs text-white font-bold",children:ee.unread_count})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white truncate flex items-center gap-1",children:[F?.first_name||"N/A"," ",F?.last_name||"",F?.verified_by_admin&&e.jsx(Dn,{className:"w-3 h-3",style:{color:ks.teal}})]}),(ee.unread_count??0)>0&&e.jsx(Zr,{className:"w-4 h-4",style:{color:ks.teal}})]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate flex items-center gap-1",children:[e.jsx(Qt,{className:"w-3 h-3"}),ee.car?.make||"N/A"," ",ee.car?.model||""]})]})]})},ee.id)})})]}),e.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${ks.darkBlue}, ${ks.teal}, ${ks.limeGreen})`},children:[e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:r.car?.agent?.profile_picture?`/api/storage/${r.car.agent.profile_picture}`:"/default-avatar.png",alt:r.car?.agent?.first_name||"Agent",className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[r.car?.agent?.first_name||"N/A"," ",r.car?.agent?.last_name||"",r.car?.agent?.verified_by_admin&&e.jsx(Dn,{className:"w-4 h-4"})]}),e.jsx("p",{className:"text-xs opacity-90",children:"Car Agent"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r.car?.agent?.phone_number&&e.jsx(nt.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`tel:${r.car.agent.phone_number}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:e.jsx(Za,{className:"w-4 h-4"})}),r.car?.agent?.email&&e.jsx(nt.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`mailto:${r.car.agent.email}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:e.jsx(ja,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"p-3 bg-white/10 backdrop-blur-sm rounded-xl",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"w-4 h-4"}),e.jsxs("span",{className:"truncate",children:[r.car?.make||"N/A"," ",r.car?.model||""]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:r.start_datetime?Q(r.start_datetime):"N/A"})]})]})})]})]}),e.jsxs("div",{ref:S,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-gray-50/50 to-white dark:from-gray-900/50 dark:to-gray-800",style:{maxHeight:"calc(100vh - 450px)"},children:[d?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:ks.tealDim,borderTopColor:"transparent"}})}):a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{background:ks.tealDim},children:e.jsx(_a,{className:"w-10 h-10",style:{color:ks.teal}})}),e.jsx("p",{className:"text-lg font-medium",children:"No messages yet"}),e.jsx("p",{className:"text-sm",children:"Start the conversation!"})]}):e.jsxs(e.Fragment,{children:[a.map((ee,F)=>{const de=ee.sender_id===C.current||ee.sender?.id===C.current,q=a[F-1],G=F===0||q?.sender_id!==ee.sender_id;return e.jsxs(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex items-end gap-2 ${de?"justify-end":"justify-start"}`,children:[!de&&G&&e.jsx("img",{src:ee.sender?.profile_picture?`/api/storage/${ee.sender.profile_picture}`:"/default-avatar.png",alt:ee.sender?.first_name||"User",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),!de&&!G&&e.jsx("div",{className:"w-8"}),e.jsxs("div",{className:`flex flex-col ${de?"items-end":"items-start"} max-w-[70%]`,children:[e.jsx(nt.div,{whileHover:{scale:1.02},className:`rounded-2xl px-4 py-2 shadow-md ${de?"text-white rounded-br-none":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none border border-gray-200 dark:border-gray-600"}`,style:de?{background:`linear-gradient(135deg, ${ks.teal}, ${ks.darkBlue})`}:{},children:e.jsx("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed",children:ee.message})}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 px-1",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:J(ee.created_at)}),de&&e.jsx("span",{children:ee.read_at?e.jsx(QN,{className:"w-3 h-3",style:{color:ks.teal}}):e.jsx(Qn,{className:"w-3 h-3 text-gray-400"})})]})]}),de&&G&&e.jsx("img",{src:ee.sender?.profile_picture?`/api/storage/${ee.sender.profile_picture}`:"/default-avatar.png",alt:ee.sender?.first_name||"You",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),de&&!G&&e.jsx("div",{className:"w-8"})]},ee.id)}),e.jsx("div",{ref:N})]}),e.jsx(el,{children:g&&e.jsxs(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center gap-2",children:[e.jsx("img",{src:r.car?.agent?.profile_picture?`/api/storage/${r.car.agent.profile_picture}`:"/default-avatar.png",alt:r.car?.agent?.first_name||"Agent",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),e.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-2xl rounded-bl-none px-4 py-3 border border-gray-200 dark:border-gray-600",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:ks.teal,animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:ks.darkBlue,animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:ks.limeGreen,animationDelay:"300ms"}})]})})]})})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(nt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-xl transition-colors",style:{background:ks.tealDim,color:ks.teal},type:"button",children:e.jsx(MM,{className:"w-5 h-5"})}),e.jsx(nt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-xl transition-colors",style:{background:ks.limeGreenDim,color:ks.limeGreen},type:"button",children:e.jsx(OM,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("textarea",{value:o,onChange:ee=>{c(ee.target.value)},onKeyDown:ee=>{ee.key==="Enter"&&!ee.shiftKey&&(ee.preventDefault(),I(ee))},placeholder:"Type your message...",rows:1,className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 dark:bg-gray-700 dark:text-white resize-none"})}),e.jsx(nt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:I,disabled:!o.trim(),className:"p-3 rounded-xl text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",style:{background:`linear-gradient(135deg, ${ks.teal}, ${ks.darkBlue})`},type:"button",children:e.jsx(G0,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:e.jsxs(nt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mb-6 mx-auto",style:{background:`linear-gradient(135deg, ${ks.tealDim}, ${ks.limeGreenDim})`},children:e.jsx(_a,{className:"w-12 h-12",style:{color:ks.teal}})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Select a Booking"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a conversation to start chatting"})]})})})]})]})})}const Ghe=9e4;function Whe(s){const t=w.useRef(null);w.useEffect(()=>{if(!s){t.current&&(clearInterval(t.current),t.current=null);return}const r=()=>{vX().catch(()=>{})};return r(),t.current=setInterval(r,Ghe),()=>{t.current&&(clearInterval(t.current),t.current=null)}},[s])}function cp(s){return s+.5|0}const Kl=(s,t,r)=>Math.max(Math.min(s,r),t);function em(s){return Kl(cp(s*2.55),0,255)}function tc(s){return Kl(cp(s*255),0,255)}function zo(s){return Kl(cp(s/2.55)/100,0,1)}function HD(s){return Kl(cp(s*100),0,100)}const qa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jN=[..."0123456789ABCDEF"],Yhe=s=>jN[s&15],Khe=s=>jN[(s&240)>>4]+jN[s&15],lx=s=>(s&240)>>4===(s&15),Xhe=s=>lx(s.r)&&lx(s.g)&&lx(s.b)&&lx(s.a);function Zhe(s){var t=s.length,r;return s[0]==="#"&&(t===4||t===5?r={r:255&qa[s[1]]*17,g:255&qa[s[2]]*17,b:255&qa[s[3]]*17,a:t===5?qa[s[4]]*17:255}:(t===7||t===9)&&(r={r:qa[s[1]]<<4|qa[s[2]],g:qa[s[3]]<<4|qa[s[4]],b:qa[s[5]]<<4|qa[s[6]],a:t===9?qa[s[7]]<<4|qa[s[8]]:255})),r}const Qhe=(s,t)=>s<255?t(s):"";function Jhe(s){var t=Xhe(s)?Yhe:Khe;return s?"#"+t(s.r)+t(s.g)+t(s.b)+Qhe(s.a,t):void 0}const efe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function SB(s,t,r){const n=t*Math.min(r,1-r),a=(i,o=(i+s/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function tfe(s,t,r){const n=(a,i=(a+s/60)%6)=>r-r*t*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function sfe(s,t,r){const n=SB(s,1,.5);let a;for(t+r>1&&(a=1/(t+r),t*=a,r*=a),a=0;a<3;a++)n[a]*=1-t-r,n[a]+=t;return n}function rfe(s,t,r,n,a){return s===a?(t-r)/n+(t<r?6:0):t===a?(r-s)/n+2:(s-t)/n+4}function Ek(s){const r=s.r/255,n=s.g/255,a=s.b/255,i=Math.max(r,n,a),o=Math.min(r,n,a),c=(i+o)/2;let d,h,m;return i!==o&&(m=i-o,h=c>.5?m/(2-i-o):m/(i+o),d=rfe(r,n,a,m,i),d=d*60+.5),[d|0,h||0,c]}function Tk(s,t,r,n){return(Array.isArray(t)?s(t[0],t[1],t[2]):s(t,r,n)).map(tc)}function Rk(s,t,r){return Tk(SB,s,t,r)}function nfe(s,t,r){return Tk(sfe,s,t,r)}function afe(s,t,r){return Tk(tfe,s,t,r)}function CB(s){return(s%360+360)%360}function ife(s){const t=efe.exec(s);let r=255,n;if(!t)return;t[5]!==n&&(r=t[6]?em(+t[5]):tc(+t[5]));const a=CB(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=nfe(a,i,o):t[1]==="hsv"?n=afe(a,i,o):n=Rk(a,i,o),{r:n[0],g:n[1],b:n[2],a:r}}function ofe(s,t){var r=Ek(s);r[0]=CB(r[0]+t),r=Rk(r),s.r=r[0],s.g=r[1],s.b=r[2]}function lfe(s){if(!s)return;const t=Ek(s),r=t[0],n=HD(t[1]),a=HD(t[2]);return s.a<255?`hsla(${r}, ${n}%, ${a}%, ${zo(s.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const qD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},GD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function cfe(){const s={},t=Object.keys(GD),r=Object.keys(qD);let n,a,i,o,c;for(n=0;n<t.length;n++){for(o=c=t[n],a=0;a<r.length;a++)i=r[a],c=c.replace(i,qD[i]);i=parseInt(GD[o],16),s[c]=[i>>16&255,i>>8&255,i&255]}return s}let cx;function dfe(s){cx||(cx=cfe(),cx.transparent=[0,0,0,0]);const t=cx[s.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const ufe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hfe(s){const t=ufe.exec(s);let r=255,n,a,i;if(t){if(t[7]!==n){const o=+t[7];r=t[8]?em(o):Kl(o*255,0,255)}return n=+t[1],a=+t[3],i=+t[5],n=255&(t[2]?em(n):Kl(n,0,255)),a=255&(t[4]?em(a):Kl(a,0,255)),i=255&(t[6]?em(i):Kl(i,0,255)),{r:n,g:a,b:i,a:r}}}function ffe(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${zo(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const O1=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,Eu=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function mfe(s,t,r){const n=Eu(zo(s.r)),a=Eu(zo(s.g)),i=Eu(zo(s.b));return{r:tc(O1(n+r*(Eu(zo(t.r))-n))),g:tc(O1(a+r*(Eu(zo(t.g))-a))),b:tc(O1(i+r*(Eu(zo(t.b))-i))),a:s.a+r*(t.a-s.a)}}function dx(s,t,r){if(s){let n=Ek(s);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,t===0?360:1)),n=Rk(n),s.r=n[0],s.g=n[1],s.b=n[2]}}function AB(s,t){return s&&Object.assign(t||{},s)}function WD(s){var t={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(t={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(t.a=tc(s[3]))):(t=AB(s,{r:0,g:0,b:0,a:1}),t.a=tc(t.a)),t}function pfe(s){return s.charAt(0)==="r"?hfe(s):ife(s)}class Rm{constructor(t){if(t instanceof Rm)return t;const r=typeof t;let n;r==="object"?n=WD(t):r==="string"&&(n=Zhe(t)||dfe(t)||pfe(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=AB(this._rgb);return t&&(t.a=zo(t.a)),t}set rgb(t){this._rgb=WD(t)}rgbString(){return this._valid?ffe(this._rgb):void 0}hexString(){return this._valid?Jhe(this._rgb):void 0}hslString(){return this._valid?lfe(this._rgb):void 0}mix(t,r){if(t){const n=this.rgb,a=t.rgb;let i;const o=r===i?.5:r,c=2*o-1,d=n.a-a.a,h=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;i=1-h,n.r=255&h*n.r+i*a.r+.5,n.g=255&h*n.g+i*a.g+.5,n.b=255&h*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(t,r){return t&&(this._rgb=mfe(this._rgb,t._rgb,r)),this}clone(){return new Rm(this.rgb)}alpha(t){return this._rgb.a=tc(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=cp(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return dx(this._rgb,2,t),this}darken(t){return dx(this._rgb,2,-t),this}saturate(t){return dx(this._rgb,1,t),this}desaturate(t){return dx(this._rgb,1,-t),this}rotate(t){return ofe(this._rgb,t),this}}function Lo(){}const gfe=(()=>{let s=0;return()=>s++})();function hs(s){return s==null}function ar(s){if(Array.isArray&&Array.isArray(s))return!0;const t=Object.prototype.toString.call(s);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function xs(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Ar(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function xa(s,t){return Ar(s)?s:t}function es(s,t){return typeof s>"u"?t:s}const xfe=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/t,EB=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*t:+s;function Xs(s,t,r){if(s&&typeof s.call=="function")return s.apply(r,t)}function Ls(s,t,r,n){let a,i,o;if(ar(s))for(i=s.length,a=0;a<i;a++)t.call(r,s[a],a);else if(xs(s))for(o=Object.keys(s),i=o.length,a=0;a<i;a++)t.call(r,s[o[a]],o[a])}function S0(s,t){let r,n,a,i;if(!s||!t||s.length!==t.length)return!1;for(r=0,n=s.length;r<n;++r)if(a=s[r],i=t[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function C0(s){if(ar(s))return s.map(C0);if(xs(s)){const t=Object.create(null),r=Object.keys(s),n=r.length;let a=0;for(;a<n;++a)t[r[a]]=C0(s[r[a]]);return t}return s}function TB(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function yfe(s,t,r,n){if(!TB(s))return;const a=t[s],i=r[s];xs(a)&&xs(i)?Dm(a,i,n):t[s]=C0(i)}function Dm(s,t,r){const n=ar(t)?t:[t],a=n.length;if(!xs(s))return s;r=r||{};const i=r.merger||yfe;let o;for(let c=0;c<a;++c){if(o=n[c],!xs(o))continue;const d=Object.keys(o);for(let h=0,m=d.length;h<m;++h)i(d[h],s,o,r)}return s}function hm(s,t){return Dm(s,t,{merger:bfe})}function bfe(s,t,r){if(!TB(s))return;const n=t[s],a=r[s];xs(n)&&xs(a)?hm(n,a):Object.prototype.hasOwnProperty.call(t,s)||(t[s]=C0(a))}const YD={"":s=>s,x:s=>s.x,y:s=>s.y};function vfe(s){const t=s.split("."),r=[];let n="";for(const a of t)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function wfe(s){const t=vfe(s);return r=>{for(const n of t){if(n==="")break;r=r&&r[n]}return r}}function hc(s,t){return(YD[t]||(YD[t]=wfe(t)))(s)}function Dk(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Mm=s=>typeof s<"u",fc=s=>typeof s=="function",KD=(s,t)=>{if(s.size!==t.size)return!1;for(const r of s)if(!t.has(r))return!1;return!0};function jfe(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Ts=Math.PI,sr=2*Ts,_fe=sr+Ts,A0=Number.POSITIVE_INFINITY,Nfe=Ts/180,Dr=Ts/2,td=Ts/4,XD=Ts*2/3,Xl=Math.log10,eo=Math.sign;function fm(s,t,r){return Math.abs(s-t)<r}function ZD(s){const t=Math.round(s);s=fm(s,t,s/1e3)?t:s;const r=Math.pow(10,Math.floor(Xl(s))),n=s/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function kfe(s){const t=[],r=Math.sqrt(s);let n;for(n=1;n<r;n++)s%n===0&&(t.push(n),t.push(s/n));return r===(r|0)&&t.push(r),t.sort((a,i)=>a-i).pop(),t}function Sfe(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function dh(s){return!Sfe(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function Cfe(s,t){const r=Math.round(s);return r-t<=s&&r+t>=s}function RB(s,t,r){let n,a,i;for(n=0,a=s.length;n<a;n++)i=s[n][r],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function gi(s){return s*(Ts/180)}function Mk(s){return s*(180/Ts)}function QD(s){if(!Ar(s))return;let t=1,r=0;for(;Math.round(s*t)/t!==s;)t*=10,r++;return r}function DB(s,t){const r=t.x-s.x,n=t.y-s.y,a=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Ts&&(i+=sr),{angle:i,distance:a}}function _N(s,t){return Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}function Afe(s,t){return(s-t+_fe)%sr-Ts}function xn(s){return(s%sr+sr)%sr}function Pm(s,t,r,n){const a=xn(s),i=xn(t),o=xn(r),c=xn(i-a),d=xn(o-a),h=xn(a-i),m=xn(a-o);return a===i||a===o||n&&i===o||c>d&&h<m}function nn(s,t,r){return Math.max(t,Math.min(r,s))}function Efe(s){return nn(s,-32768,32767)}function $o(s,t,r,n=1e-6){return s>=Math.min(t,r)-n&&s<=Math.max(t,r)+n}function Pk(s,t,r){r=r||(o=>s[o]<t);let n=s.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,r(i)?a=i:n=i;return{lo:a,hi:n}}const Vo=(s,t,r,n)=>Pk(s,r,n?a=>{const i=s[a][t];return i<r||i===r&&s[a+1][t]===r}:a=>s[a][t]<r),Tfe=(s,t,r)=>Pk(s,r,n=>s[n][t]>=r);function Rfe(s,t,r){let n=0,a=s.length;for(;n<a&&s[n]<t;)n++;for(;a>n&&s[a-1]>r;)a--;return n>0||a<s.length?s.slice(n,a):s}const MB=["push","pop","shift","splice","unshift"];function Dfe(s,t){if(s._chartjs){s._chartjs.listeners.push(t);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),MB.forEach(r=>{const n="_onData"+Dk(r),a=s[r];Object.defineProperty(s,r,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return s._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...i)}),o}})})}function JD(s,t){const r=s._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(t);a!==-1&&n.splice(a,1),!(n.length>0)&&(MB.forEach(i=>{delete s[i]}),delete s._chartjs)}function PB(s){const t=new Set(s);return t.size===s.length?s:Array.from(t)}const OB=(function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame})();function LB(s,t){let r=[],n=!1;return function(...a){r=a,n||(n=!0,OB.call(window,()=>{n=!1,s.apply(t,r)}))}}function Mfe(s,t){let r;return function(...n){return t?(clearTimeout(r),r=setTimeout(s,t,n)):s.apply(this,n),t}}const Ok=s=>s==="start"?"left":s==="end"?"right":"center",gn=(s,t,r)=>s==="start"?t:s==="end"?r:(t+r)/2,Pfe=(s,t,r,n)=>s===(n?"left":"right")?r:s==="center"?(t+r)/2:t;function FB(s,t,r){const n=t.length;let a=0,i=n;if(s._sorted){const{iScale:o,vScale:c,_parsed:d}=s,h=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,m=o.axis,{min:f,max:g,minDefined:b,maxDefined:v}=o.getUserBounds();if(b){if(a=Math.min(Vo(d,m,f).lo,r?n:Vo(t,m,o.getPixelForValue(f)).lo),h){const y=d.slice(0,a+1).reverse().findIndex(_=>!hs(_[c.axis]));a-=Math.max(0,y)}a=nn(a,0,n-1)}if(v){let y=Math.max(Vo(d,o.axis,g,!0).hi+1,r?0:Vo(t,m,o.getPixelForValue(g),!0).hi+1);if(h){const _=d.slice(y-1).findIndex(j=>!hs(j[c.axis]));y+=Math.max(0,_)}i=nn(y,a,n)-a}else i=n-a}return{start:a,count:i}}function BB(s){const{xScale:t,yScale:r,_scaleRanges:n}=s,a={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return s._scaleRanges=a,!0;const i=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),i}const ux=s=>s===0||s===1,e3=(s,t,r)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-t)*sr/r)),t3=(s,t,r)=>Math.pow(2,-10*s)*Math.sin((s-t)*sr/r)+1,mm={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*Dr)+1,easeOutSine:s=>Math.sin(s*Dr),easeInOutSine:s=>-.5*(Math.cos(Ts*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>ux(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>ux(s)?s:e3(s,.075,.3),easeOutElastic:s=>ux(s)?s:t3(s,.075,.3),easeInOutElastic(s){return ux(s)?s:s<.5?.5*e3(s*2,.1125,.45):.5+.5*t3(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let t=1.70158;return(s/=.5)<1?.5*(s*s*(((t*=1.525)+1)*s-t)):.5*((s-=2)*s*(((t*=1.525)+1)*s+t)+2)},easeInBounce:s=>1-mm.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?mm.easeInBounce(s*2)*.5:mm.easeOutBounce(s*2-1)*.5+.5};function Lk(s){if(s&&typeof s=="object"){const t=s.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function s3(s){return Lk(s)?s:new Rm(s)}function L1(s){return Lk(s)?s:new Rm(s).saturate(.5).darken(.1).hexString()}const Ofe=["x","y","borderWidth","radius","tension"],Lfe=["color","borderColor","backgroundColor"];function Ffe(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),s.set("animations",{colors:{type:"color",properties:Lfe},numbers:{type:"number",properties:Ofe}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Bfe(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const r3=new Map;function Ife(s,t){t=t||{};const r=s+JSON.stringify(t);let n=r3.get(r);return n||(n=new Intl.NumberFormat(s,t),r3.set(r,n)),n}function dp(s,t,r){return Ife(t,r).format(s)}const IB={values(s){return ar(s)?s:""+s},numeric(s,t,r){if(s===0)return"0";const n=this.chart.options.locale;let a,i=s;if(r.length>1){const h=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(h<1e-4||h>1e15)&&(a="scientific"),i=zfe(s,r)}const o=Xl(Math.abs(i)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),d={notation:a,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),dp(s,n,d)},logarithmic(s,t,r){if(s===0)return"0";const n=r[t].significand||s/Math.pow(10,Math.floor(Xl(s)));return[1,2,3,5,10,15].includes(n)||t>.8*r.length?IB.numeric.call(this,s,t,r):""}};function zfe(s,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&s!==Math.floor(s)&&(r=s-Math.floor(s)),r}var Ry={formatters:IB};function Ufe(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,r)=>r.lineWidth,tickColor:(t,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ry.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Rd=Object.create(null),NN=Object.create(null);function pm(s,t){if(!t)return s;const r=t.split(".");for(let n=0,a=r.length;n<a;++n){const i=r[n];s=s[i]||(s[i]=Object.create(null))}return s}function F1(s,t,r){return typeof t=="string"?Dm(pm(s,t),r):Dm(pm(s,""),t)}class $fe{constructor(t,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>L1(a.backgroundColor),this.hoverBorderColor=(n,a)=>L1(a.borderColor),this.hoverColor=(n,a)=>L1(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(r)}set(t,r){return F1(this,t,r)}get(t){return pm(this,t)}describe(t,r){return F1(NN,t,r)}override(t,r){return F1(Rd,t,r)}route(t,r,n,a){const i=pm(this,t),o=pm(this,n),c="_"+r;Object.defineProperties(i,{[c]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const d=this[c],h=o[a];return xs(d)?Object.assign({},h,d):es(d,h)},set(d){this[c]=d}}})}apply(t){t.forEach(r=>r(this))}}var lr=new $fe({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ffe,Bfe,Ufe]);function Vfe(s){return!s||hs(s.size)||hs(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function E0(s,t,r,n,a){let i=t[a];return i||(i=t[a]=s.measureText(a).width,r.push(a)),i>n&&(n=i),n}function Hfe(s,t,r,n){n=n||{};let a=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(a=n.data={},i=n.garbageCollect=[],n.font=t),s.save(),s.font=t;let o=0;const c=r.length;let d,h,m,f,g;for(d=0;d<c;d++)if(f=r[d],f!=null&&!ar(f))o=E0(s,a,i,o,f);else if(ar(f))for(h=0,m=f.length;h<m;h++)g=f[h],g!=null&&!ar(g)&&(o=E0(s,a,i,o,g));s.restore();const b=i.length/2;if(b>r.length){for(d=0;d<b;d++)delete a[i[d]];i.splice(0,b)}return o}function sd(s,t,r){const n=s.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((t-a)*n)/n+a}function n3(s,t){!t&&!s||(t=t||s.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,s.width,s.height),t.restore())}function kN(s,t,r,n){zB(s,t,r,n,null)}function zB(s,t,r,n,a){let i,o,c,d,h,m,f,g;const b=t.pointStyle,v=t.rotation,y=t.radius;let _=(v||0)*Nfe;if(b&&typeof b=="object"&&(i=b.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){s.save(),s.translate(r,n),s.rotate(_),s.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),s.restore();return}if(!(isNaN(y)||y<=0)){switch(s.beginPath(),b){default:a?s.ellipse(r,n,a/2,y,0,0,sr):s.arc(r,n,y,0,sr),s.closePath();break;case"triangle":m=a?a/2:y,s.moveTo(r+Math.sin(_)*m,n-Math.cos(_)*y),_+=XD,s.lineTo(r+Math.sin(_)*m,n-Math.cos(_)*y),_+=XD,s.lineTo(r+Math.sin(_)*m,n-Math.cos(_)*y),s.closePath();break;case"rectRounded":h=y*.516,d=y-h,o=Math.cos(_+td)*d,f=Math.cos(_+td)*(a?a/2-h:d),c=Math.sin(_+td)*d,g=Math.sin(_+td)*(a?a/2-h:d),s.arc(r-f,n-c,h,_-Ts,_-Dr),s.arc(r+g,n-o,h,_-Dr,_),s.arc(r+f,n+c,h,_,_+Dr),s.arc(r-g,n+o,h,_+Dr,_+Ts),s.closePath();break;case"rect":if(!v){d=Math.SQRT1_2*y,m=a?a/2:d,s.rect(r-m,n-d,2*m,2*d);break}_+=td;case"rectRot":f=Math.cos(_)*(a?a/2:y),o=Math.cos(_)*y,c=Math.sin(_)*y,g=Math.sin(_)*(a?a/2:y),s.moveTo(r-f,n-c),s.lineTo(r+g,n-o),s.lineTo(r+f,n+c),s.lineTo(r-g,n+o),s.closePath();break;case"crossRot":_+=td;case"cross":f=Math.cos(_)*(a?a/2:y),o=Math.cos(_)*y,c=Math.sin(_)*y,g=Math.sin(_)*(a?a/2:y),s.moveTo(r-f,n-c),s.lineTo(r+f,n+c),s.moveTo(r+g,n-o),s.lineTo(r-g,n+o);break;case"star":f=Math.cos(_)*(a?a/2:y),o=Math.cos(_)*y,c=Math.sin(_)*y,g=Math.sin(_)*(a?a/2:y),s.moveTo(r-f,n-c),s.lineTo(r+f,n+c),s.moveTo(r+g,n-o),s.lineTo(r-g,n+o),_+=td,f=Math.cos(_)*(a?a/2:y),o=Math.cos(_)*y,c=Math.sin(_)*y,g=Math.sin(_)*(a?a/2:y),s.moveTo(r-f,n-c),s.lineTo(r+f,n+c),s.moveTo(r+g,n-o),s.lineTo(r-g,n+o);break;case"line":o=a?a/2:Math.cos(_)*y,c=Math.sin(_)*y,s.moveTo(r-o,n-c),s.lineTo(r+o,n+c);break;case"dash":s.moveTo(r,n),s.lineTo(r+Math.cos(_)*(a?a/2:y),n+Math.sin(_)*y);break;case!1:s.closePath();break}s.fill(),t.borderWidth>0&&s.stroke()}}function Ho(s,t,r){return r=r||.5,!t||s&&s.x>t.left-r&&s.x<t.right+r&&s.y>t.top-r&&s.y<t.bottom+r}function Dy(s,t){s.save(),s.beginPath(),s.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),s.clip()}function My(s){s.restore()}function qfe(s,t,r,n,a){if(!t)return s.lineTo(r.x,r.y);if(a==="middle"){const i=(t.x+r.x)/2;s.lineTo(i,t.y),s.lineTo(i,r.y)}else a==="after"!=!!n?s.lineTo(t.x,r.y):s.lineTo(r.x,t.y);s.lineTo(r.x,r.y)}function Gfe(s,t,r,n){if(!t)return s.lineTo(r.x,r.y);s.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function Wfe(s,t){t.translation&&s.translate(t.translation[0],t.translation[1]),hs(t.rotation)||s.rotate(t.rotation),t.color&&(s.fillStyle=t.color),t.textAlign&&(s.textAlign=t.textAlign),t.textBaseline&&(s.textBaseline=t.textBaseline)}function Yfe(s,t,r,n,a){if(a.strikethrough||a.underline){const i=s.measureText(n),o=t-i.actualBoundingBoxLeft,c=t+i.actualBoundingBoxRight,d=r-i.actualBoundingBoxAscent,h=r+i.actualBoundingBoxDescent,m=a.strikethrough?(d+h)/2:h;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=a.decorationWidth||2,s.moveTo(o,m),s.lineTo(c,m),s.stroke()}}function Kfe(s,t){const r=s.fillStyle;s.fillStyle=t.color,s.fillRect(t.left,t.top,t.width,t.height),s.fillStyle=r}function Dd(s,t,r,n,a,i={}){const o=ar(t)?t:[t],c=i.strokeWidth>0&&i.strokeColor!=="";let d,h;for(s.save(),s.font=a.string,Wfe(s,i),d=0;d<o.length;++d)h=o[d],i.backdrop&&Kfe(s,i.backdrop),c&&(i.strokeColor&&(s.strokeStyle=i.strokeColor),hs(i.strokeWidth)||(s.lineWidth=i.strokeWidth),s.strokeText(h,r,n,i.maxWidth)),s.fillText(h,r,n,i.maxWidth),Yfe(s,r,n,h,i),n+=Number(a.lineHeight);s.restore()}function Om(s,t){const{x:r,y:n,w:a,h:i,radius:o}=t;s.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*Ts,Ts,!0),s.lineTo(r,n+i-o.bottomLeft),s.arc(r+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,Ts,Dr,!0),s.lineTo(r+a-o.bottomRight,n+i),s.arc(r+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,Dr,0,!0),s.lineTo(r+a,n+o.topRight),s.arc(r+a-o.topRight,n+o.topRight,o.topRight,0,-Dr,!0),s.lineTo(r+o.topLeft,n)}const Xfe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Zfe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Qfe(s,t){const r=(""+s).match(Xfe);if(!r||r[1]==="normal")return t*1.2;switch(s=+r[2],r[3]){case"px":return s;case"%":s/=100;break}return t*s}const Jfe=s=>+s||0;function Fk(s,t){const r={},n=xs(t),a=n?Object.keys(t):t,i=xs(s)?n?o=>es(s[o],s[t[o]]):o=>s[o]:()=>s;for(const o of a)r[o]=Jfe(i(o));return r}function UB(s){return Fk(s,{top:"y",right:"x",bottom:"y",left:"x"})}function wd(s){return Fk(s,["topLeft","topRight","bottomLeft","bottomRight"])}function kn(s){const t=UB(s);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Qr(s,t){s=s||{},t=t||lr.font;let r=es(s.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let n=es(s.style,t.style);n&&!(""+n).match(Zfe)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:es(s.family,t.family),lineHeight:Qfe(es(s.lineHeight,t.lineHeight),r),size:r,style:n,weight:es(s.weight,t.weight),string:""};return a.string=Vfe(a),a}function tm(s,t,r,n){let a,i,o;for(a=0,i=s.length;a<i;++a)if(o=s[a],o!==void 0&&o!==void 0)return o}function eme(s,t,r){const{min:n,max:a}=s,i=EB(t,(a-n)/2),o=(c,d)=>r&&c===0?0:c+d;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function vc(s,t){return Object.assign(Object.create(s),t)}function Bk(s,t=[""],r,n,a=()=>s[0]){const i=r||s;typeof n>"u"&&(n=qB("_fallback",s));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:i,_fallback:n,_getTarget:a,override:c=>Bk([c,...s],t,i,n)};return new Proxy(o,{deleteProperty(c,d){return delete c[d],delete c._keys,delete s[0][d],!0},get(c,d){return VB(c,d,()=>lme(d,t,s,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(c,d){return i3(c).includes(d)},ownKeys(c){return i3(c)},set(c,d,h){const m=c._storage||(c._storage=a());return c[d]=m[d]=h,delete c._keys,!0}})}function uh(s,t,r,n){const a={_cacheable:!1,_proxy:s,_context:t,_subProxy:r,_stack:new Set,_descriptors:$B(s,n),setContext:i=>uh(s,i,r,n),override:i=>uh(s.override(i),t,r,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete s[o],!0},get(i,o,c){return VB(i,o,()=>sme(i,o,c))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(s,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,o)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(i,o){return Reflect.has(s,o)},ownKeys(){return Reflect.ownKeys(s)},set(i,o,c){return s[o]=c,delete i[o],!0}})}function $B(s,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:a=t.allKeys}=s;return{allKeys:a,scriptable:r,indexable:n,isScriptable:fc(r)?r:()=>r,isIndexable:fc(n)?n:()=>n}}const tme=(s,t)=>s?s+Dk(t):t,Ik=(s,t)=>xs(t)&&s!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function VB(s,t,r){if(Object.prototype.hasOwnProperty.call(s,t)||t==="constructor")return s[t];const n=r();return s[t]=n,n}function sme(s,t,r){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=s;let c=n[t];return fc(c)&&o.isScriptable(t)&&(c=rme(t,c,s,r)),ar(c)&&c.length&&(c=nme(t,c,s,o.isIndexable)),Ik(t,c)&&(c=uh(c,a,i&&i[t],o)),c}function rme(s,t,r,n){const{_proxy:a,_context:i,_subProxy:o,_stack:c}=r;if(c.has(s))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+s);c.add(s);let d=t(i,o||n);return c.delete(s),Ik(s,d)&&(d=zk(a._scopes,a,s,d)),d}function nme(s,t,r,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:c}=r;if(typeof i.index<"u"&&n(s))return t[i.index%t.length];if(xs(t[0])){const d=t,h=a._scopes.filter(m=>m!==d);t=[];for(const m of d){const f=zk(h,a,s,m);t.push(uh(f,i,o&&o[s],c))}}return t}function HB(s,t,r){return fc(s)?s(t,r):s}const ame=(s,t)=>s===!0?t:typeof s=="string"?hc(t,s):void 0;function ime(s,t,r,n,a){for(const i of t){const o=ame(r,i);if(o){s.add(o);const c=HB(o._fallback,r,a);if(typeof c<"u"&&c!==r&&c!==n)return c}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function zk(s,t,r,n){const a=t._rootScopes,i=HB(t._fallback,r,n),o=[...s,...a],c=new Set;c.add(n);let d=a3(c,o,r,i||r,n);return d===null||typeof i<"u"&&i!==r&&(d=a3(c,o,i,d,n),d===null)?!1:Bk(Array.from(c),[""],a,i,()=>ome(t,r,n))}function a3(s,t,r,n,a){for(;r;)r=ime(s,t,r,n,a);return r}function ome(s,t,r){const n=s._getTarget();t in n||(n[t]={});const a=n[t];return ar(a)&&xs(r)?r:a||{}}function lme(s,t,r,n){let a;for(const i of t)if(a=qB(tme(i,s),r),typeof a<"u")return Ik(s,a)?zk(r,n,s,a):a}function qB(s,t){for(const r of t){if(!r)continue;const n=r[s];if(typeof n<"u")return n}}function i3(s){let t=s._keys;return t||(t=s._keys=cme(s._scopes)),t}function cme(s){const t=new Set;for(const r of s)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))t.add(n);return Array.from(t)}function GB(s,t,r,n){const{iScale:a}=s,{key:i="r"}=this._parsing,o=new Array(n);let c,d,h,m;for(c=0,d=n;c<d;++c)h=c+r,m=t[h],o[c]={r:a.parse(hc(m,i),h)};return o}const dme=Number.EPSILON||1e-14,hh=(s,t)=>t<s.length&&!s[t].skip&&s[t],WB=s=>s==="x"?"y":"x";function ume(s,t,r,n){const a=s.skip?t:s,i=t,o=r.skip?t:r,c=_N(i,a),d=_N(o,i);let h=c/(c+d),m=d/(c+d);h=isNaN(h)?0:h,m=isNaN(m)?0:m;const f=n*h,g=n*m;return{previous:{x:i.x-f*(o.x-a.x),y:i.y-f*(o.y-a.y)},next:{x:i.x+g*(o.x-a.x),y:i.y+g*(o.y-a.y)}}}function hme(s,t,r){const n=s.length;let a,i,o,c,d,h=hh(s,0);for(let m=0;m<n-1;++m)if(d=h,h=hh(s,m+1),!(!d||!h)){if(fm(t[m],0,dme)){r[m]=r[m+1]=0;continue}a=r[m]/t[m],i=r[m+1]/t[m],c=Math.pow(a,2)+Math.pow(i,2),!(c<=9)&&(o=3/Math.sqrt(c),r[m]=a*o*t[m],r[m+1]=i*o*t[m])}}function fme(s,t,r="x"){const n=WB(r),a=s.length;let i,o,c,d=hh(s,0);for(let h=0;h<a;++h){if(o=c,c=d,d=hh(s,h+1),!c)continue;const m=c[r],f=c[n];o&&(i=(m-o[r])/3,c[`cp1${r}`]=m-i,c[`cp1${n}`]=f-i*t[h]),d&&(i=(d[r]-m)/3,c[`cp2${r}`]=m+i,c[`cp2${n}`]=f+i*t[h])}}function mme(s,t="x"){const r=WB(t),n=s.length,a=Array(n).fill(0),i=Array(n);let o,c,d,h=hh(s,0);for(o=0;o<n;++o)if(c=d,d=h,h=hh(s,o+1),!!d){if(h){const m=h[t]-d[t];a[o]=m!==0?(h[r]-d[r])/m:0}i[o]=c?h?eo(a[o-1])!==eo(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}hme(s,a,i),fme(s,i,t)}function hx(s,t,r){return Math.max(Math.min(s,r),t)}function pme(s,t){let r,n,a,i,o,c=Ho(s[0],t);for(r=0,n=s.length;r<n;++r)o=i,i=c,c=r<n-1&&Ho(s[r+1],t),i&&(a=s[r],o&&(a.cp1x=hx(a.cp1x,t.left,t.right),a.cp1y=hx(a.cp1y,t.top,t.bottom)),c&&(a.cp2x=hx(a.cp2x,t.left,t.right),a.cp2y=hx(a.cp2y,t.top,t.bottom)))}function gme(s,t,r,n,a){let i,o,c,d;if(t.spanGaps&&(s=s.filter(h=>!h.skip)),t.cubicInterpolationMode==="monotone")mme(s,a);else{let h=n?s[s.length-1]:s[0];for(i=0,o=s.length;i<o;++i)c=s[i],d=ume(h,c,s[Math.min(i+1,o-(n?0:1))%o],t.tension),c.cp1x=d.previous.x,c.cp1y=d.previous.y,c.cp2x=d.next.x,c.cp2y=d.next.y,h=c}t.capBezierPoints&&pme(s,r)}function Uk(){return typeof window<"u"&&typeof document<"u"}function $k(s){let t=s.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function T0(s,t,r){let n;return typeof s=="string"?(n=parseInt(s,10),s.indexOf("%")!==-1&&(n=n/100*t.parentNode[r])):n=s,n}const Py=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function xme(s,t){return Py(s).getPropertyValue(t)}const yme=["top","right","bottom","left"];function jd(s,t,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=yme[a];n[i]=parseFloat(s[t+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const bme=(s,t,r)=>(s>0||t>0)&&(!r||!r.shadowRoot);function vme(s,t){const r=s.touches,n=r&&r.length?r[0]:s,{offsetX:a,offsetY:i}=n;let o=!1,c,d;if(bme(a,i,s.target))c=a,d=i;else{const h=t.getBoundingClientRect();c=n.clientX-h.left,d=n.clientY-h.top,o=!0}return{x:c,y:d,box:o}}function cd(s,t){if("native"in s)return s;const{canvas:r,currentDevicePixelRatio:n}=t,a=Py(r),i=a.boxSizing==="border-box",o=jd(a,"padding"),c=jd(a,"border","width"),{x:d,y:h,box:m}=vme(s,r),f=o.left+(m&&c.left),g=o.top+(m&&c.top);let{width:b,height:v}=t;return i&&(b-=o.width+c.width,v-=o.height+c.height),{x:Math.round((d-f)/b*r.width/n),y:Math.round((h-g)/v*r.height/n)}}function wme(s,t,r){let n,a;if(t===void 0||r===void 0){const i=s&&$k(s);if(!i)t=s.clientWidth,r=s.clientHeight;else{const o=i.getBoundingClientRect(),c=Py(i),d=jd(c,"border","width"),h=jd(c,"padding");t=o.width-h.width-d.width,r=o.height-h.height-d.height,n=T0(c.maxWidth,i,"clientWidth"),a=T0(c.maxHeight,i,"clientHeight")}}return{width:t,height:r,maxWidth:n||A0,maxHeight:a||A0}}const Zl=s=>Math.round(s*10)/10;function jme(s,t,r,n){const a=Py(s),i=jd(a,"margin"),o=T0(a.maxWidth,s,"clientWidth")||A0,c=T0(a.maxHeight,s,"clientHeight")||A0,d=wme(s,t,r);let{width:h,height:m}=d;if(a.boxSizing==="content-box"){const g=jd(a,"border","width"),b=jd(a,"padding");h-=b.width+g.width,m-=b.height+g.height}return h=Math.max(0,h-i.width),m=Math.max(0,n?h/n:m-i.height),h=Zl(Math.min(h,o,d.maxWidth)),m=Zl(Math.min(m,c,d.maxHeight)),h&&!m&&(m=Zl(h/2)),(t!==void 0||r!==void 0)&&n&&d.height&&m>d.height&&(m=d.height,h=Zl(Math.floor(m*n))),{width:h,height:m}}function o3(s,t,r){const n=t||1,a=Zl(s.height*n),i=Zl(s.width*n);s.height=Zl(s.height),s.width=Zl(s.width);const o=s.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${s.height}px`,o.style.width=`${s.width}px`),s.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(s.currentDevicePixelRatio=n,o.height=a,o.width=i,s.ctx.setTransform(n,0,0,n,0,0),!0):!1}const _me=(function(){let s=!1;try{const t={get passive(){return s=!0,!1}};Uk()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return s})();function l3(s,t){const r=xme(s,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function dd(s,t,r,n){return{x:s.x+r*(t.x-s.x),y:s.y+r*(t.y-s.y)}}function Nme(s,t,r,n){return{x:s.x+r*(t.x-s.x),y:n==="middle"?r<.5?s.y:t.y:n==="after"?r<1?s.y:t.y:r>0?t.y:s.y}}function kme(s,t,r,n){const a={x:s.cp2x,y:s.cp2y},i={x:t.cp1x,y:t.cp1y},o=dd(s,a,r),c=dd(a,i,r),d=dd(i,t,r),h=dd(o,c,r),m=dd(c,d,r);return dd(h,m,r)}const Sme=function(s,t){return{x(r){return s+s+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},Cme=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,t){return s+t},leftForLtr(s,t){return s}}};function Xu(s,t,r){return s?Sme(t,r):Cme()}function YB(s,t){let r,n;(t==="ltr"||t==="rtl")&&(r=s.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),s.prevTextDirection=n)}function KB(s,t){t!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",t[0],t[1]))}function XB(s){return s==="angle"?{between:Pm,compare:Afe,normalize:xn}:{between:$o,compare:(t,r)=>t-r,normalize:t=>t}}function c3({start:s,end:t,count:r,loop:n,style:a}){return{start:s%r,end:t%r,loop:n&&(t-s+1)%r===0,style:a}}function Ame(s,t,r){const{property:n,start:a,end:i}=r,{between:o,normalize:c}=XB(n),d=t.length;let{start:h,end:m,loop:f}=s,g,b;if(f){for(h+=d,m+=d,g=0,b=d;g<b&&o(c(t[h%d][n]),a,i);++g)h--,m--;h%=d,m%=d}return m<h&&(m+=d),{start:h,end:m,loop:f,style:s.style}}function ZB(s,t,r){if(!r)return[s];const{property:n,start:a,end:i}=r,o=t.length,{compare:c,between:d,normalize:h}=XB(n),{start:m,end:f,loop:g,style:b}=Ame(s,t,r),v=[];let y=!1,_=null,j,S,N;const k=()=>d(a,N,j)&&c(a,N)!==0,C=()=>c(i,j)===0||d(i,N,j),z=()=>y||k(),E=()=>!y||C();for(let U=m,T=m;U<=f;++U)S=t[U%o],!S.skip&&(j=h(S[n]),j!==N&&(y=d(j,a,i),_===null&&z()&&(_=c(j,a)===0?U:T),_!==null&&E()&&(v.push(c3({start:_,end:U,loop:g,count:o,style:b})),_=null),T=U,N=j));return _!==null&&v.push(c3({start:_,end:f,loop:g,count:o,style:b})),v}function QB(s,t){const r=[],n=s.segments;for(let a=0;a<n.length;a++){const i=ZB(n[a],s.points,t);i.length&&r.push(...i)}return r}function Eme(s,t,r,n){let a=0,i=t-1;if(r&&!n)for(;a<t&&!s[a].skip;)a++;for(;a<t&&s[a].skip;)a++;for(a%=t,r&&(i+=a);i>a&&s[i%t].skip;)i--;return i%=t,{start:a,end:i}}function Tme(s,t,r,n){const a=s.length,i=[];let o=t,c=s[t],d;for(d=t+1;d<=r;++d){const h=s[d%a];h.skip||h.stop?c.skip||(n=!1,i.push({start:t%a,end:(d-1)%a,loop:n}),t=o=h.stop?d:null):(o=d,c.skip&&(t=d)),c=h}return o!==null&&i.push({start:t%a,end:o%a,loop:n}),i}function Rme(s,t){const r=s.points,n=s.options.spanGaps,a=r.length;if(!a)return[];const i=!!s._loop,{start:o,end:c}=Eme(r,a,i,n);if(n===!0)return d3(s,[{start:o,end:c,loop:i}],r,t);const d=c<o?c+a:c,h=!!s._fullLoop&&o===0&&c===a-1;return d3(s,Tme(r,o,d,h),r,t)}function d3(s,t,r,n){return!n||!n.setContext||!r?t:Dme(s,t,r,n)}function Dme(s,t,r,n){const a=s._chart.getContext(),i=u3(s.options),{_datasetIndex:o,options:{spanGaps:c}}=s,d=r.length,h=[];let m=i,f=t[0].start,g=f;function b(v,y,_,j){const S=c?-1:1;if(v!==y){for(v+=d;r[v%d].skip;)v-=S;for(;r[y%d].skip;)y+=S;v%d!==y%d&&(h.push({start:v%d,end:y%d,loop:_,style:j}),m=j,f=y%d)}}for(const v of t){f=c?f:v.start;let y=r[f%d],_;for(g=f+1;g<=v.end;g++){const j=r[g%d];_=u3(n.setContext(vc(a,{type:"segment",p0:y,p1:j,p0DataIndex:(g-1)%d,p1DataIndex:g%d,datasetIndex:o}))),Mme(_,m)&&b(f,g-1,v.loop,m),y=j,m=_}f<g-1&&b(f,g-1,v.loop,m)}return h}function u3(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function Mme(s,t){if(!t)return!1;const r=[],n=function(a,i){return Lk(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(s,n)!==JSON.stringify(t,n)}function fx(s,t,r){return s.options.clip?s[r]:t[r]}function Pme(s,t){const{xScale:r,yScale:n}=s;return r&&n?{left:fx(r,t,"left"),right:fx(r,t,"right"),top:fx(n,t,"top"),bottom:fx(n,t,"bottom")}:t}function JB(s,t){const r=t._clip;if(r.disabled)return!1;const n=Pme(t,s.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?s.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?s.height:n.bottom+(r.bottom===!0?0:r.bottom)}}class Ome{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,n,a){const i=r.listeners[a],o=r.duration;i.forEach(c=>c({chart:t,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=OB.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,c=!1,d;for(;o>=0;--o)d=i[o],d._active?(d._total>n.duration&&(n.duration=d._total),d.tick(t),c=!0):(i[o]=i[i.length-1],i.pop());c&&(a.draw(),this._notify(a,n,t,"progress")),i.length||(n.running=!1,this._notify(a,n,t,"complete"),n.initial=!1),r+=i.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let n=r.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,n)),n}listen(t,r,n){this._getAnims(t).listeners[r].push(n)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Bo=new Ome;const h3="transparent",Lme={boolean(s,t,r){return r>.5?t:s},color(s,t,r){const n=s3(s||h3),a=n.valid&&s3(t||h3);return a&&a.valid?a.mix(n,r).hexString():t},number(s,t,r){return s+(t-s)*r}};class Fme{constructor(t,r,n,a){const i=r[n];a=tm([t.to,a,i,t.from]);const o=tm([t.from,i,a]);this._active=!0,this._fn=t.fn||Lme[t.type||typeof o],this._easing=mm[t.easing]||mm.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(t,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=tm([t.to,r,a,t.from]),this._from=tm([t.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,c=this._to;let d;if(this._active=i!==c&&(o||r<n),!this._active){this._target[a]=c,this._notify(!0);return}if(r<0){this._target[a]=i;return}d=r/n%2,d=o&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[a]=this._fn(i,c,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,n)=>{t.push({res:r,rej:n})})}_notify(t){const r=t?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class eI{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!xs(t))return;const r=Object.keys(lr.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const i=t[a];if(!xs(i))return;const o={};for(const c of r)o[c]=i[c];(ar(i.properties)&&i.properties||[a]).forEach(c=>{(c===a||!n.has(c))&&n.set(c,o)})})}_animateOptions(t,r){const n=r.options,a=Ime(t,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&Bme(t.options.$animations,n).then(()=>{t.options=n},()=>{}),i}_createAnimations(t,r){const n=this._properties,a=[],i=t.$animations||(t.$animations={}),o=Object.keys(r),c=Date.now();let d;for(d=o.length-1;d>=0;--d){const h=o[d];if(h.charAt(0)==="$")continue;if(h==="options"){a.push(...this._animateOptions(t,r));continue}const m=r[h];let f=i[h];const g=n.get(h);if(f)if(g&&f.active()){f.update(g,m,c);continue}else f.cancel();if(!g||!g.duration){t[h]=m;continue}i[h]=f=new Fme(g,t,h,m),a.push(f)}return a}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const n=this._createAnimations(t,r);if(n.length)return Bo.add(this._chart,n),!0}}function Bme(s,t){const r=[],n=Object.keys(t);for(let a=0;a<n.length;a++){const i=s[n[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function Ime(s,t){if(!t)return;let r=s.options;if(!r){s.options=t;return}return r.$shared&&(s.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function f3(s,t){const r=s&&s.options||{},n=r.reverse,a=r.min===void 0?t:0,i=r.max===void 0?t:0;return{start:n?i:a,end:n?a:i}}function zme(s,t,r){if(r===!1)return!1;const n=f3(s,r),a=f3(t,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function Ume(s){let t,r,n,a;return xs(s)?(t=s.top,r=s.right,n=s.bottom,a=s.left):t=r=n=a=s,{top:t,right:r,bottom:n,left:a,disabled:s===!1}}function tI(s,t){const r=[],n=s._getSortedDatasetMetas(t);let a,i;for(a=0,i=n.length;a<i;++a)r.push(n[a].index);return r}function m3(s,t,r,n={}){const a=s.keys,i=n.mode==="single";let o,c,d,h;if(t===null)return;let m=!1;for(o=0,c=a.length;o<c;++o){if(d=+a[o],d===r){if(m=!0,n.all)continue;break}h=s.values[d],Ar(h)&&(i||t===0||eo(t)===eo(h))&&(t+=h)}return!m&&!n.all?0:t}function $me(s,t){const{iScale:r,vScale:n}=t,a=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(s),c=new Array(o.length);let d,h,m;for(d=0,h=o.length;d<h;++d)m=o[d],c[d]={[a]:m,[i]:s[m]};return c}function B1(s,t){const r=s&&s.options.stacked;return r||r===void 0&&t.stack!==void 0}function Vme(s,t,r){return`${s.id}.${t.id}.${r.stack||r.type}`}function Hme(s){const{min:t,max:r,minDefined:n,maxDefined:a}=s.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function qme(s,t,r){const n=s[t]||(s[t]={});return n[r]||(n[r]={})}function p3(s,t,r,n){for(const a of t.getMatchingVisibleMetas(n).reverse()){const i=s[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function g3(s,t){const{chart:r,_cachedMeta:n}=s,a=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:c}=n,d=i.axis,h=o.axis,m=Vme(i,o,n),f=t.length;let g;for(let b=0;b<f;++b){const v=t[b],{[d]:y,[h]:_}=v,j=v._stacks||(v._stacks={});g=j[h]=qme(a,m,y),g[c]=_,g._top=p3(g,o,!0,n.type),g._bottom=p3(g,o,!1,n.type);const S=g._visualValues||(g._visualValues={});S[c]=_}}function I1(s,t){const r=s.scales;return Object.keys(r).filter(n=>r[n].axis===t).shift()}function Gme(s,t){return vc(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Wme(s,t,r){return vc(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function zf(s,t){const r=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){t=t||s._parsed;for(const a of t){const i=a._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const z1=s=>s==="reset"||s==="none",x3=(s,t)=>t?s:Object.assign({},s),Yme=(s,t,r)=>s&&!t.hidden&&t._stacked&&{keys:tI(r,!0),values:null};class wc{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=B1(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&zf(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,g,b,v)=>f==="x"?g:f==="r"?v:b,i=r.xAxisID=es(n.xAxisID,I1(t,"x")),o=r.yAxisID=es(n.yAxisID,I1(t,"y")),c=r.rAxisID=es(n.rAxisID,I1(t,"r")),d=r.indexAxis,h=r.iAxisID=a(d,i,o,c),m=r.vAxisID=a(d,o,i,c);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(h),r.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&JD(this._data,this),t._stacked&&zf(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),n=this._data;if(xs(r)){const a=this._cachedMeta;this._data=$me(r,a)}else if(n!==r){if(n){JD(n,this);const a=this._cachedMeta;zf(a),a._parsed=[]}r&&Object.isExtensible(r)&&Dfe(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=B1(r.vScale,r),r.stack!==n.stack&&(a=!0,zf(r),r.stack=n.stack),this._resyncElements(t),(a||i!==r._stacked)&&(g3(this,r._parsed),r._stacked=B1(r.vScale,r))}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,c=i.axis;let d=t===0&&r===a.length?!0:n._sorted,h=t>0&&n._parsed[t-1],m,f,g;if(this._parsing===!1)n._parsed=a,n._sorted=!0,g=a;else{ar(a[t])?g=this.parseArrayData(n,a,t,r):xs(a[t])?g=this.parseObjectData(n,a,t,r):g=this.parsePrimitiveData(n,a,t,r);const b=()=>f[c]===null||h&&f[c]<h[c];for(m=0;m<r;++m)n._parsed[m+t]=f=g[m],d&&(b()&&(d=!1),h=f);n._sorted=d}o&&g3(this,g)}parsePrimitiveData(t,r,n,a){const{iScale:i,vScale:o}=t,c=i.axis,d=o.axis,h=i.getLabels(),m=i===o,f=new Array(a);let g,b,v;for(g=0,b=a;g<b;++g)v=g+n,f[g]={[c]:m||i.parse(h[v],v),[d]:o.parse(r[v],v)};return f}parseArrayData(t,r,n,a){const{xScale:i,yScale:o}=t,c=new Array(a);let d,h,m,f;for(d=0,h=a;d<h;++d)m=d+n,f=r[m],c[d]={x:i.parse(f[0],m),y:o.parse(f[1],m)};return c}parseObjectData(t,r,n,a){const{xScale:i,yScale:o}=t,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=new Array(a);let m,f,g,b;for(m=0,f=a;m<f;++m)g=m+n,b=r[g],h[m]={x:i.parse(hc(b,c),g),y:o.parse(hc(b,d),g)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,n){const a=this.chart,i=this._cachedMeta,o=r[t.axis],c={keys:tI(a,!0),values:r._stacks[t.axis]._visualValues};return m3(c,o,i.index,{mode:n})}updateRangeFromParsed(t,r,n,a){const i=n[r.axis];let o=i===null?NaN:i;const c=a&&n._stacks[r.axis];a&&c&&(a.values=c,o=m3(a,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,r){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&t===n.iScale,o=a.length,c=this._getOtherScale(t),d=Yme(r,n,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:f}=Hme(c);let g,b;function v(){b=a[g];const y=b[c.axis];return!Ar(b[t.axis])||m>y||f<y}for(g=0;g<o&&!(!v()&&(this.updateRangeFromParsed(h,t,b,d),i));++g);if(i){for(g=o-1;g>=0;--g)if(!v()){this.updateRangeFromParsed(h,t,b,d);break}}return h}getAllParsedValues(t){const r=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=r.length;a<i;++a)o=r[a][t.axis],Ar(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,n=r.iScale,a=r.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=Ume(es(this.options.clip,zme(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],i=r.chartArea,o=[],c=this._drawStart||0,d=this._drawCount||a.length-c,h=this.options.drawActiveElementsOnTop;let m;for(n.dataset&&n.dataset.draw(t,i,c,d),m=c;m<c+d;++m){const f=a[m];f.hidden||(f.active&&h?o.push(f):f.draw(t,i))}for(m=0;m<o.length;++m)o[m].draw(t,i)}getStyle(t,r){const n=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,r,n){const a=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=Wme(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=a.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=Gme(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",n){const a=r==="active",i=this._cachedDataOpts,o=t+"-"+r,c=i[o],d=this.enableOptionSharing&&Mm(n);if(c)return x3(c,d);const h=this.chart.config,m=h.datasetElementScopeKeys(this._type,t),f=a?[`${t}Hover`,"hover",t,""]:[t,""],g=h.getOptionScopes(this.getDataset(),m),b=Object.keys(lr.elements[t]),v=()=>this.getContext(n,a,r),y=h.resolveNamedOptions(g,b,v,f);return y.$shared&&(y.$shared=d,i[o]=Object.freeze(x3(y,d))),y}_resolveAnimations(t,r,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,c=i[o];if(c)return c;let d;if(a.options.animation!==!1){const m=this.chart.config,f=m.datasetAnimationScopeKeys(this._type,r),g=m.getOptionScopes(this.getDataset(),f);d=m.createResolver(g,this.getContext(t,n,r))}const h=new eI(a,d&&d.animations);return d&&d._cacheable&&(i[o]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||z1(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const n=this.resolveDataElementOptions(t,r),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:o}}updateElement(t,r,n,a){z1(a)?Object.assign(t,n):this._resolveAnimations(r,a).update(t,n)}updateSharedOptions(t,r,n){t&&!z1(r)&&this._resolveAnimations(void 0,r).update(t,n)}_setStyle(t,r,n,a){t.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(t,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(t,r,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,r,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,n=this._cachedMeta.data;for(const[c,d,h]of this._syncList)this[c](d,h);this._syncList=[];const a=n.length,i=r.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,t):i<a&&this._removeElements(i,a-i)}_insertElements(t,r,n=!0){const a=this._cachedMeta,i=a.data,o=t+r;let c;const d=h=>{for(h.length+=r,c=h.length-1;c>=o;c--)h[c]=h[c-r]};for(d(i),c=t;c<o;++c)i[c]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(t,r),n&&this.updateElements(i,t,r,"reset")}updateElements(t,r,n,a){}_removeElements(t,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(t,r);n._stacked&&zf(n,a)}n.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,n,a]=t;this[r](n,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Kme(s,t){if(!s._cache.$bar){const r=s.getMatchingVisibleMetas(t);let n=[];for(let a=0,i=r.length;a<i;a++)n=n.concat(r[a].controller.getAllParsedValues(s));s._cache.$bar=PB(n.sort((a,i)=>a-i))}return s._cache.$bar}function Xme(s){const t=s.iScale,r=Kme(t,s.type);let n=t._length,a,i,o,c;const d=()=>{o===32767||o===-32768||(Mm(c)&&(n=Math.min(n,Math.abs(o-c)||n)),c=o)};for(a=0,i=r.length;a<i;++a)o=t.getPixelForValue(r[a]),d();for(c=void 0,a=0,i=t.ticks.length;a<i;++a)o=t.getPixelForTick(a),d();return n}function Zme(s,t,r,n){const a=r.barThickness;let i,o;return hs(a)?(i=t.min*r.categoryPercentage,o=r.barPercentage):(i=a*n,o=1),{chunk:i/n,ratio:o,start:t.pixels[s]-i/2}}function Qme(s,t,r,n){const a=t.pixels,i=a[s];let o=s>0?a[s-1]:null,c=s<a.length-1?a[s+1]:null;const d=r.categoryPercentage;o===null&&(o=i-(c===null?t.end-t.start:c-i)),c===null&&(c=i+i-o);const h=i-(i-Math.min(o,c))/2*d;return{chunk:Math.abs(c-o)/2*d/n,ratio:r.barPercentage,start:h}}function Jme(s,t,r,n){const a=r.parse(s[0],n),i=r.parse(s[1],n),o=Math.min(a,i),c=Math.max(a,i);let d=o,h=c;Math.abs(o)>Math.abs(c)&&(d=c,h=o),t[r.axis]=h,t._custom={barStart:d,barEnd:h,start:a,end:i,min:o,max:c}}function sI(s,t,r,n){return ar(s)?Jme(s,t,r,n):t[r.axis]=r.parse(s,n),t}function y3(s,t,r,n){const a=s.iScale,i=s.vScale,o=a.getLabels(),c=a===i,d=[];let h,m,f,g;for(h=r,m=r+n;h<m;++h)g=t[h],f={},f[a.axis]=c||a.parse(o[h],h),d.push(sI(g,f,i,h));return d}function U1(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function epe(s,t,r){return s!==0?eo(s):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function tpe(s){let t,r,n,a,i;return s.horizontal?(t=s.base>s.x,r="left",n="right"):(t=s.base<s.y,r="bottom",n="top"),t?(a="end",i="start"):(a="start",i="end"),{start:r,end:n,reverse:t,top:a,bottom:i}}function spe(s,t,r,n){let a=t.borderSkipped;const i={};if(!a){s.borderSkipped=i;return}if(a===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:d,top:h,bottom:m}=tpe(s);a==="middle"&&r&&(s.enableBorderRadius=!0,(r._top||0)===n?a=h:(r._bottom||0)===n?a=m:(i[b3(m,o,c,d)]=!0,a=h)),i[b3(a,o,c,d)]=!0,s.borderSkipped=i}function b3(s,t,r,n){return n?(s=rpe(s,t,r),s=v3(s,r,t)):s=v3(s,t,r),s}function rpe(s,t,r){return s===t?r:s===r?t:s}function v3(s,t,r){return s==="start"?t:s==="end"?r:s}function npe(s,{inflateAmount:t},r){s.inflateAmount=t==="auto"?r===1?.33:0:t}class ape extends wc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,r,n,a){return y3(t,r,n,a)}parseArrayData(t,r,n,a){return y3(t,r,n,a)}parseObjectData(t,r,n,a){const{iScale:i,vScale:o}=t,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=i.axis==="x"?c:d,m=o.axis==="x"?c:d,f=[];let g,b,v,y;for(g=n,b=n+a;g<b;++g)y=r[g],v={},v[i.axis]=i.parse(hc(y,h),g),f.push(sI(hc(y,m),v,o,g));return f}updateRangeFromParsed(t,r,n,a){super.updateRangeFromParsed(t,r,n,a);const i=n._custom;i&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:n,vScale:a}=r,i=this.getParsed(t),o=i._custom,c=U1(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,n,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),h=c.isHorizontal(),m=this._getRuler(),{sharedOptions:f,includeOptions:g}=this._getSharedOptions(r,a);for(let b=r;b<r+n;b++){const v=this.getParsed(b),y=i||hs(v[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(b),_=this._calculateBarIndexPixels(b,m),j=(v._stacks||{})[c.axis],S={horizontal:h,base:y.base,enableBorderRadius:!j||U1(v._custom)||o===j._top||o===j._bottom,x:h?y.head:_.center,y:h?_.center:y.head,height:h?_.size:Math.abs(y.size),width:h?Math.abs(y.size):_.size};g&&(S.options=f||this.resolveDataElementOptions(b,t[b].active?"active":a));const N=S.options||t[b].options;spe(S,N,j,o),npe(S,N,m.ratio),this.updateElement(t[b],b,S,a)}}_getStacks(t,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),i=n.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(r),d=c&&c[n.axis],h=m=>{const f=m._parsed.find(b=>b[n.axis]===d),g=f&&f[m.vScale.axis];if(hs(g)||isNaN(g))return!0};for(const m of a)if(!(r!==void 0&&h(m))&&((i===!1||o.indexOf(m.stack)===-1||i===void 0&&m.stack===void 0)&&o.push(m.stack),m.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===r).shift()}_getAxis(){const t={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[es(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,n){const a=this._getStacks(t,n),i=r!==void 0?a.indexOf(r):-1;return i===-1?a.length-1:i}_getRuler(){const t=this.options,r=this._cachedMeta,n=r.iScale,a=[];let i,o;for(i=0,o=r.data.length;i<o;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const c=t.barThickness;return{min:c||Xme(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:i,minBarLength:o}}=this,c=i||0,d=this.getParsed(t),h=d._custom,m=U1(h);let f=d[r.axis],g=0,b=n?this.applyStack(r,d,n):f,v,y;b!==f&&(g=b-f,b=f),m&&(f=h.barStart,b=h.barEnd-h.barStart,f!==0&&eo(f)!==eo(h.barEnd)&&(g=0),g+=f);const _=!hs(i)&&!m?i:g;let j=r.getPixelForValue(_);if(this.chart.getDataVisibility(t)?v=r.getPixelForValue(g+b):v=j,y=v-j,Math.abs(y)<o){y=epe(y,r,c)*o,f===c&&(j-=y/2);const S=r.getPixelForDecimal(0),N=r.getPixelForDecimal(1),k=Math.min(S,N),C=Math.max(S,N);j=Math.max(Math.min(j,C),k),v=j+y,n&&!m&&(d._stacks[r.axis]._visualValues[a]=r.getValueForPixel(v)-r.getValueForPixel(j))}if(j===r.getPixelForValue(c)){const S=eo(y)*r.getLineWidthForValue(c)/2;j+=S,y-=S}return{size:y,base:j,head:v,center:v+y/2}}_calculateBarIndexPixels(t,r){const n=r.scale,a=this.options,i=a.skipNull,o=es(a.maxBarThickness,1/0);let c,d;const h=this._getAxisCount();if(r.grouped){const m=i?this._getStackCount(t):r.stackCount,f=a.barThickness==="flex"?Qme(t,r,a,m*h):Zme(t,r,a,m*h),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(es(g,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+b;c=f.start+f.chunk*v+f.chunk/2,d=Math.min(o,f.chunk*f.ratio)}else c=n.getPixelForValue(this.getParsed(t)[n.axis],t),d=Math.min(o,r.min*r.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const t=this._cachedMeta,r=t.vScale,n=t.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}class ipe extends wc{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,n,a){const i=super.parsePrimitiveData(t,r,n,a);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(t,r,n,a){const i=super.parseArrayData(t,r,n,a);for(let o=0;o<i.length;o++){const c=r[n+o];i[o]._custom=es(c[2],this.resolveDataElementOptions(o+n).radius)}return i}parseObjectData(t,r,n,a){const i=super.parseObjectData(t,r,n,a);for(let o=0;o<i.length;o++){const c=r[n+o];i[o]._custom=es(c&&c.r&&+c.r,this.resolveDataElementOptions(o+n).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let r=0;for(let n=t.length-1;n>=0;--n)r=Math.max(r,t[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=r,o=this.getParsed(t),c=a.getLabelForValue(o.x),d=i.getLabelForValue(o.y),h=o._custom;return{label:n[t]||"",value:"("+c+", "+d+(h?", "+h:"")+")"}}update(t){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,n,a){const i=a==="reset",{iScale:o,vScale:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(r,a),m=o.axis,f=c.axis;for(let g=r;g<r+n;g++){const b=t[g],v=!i&&this.getParsed(g),y={},_=y[m]=i?o.getPixelForDecimal(.5):o.getPixelForValue(v[m]),j=y[f]=i?c.getBasePixel():c.getPixelForValue(v[f]);y.skip=isNaN(_)||isNaN(j),h&&(y.options=d||this.resolveDataElementOptions(g,b.active?"active":a),i&&(y.options.radius=0)),this.updateElement(b,g,y,a)}}resolveDataElementOptions(t,r){const n=this.getParsed(t);let a=super.resolveDataElementOptions(t,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const i=a.radius;return r!=="active"&&(a.radius=0),a.radius+=es(n&&n._custom,i),a}}function ope(s,t,r){let n=1,a=1,i=0,o=0;if(t<sr){const c=s,d=c+t,h=Math.cos(c),m=Math.sin(c),f=Math.cos(d),g=Math.sin(d),b=(N,k,C)=>Pm(N,c,d,!0)?1:Math.max(k,k*r,C,C*r),v=(N,k,C)=>Pm(N,c,d,!0)?-1:Math.min(k,k*r,C,C*r),y=b(0,h,f),_=b(Dr,m,g),j=v(Ts,h,f),S=v(Ts+Dr,m,g);n=(y-j)/2,a=(_-S)/2,i=-(y+j)/2,o=-(_+S)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:o}}class Vk extends wc{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data,{labels:{pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:c}}=t.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((d,h)=>{const f=t.getDatasetMeta(0).controller.getStyle(h);return{text:d,fillStyle:f.backgroundColor,fontColor:i,hidden:!t.getDataVisibility(h),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:a,pointStyle:n,borderRadius:o&&(c||f.borderRadius),index:h}}):[]}},onClick(t,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}};constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=d=>+n[d];if(xs(n[t])){const{key:d="value"}=this._parsing;i=h=>+hc(n[h],d)}let o,c;for(o=t,c=t+r;o<c;++o)a._parsed[o]=i(o)}}_getRotation(){return gi(this.options.rotation-90)}_getCircumference(){return gi(this.options.circumference)}_getRotationExtents(){let t=sr,r=-sr;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),o=a._getCircumference();t=Math.min(t,i),r=Math.max(r,i+o)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,c=Math.max((Math.min(n.width,n.height)-o)/2,0),d=Math.min(xfe(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:m,rotation:f}=this._getRotationExtents(),{ratioX:g,ratioY:b,offsetX:v,offsetY:y}=ope(f,m,d),_=(n.width-o)/g,j=(n.height-o)/b,S=Math.max(Math.min(_,j)/2,0),N=EB(this.options.radius,S),k=Math.max(N*d,0),C=(N-k)/this._getVisibleDatasetWeightTotal();this.offsetX=v*N,this.offsetY=y*N,a.total=this.calculateTotal(),this.outerRadius=N-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*h,0),this.updateElements(i,0,i.length,t)}_circumference(t,r){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*i/sr)}updateElements(t,r,n,a){const i=a==="reset",o=this.chart,c=o.chartArea,h=o.options.animation,m=(c.left+c.right)/2,f=(c.top+c.bottom)/2,g=i&&h.animateScale,b=g?0:this.innerRadius,v=g?0:this.outerRadius,{sharedOptions:y,includeOptions:_}=this._getSharedOptions(r,a);let j=this._getRotation(),S;for(S=0;S<r;++S)j+=this._circumference(S,i);for(S=r;S<r+n;++S){const N=this._circumference(S,i),k=t[S],C={x:m+this.offsetX,y:f+this.offsetY,startAngle:j,endAngle:j+N,circumference:N,outerRadius:v,innerRadius:b};_&&(C.options=y||this.resolveDataElementOptions(S,k.active?"active":a)),j+=N,this.updateElement(k,S,C,a)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let n=0,a;for(a=0;a<r.length;a++){const i=t._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?sr*(Math.abs(t)/r):0}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=dp(r._parsed[t],n.options.locale);return{label:a[t]||"",value:i}}getMaxBorderWidth(t){let r=0;const n=this.chart;let a,i,o,c,d;if(!t){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),t=o.data,c=o.controller;break}}if(!t)return 0;for(a=0,i=t.length;a<i;++a)d=c.resolveDataElementOptions(a),d.borderAlign!=="inner"&&(r=Math.max(r,d.borderWidth||0,d.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let n=0,a=t.length;n<a;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(t){return Math.max(es(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class lpe extends wc{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=r,o=this.chart._animationsDisabled;let{start:c,count:d}=FB(r,a,o);this._drawStart=c,this._drawCount=d,BB(r)&&(c=0,d=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:h},t),this.updateElements(a,c,d,t)}updateElements(t,r,n,a){const i=a==="reset",{iScale:o,vScale:c,_stacked:d,_dataset:h}=this._cachedMeta,{sharedOptions:m,includeOptions:f}=this._getSharedOptions(r,a),g=o.axis,b=c.axis,{spanGaps:v,segment:y}=this.options,_=dh(v)?v:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||i||a==="none",S=r+n,N=t.length;let k=r>0&&this.getParsed(r-1);for(let C=0;C<N;++C){const z=t[C],E=j?z:{};if(C<r||C>=S){E.skip=!0;continue}const U=this.getParsed(C),T=hs(U[b]),re=E[g]=o.getPixelForValue(U[g],C),Y=E[b]=i||T?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,U,d):U[b],C);E.skip=isNaN(re)||isNaN(Y)||T,E.stop=C>0&&Math.abs(U[g]-k[g])>_,y&&(E.parsed=U,E.raw=h.data[C]),f&&(E.options=m||this.resolveDataElementOptions(C,z.active?"active":a)),j||this.updateElement(z,C,E,a),k=U}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,n=r.options&&r.options.borderWidth||0,a=t.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class rI extends wc{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=t.legend.options;return r.labels.map((i,o)=>{const d=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:a,lineWidth:d.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=dp(r._parsed[t].r,n.options.locale);return{label:a[t]||"",value:i}}parseObjectData(t,r,n,a){return GB.bind(this)(t,r,n,a)}update(t){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){const t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,a)=>{const i=this.getParsed(a).r;!isNaN(i)&&this.chart.getDataVisibility(a)&&(i<r.min&&(r.min=i),i>r.max&&(r.max=i))}),r}_updateRadius(){const t=this.chart,r=t.chartArea,n=t.options,a=Math.min(r.right-r.left,r.bottom-r.top),i=Math.max(a/2,0),o=Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0),c=(i-o)/t.getVisibleDatasetCount();this.outerRadius=i-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,r,n,a){const i=a==="reset",o=this.chart,d=o.options.animation,h=this._cachedMeta.rScale,m=h.xCenter,f=h.yCenter,g=h.getIndexAngle(0)-.5*Ts;let b=g,v;const y=360/this.countVisibleElements();for(v=0;v<r;++v)b+=this._computeAngle(v,a,y);for(v=r;v<r+n;v++){const _=t[v];let j=b,S=b+this._computeAngle(v,a,y),N=o.getDataVisibility(v)?h.getDistanceFromCenterForValue(this.getParsed(v).r):0;b=S,i&&(d.animateScale&&(N=0),d.animateRotate&&(j=S=g));const k={x:m,y:f,innerRadius:0,outerRadius:N,startAngle:j,endAngle:S,options:this.resolveDataElementOptions(v,_.active?"active":a)};this.updateElement(_,v,k,a)}}countVisibleElements(){const t=this._cachedMeta;let r=0;return t.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(t,r,n){return this.chart.getDataVisibility(t)?gi(this.resolveDataElementOptions(t,r).angle||n):0}}class cpe extends Vk{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class dpe extends wc{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const r=this._cachedMeta.vScale,n=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(t,r,n,a){return GB.bind(this)(t,r,n,a)}update(t){const r=this._cachedMeta,n=r.dataset,a=r.data||[],i=r.iScale.getLabels();if(n.points=a,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const c={_loop:!0,_fullLoop:i.length===a.length,options:o};this.updateElement(n,void 0,c,t)}this.updateElements(a,0,a.length,t)}updateElements(t,r,n,a){const i=this._cachedMeta.rScale,o=a==="reset";for(let c=r;c<r+n;c++){const d=t[c],h=this.resolveDataElementOptions(c,d.active?"active":a),m=i.getPointPositionForValue(c,this.getParsed(c).r),f=o?i.xCenter:m.x,g=o?i.yCenter:m.y,b={x:f,y:g,angle:m.angle,skip:isNaN(f)||isNaN(g),options:h};this.updateElement(d,c,b,a)}}}class upe extends wc{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=r,o=this.getParsed(t),c=a.getLabelForValue(o.x),d=i.getLabelForValue(o.y);return{label:n[t]||"",value:"("+c+", "+d+")"}}update(t){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:i,count:o}=FB(r,n,a);if(this._drawStart=i,this._drawCount=o,BB(r)&&(i=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:d}=r;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!d._decimated,c.points=n;const h=this.resolveDatasetElementOptions(t);h.segment=this.options.segment,this.updateElement(c,void 0,{animated:!a,options:h},t)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,r,n,a){const i=a==="reset",{iScale:o,vScale:c,_stacked:d,_dataset:h}=this._cachedMeta,m=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(m),g=this.includeOptions(a,f),b=o.axis,v=c.axis,{spanGaps:y,segment:_}=this.options,j=dh(y)?y:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||i||a==="none";let N=r>0&&this.getParsed(r-1);for(let k=r;k<r+n;++k){const C=t[k],z=this.getParsed(k),E=S?C:{},U=hs(z[v]),T=E[b]=o.getPixelForValue(z[b],k),re=E[v]=i||U?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,z,d):z[v],k);E.skip=isNaN(T)||isNaN(re)||U,E.stop=k>0&&Math.abs(z[b]-N[b])>j,_&&(E.parsed=z,E.raw=h.data[k]),g&&(E.options=f||this.resolveDataElementOptions(k,C.active?"active":a)),S||this.updateElement(C,k,E,a),N=z}this.updateSharedOptions(f,a,m)}getMaxOverflow(){const t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let c=0;for(let d=r.length-1;d>=0;--d)c=Math.max(c,r[d].size(this.resolveDataElementOptions(d))/2);return c>0&&c}const n=t.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,i,o)/2}}var hpe=Object.freeze({__proto__:null,BarController:ape,BubbleController:ipe,DoughnutController:Vk,LineController:lpe,PieController:cpe,PolarAreaController:rI,RadarController:dpe,ScatterController:upe});function rd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Hk{static override(t){Object.assign(Hk.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return rd()}parse(){return rd()}format(){return rd()}add(){return rd()}diff(){return rd()}startOf(){return rd()}endOf(){return rd()}}var fpe={_date:Hk};function mpe(s,t,r,n){const{controller:a,data:i,_sorted:o}=s,c=a._cachedMeta.iScale,d=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&o&&i.length){const h=c._reversePixels?Tfe:Vo;if(n){if(a._sharedOptions){const m=i[0],f=typeof m.getRange=="function"&&m.getRange(t);if(f){const g=h(i,t,r-f),b=h(i,t,r+f);return{lo:g.lo,hi:b.hi}}}}else{const m=h(i,t,r);if(d){const{vScale:f}=a._cachedMeta,{_parsed:g}=s,b=g.slice(0,m.lo+1).reverse().findIndex(y=>!hs(y[f.axis]));m.lo-=Math.max(0,b);const v=g.slice(m.hi).findIndex(y=>!hs(y[f.axis]));m.hi+=Math.max(0,v)}return m}}return{lo:0,hi:i.length-1}}function Oy(s,t,r,n,a){const i=s.getSortedVisibleDatasetMetas(),o=r[t];for(let c=0,d=i.length;c<d;++c){const{index:h,data:m}=i[c],{lo:f,hi:g}=mpe(i[c],t,o,a);for(let b=f;b<=g;++b){const v=m[b];v.skip||n(v,h,b)}}}function ppe(s){const t=s.indexOf("x")!==-1,r=s.indexOf("y")!==-1;return function(n,a){const i=t?Math.abs(n.x-a.x):0,o=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function $1(s,t,r,n,a){const i=[];return!a&&!s.isPointInArea(t)||Oy(s,r,t,function(c,d,h){!a&&!Ho(c,s.chartArea,0)||c.inRange(t.x,t.y,n)&&i.push({element:c,datasetIndex:d,index:h})},!0),i}function gpe(s,t,r,n){let a=[];function i(o,c,d){const{startAngle:h,endAngle:m}=o.getProps(["startAngle","endAngle"],n),{angle:f}=DB(o,{x:t.x,y:t.y});Pm(f,h,m)&&a.push({element:o,datasetIndex:c,index:d})}return Oy(s,r,t,i),a}function xpe(s,t,r,n,a,i){let o=[];const c=ppe(r);let d=Number.POSITIVE_INFINITY;function h(m,f,g){const b=m.inRange(t.x,t.y,a);if(n&&!b)return;const v=m.getCenterPoint(a);if(!(!!i||s.isPointInArea(v))&&!b)return;const _=c(t,v);_<d?(o=[{element:m,datasetIndex:f,index:g}],d=_):_===d&&o.push({element:m,datasetIndex:f,index:g})}return Oy(s,r,t,h),o}function V1(s,t,r,n,a,i){return!i&&!s.isPointInArea(t)?[]:r==="r"&&!n?gpe(s,t,r,a):xpe(s,t,r,n,a,i)}function w3(s,t,r,n,a){const i=[],o=r==="x"?"inXRange":"inYRange";let c=!1;return Oy(s,r,t,(d,h,m)=>{d[o]&&d[o](t[r],a)&&(i.push({element:d,datasetIndex:h,index:m}),c=c||d.inRange(t.x,t.y,a))}),n&&!c?[]:i}var ype={modes:{index(s,t,r,n){const a=cd(t,s),i=r.axis||"x",o=r.includeInvisible||!1,c=r.intersect?$1(s,a,i,n,o):V1(s,a,i,!1,n,o),d=[];return c.length?(s.getSortedVisibleDatasetMetas().forEach(h=>{const m=c[0].index,f=h.data[m];f&&!f.skip&&d.push({element:f,datasetIndex:h.index,index:m})}),d):[]},dataset(s,t,r,n){const a=cd(t,s),i=r.axis||"xy",o=r.includeInvisible||!1;let c=r.intersect?$1(s,a,i,n,o):V1(s,a,i,!1,n,o);if(c.length>0){const d=c[0].datasetIndex,h=s.getDatasetMeta(d).data;c=[];for(let m=0;m<h.length;++m)c.push({element:h[m],datasetIndex:d,index:m})}return c},point(s,t,r,n){const a=cd(t,s),i=r.axis||"xy",o=r.includeInvisible||!1;return $1(s,a,i,n,o)},nearest(s,t,r,n){const a=cd(t,s),i=r.axis||"xy",o=r.includeInvisible||!1;return V1(s,a,i,r.intersect,n,o)},x(s,t,r,n){const a=cd(t,s);return w3(s,a,"x",r.intersect,n)},y(s,t,r,n){const a=cd(t,s);return w3(s,a,"y",r.intersect,n)}}};const nI=["left","top","right","bottom"];function Uf(s,t){return s.filter(r=>r.pos===t)}function j3(s,t){return s.filter(r=>nI.indexOf(r.pos)===-1&&r.box.axis===t)}function $f(s,t){return s.sort((r,n)=>{const a=t?n:r,i=t?r:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function bpe(s){const t=[];let r,n,a,i,o,c;for(r=0,n=(s||[]).length;r<n;++r)a=s[r],{position:i,options:{stack:o,stackWeight:c=1}}=a,t.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:c});return t}function vpe(s){const t={};for(const r of s){const{stack:n,pos:a,stackWeight:i}=r;if(!n||!nI.includes(a))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function wpe(s,t){const r=vpe(s),{vBoxMaxWidth:n,hBoxMaxHeight:a}=t;let i,o,c;for(i=0,o=s.length;i<o;++i){c=s[i];const{fullSize:d}=c.box,h=r[c.stack],m=h&&c.stackWeight/h.weight;c.horizontal?(c.width=m?m*n:d&&t.availableWidth,c.height=a):(c.width=n,c.height=m?m*a:d&&t.availableHeight)}return r}function jpe(s){const t=bpe(s),r=$f(t.filter(h=>h.box.fullSize),!0),n=$f(Uf(t,"left"),!0),a=$f(Uf(t,"right")),i=$f(Uf(t,"top"),!0),o=$f(Uf(t,"bottom")),c=j3(t,"x"),d=j3(t,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:a.concat(d).concat(o).concat(c),chartArea:Uf(t,"chartArea"),vertical:n.concat(a).concat(d),horizontal:i.concat(o).concat(c)}}function _3(s,t,r,n){return Math.max(s[r],t[r])+Math.max(s[n],t[n])}function aI(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function _pe(s,t,r,n){const{pos:a,box:i}=r,o=s.maxPadding;if(!xs(a)){r.size&&(s[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?i.height:i.width),r.size=f.size/f.count,s[a]+=r.size}i.getPadding&&aI(o,i.getPadding());const c=Math.max(0,t.outerWidth-_3(o,s,"left","right")),d=Math.max(0,t.outerHeight-_3(o,s,"top","bottom")),h=c!==s.w,m=d!==s.h;return s.w=c,s.h=d,r.horizontal?{same:h,other:m}:{same:m,other:h}}function Npe(s){const t=s.maxPadding;function r(n){const a=Math.max(t[n]-s[n],0);return s[n]+=a,a}s.y+=r("top"),s.x+=r("left"),r("right"),r("bottom")}function kpe(s,t){const r=t.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(t[o],r[o])}),i}return n(s?["left","right"]:["top","bottom"])}function sm(s,t,r,n){const a=[];let i,o,c,d,h,m;for(i=0,o=s.length,h=0;i<o;++i){c=s[i],d=c.box,d.update(c.width||t.w,c.height||t.h,kpe(c.horizontal,t));const{same:f,other:g}=_pe(t,r,c,n);h|=f&&a.length,m=m||g,d.fullSize||a.push(c)}return h&&sm(a,t,r,n)||m}function mx(s,t,r,n,a){s.top=r,s.left=t,s.right=t+n,s.bottom=r+a,s.width=n,s.height=a}function N3(s,t,r,n){const a=r.padding;let{x:i,y:o}=t;for(const c of s){const d=c.box,h=n[c.stack]||{placed:0,weight:1},m=c.stackWeight/h.weight||1;if(c.horizontal){const f=t.w*m,g=h.size||d.height;Mm(h.start)&&(o=h.start),d.fullSize?mx(d,a.left,o,r.outerWidth-a.right-a.left,g):mx(d,t.left+h.placed,o,f,g),h.start=o,h.placed+=f,o=d.bottom}else{const f=t.h*m,g=h.size||d.width;Mm(h.start)&&(i=h.start),d.fullSize?mx(d,i,a.top,g,r.outerHeight-a.bottom-a.top):mx(d,i,t.top+h.placed,g,f),h.start=i,h.placed+=f,i=d.right}}t.x=i,t.y=o}var jn={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},s.boxes.push(t)},removeBox(s,t){const r=s.boxes?s.boxes.indexOf(t):-1;r!==-1&&s.boxes.splice(r,1)},configure(s,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(s,t,r,n){if(!s)return;const a=kn(s.options.layout.padding),i=Math.max(t-a.width,0),o=Math.max(r-a.height,0),c=jpe(s.boxes),d=c.vertical,h=c.horizontal;Ls(s.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const m=d.reduce((y,_)=>_.box.options&&_.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:r,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/m,hBoxMaxHeight:o/2}),g=Object.assign({},a);aI(g,kn(n));const b=Object.assign({maxPadding:g,w:i,h:o,x:a.left,y:a.top},a),v=wpe(d.concat(h),f);sm(c.fullSize,b,f,v),sm(d,b,f,v),sm(h,b,f,v)&&sm(d,b,f,v),Npe(b),N3(c.leftAndTop,b,f,v),b.x+=b.w,b.y+=b.h,N3(c.rightAndBottom,b,f,v),s.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Ls(c.chartArea,y=>{const _=y.box;Object.assign(_,s.chartArea),_.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class iI{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,n){}removeEventListener(t,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,n,a){return r=Math.max(0,r||t.width),n=n||t.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(t){return!0}updateConfig(t){}}class Spe extends iI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ux="$chartjs",Cpe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},k3=s=>s===null||s==="";function Ape(s,t){const r=s.style,n=s.getAttribute("height"),a=s.getAttribute("width");if(s[Ux]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",k3(a)){const i=l3(s,"width");i!==void 0&&(s.width=i)}if(k3(n))if(s.style.height==="")s.height=s.width/(t||2);else{const i=l3(s,"height");i!==void 0&&(s.height=i)}return s}const oI=_me?{passive:!0}:!1;function Epe(s,t,r){s&&s.addEventListener(t,r,oI)}function Tpe(s,t,r){s&&s.canvas&&s.canvas.removeEventListener(t,r,oI)}function Rpe(s,t){const r=Cpe[s.type]||s.type,{x:n,y:a}=cd(s,t);return{type:r,chart:t,native:s,x:n!==void 0?n:null,y:a!==void 0?a:null}}function R0(s,t){for(const r of s)if(r===t||r.contains(t))return!0}function Dpe(s,t,r){const n=s.canvas,a=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||R0(c.addedNodes,n),o=o&&!R0(c.removedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function Mpe(s,t,r){const n=s.canvas,a=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||R0(c.removedNodes,n),o=o&&!R0(c.addedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Lm=new Map;let S3=0;function lI(){const s=window.devicePixelRatio;s!==S3&&(S3=s,Lm.forEach((t,r)=>{r.currentDevicePixelRatio!==s&&t()}))}function Ppe(s,t){Lm.size||window.addEventListener("resize",lI),Lm.set(s,t)}function Ope(s){Lm.delete(s),Lm.size||window.removeEventListener("resize",lI)}function Lpe(s,t,r){const n=s.canvas,a=n&&$k(n);if(!a)return;const i=LB((c,d)=>{const h=a.clientWidth;r(c,d),h<a.clientWidth&&r()},window),o=new ResizeObserver(c=>{const d=c[0],h=d.contentRect.width,m=d.contentRect.height;h===0&&m===0||i(h,m)});return o.observe(a),Ppe(s,i),o}function H1(s,t,r){r&&r.disconnect(),t==="resize"&&Ope(s)}function Fpe(s,t,r){const n=s.canvas,a=LB(i=>{s.ctx!==null&&r(Rpe(i,s))},s);return Epe(n,t,a),a}class Bpe extends iI{acquireContext(t,r){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Ape(t,r),n):null}releaseContext(t){const r=t.canvas;if(!r[Ux])return!1;const n=r[Ux].initial;["height","width"].forEach(i=>{const o=n[i];hs(o)?r.removeAttribute(i):r.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[Ux],!0}addEventListener(t,r,n){this.removeEventListener(t,r);const a=t.$proxies||(t.$proxies={}),o={attach:Dpe,detach:Mpe,resize:Lpe}[r]||Fpe;a[r]=o(t,r,n)}removeEventListener(t,r){const n=t.$proxies||(t.$proxies={}),a=n[r];if(!a)return;({attach:H1,detach:H1,resize:H1}[r]||Tpe)(t,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,n,a){return jme(t,r,n,a)}isAttached(t){const r=t&&$k(t);return!!(r&&r.isConnected)}}function Ipe(s){return!Uk()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?Spe:Bpe}let rl=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}hasValue(){return dh(this.x)&&dh(this.y)}getProps(t,r){const n=this.$animations;if(!r||!n)return this;const a={};return t.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}};function zpe(s,t){const r=s.options.ticks,n=Upe(s),a=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?Vpe(t):[],o=i.length,c=i[0],d=i[o-1],h=[];if(o>a)return Hpe(t,h,i,o/a),h;const m=$pe(i,t,a);if(o>0){let f,g;const b=o>1?Math.round((d-c)/(o-1)):null;for(px(t,h,m,hs(b)?0:c-b,c),f=0,g=o-1;f<g;f++)px(t,h,m,i[f],i[f+1]);return px(t,h,m,d,hs(b)?t.length:d+b),h}return px(t,h,m),h}function Upe(s){const t=s.options.offset,r=s._tickSize(),n=s._length/r+(t?0:1),a=s._maxLength/r;return Math.floor(Math.min(n,a))}function $pe(s,t,r){const n=qpe(s),a=t.length/r;if(!n)return Math.max(a,1);const i=kfe(n);for(let o=0,c=i.length-1;o<c;o++){const d=i[o];if(d>a)return d}return Math.max(a,1)}function Vpe(s){const t=[];let r,n;for(r=0,n=s.length;r<n;r++)s[r].major&&t.push(r);return t}function Hpe(s,t,r,n){let a=0,i=r[0],o;for(n=Math.ceil(n),o=0;o<s.length;o++)o===i&&(t.push(s[o]),a++,i=r[a*n])}function px(s,t,r,n,a){const i=es(n,0),o=Math.min(es(a,s.length),s.length);let c=0,d,h,m;for(r=Math.ceil(r),a&&(d=a-n,r=d/Math.floor(d/r)),m=i;m<0;)c++,m=Math.round(i+c*r);for(h=Math.max(i,0);h<o;h++)h===m&&(t.push(s[h]),c++,m=Math.round(i+c*r))}function qpe(s){const t=s.length;let r,n;if(t<2)return!1;for(n=s[0],r=1;r<t;++r)if(s[r]-s[r-1]!==n)return!1;return n}const Gpe=s=>s==="left"?"right":s==="right"?"left":s,C3=(s,t,r)=>t==="top"||t==="left"?s[t]+r:s[t]-r,A3=(s,t)=>Math.min(t||s,s);function E3(s,t){const r=[],n=s.length/t,a=s.length;let i=0;for(;i<a;i+=n)r.push(s[Math.floor(i)]);return r}function Wpe(s,t,r){const n=s.ticks.length,a=Math.min(t,n-1),i=s._startPixel,o=s._endPixel,c=1e-6;let d=s.getPixelForTick(a),h;if(!(r&&(n===1?h=Math.max(d-i,o-d):t===0?h=(s.getPixelForTick(1)-d)/2:h=(d-s.getPixelForTick(a-1))/2,d+=a<t?h:-h,d<i-c||d>o+c)))return d}function Ype(s,t){Ls(s,r=>{const n=r.gc,a=n.length/2;let i;if(a>t){for(i=0;i<a;++i)delete r.data[n[i]];n.splice(0,a)}})}function Vf(s){return s.drawTicks?s.tickLength:0}function T3(s,t){if(!s.display)return 0;const r=Qr(s.font,t),n=kn(s.padding);return(ar(s.text)?s.text.length:1)*r.lineHeight+n.height}function Kpe(s,t){return vc(s,{scale:t,type:"scale"})}function Xpe(s,t,r){return vc(s,{tick:r,index:t,type:"tick"})}function Zpe(s,t,r){let n=Ok(s);return(r&&t!=="right"||!r&&t==="right")&&(n=Gpe(n)),n}function Qpe(s,t,r,n){const{top:a,left:i,bottom:o,right:c,chart:d}=s,{chartArea:h,scales:m}=d;let f=0,g,b,v;const y=o-a,_=c-i;if(s.isHorizontal()){if(b=gn(n,i,c),xs(r)){const j=Object.keys(r)[0],S=r[j];v=m[j].getPixelForValue(S)+y-t}else r==="center"?v=(h.bottom+h.top)/2+y-t:v=C3(s,r,t);g=c-i}else{if(xs(r)){const j=Object.keys(r)[0],S=r[j];b=m[j].getPixelForValue(S)-_+t}else r==="center"?b=(h.left+h.right)/2-_+t:b=C3(s,r,t);v=gn(n,o,a),f=r==="left"?-Dr:Dr}return{titleX:b,titleY:v,maxWidth:g,rotation:f}}class Ld extends rl{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return t=xa(t,Number.POSITIVE_INFINITY),r=xa(r,Number.NEGATIVE_INFINITY),n=xa(n,Number.POSITIVE_INFINITY),a=xa(a,Number.NEGATIVE_INFINITY),{min:xa(t,n),max:xa(r,a),minDefined:Ar(t),maxDefined:Ar(r)}}getMinMax(t){let{min:r,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:r,max:n};const c=this.getMatchingVisibleMetas();for(let d=0,h=c.length;d<h;++d)o=c[d].controller.getMinMax(this,t),a||(r=Math.min(r,o.min)),i||(n=Math.max(n,o.max));return r=i&&r>n?n:r,n=a&&r>n?r:n,{min:xa(r,xa(n,r)),max:xa(n,xa(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Xs(this.options.beforeUpdate,[this])}update(t,r,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=eme(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?E3(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=zpe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,t=!t),this._startPixel=r,this._endPixel=n,this._reversePixels=t,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Xs(this.options.afterUpdate,[this])}beforeSetDimensions(){Xs(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Xs(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Xs(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Xs(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n],i.label=Xs(r.callback,[i.value,n,t],this)}afterTickToLabelConversion(){Xs(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Xs(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,n=A3(this.ticks.length,t.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let o=a,c,d,h;if(!this._isVisible()||!r.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const m=this._getLabelSizes(),f=m.widest.width,g=m.highest.height,b=nn(this.chart.width-f,0,this.maxWidth);c=t.offset?this.maxWidth/n:b/(n-1),f+6>c&&(c=b/(n-(t.offset?.5:1)),d=this.maxHeight-Vf(t.grid)-r.padding-T3(t.title,this.chart.options.font),h=Math.sqrt(f*f+g*g),o=Mk(Math.min(Math.asin(nn((m.highest.height+6)/c,-1,1)),Math.asin(nn(d/h,-1,1))-Math.asin(nn(g/h,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Xs(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Xs(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const d=T3(a,r.options.font);if(c?(t.width=this.maxWidth,t.height=Vf(i)+d):(t.height=this.maxHeight,t.width=Vf(i)+d),n.display&&this.ticks.length){const{first:h,last:m,widest:f,highest:g}=this._getLabelSizes(),b=n.padding*2,v=gi(this.labelRotation),y=Math.cos(v),_=Math.sin(v);if(c){const j=n.mirror?0:_*f.width+y*g.height;t.height=Math.min(this.maxHeight,t.height+j+b)}else{const j=n.mirror?0:y*f.width+_*g.height;t.width=Math.min(this.maxWidth,t.width+j+b)}this._calculatePadding(h,m,_,y)}}this._handleMargins(),c?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,n,a){const{ticks:{align:i,padding:o},position:c}=this.options,d=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,b=0;d?h?(g=a*t.width,b=n*r.height):(g=n*t.height,b=a*r.width):i==="start"?b=r.width:i==="end"?g=t.width:i!=="inner"&&(g=t.width/2,b=r.width/2),this.paddingLeft=Math.max((g-m+o)*this.width/(this.width-m),0),this.paddingRight=Math.max((b-f+o)*this.width/(this.width-f),0)}else{let m=r.height/2,f=t.height/2;i==="start"?(m=0,f=t.height):i==="end"&&(m=r.height,f=0),this.paddingTop=m+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Xs(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,n;for(r=0,n=t.length;r<n;r++)hs(t[r].label)&&(t.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=E3(n,r)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,r,n){const{ctx:a,_longestTextCache:i}=this,o=[],c=[],d=Math.floor(r/A3(r,n));let h=0,m=0,f,g,b,v,y,_,j,S,N,k,C;for(f=0;f<r;f+=d){if(v=t[f].label,y=this._resolveTickFontOptions(f),a.font=_=y.string,j=i[_]=i[_]||{data:{},gc:[]},S=y.lineHeight,N=k=0,!hs(v)&&!ar(v))N=E0(a,j.data,j.gc,N,v),k=S;else if(ar(v))for(g=0,b=v.length;g<b;++g)C=v[g],!hs(C)&&!ar(C)&&(N=E0(a,j.data,j.gc,N,C),k+=S);o.push(N),c.push(k),h=Math.max(N,h),m=Math.max(k,m)}Ype(i,r);const z=o.indexOf(h),E=c.indexOf(m),U=T=>({width:o[T]||0,height:c[T]||0});return{first:U(0),last:U(r-1),widest:U(z),highest:U(E),widths:o,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return Efe(this._alignToPixels?sd(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const n=r[t];return n.$context||(n.$context=Xpe(this.getContext(),t,n))}return this.$context||(this.$context=Kpe(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=gi(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,c=i?i.widest.width+o:0,d=i?i.highest.height+o:0;return this.isHorizontal()?d*n>c*a?c/n:d/a:d*a<c*n?d/n:c/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:c}=a,d=i.offset,h=this.isHorizontal(),f=this.ticks.length+(d?1:0),g=Vf(i),b=[],v=c.setContext(this.getContext()),y=v.display?v.width:0,_=y/2,j=function(Q){return sd(n,Q,y)};let S,N,k,C,z,E,U,T,re,Y,I,K;if(o==="top")S=j(this.bottom),E=this.bottom-g,T=S-_,Y=j(t.top)+_,K=t.bottom;else if(o==="bottom")S=j(this.top),Y=t.top,K=j(t.bottom)-_,E=S+_,T=this.top+g;else if(o==="left")S=j(this.right),z=this.right-g,U=S-_,re=j(t.left)+_,I=t.right;else if(o==="right")S=j(this.left),re=t.left,I=j(t.right)-_,z=S+_,U=this.left+g;else if(r==="x"){if(o==="center")S=j((t.top+t.bottom)/2+.5);else if(xs(o)){const Q=Object.keys(o)[0],Z=o[Q];S=j(this.chart.scales[Q].getPixelForValue(Z))}Y=t.top,K=t.bottom,E=S+_,T=E+g}else if(r==="y"){if(o==="center")S=j((t.left+t.right)/2);else if(xs(o)){const Q=Object.keys(o)[0],Z=o[Q];S=j(this.chart.scales[Q].getPixelForValue(Z))}z=S-_,U=z-g,re=t.left,I=t.right}const L=es(a.ticks.maxTicksLimit,f),J=Math.max(1,Math.ceil(f/L));for(N=0;N<f;N+=J){const Q=this.getContext(N),Z=i.setContext(Q),ee=c.setContext(Q),F=Z.lineWidth,de=Z.color,q=ee.dash||[],G=ee.dashOffset,ie=Z.tickWidth,le=Z.tickColor,be=Z.tickBorderDash||[],ye=Z.tickBorderDashOffset;k=Wpe(this,N,d),k!==void 0&&(C=sd(n,k,F),h?z=U=re=I=C:E=T=Y=K=C,b.push({tx1:z,ty1:E,tx2:U,ty2:T,x1:re,y1:Y,x2:I,y2:K,width:F,color:de,borderDash:q,borderDashOffset:G,tickWidth:ie,tickColor:le,tickBorderDash:be,tickBorderDashOffset:ye}))}return this._ticksLength=f,this._borderValue=S,b}_computeLabelItems(t){const r=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:h,padding:m,mirror:f}=i,g=Vf(n.grid),b=g+m,v=f?-m:b,y=-gi(this.labelRotation),_=[];let j,S,N,k,C,z,E,U,T,re,Y,I,K="middle";if(a==="top")z=this.bottom-v,E=this._getXAxisLabelAlignment();else if(a==="bottom")z=this.top+v,E=this._getXAxisLabelAlignment();else if(a==="left"){const J=this._getYAxisLabelAlignment(g);E=J.textAlign,C=J.x}else if(a==="right"){const J=this._getYAxisLabelAlignment(g);E=J.textAlign,C=J.x}else if(r==="x"){if(a==="center")z=(t.top+t.bottom)/2+b;else if(xs(a)){const J=Object.keys(a)[0],Q=a[J];z=this.chart.scales[J].getPixelForValue(Q)+b}E=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")C=(t.left+t.right)/2-b;else if(xs(a)){const J=Object.keys(a)[0],Q=a[J];C=this.chart.scales[J].getPixelForValue(Q)}E=this._getYAxisLabelAlignment(g).textAlign}r==="y"&&(d==="start"?K="top":d==="end"&&(K="bottom"));const L=this._getLabelSizes();for(j=0,S=c.length;j<S;++j){N=c[j],k=N.label;const J=i.setContext(this.getContext(j));U=this.getPixelForTick(j)+i.labelOffset,T=this._resolveTickFontOptions(j),re=T.lineHeight,Y=ar(k)?k.length:1;const Q=Y/2,Z=J.color,ee=J.textStrokeColor,F=J.textStrokeWidth;let de=E;o?(C=U,E==="inner"&&(j===S-1?de=this.options.reverse?"left":"right":j===0?de=this.options.reverse?"right":"left":de="center"),a==="top"?h==="near"||y!==0?I=-Y*re+re/2:h==="center"?I=-L.highest.height/2-Q*re+re:I=-L.highest.height+re/2:h==="near"||y!==0?I=re/2:h==="center"?I=L.highest.height/2-Q*re:I=L.highest.height-Y*re,f&&(I*=-1),y!==0&&!J.showLabelBackdrop&&(C+=re/2*Math.sin(y))):(z=U,I=(1-Y)*re/2);let q;if(J.showLabelBackdrop){const G=kn(J.backdropPadding),ie=L.heights[j],le=L.widths[j];let be=I-G.top,ye=0-G.left;switch(K){case"middle":be-=ie/2;break;case"bottom":be-=ie;break}switch(E){case"center":ye-=le/2;break;case"right":ye-=le;break;case"inner":j===S-1?ye-=le:j>0&&(ye-=le/2);break}q={left:ye,top:be,width:le+G.width,height:ie+G.height,color:J.backdropColor}}_.push({label:k,font:T,textOffset:I,options:{rotation:y,color:Z,strokeColor:ee,strokeWidth:F,textAlign:de,textBaseline:K,translation:[C,z],backdrop:q}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-gi(this.labelRotation))return t==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),c=t+i,d=o.widest.width;let h,m;return r==="left"?a?(m=this.right+i,n==="near"?h="left":n==="center"?(h="center",m+=d/2):(h="right",m+=d)):(m=this.right-c,n==="near"?h="right":n==="center"?(h="center",m-=d/2):(h="left",m=this.left)):r==="right"?a?(m=this.left+i,n==="near"?h="right":n==="center"?(h="center",m-=d/2):(h="left",m-=d)):(m=this.left+c,n==="near"?h="left":n==="center"?(h="center",m+=d/2):(h="right",m=this.right)):h="right",{textAlign:h,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:n,top:a,width:i,height:o}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(n,a,i,o),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===t);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const c=(d,h,m)=>{!m.width||!m.color||(n.save(),n.lineWidth=m.width,n.strokeStyle=m.color,n.setLineDash(m.borderDash||[]),n.lineDashOffset=m.borderDashOffset,n.beginPath(),n.moveTo(d.x,d.y),n.lineTo(h.x,h.y),n.stroke(),n.restore())};if(r.display)for(i=0,o=a.length;i<o;++i){const d=a[i];r.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),r.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const c=a.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let h,m,f,g;this.isHorizontal()?(h=sd(t,this.left,o)-o/2,m=sd(t,this.right,c)+c/2,f=g=d):(f=sd(t,this.top,o)-o/2,g=sd(t,this.bottom,c)+c/2,h=m=d),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(h,f),r.lineTo(m,g),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&Dy(n,a);const i=this.getLabelItems(t);for(const o of i){const c=o.options,d=o.font,h=o.label,m=o.textOffset;Dd(n,h,0,m,d,c)}a&&My(n)}drawTitle(){const{ctx:t,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const i=Qr(n.font),o=kn(n.padding),c=n.align;let d=i.lineHeight/2;r==="bottom"||r==="center"||xs(r)?(d+=o.bottom,ar(n.text)&&(d+=i.lineHeight*(n.text.length-1))):d+=o.top;const{titleX:h,titleY:m,maxWidth:f,rotation:g}=Qpe(this,d,r,c);Dd(t,n.text,0,0,i,{color:n.color,maxWidth:f,rotation:g,textAlign:Zpe(c,r,a),textBaseline:"middle",translation:[h,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,n=es(t.grid&&t.grid.z,-1),a=es(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ld.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=r.length;i<o;++i){const c=r[i];c[n]===this.id&&(!t||c.type===t)&&a.push(c)}return a}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return Qr(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class gx{constructor(t,r,n){this.type=t,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let n;tge(r)&&(n=this.register(r));const a=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in a||(a[i]=t,Jpe(t,o,n),this.override&&lr.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const r=this.items,n=t.id,a=this.scope;n in r&&delete r[n],a&&n in lr[a]&&(delete lr[a][n],this.override&&delete Rd[n])}}function Jpe(s,t,r){const n=Dm(Object.create(null),[r?lr.get(r):{},lr.get(t),s.defaults]);lr.set(t,n),s.defaultRoutes&&ege(t,s.defaultRoutes),s.descriptors&&lr.describe(t,s.descriptors)}function ege(s,t){Object.keys(t).forEach(r=>{const n=r.split("."),a=n.pop(),i=[s].concat(n).join("."),o=t[r].split("."),c=o.pop(),d=o.join(".");lr.route(i,a,d,c)})}function tge(s){return"id"in s&&"defaults"in s}class sge{constructor(){this.controllers=new gx(wc,"datasets",!0),this.elements=new gx(rl,"elements"),this.plugins=new gx(Object,"plugins"),this.scales=new gx(Ld,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,n){[...r].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(t,i,a):Ls(a,o=>{const c=n||this._getRegistryForType(o);this._exec(t,c,o)})})}_exec(t,r,n){const a=Dk(t);Xs(n["before"+a],[],n),r[t](n),Xs(n["after"+a],[],n)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(t))return n}return this.plugins}_get(t,r,n){const a=r.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return a}}var Ii=new sge;class rge{constructor(){this._init=void 0}notify(t,r,n,a){if(r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const i=a?this._descriptors(t).filter(a):this._descriptors(t),o=this._notify(i,t,r,n);return r==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,r,n,a){a=a||{};for(const i of t){const o=i.plugin,c=o[n],d=[r,a,i.options];if(Xs(c,d,o)===!1&&a.cancelable)return!1}return!0}invalidate(){hs(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const n=t&&t.config,a=es(n.options&&n.options.plugins,{}),i=nge(n);return a===!1&&!r?[]:ige(t,i,a,r)}_notifyStateChanges(t){const r=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(c=>!o.some(d=>c.plugin.id===d.plugin.id));this._notify(a(r,n),t,"stop"),this._notify(a(n,r),t,"start")}}function nge(s){const t={},r=[],n=Object.keys(Ii.plugins.items);for(let i=0;i<n.length;i++)r.push(Ii.getPlugin(n[i]));const a=s.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];r.indexOf(o)===-1&&(r.push(o),t[o.id]=!0)}return{plugins:r,localIds:t}}function age(s,t){return!t&&s===!1?null:s===!0?{}:s}function ige(s,{plugins:t,localIds:r},n,a){const i=[],o=s.getContext();for(const c of t){const d=c.id,h=age(n[d],a);h!==null&&i.push({plugin:c,options:oge(s.config,{plugin:c,local:r[d]},h,o)})}return i}function oge(s,{plugin:t,local:r},n,a){const i=s.pluginScopeKeys(t),o=s.getOptionScopes(n,i);return r&&t.defaults&&o.push(t.defaults),s.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function SN(s,t){const r=lr.datasets[s]||{};return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function lge(s,t){let r=s;return s==="_index_"?r=t:s==="_value_"&&(r=t==="x"?"y":"x"),r}function cge(s,t){return s===t?"_index_":"_value_"}function R3(s){if(s==="x"||s==="y"||s==="r")return s}function dge(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function CN(s,...t){if(R3(s))return s;for(const r of t){const n=r.axis||dge(r.position)||s.length>1&&R3(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function D3(s,t,r){if(r[t+"AxisID"]===s)return{axis:t}}function uge(s,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(r.length)return D3(s,"x",r[0])||D3(s,"y",r[0])}return{}}function hge(s,t){const r=Rd[s.type]||{scales:{}},n=t.scales||{},a=SN(s.type,t),i=Object.create(null);return Object.keys(n).forEach(o=>{const c=n[o];if(!xs(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const d=CN(o,c,uge(o,s),lr.scales[c.type]),h=cge(d,a),m=r.scales||{};i[o]=hm(Object.create(null),[{axis:d},c,m[d],m[h]])}),s.data.datasets.forEach(o=>{const c=o.type||s.type,d=o.indexAxis||SN(c,t),m=(Rd[c]||{}).scales||{};Object.keys(m).forEach(f=>{const g=lge(f,d),b=o[g+"AxisID"]||g;i[b]=i[b]||Object.create(null),hm(i[b],[{axis:g},n[b],m[f]])})}),Object.keys(i).forEach(o=>{const c=i[o];hm(c,[lr.scales[c.type],lr.scale])}),i}function cI(s){const t=s.options||(s.options={});t.plugins=es(t.plugins,{}),t.scales=hge(s,t)}function dI(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function fge(s){return s=s||{},s.data=dI(s.data),cI(s),s}const M3=new Map,uI=new Set;function xx(s,t){let r=M3.get(s);return r||(r=t(),M3.set(s,r),uI.add(r)),r}const Hf=(s,t,r)=>{const n=hc(t,r);n!==void 0&&s.add(n)};class mge{constructor(t){this._config=fge(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=dI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),cI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return xx(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return xx(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return xx(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,n=this.type;return xx(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const n=this._scopeCache;let a=n.get(t);return(!a||r)&&(a=new Map,n.set(t,a)),a}getOptionScopes(t,r,n){const{options:a,type:i}=this,o=this._cachedScopes(t,n),c=o.get(r);if(c)return c;const d=new Set;r.forEach(m=>{t&&(d.add(t),m.forEach(f=>Hf(d,t,f))),m.forEach(f=>Hf(d,a,f)),m.forEach(f=>Hf(d,Rd[i]||{},f)),m.forEach(f=>Hf(d,lr,f)),m.forEach(f=>Hf(d,NN,f))});const h=Array.from(d);return h.length===0&&h.push(Object.create(null)),uI.has(r)&&o.set(r,h),h}chartOptionScopes(){const{options:t,type:r}=this;return[t,Rd[r]||{},lr.datasets[r]||{},{type:r},lr,NN]}resolveNamedOptions(t,r,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:c}=P3(this._resolverCache,t,a);let d=o;if(gge(o,r)){i.$shared=!1,n=fc(n)?n():n;const h=this.createResolver(t,n,c);d=uh(o,n,h)}for(const h of r)i[h]=d[h];return i}createResolver(t,r,n=[""],a){const{resolver:i}=P3(this._resolverCache,t,n);return xs(r)?uh(i,r,void 0,a):i}}function P3(s,t,r){let n=s.get(t);n||(n=new Map,s.set(t,n));const a=r.join();let i=n.get(a);return i||(i={resolver:Bk(t,r),subPrefixes:r.filter(c=>!c.toLowerCase().includes("hover"))},n.set(a,i)),i}const pge=s=>xs(s)&&Object.getOwnPropertyNames(s).some(t=>fc(s[t]));function gge(s,t){const{isScriptable:r,isIndexable:n}=$B(s);for(const a of t){const i=r(a),o=n(a),c=(o||i)&&s[a];if(i&&(fc(c)||pge(c))||o&&ar(c))return!0}return!1}var xge="4.5.1";const yge=["top","bottom","left","right","chartArea"];function O3(s,t){return s==="top"||s==="bottom"||yge.indexOf(s)===-1&&t==="x"}function L3(s,t){return function(r,n){return r[s]===n[s]?r[t]-n[t]:r[s]-n[s]}}function F3(s){const t=s.chart,r=t.options.animation;t.notifyPlugins("afterRender"),Xs(r&&r.onComplete,[s],t)}function bge(s){const t=s.chart,r=t.options.animation;Xs(r&&r.onProgress,[s],t)}function hI(s){return Uk()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const $x={},B3=s=>{const t=hI(s);return Object.values($x).filter(r=>r.canvas===t).pop()};function vge(s,t,r){const n=Object.keys(s);for(const a of n){const i=+a;if(i>=t){const o=s[a];delete s[a],(r>0||i>t)&&(s[i+r]=o)}}}function wge(s,t,r,n){return!r||s.type==="mouseout"?null:n?t:s}class Qa{static defaults=lr;static instances=$x;static overrides=Rd;static registry=Ii;static version=xge;static getChart=B3;static register(...t){Ii.add(...t),I3()}static unregister(...t){Ii.remove(...t),I3()}constructor(t,r){const n=this.config=new mge(r),a=hI(t),i=B3(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Ipe(a)),this.platform.updateConfig(n);const c=this.platform.acquireContext(a,o.aspectRatio),d=c&&c.canvas,h=d&&d.height,m=d&&d.width;if(this.id=gfe(),this.ctx=c,this.canvas=d,this.width=m,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rge,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Mfe(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],$x[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Bo.listen(this,"complete",F3),Bo.listen(this,"progress",bge),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:n,height:a,_aspectRatio:i}=this;return hs(t)?r&&i?i:a?n/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ii}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():o3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return n3(this.canvas,this.ctx),this}stop(){return Bo.stop(this),this}resize(t,r){Bo.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,t,r,i),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,o3(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),Xs(n.onResize,[this,o],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Ls(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const t=this.options,r=t.scales,n=this.scales,a=Object.keys(n).reduce((o,c)=>(o[c]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const c=r[o],d=CN(o,c),h=d==="r",m=d==="x";return{options:c,dposition:h?"chartArea":m?"bottom":"left",dtype:h?"radialLinear":m?"category":"linear"}}))),Ls(i,o=>{const c=o.options,d=c.id,h=CN(d,c),m=es(c.type,o.dtype);(c.position===void 0||O3(c.position,h)!==O3(o.dposition))&&(c.position=o.dposition),a[d]=!0;let f=null;if(d in n&&n[d].type===m)f=n[d];else{const g=Ii.getScale(m);f=new g({id:d,type:m,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(c,t)}),Ls(a,(o,c)=>{o||delete n[c]}),Ls(n,o=>{jn.configure(this,o,o.options),jn.addBox(this,o)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,n=t.length;if(t.sort((a,i)=>a.index-i.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);t.splice(r,n-r)}this._sortedMetasets=t.slice(0).sort(L3("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((n,a)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const i=r[n];let o=this.getDatasetMeta(n);const c=i.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=c,o.indexAxis=i.indexAxis||SN(c,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const d=Ii.getController(c),{datasetElementType:h,dataElementType:m}=lr.datasets[c];Object.assign(d,{dataElementType:Ii.getElement(m),datasetElementType:h&&Ii.getElement(h)}),o.controller=new d(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Ls(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,m=this.data.datasets.length;h<m;h++){const{controller:f}=this.getDatasetMeta(h),g=!a&&i.indexOf(f)===-1;f.buildOrUpdateElements(g),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||Ls(i,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(L3("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ls(this.scales,t=>{jn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!KD(r,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of r){const o=n==="_removeElements"?-i:i;vge(t,a,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(t.filter(o=>o[0]===i).map((o,c)=>c+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<r;i++)if(!KD(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;jn.update(this,this.width,this.height,t);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Ls(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,fc(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const n=this.getDatasetMeta(t),a={meta:n,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Bo.has(this)?this.attached&&!Bo.running(this)&&Bo.start(this):(this.draw(),F3({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,n=[];let a,i;for(a=0,i=r.length;a<i;++a){const o=r[a];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,n={meta:t,index:t.index,cancelable:!0},a=JB(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&Dy(r,a),t.controller.draw(),a&&My(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return Ho(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,n,a){const i=ype.modes[r];return typeof i=="function"?i(this,t,n,a):[]}getDatasetMeta(t){const r=this.data.datasets[t],n=this._metasets;let a=n.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=vc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(t,r){const n=this.getDatasetMeta(t);n.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,n){const a=n?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,a);Mm(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(i,{visible:n}),this.update(c=>c.datasetIndex===t?a:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),Bo.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),n3(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete $x[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),t[i]=o},a=(i,o,c)=>{i.offsetX=o,i.offsetY=c,this._eventHandler(i)};Ls(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,n=(d,h)=>{r.addEventListener(this,d,h),t[d]=h},a=(d,h)=>{t[d]&&(r.removeEventListener(this,d,h),delete t[d])},i=(d,h)=>{this.canvas&&this.resize(d,h)};let o;const c=()=>{a("attach",c),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",c)},r.isAttached(this.canvas)?c():o()}unbindEvents(){Ls(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},Ls(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,n){const a=n?"set":"remove";let i,o,c,d;for(r==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),c=0,d=t.length;c<d;++c){o=t[c];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],n=t.map(({datasetIndex:i,index:o})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[o],index:o}});!S0(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(t,r,n){return this._plugins.notify(this,t,r,n)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,n){const a=this.options.hover,i=(d,h)=>d.filter(m=>!h.some(f=>m.datasetIndex===f.datasetIndex&&m.index===f.index)),o=i(r,t),c=n?t:i(t,r);o.length&&this.updateHoverStyle(o,a.mode,!1),c.length&&a.mode&&this.updateHoverStyle(c,a.mode,!0)}_eventHandler(t,r){const n={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},a=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(t,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(t,r,n){const{_active:a=[],options:i}=this,o=r,c=this._getActiveElements(t,a,n,o),d=jfe(t),h=wge(t,this._lastEvent,n,d);n&&(this._lastEvent=null,Xs(i.onHover,[t,c,this],this),d&&Xs(i.onClick,[t,c,this],this));const m=!S0(c,a);return(m||r)&&(this._active=c,this._updateHoverStyles(c,a,r)),this._lastEvent=h,m}_getActiveElements(t,r,n,a){if(t.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,a)}}function I3(){return Ls(Qa.instances,s=>s._plugins.invalidate())}function jge(s,t,r){const{startAngle:n,x:a,y:i,outerRadius:o,innerRadius:c,options:d}=t,{borderWidth:h,borderJoinStyle:m}=d,f=Math.min(h/o,xn(n-r));if(s.beginPath(),s.arc(a,i,o-h/2,n+f/2,r-f/2),c>0){const g=Math.min(h/c,xn(n-r));s.arc(a,i,c+h/2,r-g/2,n+g/2,!0)}else{const g=Math.min(h/2,o*xn(n-r));if(m==="round")s.arc(a,i,g,r-Ts/2,n+Ts/2,!0);else if(m==="bevel"){const b=2*g*g,v=-b*Math.cos(r+Ts/2)+a,y=-b*Math.sin(r+Ts/2)+i,_=b*Math.cos(n+Ts/2)+a,j=b*Math.sin(n+Ts/2)+i;s.lineTo(v,y),s.lineTo(_,j)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function _ge(s,t,r){const{startAngle:n,pixelMargin:a,x:i,y:o,outerRadius:c,innerRadius:d}=t;let h=a/c;s.beginPath(),s.arc(i,o,c,n-h,r+h),d>a?(h=a/d,s.arc(i,o,d,r+h,n-h,!0)):s.arc(i,o,a,r+Dr,n-Dr),s.closePath(),s.clip()}function Nge(s){return Fk(s,["outerStart","outerEnd","innerStart","innerEnd"])}function kge(s,t,r,n){const a=Nge(s.options.borderRadius),i=(r-t)/2,o=Math.min(i,n*t/2),c=d=>{const h=(r-Math.min(i,d))*n/2;return nn(d,0,Math.min(i,h))};return{outerStart:c(a.outerStart),outerEnd:c(a.outerEnd),innerStart:nn(a.innerStart,0,o),innerEnd:nn(a.innerEnd,0,o)}}function Tu(s,t,r,n){return{x:r+s*Math.cos(t),y:n+s*Math.sin(t)}}function D0(s,t,r,n,a,i){const{x:o,y:c,startAngle:d,pixelMargin:h,innerRadius:m}=t,f=Math.max(t.outerRadius+n+r-h,0),g=m>0?m+n+r+h:0;let b=0;const v=a-d;if(n){const J=m>0?m-n:0,Q=f>0?f-n:0,Z=(J+Q)/2,ee=Z!==0?v*Z/(Z+n):v;b=(v-ee)/2}const y=Math.max(.001,v*f-r/Ts)/f,_=(v-y)/2,j=d+_+b,S=a-_-b,{outerStart:N,outerEnd:k,innerStart:C,innerEnd:z}=kge(t,g,f,S-j),E=f-N,U=f-k,T=j+N/E,re=S-k/U,Y=g+C,I=g+z,K=j+C/Y,L=S-z/I;if(s.beginPath(),i){const J=(T+re)/2;if(s.arc(o,c,f,T,J),s.arc(o,c,f,J,re),k>0){const F=Tu(U,re,o,c);s.arc(F.x,F.y,k,re,S+Dr)}const Q=Tu(I,S,o,c);if(s.lineTo(Q.x,Q.y),z>0){const F=Tu(I,L,o,c);s.arc(F.x,F.y,z,S+Dr,L+Math.PI)}const Z=(S-z/g+(j+C/g))/2;if(s.arc(o,c,g,S-z/g,Z,!0),s.arc(o,c,g,Z,j+C/g,!0),C>0){const F=Tu(Y,K,o,c);s.arc(F.x,F.y,C,K+Math.PI,j-Dr)}const ee=Tu(E,j,o,c);if(s.lineTo(ee.x,ee.y),N>0){const F=Tu(E,T,o,c);s.arc(F.x,F.y,N,j-Dr,T)}}else{s.moveTo(o,c);const J=Math.cos(T)*f+o,Q=Math.sin(T)*f+c;s.lineTo(J,Q);const Z=Math.cos(re)*f+o,ee=Math.sin(re)*f+c;s.lineTo(Z,ee)}s.closePath()}function Sge(s,t,r,n,a){const{fullCircles:i,startAngle:o,circumference:c}=t;let d=t.endAngle;if(i){D0(s,t,r,n,d,a);for(let h=0;h<i;++h)s.fill();isNaN(c)||(d=o+(c%sr||sr))}return D0(s,t,r,n,d,a),s.fill(),d}function Cge(s,t,r,n,a){const{fullCircles:i,startAngle:o,circumference:c,options:d}=t,{borderWidth:h,borderJoinStyle:m,borderDash:f,borderDashOffset:g,borderRadius:b}=d,v=d.borderAlign==="inner";if(!h)return;s.setLineDash(f||[]),s.lineDashOffset=g,v?(s.lineWidth=h*2,s.lineJoin=m||"round"):(s.lineWidth=h,s.lineJoin=m||"bevel");let y=t.endAngle;if(i){D0(s,t,r,n,y,a);for(let _=0;_<i;++_)s.stroke();isNaN(c)||(y=o+(c%sr||sr))}v&&_ge(s,t,y),d.selfJoin&&y-o>=Ts&&b===0&&m!=="miter"&&jge(s,t,y),i||(D0(s,t,r,n,y,a),s.stroke())}class Age extends rl{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,n){const a=this.getProps(["x","y"],n),{angle:i,distance:o}=DB(a,{x:t,y:r}),{startAngle:c,endAngle:d,innerRadius:h,outerRadius:m,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),g=(this.options.spacing+this.options.borderWidth)/2,b=es(f,d-c),v=Pm(i,c,d)&&c!==d,y=b>=sr||v,_=$o(o,h+g,m+g);return y&&_}getCenterPoint(t){const{x:r,y:n,startAngle:a,endAngle:i,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:h}=this.options,m=(a+i)/2,f=(o+c+h+d)/2;return{x:r+Math.cos(m)*f,y:n+Math.sin(m)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:n}=this,a=(r.offset||0)/4,i=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=n>sr?Math.floor(n/sr):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*a,Math.sin(c)*a);const d=1-Math.sin(Math.min(Ts,n||0)),h=a*d;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,Sge(t,this,h,i,o),Cge(t,this,h,i,o),t.restore()}}function fI(s,t,r=t){s.lineCap=es(r.borderCapStyle,t.borderCapStyle),s.setLineDash(es(r.borderDash,t.borderDash)),s.lineDashOffset=es(r.borderDashOffset,t.borderDashOffset),s.lineJoin=es(r.borderJoinStyle,t.borderJoinStyle),s.lineWidth=es(r.borderWidth,t.borderWidth),s.strokeStyle=es(r.borderColor,t.borderColor)}function Ege(s,t,r){s.lineTo(r.x,r.y)}function Tge(s){return s.stepped?qfe:s.tension||s.cubicInterpolationMode==="monotone"?Gfe:Ege}function mI(s,t,r={}){const n=s.length,{start:a=0,end:i=n-1}=r,{start:o,end:c}=t,d=Math.max(a,o),h=Math.min(i,c),m=a<o&&i<o||a>c&&i>c;return{count:n,start:d,loop:t.loop,ilen:h<d&&!m?n+h-d:h-d}}function Rge(s,t,r,n){const{points:a,options:i}=t,{count:o,start:c,loop:d,ilen:h}=mI(a,r,n),m=Tge(i);let{move:f=!0,reverse:g}=n||{},b,v,y;for(b=0;b<=h;++b)v=a[(c+(g?h-b:b))%o],!v.skip&&(f?(s.moveTo(v.x,v.y),f=!1):m(s,y,v,g,i.stepped),y=v);return d&&(v=a[(c+(g?h:0))%o],m(s,y,v,g,i.stepped)),!!d}function Dge(s,t,r,n){const a=t.points,{count:i,start:o,ilen:c}=mI(a,r,n),{move:d=!0,reverse:h}=n||{};let m=0,f=0,g,b,v,y,_,j;const S=k=>(o+(h?c-k:k))%i,N=()=>{y!==_&&(s.lineTo(m,_),s.lineTo(m,y),s.lineTo(m,j))};for(d&&(b=a[S(0)],s.moveTo(b.x,b.y)),g=0;g<=c;++g){if(b=a[S(g)],b.skip)continue;const k=b.x,C=b.y,z=k|0;z===v?(C<y?y=C:C>_&&(_=C),m=(f*m+k)/++f):(N(),s.lineTo(k,C),v=z,f=0,y=_=C),j=C}N()}function AN(s){const t=s.options,r=t.borderDash&&t.borderDash.length;return!s._decimated&&!s._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?Dge:Rge}function Mge(s){return s.stepped?Nme:s.tension||s.cubicInterpolationMode==="monotone"?kme:dd}function Pge(s,t,r,n){let a=t._path;a||(a=t._path=new Path2D,t.path(a,r,n)&&a.closePath()),fI(s,t.options),s.stroke(a)}function Oge(s,t,r,n){const{segments:a,options:i}=t,o=AN(t);for(const c of a)fI(s,i,c.style),s.beginPath(),o(s,t,c,{start:r,end:r+n-1})&&s.closePath(),s.stroke()}const Lge=typeof Path2D=="function";function Fge(s,t,r,n){Lge&&!t.options.segment?Pge(s,t,r,n):Oge(s,t,r,n)}class Ly extends rl{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;gme(this._points,n,t,a,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Rme(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,n=t.length;return n&&r[t[n-1].end]}interpolate(t,r){const n=this.options,a=t[r],i=this.points,o=QB(this,{property:r,start:a,end:a});if(!o.length)return;const c=[],d=Mge(n);let h,m;for(h=0,m=o.length;h<m;++h){const{start:f,end:g}=o[h],b=i[f],v=i[g];if(b===v){c.push(b);continue}const y=Math.abs((a-b[r])/(v[r]-b[r])),_=d(b,v,y,n.stepped);_[r]=t[r],c.push(_)}return c.length===1?c[0]:c}pathSegment(t,r,n){return AN(this)(t,this,r,n)}path(t,r,n){const a=this.segments,i=AN(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const c of a)o&=i(t,this,c,{start:r,end:r+n-1});return!!o}draw(t,r,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),Fge(t,this,n,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function z3(s,t,r,n){const a=s.options,{[r]:i}=s.getProps([r],n);return Math.abs(t-i)<a.radius+a.hitRadius}class Bge extends rl{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,n){const a=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(t-i,2)+Math.pow(r-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,r){return z3(this,t,"x",r)}inYRange(t,r){return z3(this,t,"y",r)}getCenterPoint(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const n=r&&t.borderWidth||0;return(r+n)*2}draw(t,r){const n=this.options;this.skip||n.radius<.1||!Ho(this,r,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,kN(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function pI(s,t){const{x:r,y:n,base:a,width:i,height:o}=s.getProps(["x","y","base","width","height"],t);let c,d,h,m,f;return s.horizontal?(f=o/2,c=Math.min(r,a),d=Math.max(r,a),h=n-f,m=n+f):(f=i/2,c=r-f,d=r+f,h=Math.min(n,a),m=Math.max(n,a)),{left:c,top:h,right:d,bottom:m}}function Ql(s,t,r,n){return s?0:nn(t,r,n)}function Ige(s,t,r){const n=s.options.borderWidth,a=s.borderSkipped,i=UB(n);return{t:Ql(a.top,i.top,0,r),r:Ql(a.right,i.right,0,t),b:Ql(a.bottom,i.bottom,0,r),l:Ql(a.left,i.left,0,t)}}function zge(s,t,r){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),a=s.options.borderRadius,i=wd(a),o=Math.min(t,r),c=s.borderSkipped,d=n||xs(a);return{topLeft:Ql(!d||c.top||c.left,i.topLeft,0,o),topRight:Ql(!d||c.top||c.right,i.topRight,0,o),bottomLeft:Ql(!d||c.bottom||c.left,i.bottomLeft,0,o),bottomRight:Ql(!d||c.bottom||c.right,i.bottomRight,0,o)}}function Uge(s){const t=pI(s),r=t.right-t.left,n=t.bottom-t.top,a=Ige(s,r/2,n/2),i=zge(s,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function q1(s,t,r,n){const a=t===null,i=r===null,c=s&&!(a&&i)&&pI(s,n);return c&&(a||$o(t,c.left,c.right))&&(i||$o(r,c.top,c.bottom))}function $ge(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function Vge(s,t){s.rect(t.x,t.y,t.w,t.h)}function G1(s,t,r={}){const n=s.x!==r.x?-t:0,a=s.y!==r.y?-t:0,i=(s.x+s.w!==r.x+r.w?t:0)-n,o=(s.y+s.h!==r.y+r.h?t:0)-a;return{x:s.x+n,y:s.y+a,w:s.w+i,h:s.h+o,radius:s.radius}}class Hge extends rl{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:o}=Uge(this),c=$ge(o.radius)?Om:Vge;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),c(t,G1(o,r,i)),t.clip(),c(t,G1(i,-r,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),c(t,G1(i,r)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,r,n){return q1(this,t,r,n)}inXRange(t,r){return q1(this,t,null,r)}inYRange(t,r){return q1(this,null,t,r)}getCenterPoint(t){const{x:r,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(r+a)/2:r,y:i?n:(n+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var qge=Object.freeze({__proto__:null,ArcElement:Age,BarElement:Hge,LineElement:Ly,PointElement:Bge});const EN=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],U3=EN.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function gI(s){return EN[s%EN.length]}function xI(s){return U3[s%U3.length]}function Gge(s,t){return s.borderColor=gI(t),s.backgroundColor=xI(t),++t}function Wge(s,t){return s.backgroundColor=s.data.map(()=>gI(t++)),t}function Yge(s,t){return s.backgroundColor=s.data.map(()=>xI(t++)),t}function Kge(s){let t=0;return(r,n)=>{const a=s.getDatasetMeta(n).controller;a instanceof Vk?t=Wge(r,t):a instanceof rI?t=Yge(r,t):a&&(t=Gge(r,t))}}function $3(s){let t;for(t in s)if(s[t].borderColor||s[t].backgroundColor)return!0;return!1}function Xge(s){return s&&(s.borderColor||s.backgroundColor)}function Zge(){return lr.borderColor!=="rgba(0,0,0,0.1)"||lr.backgroundColor!=="rgba(0,0,0,0.1)"}var Qge={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,t,r){if(!r.enabled)return;const{data:{datasets:n},options:a}=s.config,{elements:i}=a,o=$3(n)||Xge(a)||i&&$3(i)||Zge();if(!r.forceOverride&&o)return;const c=Kge(s);n.forEach(c)}};function Jge(s,t,r,n,a){const i=a.samples||n;if(i>=r)return s.slice(t,t+r);const o=[],c=(r-2)/(i-2);let d=0;const h=t+r-1;let m=t,f,g,b,v,y;for(o[d++]=s[m],f=0;f<i-2;f++){let _=0,j=0,S;const N=Math.floor((f+1)*c)+1+t,k=Math.min(Math.floor((f+2)*c)+1,r)+t,C=k-N;for(S=N;S<k;S++)_+=s[S].x,j+=s[S].y;_/=C,j/=C;const z=Math.floor(f*c)+1+t,E=Math.min(Math.floor((f+1)*c)+1,r)+t,{x:U,y:T}=s[m];for(b=v=-1,S=z;S<E;S++)v=.5*Math.abs((U-_)*(s[S].y-T)-(U-s[S].x)*(j-T)),v>b&&(b=v,g=s[S],y=S);o[d++]=g,m=y}return o[d++]=s[h],o}function exe(s,t,r,n){let a=0,i=0,o,c,d,h,m,f,g,b,v,y;const _=[],j=t+r-1,S=s[t].x,k=s[j].x-S;for(o=t;o<t+r;++o){c=s[o],d=(c.x-S)/k*n,h=c.y;const C=d|0;if(C===m)h<v?(v=h,f=o):h>y&&(y=h,g=o),a=(i*a+c.x)/++i;else{const z=o-1;if(!hs(f)&&!hs(g)){const E=Math.min(f,g),U=Math.max(f,g);E!==b&&E!==z&&_.push({...s[E],x:a}),U!==b&&U!==z&&_.push({...s[U],x:a})}o>0&&z!==b&&_.push(s[z]),_.push(c),m=C,i=0,v=y=h,f=g=b=o}}return _}function yI(s){if(s._decimated){const t=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function V3(s){s.data.datasets.forEach(t=>{yI(t)})}function txe(s,t){const r=t.length;let n=0,a;const{iScale:i}=s,{min:o,max:c,minDefined:d,maxDefined:h}=i.getUserBounds();return d&&(n=nn(Vo(t,i.axis,o).lo,0,r-1)),h?a=nn(Vo(t,i.axis,c).hi+1,n,r)-n:a=r-n,{start:n,count:a}}var sxe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,t,r)=>{if(!r.enabled){V3(s);return}const n=s.width;s.data.datasets.forEach((a,i)=>{const{_data:o,indexAxis:c}=a,d=s.getDatasetMeta(i),h=o||a.data;if(tm([c,s.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;const m=s.scales[d.xAxisID];if(m.type!=="linear"&&m.type!=="time"||s.options.parsing)return;let{start:f,count:g}=txe(d,h);const b=r.threshold||4*n;if(g<=b){yI(a);return}hs(o)&&(a._data=h,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let v;switch(r.algorithm){case"lttb":v=Jge(h,f,g,n,r);break;case"min-max":v=exe(h,f,g,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}a._decimated=v})},destroy(s){V3(s)}};function rxe(s,t,r){const n=s.segments,a=s.points,i=t.points,o=[];for(const c of n){let{start:d,end:h}=c;h=Fy(d,h,a);const m=TN(r,a[d],a[h],c.loop);if(!t.segments){o.push({source:c,target:m,start:a[d],end:a[h]});continue}const f=QB(t,m);for(const g of f){const b=TN(r,i[g.start],i[g.end],g.loop),v=ZB(c,a,b);for(const y of v)o.push({source:y,target:g,start:{[r]:H3(m,b,"start",Math.max)},end:{[r]:H3(m,b,"end",Math.min)}})}}return o}function TN(s,t,r,n){if(n)return;let a=t[s],i=r[s];return s==="angle"&&(a=xn(a),i=xn(i)),{property:s,start:a,end:i}}function nxe(s,t){const{x:r=null,y:n=null}=s||{},a=t.points,i=[];return t.segments.forEach(({start:o,end:c})=>{c=Fy(o,c,a);const d=a[o],h=a[c];n!==null?(i.push({x:d.x,y:n}),i.push({x:h.x,y:n})):r!==null&&(i.push({x:r,y:d.y}),i.push({x:r,y:h.y}))}),i}function Fy(s,t,r){for(;t>s;t--){const n=r[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function H3(s,t,r,n){return s&&t?n(s[r],t[r]):s?s[r]:t?t[r]:0}function bI(s,t){let r=[],n=!1;return ar(s)?(n=!0,r=s):r=nxe(s,t),r.length?new Ly({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function q3(s){return s&&s.fill!==!1}function axe(s,t,r){let a=s[t].fill;const i=[t];let o;if(!r)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!Ar(a))return a;if(o=s[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function ixe(s,t,r){const n=dxe(s);if(xs(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Ar(a)&&Math.floor(a)===a?oxe(n[0],t,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function oxe(s,t,r,n){return(s==="-"||s==="+")&&(r=t+r),r===t||r<0||r>=n?!1:r}function lxe(s,t){let r=null;return s==="start"?r=t.bottom:s==="end"?r=t.top:xs(s)?r=t.getPixelForValue(s.value):t.getBasePixel&&(r=t.getBasePixel()),r}function cxe(s,t,r){let n;return s==="start"?n=r:s==="end"?n=t.options.reverse?t.min:t.max:xs(s)?n=s.value:n=t.getBaseValue(),n}function dxe(s){const t=s.options,r=t.fill;let n=es(r&&r.target,r);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function uxe(s){const{scale:t,index:r,line:n}=s,a=[],i=n.segments,o=n.points,c=hxe(t,r);c.push(bI({x:null,y:t.bottom},n));for(let d=0;d<i.length;d++){const h=i[d];for(let m=h.start;m<=h.end;m++)fxe(a,o[m],c)}return new Ly({points:a,options:{}})}function hxe(s,t){const r=[],n=s.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const i=n[a];if(i.index===t)break;i.hidden||r.unshift(i.dataset)}return r}function fxe(s,t,r){const n=[];for(let a=0;a<r.length;a++){const i=r[a],{first:o,last:c,point:d}=mxe(i,t,"x");if(!(!d||o&&c)){if(o)n.unshift(d);else if(s.push(d),!c)break}}s.push(...n)}function mxe(s,t,r){const n=s.interpolate(t,r);if(!n)return{};const a=n[r],i=s.segments,o=s.points;let c=!1,d=!1;for(let h=0;h<i.length;h++){const m=i[h],f=o[m.start][r],g=o[m.end][r];if($o(a,f,g)){c=a===f,d=a===g;break}}return{first:c,last:d,point:n}}class vI{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,r,n){const{x:a,y:i,radius:o}=this;return r=r||{start:0,end:sr},t.arc(a,i,o,r.end,r.start,!0),!n.bounds}interpolate(t){const{x:r,y:n,radius:a}=this,i=t.angle;return{x:r+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function pxe(s){const{chart:t,fill:r,line:n}=s;if(Ar(r))return gxe(t,r);if(r==="stack")return uxe(s);if(r==="shape")return!0;const a=xxe(s);return a instanceof vI?a:bI(a,n)}function gxe(s,t){const r=s.getDatasetMeta(t);return r&&s.isDatasetVisible(t)?r.dataset:null}function xxe(s){return(s.scale||{}).getPointPositionForValue?bxe(s):yxe(s)}function yxe(s){const{scale:t={},fill:r}=s,n=lxe(r,t);if(Ar(n)){const a=t.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function bxe(s){const{scale:t,fill:r}=s,n=t.options,a=t.getLabels().length,i=n.reverse?t.max:t.min,o=cxe(r,t,i),c=[];if(n.grid.circular){const d=t.getPointPositionForValue(0,i);return new vI({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(o)})}for(let d=0;d<a;++d)c.push(t.getPointPositionForValue(d,o));return c}function W1(s,t,r){const n=pxe(t),{chart:a,index:i,line:o,scale:c,axis:d}=t,h=o.options,m=h.fill,f=h.backgroundColor,{above:g=f,below:b=f}=m||{},v=a.getDatasetMeta(i),y=JB(a,v);n&&o.points.length&&(Dy(s,r),vxe(s,{line:o,target:n,above:g,below:b,area:r,scale:c,axis:d,clip:y}),My(s))}function vxe(s,t){const{line:r,target:n,above:a,below:i,area:o,scale:c,clip:d}=t,h=r._loop?"angle":t.axis;s.save();let m=i;i!==a&&(h==="x"?(G3(s,n,o.top),Y1(s,{line:r,target:n,color:a,scale:c,property:h,clip:d}),s.restore(),s.save(),G3(s,n,o.bottom)):h==="y"&&(W3(s,n,o.left),Y1(s,{line:r,target:n,color:i,scale:c,property:h,clip:d}),s.restore(),s.save(),W3(s,n,o.right),m=a)),Y1(s,{line:r,target:n,color:m,scale:c,property:h,clip:d}),s.restore()}function G3(s,t,r){const{segments:n,points:a}=t;let i=!0,o=!1;s.beginPath();for(const c of n){const{start:d,end:h}=c,m=a[d],f=a[Fy(d,h,a)];i?(s.moveTo(m.x,m.y),i=!1):(s.lineTo(m.x,r),s.lineTo(m.x,m.y)),o=!!t.pathSegment(s,c,{move:o}),o?s.closePath():s.lineTo(f.x,r)}s.lineTo(t.first().x,r),s.closePath(),s.clip()}function W3(s,t,r){const{segments:n,points:a}=t;let i=!0,o=!1;s.beginPath();for(const c of n){const{start:d,end:h}=c,m=a[d],f=a[Fy(d,h,a)];i?(s.moveTo(m.x,m.y),i=!1):(s.lineTo(r,m.y),s.lineTo(m.x,m.y)),o=!!t.pathSegment(s,c,{move:o}),o?s.closePath():s.lineTo(r,f.y)}s.lineTo(r,t.first().y),s.closePath(),s.clip()}function Y1(s,t){const{line:r,target:n,property:a,color:i,scale:o,clip:c}=t,d=rxe(r,n,a);for(const{source:h,target:m,start:f,end:g}of d){const{style:{backgroundColor:b=i}={}}=h,v=n!==!0;s.save(),s.fillStyle=b,wxe(s,o,c,v&&TN(a,f,g)),s.beginPath();const y=!!r.pathSegment(s,h);let _;if(v){y?s.closePath():Y3(s,n,g,a);const j=!!n.pathSegment(s,m,{move:y,reverse:!0});_=y&&j,_||Y3(s,n,f,a)}s.closePath(),s.fill(_?"evenodd":"nonzero"),s.restore()}}function wxe(s,t,r,n){const a=t.chart.chartArea,{property:i,start:o,end:c}=n||{};if(i==="x"||i==="y"){let d,h,m,f;i==="x"?(d=o,h=a.top,m=c,f=a.bottom):(d=a.left,h=o,m=a.right,f=c),s.beginPath(),r&&(d=Math.max(d,r.left),m=Math.min(m,r.right),h=Math.max(h,r.top),f=Math.min(f,r.bottom)),s.rect(d,h,m-d,f-h),s.clip()}}function Y3(s,t,r,n){const a=t.interpolate(r,n);a&&s.lineTo(a.x,a.y)}var jxe={id:"filler",afterDatasetsUpdate(s,t,r){const n=(s.data.datasets||[]).length,a=[];let i,o,c,d;for(o=0;o<n;++o)i=s.getDatasetMeta(o),c=i.dataset,d=null,c&&c.options&&c instanceof Ly&&(d={visible:s.isDatasetVisible(o),index:o,fill:ixe(c,o,n),chart:s,axis:i.controller.options.indexAxis,scale:i.vScale,line:c}),i.$filler=d,a.push(d);for(o=0;o<n;++o)d=a[o],!(!d||d.fill===!1)&&(d.fill=axe(a,o,r.propagate))},beforeDraw(s,t,r){const n=r.drawTime==="beforeDraw",a=s.getSortedVisibleDatasetMetas(),i=s.chartArea;for(let o=a.length-1;o>=0;--o){const c=a[o].$filler;c&&(c.line.updateControlPoints(i,c.axis),n&&c.fill&&W1(s.ctx,c,i))}},beforeDatasetsDraw(s,t,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=s.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const i=n[a].$filler;q3(i)&&W1(s.ctx,i,s.chartArea)}},beforeDatasetDraw(s,t,r){const n=t.meta.$filler;!q3(n)||r.drawTime!=="beforeDatasetDraw"||W1(s.ctx,n,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const K3=(s,t)=>{let{boxHeight:r=t,boxWidth:n=t}=s;return s.usePointStyle&&(r=Math.min(r,t),n=s.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}},_xe=(s,t)=>s!==null&&t!==null&&s.datasetIndex===t.datasetIndex&&s.index===t.index;class X3 extends rl{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,n){this.maxWidth=t,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let r=Xs(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(n=>t.filter(n,this.chart.data))),t.sort&&(r=r.sort((n,a)=>t.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,a=Qr(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=K3(n,i);let h,m;r.font=a.string,this.isHorizontal()?(h=this.maxWidth,m=this._fitRows(o,i,c,d)+10):(m=this.maxHeight,h=this._fitCols(o,a,c,d)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,r,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.lineWidths=[0],m=a+c;let f=t;i.textAlign="left",i.textBaseline="middle";let g=-1,b=-m;return this.legendItems.forEach((v,y)=>{const _=n+r/2+i.measureText(v.text).width;(y===0||h[h.length-1]+_+2*c>o)&&(f+=m,h[h.length-(y>0?0:1)]=0,b+=m,g++),d[y]={left:0,top:b,row:g,width:_,height:a},h[h.length-1]+=_+c}),f}_fitCols(t,r,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.columnSizes=[],m=o-t;let f=c,g=0,b=0,v=0,y=0;return this.legendItems.forEach((_,j)=>{const{itemWidth:S,itemHeight:N}=Nxe(n,r,i,_,a);j>0&&b+N+2*c>m&&(f+=g+c,h.push({width:g,height:b}),v+=g+c,y++,g=b=0),d[j]={left:v,top:b,col:y,width:S,height:N},g=Math.max(g,S),b+=N+c}),f+=g,h.push({width:g,height:b}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:i}}=this,o=Xu(i,this.left,this.width);if(this.isHorizontal()){let c=0,d=gn(n,this.left+a,this.right-this.lineWidths[c]);for(const h of r)c!==h.row&&(c=h.row,d=gn(n,this.left+a,this.right-this.lineWidths[c])),h.top+=this.top+t+a,h.left=o.leftForLtr(o.x(d),h.width),d+=h.width+a}else{let c=0,d=gn(n,this.top+t+a,this.bottom-this.columnSizes[c].height);for(const h of r)h.col!==c&&(c=h.col,d=gn(n,this.top+t+a,this.bottom-this.columnSizes[c].height)),h.top=d,h.left+=this.left+a,h.left=o.leftForLtr(o.x(h.left),h.width),d+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Dy(t,this),this._draw(),My(t)}}_draw(){const{options:t,columnSizes:r,lineWidths:n,ctx:a}=this,{align:i,labels:o}=t,c=lr.color,d=Xu(t.rtl,this.left,this.width),h=Qr(o.font),{padding:m}=o,f=h.size,g=f/2;let b;this.drawTitle(),a.textAlign=d.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;const{boxWidth:v,boxHeight:y,itemHeight:_}=K3(o,f),j=function(z,E,U){if(isNaN(v)||v<=0||isNaN(y)||y<0)return;a.save();const T=es(U.lineWidth,1);if(a.fillStyle=es(U.fillStyle,c),a.lineCap=es(U.lineCap,"butt"),a.lineDashOffset=es(U.lineDashOffset,0),a.lineJoin=es(U.lineJoin,"miter"),a.lineWidth=T,a.strokeStyle=es(U.strokeStyle,c),a.setLineDash(es(U.lineDash,[])),o.usePointStyle){const re={radius:y*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:T},Y=d.xPlus(z,v/2),I=E+g;zB(a,re,Y,I,o.pointStyleWidth&&v)}else{const re=E+Math.max((f-y)/2,0),Y=d.leftForLtr(z,v),I=wd(U.borderRadius);a.beginPath(),Object.values(I).some(K=>K!==0)?Om(a,{x:Y,y:re,w:v,h:y,radius:I}):a.rect(Y,re,v,y),a.fill(),T!==0&&a.stroke()}a.restore()},S=function(z,E,U){Dd(a,U.text,z,E+_/2,h,{strikethrough:U.hidden,textAlign:d.textAlign(U.textAlign)})},N=this.isHorizontal(),k=this._computeTitleHeight();N?b={x:gn(i,this.left+m,this.right-n[0]),y:this.top+m+k,line:0}:b={x:this.left+m,y:gn(i,this.top+k+m,this.bottom-r[0].height),line:0},YB(this.ctx,t.textDirection);const C=_+m;this.legendItems.forEach((z,E)=>{a.strokeStyle=z.fontColor,a.fillStyle=z.fontColor;const U=a.measureText(z.text).width,T=d.textAlign(z.textAlign||(z.textAlign=o.textAlign)),re=v+g+U;let Y=b.x,I=b.y;d.setWidth(this.width),N?E>0&&Y+re+m>this.right&&(I=b.y+=C,b.line++,Y=b.x=gn(i,this.left+m,this.right-n[b.line])):E>0&&I+C>this.bottom&&(Y=b.x=Y+r[b.line].width+m,b.line++,I=b.y=gn(i,this.top+k+m,this.bottom-r[b.line].height));const K=d.x(Y);if(j(K,I,z),Y=Pfe(T,Y+v+g,N?Y+re:this.right,t.rtl),S(d.x(Y),I,z),N)b.x+=re+m;else if(typeof z.text!="string"){const L=h.lineHeight;b.y+=wI(z,L)+m}else b.y+=C}),KB(this.ctx,t.textDirection)}drawTitle(){const t=this.options,r=t.title,n=Qr(r.font),a=kn(r.padding);if(!r.display)return;const i=Xu(t.rtl,this.left,this.width),o=this.ctx,c=r.position,d=n.size/2,h=a.top+d;let m,f=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),m=this.top+h,f=gn(t.align,f,this.right-g);else{const v=this.columnSizes.reduce((y,_)=>Math.max(y,_.height),0);m=h+gn(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}const b=gn(c,f,f+g);o.textAlign=i.textAlign(Ok(c)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,Dd(o,r.text,b,m,n)}_computeTitleHeight(){const t=this.options.title,r=Qr(t.font),n=kn(t.padding);return t.display?r.lineHeight+n.height:0}_getLegendItemAt(t,r){let n,a,i;if($o(t,this.left,this.right)&&$o(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],$o(t,a.left,a.left+a.width)&&$o(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(t){const r=this.options;if(!Cxe(t.type,r))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,i=_xe(a,n);a&&!i&&Xs(r.onLeave,[t,a,this],this),this._hoveredItem=n,n&&!i&&Xs(r.onHover,[t,n,this],this)}else n&&Xs(r.onClick,[t,n,this],this)}}function Nxe(s,t,r,n,a){const i=kxe(n,s,t,r),o=Sxe(a,n,t.lineHeight);return{itemWidth:i,itemHeight:o}}function kxe(s,t,r,n){let a=s.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),t+r.size/2+n.measureText(a).width}function Sxe(s,t,r){let n=s;return typeof t.text!="string"&&(n=wI(t,r)),n}function wI(s,t){const r=s.text?s.text.length:0;return t*r}function Cxe(s,t){return!!((s==="mousemove"||s==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(s==="click"||s==="mouseup"))}var Axe={id:"legend",_element:X3,start(s,t,r){const n=s.legend=new X3({ctx:s.ctx,options:r,chart:s});jn.configure(s,n,r),jn.addBox(s,n)},stop(s){jn.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,r){const n=s.legend;jn.configure(s,n,r),n.options=r},afterUpdate(s){const t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,r){const n=t.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),t.hidden=!0):(a.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const t=s.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:c}}=s.legend.options;return s._getSortedDatasetMetas().map(d=>{const h=d.controller.getStyle(r?0:void 0),m=kn(h.borderWidth);return{text:t[d.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!d.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:a||h.textAlign,borderRadius:o&&(c||h.borderRadius),datasetIndex:d.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class qk extends rl{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;const a=ar(n.text)?n.text.length:1;this._padding=kn(n.padding);const i=a*Qr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:r,left:n,bottom:a,right:i,options:o}=this,c=o.align;let d=0,h,m,f;return this.isHorizontal()?(m=gn(c,n,i),f=r+t,h=i-n):(o.position==="left"?(m=n+t,f=gn(c,a,r),d=Ts*-.5):(m=i-t,f=gn(c,r,a),d=Ts*.5),h=a-r),{titleX:m,titleY:f,maxWidth:h,rotation:d}}draw(){const t=this.ctx,r=this.options;if(!r.display)return;const n=Qr(r.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:d,rotation:h}=this._drawArgs(i);Dd(t,r.text,0,0,n,{color:r.color,maxWidth:d,rotation:h,textAlign:Ok(r.align),textBaseline:"middle",translation:[o,c]})}}function Exe(s,t){const r=new qk({ctx:s.ctx,options:t,chart:s});jn.configure(s,r,t),jn.addBox(s,r),s.titleBlock=r}var Txe={id:"title",_element:qk,start(s,t,r){Exe(s,r)},stop(s){const t=s.titleBlock;jn.removeBox(s,t),delete s.titleBlock},beforeUpdate(s,t,r){const n=s.titleBlock;jn.configure(s,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yx=new WeakMap;var Rxe={id:"subtitle",start(s,t,r){const n=new qk({ctx:s.ctx,options:r,chart:s});jn.configure(s,n,r),jn.addBox(s,n),yx.set(s,n)},stop(s){jn.removeBox(s,yx.get(s)),yx.delete(s)},beforeUpdate(s,t,r){const n=yx.get(s);jn.configure(s,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rm={average(s){if(!s.length)return!1;let t,r,n=new Set,a=0,i=0;for(t=0,r=s.length;t<r;++t){const c=s[t].element;if(c&&c.hasValue()){const d=c.tooltipPosition();n.add(d.x),a+=d.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((c,d)=>c+d)/n.size,y:a/i}},nearest(s,t){if(!s.length)return!1;let r=t.x,n=t.y,a=Number.POSITIVE_INFINITY,i,o,c;for(i=0,o=s.length;i<o;++i){const d=s[i].element;if(d&&d.hasValue()){const h=d.getCenterPoint(),m=_N(t,h);m<a&&(a=m,c=d)}}if(c){const d=c.tooltipPosition();r=d.x,n=d.y}return{x:r,y:n}}};function Bi(s,t){return t&&(ar(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function Io(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function Dxe(s,t){const{element:r,datasetIndex:n,index:a}=t,i=s.getDatasetMeta(n).controller,{label:o,value:c}=i.getLabelAndValue(a);return{chart:s,label:o,parsed:i.getParsed(a),raw:s.data.datasets[n].data[a],formattedValue:c,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function Z3(s,t){const r=s.chart.ctx,{body:n,footer:a,title:i}=s,{boxWidth:o,boxHeight:c}=t,d=Qr(t.bodyFont),h=Qr(t.titleFont),m=Qr(t.footerFont),f=i.length,g=a.length,b=n.length,v=kn(t.padding);let y=v.height,_=0,j=n.reduce((k,C)=>k+C.before.length+C.lines.length+C.after.length,0);if(j+=s.beforeBody.length+s.afterBody.length,f&&(y+=f*h.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),j){const k=t.displayColors?Math.max(c,d.lineHeight):d.lineHeight;y+=b*k+(j-b)*d.lineHeight+(j-1)*t.bodySpacing}g&&(y+=t.footerMarginTop+g*m.lineHeight+(g-1)*t.footerSpacing);let S=0;const N=function(k){_=Math.max(_,r.measureText(k).width+S)};return r.save(),r.font=h.string,Ls(s.title,N),r.font=d.string,Ls(s.beforeBody.concat(s.afterBody),N),S=t.displayColors?o+2+t.boxPadding:0,Ls(n,k=>{Ls(k.before,N),Ls(k.lines,N),Ls(k.after,N)}),S=0,r.font=m.string,Ls(s.footer,N),r.restore(),_+=v.width,{width:_,height:y}}function Mxe(s,t){const{y:r,height:n}=t;return r<n/2?"top":r>s.height-n/2?"bottom":"center"}function Pxe(s,t,r,n){const{x:a,width:i}=n,o=r.caretSize+r.caretPadding;if(s==="left"&&a+i+o>t.width||s==="right"&&a-i-o<0)return!0}function Oxe(s,t,r,n){const{x:a,width:i}=r,{width:o,chartArea:{left:c,right:d}}=s;let h="center";return n==="center"?h=a<=(c+d)/2?"left":"right":a<=i/2?h="left":a>=o-i/2&&(h="right"),Pxe(h,s,t,r)&&(h="center"),h}function Q3(s,t,r){const n=r.yAlign||t.yAlign||Mxe(s,r);return{xAlign:r.xAlign||t.xAlign||Oxe(s,t,r,n),yAlign:n}}function Lxe(s,t){let{x:r,width:n}=s;return t==="right"?r-=n:t==="center"&&(r-=n/2),r}function Fxe(s,t,r){let{y:n,height:a}=s;return t==="top"?n+=r:t==="bottom"?n-=a+r:n-=a/2,n}function J3(s,t,r,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=s,{xAlign:c,yAlign:d}=r,h=a+i,{topLeft:m,topRight:f,bottomLeft:g,bottomRight:b}=wd(o);let v=Lxe(t,c);const y=Fxe(t,d,h);return d==="center"?c==="left"?v+=h:c==="right"&&(v-=h):c==="left"?v-=Math.max(m,g)+a:c==="right"&&(v+=Math.max(f,b)+a),{x:nn(v,0,n.width-t.width),y:nn(y,0,n.height-t.height)}}function bx(s,t,r){const n=kn(r.padding);return t==="center"?s.x+s.width/2:t==="right"?s.x+s.width-n.right:s.x+n.left}function e6(s){return Bi([],Io(s))}function Bxe(s,t,r){return vc(s,{tooltip:t,tooltipItems:r,type:"tooltip"})}function t6(s,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?s.override(r):s}const jI={beforeTitle:Lo,title(s){if(s.length>0){const t=s[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:Lo,beforeBody:Lo,beforeLabel:Lo,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");const r=s.formattedValue;return hs(r)||(t+=r),t},labelColor(s){const r=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const r=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Lo,afterBody:Lo,beforeFooter:Lo,footer:Lo,afterFooter:Lo};function Gn(s,t,r,n){const a=s[t].call(r,n);return typeof a>"u"?jI[t].call(r,n):a}class s6 extends rl{static positioners=rm;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,i=new eI(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Bxe(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:n}=r,a=Gn(n,"beforeTitle",this,t),i=Gn(n,"title",this,t),o=Gn(n,"afterTitle",this,t);let c=[];return c=Bi(c,Io(a)),c=Bi(c,Io(i)),c=Bi(c,Io(o)),c}getBeforeBody(t,r){return e6(Gn(r.callbacks,"beforeBody",this,t))}getBody(t,r){const{callbacks:n}=r,a=[];return Ls(t,i=>{const o={before:[],lines:[],after:[]},c=t6(n,i);Bi(o.before,Io(Gn(c,"beforeLabel",this,i))),Bi(o.lines,Gn(c,"label",this,i)),Bi(o.after,Io(Gn(c,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(t,r){return e6(Gn(r.callbacks,"afterBody",this,t))}getFooter(t,r){const{callbacks:n}=r,a=Gn(n,"beforeFooter",this,t),i=Gn(n,"footer",this,t),o=Gn(n,"afterFooter",this,t);let c=[];return c=Bi(c,Io(a)),c=Bi(c,Io(i)),c=Bi(c,Io(o)),c}_createItems(t){const r=this._active,n=this.chart.data,a=[],i=[],o=[];let c=[],d,h;for(d=0,h=r.length;d<h;++d)c.push(Dxe(this.chart,r[d]));return t.filter&&(c=c.filter((m,f,g)=>t.filter(m,f,g,n))),t.itemSort&&(c=c.sort((m,f)=>t.itemSort(m,f,n))),Ls(c,m=>{const f=t6(t.callbacks,m);a.push(Gn(f,"labelColor",this,m)),i.push(Gn(f,"labelPointStyle",this,m)),o.push(Gn(f,"labelTextColor",this,m))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=c,c}update(t,r){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const c=rm[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const d=this._size=Z3(this,n),h=Object.assign({},c,d),m=Q3(this.chart,n,h),f=J3(n,h,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,i={opacity:1,x:f.x,y:f.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,n,a){const i=this.getCaretPosition(t,n,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(t,r,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:c}=n,{topLeft:d,topRight:h,bottomLeft:m,bottomRight:f}=wd(c),{x:g,y:b}=t,{width:v,height:y}=r;let _,j,S,N,k,C;return i==="center"?(k=b+y/2,a==="left"?(_=g,j=_-o,N=k+o,C=k-o):(_=g+v,j=_+o,N=k-o,C=k+o),S=_):(a==="left"?j=g+Math.max(d,m)+o:a==="right"?j=g+v-Math.max(h,f)-o:j=this.caretX,i==="top"?(N=b,k=N-o,_=j-o,S=j+o):(N=b+y,k=N+o,_=j+o,S=j-o),C=N),{x1:_,x2:j,x3:S,y1:N,y2:k,y3:C}}drawTitle(t,r,n){const a=this.title,i=a.length;let o,c,d;if(i){const h=Xu(n.rtl,this.x,this.width);for(t.x=bx(this,n.titleAlign,n),r.textAlign=h.textAlign(n.titleAlign),r.textBaseline="middle",o=Qr(n.titleFont),c=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,d=0;d<i;++d)r.fillText(a[d],h.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+c,d+1===i&&(t.y+=n.titleMarginBottom-c)}}_drawColorBox(t,r,n,a,i){const o=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:d,boxWidth:h}=i,m=Qr(i.bodyFont),f=bx(this,"left",i),g=a.x(f),b=d<m.lineHeight?(m.lineHeight-d)/2:0,v=r.y+b;if(i.usePointStyle){const y={radius:Math.min(h,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},_=a.leftForLtr(g,h)+h/2,j=v+d/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,kN(t,y,_,j),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,kN(t,y,_,j)}else{t.lineWidth=xs(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const y=a.leftForLtr(g,h),_=a.leftForLtr(a.xPlus(g,1),h-2),j=wd(o.borderRadius);Object.values(j).some(S=>S!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Om(t,{x:y,y:v,w:h,h:d,radius:j}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Om(t,{x:_,y:v+1,w:h-2,h:d-2,radius:j}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(y,v,h,d),t.strokeRect(y,v,h,d),t.fillStyle=o.backgroundColor,t.fillRect(_,v+1,h-2,d-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,r,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:c,boxHeight:d,boxWidth:h,boxPadding:m}=n,f=Qr(n.bodyFont);let g=f.lineHeight,b=0;const v=Xu(n.rtl,this.x,this.width),y=function(U){r.fillText(U,v.x(t.x+b),t.y+g/2),t.y+=g+i},_=v.textAlign(o);let j,S,N,k,C,z,E;for(r.textAlign=o,r.textBaseline="middle",r.font=f.string,t.x=bx(this,_,n),r.fillStyle=n.bodyColor,Ls(this.beforeBody,y),b=c&&_!=="right"?o==="center"?h/2+m:h+2+m:0,k=0,z=a.length;k<z;++k){for(j=a[k],S=this.labelTextColors[k],r.fillStyle=S,Ls(j.before,y),N=j.lines,c&&N.length&&(this._drawColorBox(r,t,k,v,n),g=Math.max(f.lineHeight,d)),C=0,E=N.length;C<E;++C)y(N[C]),g=f.lineHeight;Ls(j.after,y)}b=0,g=f.lineHeight,Ls(this.afterBody,y),t.y-=i}drawFooter(t,r,n){const a=this.footer,i=a.length;let o,c;if(i){const d=Xu(n.rtl,this.x,this.width);for(t.x=bx(this,n.footerAlign,n),t.y+=n.footerMarginTop,r.textAlign=d.textAlign(n.footerAlign),r.textBaseline="middle",o=Qr(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,c=0;c<i;++c)r.fillText(a[c],d.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,r,n,a){const{xAlign:i,yAlign:o}=this,{x:c,y:d}=t,{width:h,height:m}=n,{topLeft:f,topRight:g,bottomLeft:b,bottomRight:v}=wd(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(c+f,d),o==="top"&&this.drawCaret(t,r,n,a),r.lineTo(c+h-g,d),r.quadraticCurveTo(c+h,d,c+h,d+g),o==="center"&&i==="right"&&this.drawCaret(t,r,n,a),r.lineTo(c+h,d+m-v),r.quadraticCurveTo(c+h,d+m,c+h-v,d+m),o==="bottom"&&this.drawCaret(t,r,n,a),r.lineTo(c+b,d+m),r.quadraticCurveTo(c,d+m,c,d+m-b),o==="center"&&i==="left"&&this.drawCaret(t,r,n,a),r.lineTo(c,d+f),r.quadraticCurveTo(c,d,c+f,d),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=rm[t.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=Z3(this,t),d=Object.assign({},o,this._size),h=Q3(r,t,d),m=J3(t,d,h,r);(a._to!==m.x||i._to!==m.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=kn(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,a,r),YB(t,r.textDirection),i.y+=o.top,this.drawTitle(i,t,r),this.drawBody(i,t,r),this.drawFooter(i,t,r),KB(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const n=this._active,a=t.map(({datasetIndex:c,index:d})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[d],index:d}}),i=!S0(n,a),o=this._positionChanged(a,r);(i||o)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(t,i,r,n),c=this._positionChanged(o,t),d=r||!S0(o,i)||c;return d&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),d}_getActiveElements(t,r,n,a){const i=this.options;if(t.type==="mouseout")return[];if(!a)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(t,r){const{caretX:n,caretY:a,options:i}=this,o=rm[i.position].call(this,t,r);return o!==!1&&(n!==o.x||a!==o.y)}}var Ixe={id:"tooltip",_element:s6,positioners:rm,afterInit(s,t,r){r&&(s.tooltip=new s6({chart:s,options:r}))},beforeUpdate(s,t,r){s.tooltip&&s.tooltip.initialize(r)},reset(s,t,r){s.tooltip&&s.tooltip.initialize(r)},afterDraw(s){const t=s.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(s.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",r)}},afterEvent(s,t){if(s.tooltip){const r=t.replay;s.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:jI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},zxe=Object.freeze({__proto__:null,Colors:Qge,Decimation:sxe,Filler:jxe,Legend:Axe,SubTitle:Rxe,Title:Txe,Tooltip:Ixe});const Uxe=(s,t,r,n)=>(typeof t=="string"?(r=s.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function $xe(s,t,r,n){const a=s.indexOf(t);if(a===-1)return Uxe(s,t,r,n);const i=s.lastIndexOf(t);return a!==i?r:a}const Vxe=(s,t)=>s===null?null:nn(Math.round(s),0,t);function r6(s){const t=this.getLabels();return s>=0&&s<t.length?t[s]:s}class Hxe extends Ld{static id="category";static defaults={ticks:{callback:r6}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:i}of r)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(hs(t))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===t?r:$xe(n,t,es(r,t),this._addedLabels),Vxe(r,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const t=this.min,r=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=t===0&&r===i.length-1?i:i.slice(t,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=r;o++)a.push({value:o});return a}getLabelForValue(t){return r6.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function qxe(s,t){const r=[],{bounds:a,step:i,min:o,max:c,precision:d,count:h,maxTicks:m,maxDigits:f,includeBounds:g}=s,b=i||1,v=m-1,{min:y,max:_}=t,j=!hs(o),S=!hs(c),N=!hs(h),k=(_-y)/(f+1);let C=ZD((_-y)/v/b)*b,z,E,U,T;if(C<1e-14&&!j&&!S)return[{value:y},{value:_}];T=Math.ceil(_/C)-Math.floor(y/C),T>v&&(C=ZD(T*C/v/b)*b),hs(d)||(z=Math.pow(10,d),C=Math.ceil(C*z)/z),a==="ticks"?(E=Math.floor(y/C)*C,U=Math.ceil(_/C)*C):(E=y,U=_),j&&S&&i&&Cfe((c-o)/i,C/1e3)?(T=Math.round(Math.min((c-o)/C,m)),C=(c-o)/T,E=o,U=c):N?(E=j?o:E,U=S?c:U,T=h-1,C=(U-E)/T):(T=(U-E)/C,fm(T,Math.round(T),C/1e3)?T=Math.round(T):T=Math.ceil(T));const re=Math.max(QD(C),QD(E));z=Math.pow(10,hs(d)?re:d),E=Math.round(E*z)/z,U=Math.round(U*z)/z;let Y=0;for(j&&(g&&E!==o?(r.push({value:o}),E<o&&Y++,fm(Math.round((E+Y*C)*z)/z,o,n6(o,k,s))&&Y++):E<o&&Y++);Y<T;++Y){const I=Math.round((E+Y*C)*z)/z;if(S&&I>c)break;r.push({value:I})}return S&&g&&U!==c?r.length&&fm(r[r.length-1].value,c,n6(c,k,s))?r[r.length-1].value=c:r.push({value:c}):(!S||U===c)&&r.push({value:U}),r}function n6(s,t,{horizontal:r,minRotation:n}){const a=gi(n),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+s).length;return Math.min(t/i,o)}class M0 extends Ld{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return hs(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=d=>a=r?a:d,c=d=>i=n?i:d;if(t){const d=eo(a),h=eo(i);d<0&&h<0?c(0):d>0&&h>0&&o(0)}if(a===i){let d=i===0?1:Math.abs(i*.05);c(i+d),t||o(a-d)}this.min=a,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=t,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=qxe(a,i);return t.bounds==="ticks"&&RB(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const a=(n-r)/Math.max(t.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(t){return dp(t,this.chart.options.locale,this.options.ticks.format)}}class Gxe extends M0{static id="linear";static defaults={ticks:{callback:Ry.formatters.numeric}};determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=Ar(t)?t:0,this.max=Ar(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,n=gi(this.options.ticks.minRotation),a=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Fm=s=>Math.floor(Xl(s)),nd=(s,t)=>Math.pow(10,Fm(s)+t);function a6(s){return s/Math.pow(10,Fm(s))===1}function i6(s,t,r){const n=Math.pow(10,r),a=Math.floor(s/n);return Math.ceil(t/n)-a}function Wxe(s,t){const r=t-s;let n=Fm(r);for(;i6(s,t,n)>10;)n++;for(;i6(s,t,n)<10;)n--;return Math.min(n,Fm(s))}function Yxe(s,{min:t,max:r}){t=xa(s.min,t);const n=[],a=Fm(t);let i=Wxe(t,r),o=i<0?Math.pow(10,Math.abs(i)):1;const c=Math.pow(10,i),d=a>i?Math.pow(10,a):0,h=Math.round((t-d)*o)/o,m=Math.floor((t-d)/c/10)*c*10;let f=Math.floor((h-m)/Math.pow(10,i)),g=xa(s.min,Math.round((d+m+f*Math.pow(10,i))*o)/o);for(;g<r;)n.push({value:g,major:a6(g),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,o=i>=0?1:o),g=Math.round((d+m+f*Math.pow(10,i))*o)/o;const b=xa(s.max,g);return n.push({value:b,major:a6(b),significand:f}),n}class Kxe extends Ld{static id="logarithmic";static defaults={ticks:{callback:Ry.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,r){const n=M0.prototype.parse.apply(this,[t,r]);if(n===0){this._zero=!0;return}return Ar(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=Ar(t)?Math.max(0,t):null,this.max=Ar(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ar(this._userMin)&&(this.min=t===nd(this.min,0)?nd(this.min,-1):nd(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const i=c=>n=t?n:c,o=c=>a=r?a:c;n===a&&(n<=0?(i(1),o(10)):(i(nd(n,-1)),o(nd(a,1)))),n<=0&&i(nd(a,-1)),a<=0&&o(nd(n,1)),this.min=n,this.max=a}buildTicks(){const t=this.options,r={min:this._userMin,max:this._userMax},n=Yxe(r,this);return t.bounds==="ticks"&&RB(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":dp(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Xl(t),this._valueRange=Xl(this.max)-Xl(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Xl(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const r=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+r*this._valueRange)}}function RN(s){const t=s.ticks;if(t.display&&s.display){const r=kn(t.backdropPadding);return es(t.font&&t.font.size,lr.font.size)+r.height}return 0}function Xxe(s,t,r){return r=ar(r)?r:[r],{w:Hfe(s,t.string,r),h:r.length*t.lineHeight}}function o6(s,t,r,n,a){return s===n||s===a?{start:t-r/2,end:t+r/2}:s<n||s>a?{start:t-r,end:t}:{start:t,end:t+r}}function Zxe(s){const t={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},r=Object.assign({},t),n=[],a=[],i=s._pointLabels.length,o=s.options.pointLabels,c=o.centerPointLabels?Ts/i:0;for(let d=0;d<i;d++){const h=o.setContext(s.getPointLabelContext(d));a[d]=h.padding;const m=s.getPointPosition(d,s.drawingArea+a[d],c),f=Qr(h.font),g=Xxe(s.ctx,f,s._pointLabels[d]);n[d]=g;const b=xn(s.getIndexAngle(d)+c),v=Math.round(Mk(b)),y=o6(v,m.x,g.w,0,180),_=o6(v,m.y,g.h,90,270);Qxe(r,t,b,y,_)}s.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),s._pointLabelItems=t0e(s,n,a)}function Qxe(s,t,r,n,a){const i=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let c=0,d=0;n.start<t.l?(c=(t.l-n.start)/i,s.l=Math.min(s.l,t.l-c)):n.end>t.r&&(c=(n.end-t.r)/i,s.r=Math.max(s.r,t.r+c)),a.start<t.t?(d=(t.t-a.start)/o,s.t=Math.min(s.t,t.t-d)):a.end>t.b&&(d=(a.end-t.b)/o,s.b=Math.max(s.b,t.b+d))}function Jxe(s,t,r){const n=s.drawingArea,{extra:a,additionalAngle:i,padding:o,size:c}=r,d=s.getPointPosition(t,n+a+o,i),h=Math.round(Mk(xn(d.angle+Dr))),m=n0e(d.y,c.h,h),f=s0e(h),g=r0e(d.x,c.w,f);return{visible:!0,x:d.x,y:m,textAlign:f,left:g,top:m,right:g+c.w,bottom:m+c.h}}function e0e(s,t){if(!t)return!0;const{left:r,top:n,right:a,bottom:i}=s;return!(Ho({x:r,y:n},t)||Ho({x:r,y:i},t)||Ho({x:a,y:n},t)||Ho({x:a,y:i},t))}function t0e(s,t,r){const n=[],a=s._pointLabels.length,i=s.options,{centerPointLabels:o,display:c}=i.pointLabels,d={extra:RN(i)/2,additionalAngle:o?Ts/a:0};let h;for(let m=0;m<a;m++){d.padding=r[m],d.size=t[m];const f=Jxe(s,m,d);n.push(f),c==="auto"&&(f.visible=e0e(f,h),f.visible&&(h=f))}return n}function s0e(s){return s===0||s===180?"center":s<180?"left":"right"}function r0e(s,t,r){return r==="right"?s-=t:r==="center"&&(s-=t/2),s}function n0e(s,t,r){return r===90||r===270?s-=t/2:(r>270||r<90)&&(s-=t),s}function a0e(s,t,r){const{left:n,top:a,right:i,bottom:o}=r,{backdropColor:c}=t;if(!hs(c)){const d=wd(t.borderRadius),h=kn(t.backdropPadding);s.fillStyle=c;const m=n-h.left,f=a-h.top,g=i-n+h.width,b=o-a+h.height;Object.values(d).some(v=>v!==0)?(s.beginPath(),Om(s,{x:m,y:f,w:g,h:b,radius:d}),s.fill()):s.fillRect(m,f,g,b)}}function i0e(s,t){const{ctx:r,options:{pointLabels:n}}=s;for(let a=t-1;a>=0;a--){const i=s._pointLabelItems[a];if(!i.visible)continue;const o=n.setContext(s.getPointLabelContext(a));a0e(r,o,i);const c=Qr(o.font),{x:d,y:h,textAlign:m}=i;Dd(r,s._pointLabels[a],d,h+c.lineHeight/2,c,{color:o.color,textAlign:m,textBaseline:"middle"})}}function _I(s,t,r,n){const{ctx:a}=s;if(r)a.arc(s.xCenter,s.yCenter,t,0,sr);else{let i=s.getPointPosition(0,t);a.moveTo(i.x,i.y);for(let o=1;o<n;o++)i=s.getPointPosition(o,t),a.lineTo(i.x,i.y)}}function o0e(s,t,r,n,a){const i=s.ctx,o=t.circular,{color:c,lineWidth:d}=t;!o&&!n||!c||!d||r<0||(i.save(),i.strokeStyle=c,i.lineWidth=d,i.setLineDash(a.dash||[]),i.lineDashOffset=a.dashOffset,i.beginPath(),_I(s,r,o,n),i.closePath(),i.stroke(),i.restore())}function l0e(s,t,r){return vc(s,{label:r,index:t,type:"pointLabel"})}class c0e extends M0{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ry.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=kn(RN(this.options)/2),r=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+r/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!1);this.min=Ar(t)&&!isNaN(t)?t:0,this.max=Ar(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/RN(this.options))}generateTickLabels(t){M0.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((r,n)=>{const a=Xs(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?Zxe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,r,n,a){this.xCenter+=Math.floor((t-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,r,n,a))}getIndexAngle(t){const r=sr/(this._pointLabels.length||1),n=this.options.startAngle||0;return xn(t*r+gi(n))}getDistanceFromCenterForValue(t){if(hs(t))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*r:(t-this.min)*r}getValueForDistanceFromCenter(t){if(hs(t))return NaN;const r=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(t){const r=this._pointLabels||[];if(t>=0&&t<r.length){const n=r[t];return l0e(this.getContext(),t,n)}}getPointPosition(t,r,n=0){const a=this.getIndexAngle(t)-Dr+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(t,r){return this.getPointPosition(t,this.getDistanceFromCenterForValue(r))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:r,top:n,right:a,bottom:i}=this._pointLabelItems[t];return{left:r,top:n,right:a,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:r}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),_I(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,r=this.options,{angleLines:n,grid:a,border:i}=r,o=this._pointLabels.length;let c,d,h;if(r.pointLabels.display&&i0e(this,o),a.display&&this.ticks.forEach((m,f)=>{if(f!==0||f===0&&this.min<0){d=this.getDistanceFromCenterForValue(m.value);const g=this.getContext(f),b=a.setContext(g),v=i.setContext(g);o0e(this,b,d,o,v)}}),n.display){for(t.save(),c=o-1;c>=0;c--){const m=n.setContext(this.getPointLabelContext(c)),{color:f,lineWidth:g}=m;!g||!f||(t.lineWidth=g,t.strokeStyle=f,t.setLineDash(m.borderDash),t.lineDashOffset=m.borderDashOffset,d=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),h=this.getPointPosition(c,d),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(h.x,h.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let i,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,d)=>{if(d===0&&this.min>=0&&!r.reverse)return;const h=n.setContext(this.getContext(d)),m=Qr(h.font);if(i=this.getDistanceFromCenterForValue(this.ticks[d].value),h.showLabelBackdrop){t.font=m.string,o=t.measureText(c.label).width,t.fillStyle=h.backdropColor;const f=kn(h.backdropPadding);t.fillRect(-o/2-f.left,-i-m.size/2-f.top,o+f.width,m.size+f.height)}Dd(t,c.label,0,-i,m,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),t.restore()}drawTitle(){}}const By={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xn=Object.keys(By);function l6(s,t){return s-t}function c6(s,t){if(hs(t))return null;const r=s._adapter,{parser:n,round:a,isoWeekday:i}=s._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),Ar(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(a&&(o=a==="week"&&(dh(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,a)),+o)}function d6(s,t,r,n){const a=Xn.length;for(let i=Xn.indexOf(s);i<a-1;++i){const o=By[Xn[i]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-t)/(c*o.size))<=n)return Xn[i]}return Xn[a-1]}function d0e(s,t,r,n,a){for(let i=Xn.length-1;i>=Xn.indexOf(r);i--){const o=Xn[i];if(By[o].common&&s._adapter.diff(a,n,o)>=t-1)return o}return Xn[r?Xn.indexOf(r):0]}function u0e(s){for(let t=Xn.indexOf(s)+1,r=Xn.length;t<r;++t)if(By[Xn[t]].common)return Xn[t]}function u6(s,t,r){if(!r)s[t]=!0;else if(r.length){const{lo:n,hi:a}=Pk(r,t),i=r[n]>=t?r[n]:r[a];s[i]=!0}}function h0e(s,t,r,n){const a=s._adapter,i=+a.startOf(t[0].value,n),o=t[t.length-1].value;let c,d;for(c=i;c<=o;c=+a.add(c,1,n))d=r[c],d>=0&&(t[d].major=!0);return t}function h6(s,t,r){const n=[],a={},i=t.length;let o,c;for(o=0;o<i;++o)c=t[o],a[c]=o,n.push({value:c,major:!1});return i===0||!r?n:h0e(s,n,a,r)}class DN extends Ld{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){const n=t.time||(t.time={}),a=this._adapter=new fpe._date(t.adapters.date);a.init(r),hm(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:c6(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,n=t.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:c}=this.getUserBounds();function d(h){!o&&!isNaN(h.min)&&(a=Math.min(a,h.min)),!c&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!o||!c)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),a=Ar(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),i=Ar(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],n=t[t.length-1]),{min:r,max:n}}buildTicks(){const t=this.options,r=t.time,n=t.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,c=Rfe(a,i,o);return this._unit=r.unit||(n.autoSkip?d6(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):d0e(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:u0e(this._unit),this.initOffsets(a),t.reverse&&c.reverse(),h6(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,n=0,a,i;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?r=1-a:r=(this.getDecimalForValue(t[1])-a)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?n=i:n=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;r=nn(r,0,o),n=nn(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const t=this._adapter,r=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||d6(i.minUnit,r,n,this._getLabelCapacity(r)),c=es(a.ticks.stepSize,1),d=o==="week"?i.isoWeekday:!1,h=dh(d)||d===!0,m={};let f=r,g,b;if(h&&(f=+t.startOf(f,"isoWeek",d)),f=+t.startOf(f,h?"day":o),t.diff(n,r,o)>1e5*c)throw new Error(r+" and "+n+" are too far apart with stepSize of "+c+" "+o);const v=a.ticks.source==="data"&&this.getDataTimestamps();for(g=f,b=0;g<n;g=+t.add(g,c,o),b++)u6(m,g,v);return(g===n||a.bounds==="ticks"||b===1)&&u6(m,g,v),Object.keys(m).sort(l6).map(y=>+y)}getLabelForValue(t){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(t,n.tooltipFormat):r.format(t,n.displayFormats.datetime)}format(t,r){const a=this.options.time.displayFormats,i=this._unit,o=r||a[i];return this._adapter.format(t,o)}_tickFormatFunction(t,r,n,a){const i=this.options,o=i.ticks.callback;if(o)return Xs(o,[t,r,n],this);const c=i.time.displayFormats,d=this._unit,h=this._majorUnit,m=d&&c[d],f=h&&c[h],g=n[r],b=h&&f&&g&&g.major;return this._adapter.format(t,a||(b?f:m))}generateTickLabels(t){let r,n,a;for(r=0,n=t.length;r<n;++r)a=t[r],a.label=this._tickFormatFunction(a.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,n=this.ctx.measureText(t).width,a=gi(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),o=Math.sin(a),c=this._resolveTickFontOptions(0).size;return{w:n*i+c*o,h:n*o+c*i}}_getLabelCapacity(t){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,i=this._tickFormatFunction(t,0,h6(this,[t],this._majorUnit),a),o=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],r,n;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)t=t.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,n;if(t.length)return t;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)t.push(c6(this,a[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return PB(t.sort(l6))}}function vx(s,t,r){let n=0,a=s.length-1,i,o,c,d;r?(t>=s[n].pos&&t<=s[a].pos&&({lo:n,hi:a}=Vo(s,"pos",t)),{pos:i,time:c}=s[n],{pos:o,time:d}=s[a]):(t>=s[n].time&&t<=s[a].time&&({lo:n,hi:a}=Vo(s,"time",t)),{time:i,pos:c}=s[n],{time:o,pos:d}=s[a]);const h=o-i;return h?c+(d-c)*(t-i)/h:c}class f0e extends DN{static id="timeseries";static defaults=DN.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=vx(r,this.min),this._tableRange=vx(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:n}=this,a=[],i=[];let o,c,d,h,m;for(o=0,c=t.length;o<c;++o)h=t[o],h>=r&&h<=n&&a.push(h);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,c=a.length;o<c;++o)m=a[o+1],d=a[o-1],h=a[o],Math.round((m+d)/2)!==h&&i.push({time:h,pos:o/(c-1)});return i}_generate(){const t=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?t=this.normalize(r.concat(n)):t=r.length?r:n,t=this._cache.all=t,t}getDecimalForValue(t){return(vx(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return vx(this._table,n*this._tableRange+this._minPos,!0)}}var m0e=Object.freeze({__proto__:null,CategoryScale:Hxe,LinearScale:Gxe,LogarithmicScale:Kxe,RadialLinearScale:c0e,TimeScale:DN,TimeSeriesScale:f0e});const up=[hpe,qge,zxe,m0e];Qa.register(...up);const p0e={normal:"Normal",sport:"Sport",luxury:"Luxury",commercial:"Commercial",industrial:"Industrial",event:"Event",sea:"Sea"},g0e={"4x4":"4x4 / AWD","2_front":"Front Wheel","2_back":"Rear Wheel",autoblock:"Autoblock"},x0e={automatic:"Automatic",manual:"Manual"},y0e={benz:"Gasoline",diesel:"Diesel",electric:"Electric",hybrid:"Hybrid"},Vt={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"},NI=[{key:"7d",label:"Last 7 days",period:"days",period_value:7},{key:"30d",label:"Last 30 days",period:"days",period_value:30},{key:"3m",label:"Last 3 months",period:"months",period_value:3},{key:"12m",label:"Last 12 months",period:"months",period_value:12},{key:"all",label:"All time",period:null,period_value:null}];function b0e(s,t,r){if(s==="custom"&&t&&r)return{date_from:t,date_to:r};const n=NI.find(a=>a.key===s);return!n||n.key==="all"||!n.period?{}:{period:n.period,period_value:n.period_value}}function v0e(s){if(!s)return"";if(s.length===10)return new Date(s+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"});if(s.length===7){const[t,r]=s.split("-");return new Date(parseInt(t,10),parseInt(r,10)-1).toLocaleDateString("en-US",{month:"short",year:"numeric"})}if(s.match(/^\d{4}-\d{1,2}$/)){const[t,r]=s.split("-");return`Week ${r}, ${t}`}return s}const w0e=()=>{const[s,t]=w.useState(!1),[r,n]=w.useState(null),[a,i]=w.useState(null),[o,c]=w.useState(null),[d,h]=w.useState(!0),[m,f]=w.useState(null),[g,b]=w.useState("30d"),[v,y]=w.useState(""),[_,j]=w.useState(""),S=w.useRef({});w.useEffect(()=>{const E=localStorage.getItem("theme"),U=window.matchMedia("(prefers-color-scheme: dark)").matches,T=E==="dark"||!E&&U;t(T),document.documentElement.classList.toggle("dark",T)},[]);const N=()=>{const E=!s;t(E),document.documentElement.classList.toggle("dark",E),localStorage.setItem("theme",E?"dark":"light")};w.useEffect(()=>{const E=JSON.parse(localStorage.getItem("user"));E&&n(E)},[]);const k=w.useCallback(async()=>{try{h(!0),f(null);const E=b0e(g,v,_),U=await SX(E);if(U.data?.success)i(U.data.data??null),c(U.data.filter_applied??null);else throw new Error("Invalid response format")}catch(E){console.error("Statistics fetch error:",E);const U=E.response?.data?.message||E.message||"Failed to load statistics";f(U),xe.error(U),E.response?.status===401&&xe.error("Please log in to view statistics")}finally{h(!1)}},[g,v,_]);w.useEffect(()=>{k()},[k]);const C={darkBlue:`${Vt.darkBlue}CC`,teal:`${Vt.teal}CC`,limeGreen:`${Vt.limeGreen}CC`,tealSolid:Vt.teal,limeGreenSolid:Vt.limeGreen,tealLight:`${Vt.teal}44`};w.useEffect(()=>{if(!a)return;const E=()=>{Object.values(S.current).forEach(T=>{T&&typeof T.destroy=="function"&&T.destroy()}),S.current={}},U=(T,re,Y,I,K,L={})=>{const J=document.getElementById(T);if(!J)return;const Q=Array.isArray(K)?K:[K],Z=new Qa(J,{type:re,data:{labels:Y,datasets:[{label:L.label||"Count",data:I,backgroundColor:Q,borderColor:Q.map(ee=>ee.replace(/CC$/,"FF").replace(/44$/,"FF")),borderWidth:3,borderRadius:re==="bar"?12:0,hoverOffset:re==="doughnut"||re==="pie"?20:0,fill:L.fill!==void 0?L.fill:!1,tension:L.tension||0,pointRadius:L.pointRadius||3,pointBackgroundColor:L.pointColor||C.limeGreenSolid,pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:L.pointHoverRadius||5}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:re==="bar"||re==="line"?"top":"bottom",labels:{color:s?"#9ca3af":"#4b5563",padding:15,font:{size:12,weight:"600"},usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:s?"rgba(0,0,0,0.9)":"rgba(255,255,255,0.95)",titleColor:s?"#fff":"#000",bodyColor:s?"#e5e7eb":"#374151",borderColor:C.tealSolid,borderWidth:1,padding:12,titleFont:{size:13,weight:"bold"},bodyFont:{size:12},cornerRadius:8}},animation:{duration:1200,easing:"easeOutQuart"},scales:re==="bar"||re==="line"?{y:{beginAtZero:!0,grid:{color:s?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"},ticks:{color:s?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}},x:{grid:{display:!1},ticks:{color:s?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}}}:{}}});S.current[T]=Z};if(E(),a.by_category?.length>0&&U("catChart","doughnut",a.by_category.map(T=>p0e[T.category]||T.category),a.by_category.map(T=>T.total),[C.darkBlue,C.teal,C.limeGreen]),a.by_make?.length>0){const T=a.by_make.slice(0,6);U("makeChart","bar",T.map(re=>re.make),T.map(re=>re.total),C.teal)}if(a.by_transmission?.length>0&&U("transChart","pie",a.by_transmission.map(T=>x0e[T.transmission]||T.transmission),a.by_transmission.map(T=>T.total),[C.darkBlue,C.limeGreen]),a.by_fuel_type?.length>0&&U("fuelChart","doughnut",a.by_fuel_type.map(T=>y0e[T.fuel_type]||T.fuel_type),a.by_fuel_type.map(T=>T.total),[C.teal,C.limeGreen]),a.by_drive_type?.length>0&&U("driveChart","doughnut",a.by_drive_type.map(T=>g0e[T.drive_type]||T.drive_type),a.by_drive_type.map(T=>T.total),[C.darkBlue,C.teal,C.limeGreen]),a.by_city?.length>0){const T=a.by_city.slice(0,10);U("cityChart","bar",T.map(re=>re.city),T.map(re=>re.total),C.teal)}if(a.search_trends?.length>0){const T=document.getElementById("trendsChart");if(T){const re=T.getContext("2d").createLinearGradient(0,0,0,300);re.addColorStop(0,C.tealLight),re.addColorStop(1,"rgba(255,255,255,0)");const Y=new Qa(T,{type:"line",data:{labels:a.search_trends.map(I=>v0e(I.date)),datasets:[{label:"Daily Searches",data:a.search_trends.map(I=>I.total),backgroundColor:re,borderColor:C.tealSolid,borderWidth:3,fill:!0,tension:.4,pointRadius:6,pointBackgroundColor:C.limeGreenSolid,pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:8}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:s?"rgba(0,0,0,0.9)":"rgba(255,255,255,0.95)",titleColor:s?"#fff":"#000",bodyColor:s?"#e5e7eb":"#374151",borderColor:C.tealSolid,borderWidth:1,padding:12,cornerRadius:8}},animation:{duration:1200,easing:"easeOutQuart"},scales:{y:{beginAtZero:!0,grid:{color:s?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"},ticks:{color:s?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}},x:{grid:{display:!1},ticks:{color:s?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}}}}});S.current.trendsChart=Y}}return()=>E()},[s,a]);const z=()=>{localStorage.clear(),window.location.href="/auth"};return d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent rounded-full animate-spin mx-auto mb-4",style:{borderColor:Vt.teal,borderTopColor:"transparent"}}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading statistics..."})]})}):m?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:m}),e.jsx(fe,{onClick:()=>window.location.reload(),style:{backgroundColor:Vt.teal},children:"Retry"})]})}):a?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[e.jsx(nt.div,{animate:{scale:[1,1.15,1],opacity:[.08,.12,.08]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1/4 -left-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${Vt.darkBlue}30`}}),e.jsx(nt.div,{animate:{scale:[1,1.2,1],opacity:[.06,.1,.06]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-1/2 -right-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${Vt.teal}30`}})]}),e.jsx("header",{className:"border-b border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl sticky top-0 z-50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 md:px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qi,{className:"w-6 h-6 md:w-7 md:h-7",style:{color:Vt.teal}}),e.jsx("div",{children:e.jsx("h1",{className:"text-lg md:text-2xl font-bold bg-gradient-to-r from-[#0E4C81] via-[#008C95] to-[#8AC640] bg-clip-text text-transparent",children:"Search Analytics"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r&&e.jsxs(Ge,{variant:"outline",className:"hidden md:flex items-center gap-2 px-3 py-1",style:{borderColor:Vt.teal},children:[e.jsx(_s,{className:"w-3 h-3",style:{color:Vt.teal}}),e.jsx("span",{className:"text-sm font-semibold",children:r?.username||"User"})]}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:N,className:"hover:bg-gray-100 dark:hover:bg-gray-800 h-9 w-9","aria-label":"Toggle dark mode",children:s?e.jsx(a0,{className:"w-4 h-4"}):e.jsx(n0,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:z,className:"hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 h-9 w-9","aria-label":"Log out",children:e.jsx(ac,{className:"w-4 h-4"})})]})]})})}),e.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-6 md:py-8 max-w-7xl relative z-10",children:[e.jsxs(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[NI.map(E=>e.jsx(fe,{variant:g===E.key?"default":"outline",size:"sm",onClick:()=>b(E.key),style:g===E.key?{backgroundColor:Vt.teal}:{},children:E.label},E.key)),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Custom:"}),e.jsx("input",{type:"date",value:v,onChange:E=>y(E.target.value),className:"rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm px-2 py-1.5"}),e.jsx("span",{className:"text-gray-500",children:""}),e.jsx("input",{type:"date",value:_,onChange:E=>j(E.target.value),className:"rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm px-2 py-1.5"}),e.jsx(fe,{size:"sm",onClick:()=>b("custom"),disabled:!v||!_,style:{backgroundColor:Vt.darkBlue},children:"Apply"})]})]}),e.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:o?.label??"All time"})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-6 md:mb-8",children:[e.jsx(wx,{icon:bm,title:"Total Searches",value:a.total_searches?.toLocaleString()??"0",gradient:`linear-gradient(135deg, ${Vt.darkBlue}, ${Vt.teal})`,delay:0}),e.jsx(wx,{icon:_s,title:"Active Users",value:a.total_users?.toString()??"0",subtitle:Number(a.total_users)>0?`~${Math.round(Number(a.total_searches)/Number(a.total_users))} avg searches`:void 0,gradient:`linear-gradient(135deg, ${Vt.teal}, ${Vt.limeGreen})`,delay:.1}),e.jsx(wx,{icon:oc,title:"Top Make",value:a.by_make?.[0]?.make||"",subtitle:`${a.by_make?.[0]?.total||0} searches`,gradient:`linear-gradient(135deg, ${Vt.limeGreen}, ${Vt.teal})`,delay:.2}),e.jsx(wx,{icon:Wl,title:"Popular Category",value:a.by_category?.[0]?.category||"",subtitle:`${a.by_category?.[0]?.total||0} searches`,gradient:`linear-gradient(135deg, ${Vt.darkBlue}, ${Vt.limeGreen})`,delay:.3})]}),a.search_trends?.length>0&&e.jsx(nt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-6 md:mb-8",children:e.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border hover:shadow-2xl transition-all duration-300",style:{borderColor:`${Vt.teal}40`},children:e.jsxs(He,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Vt.darkBlue}, ${Vt.teal})`},children:e.jsx(oc,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base md:text-lg font-bold dark:text-white",children:"Search Trends"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Daily activity"})]})]}),e.jsx(Ge,{className:"text-xs px-2 py-1",style:{backgroundColor:`${Vt.limeGreen}30`,color:Vt.limeGreen},children:o?.label??(a.search_trends.length?`${a.search_trends.length} points`:"")})]}),e.jsx("div",{className:"h-48 md:h-56",children:e.jsx("canvas",{id:"trendsChart"})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[a.by_category?.length>0&&e.jsx(Ru,{title:"By Category",subtitle:"Distribution",icon:Qt,id:"catChart",delay:.5}),a.by_make?.length>0&&e.jsx(Ru,{title:"Top Makes",subtitle:"Most searched",icon:ir,id:"makeChart",delay:.6}),a.by_transmission?.length>0&&e.jsx(Ru,{title:"Transmission",subtitle:"Preferences",icon:Wl,id:"transChart",delay:.7}),a.by_fuel_type?.length>0&&e.jsx(Ru,{title:"Fuel Type",subtitle:"Distribution",icon:o0,id:"fuelChart",delay:.8}),a.by_drive_type?.length>0&&e.jsx(Ru,{title:"Drive Type",subtitle:"Distribution",icon:Wl,id:"driveChart",delay:.85}),a.by_city?.length>0&&e.jsx(Ru,{title:"Top Cities",subtitle:"Most searched",icon:js,id:"cityChart",delay:.9})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[a.by_price_range?.length>0&&e.jsx(nt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.95},children:e.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Vt.teal}40`},children:e.jsxs(He,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Vt.darkBlue}, ${Vt.teal})`},children:e.jsx(dr,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold dark:text-white",children:"By Price Range"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Daily rate ranges"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-2 font-semibold dark:text-white",children:"Range"}),e.jsx("th",{className:"text-right py-2 font-semibold dark:text-white",children:"Searches"})]})}),e.jsx("tbody",{children:a.by_price_range.map((E,U)=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[e.jsx("td",{className:"py-2 text-gray-700 dark:text-gray-300",children:E.daily_rate_min!=null||E.daily_rate_max!=null?`${E.daily_rate_min??""}  ${E.daily_rate_max??""}`:"Any"}),e.jsx("td",{className:"py-2 text-right font-medium dark:text-white",children:E.total})]},U))})]})})]})})}),a.top_features?.length>0&&e.jsx(nt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:e.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Vt.darkBlue}40`},children:e.jsxs(He,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Vt.teal}, ${Vt.limeGreen})`},children:e.jsx(i0,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold dark:text-white",children:"Top Features"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Popular options"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.top_features.map((E,U)=>e.jsxs(Ge,{variant:"secondary",className:"text-xs px-3 py-1",style:{backgroundColor:`${Vt.teal}20`,color:Vt.darkBlue},children:[E.feature," (",E.count,")"]},U))})]})})})]}),a.most_active_users?.length>0&&e.jsx(nt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.05},className:"mb-6 md:mb-8",children:e.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Vt.limeGreen}40`},children:e.jsxs(He,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Vt.limeGreen}, ${Vt.teal})`},children:e.jsx(Qu,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold dark:text-white",children:"Most Active Users"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Top searchers"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-2 font-semibold dark:text-white",children:"User"}),e.jsx("th",{className:"text-right py-2 font-semibold dark:text-white",children:"Searches"})]})}),e.jsx("tbody",{children:a.most_active_users.map(E=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[e.jsx("td",{className:"py-2 text-gray-700 dark:text-gray-300",children:E.user_name??`User #${E.user_id}`}),e.jsx("td",{className:"py-2 text-right font-medium dark:text-white",children:E.total_searches})]},E.user_id))})]})})]})})}),e.jsx(nt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},children:e.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Vt.darkBlue}40`},children:e.jsxs(He,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Vt.darkBlue}, ${Vt.teal})`},children:e.jsx(mc,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base md:text-lg font-bold dark:text-white",children:"Recent Searches"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Latest queries"})]})]}),a.recent_searches?.length>0?e.jsx("div",{className:"space-y-2",children:a.recent_searches.map((E,U)=>e.jsxs(nt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1+U*.1},className:"flex flex-col md:flex-row md:items-center justify-between p-3 rounded-lg bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 hover:shadow-md transition-all duration-300 gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e.jsxs("p",{className:"font-bold text-sm md:text-base dark:text-white truncate",children:[E.make||"Any Make"," ",E.model||""]}),E.year_min!=null&&e.jsxs(Ge,{variant:"secondary",className:"text-xs px-2 py-0.5",children:[E.year_min,"",E.year_max??""]}),E.user_name&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["by ",E.user_name]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 flex-wrap",children:[E.city&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(js,{className:"w-3 h-3",style:{color:Vt.teal}}),E.city]}),(E.daily_rate_min!=null||E.daily_rate_max!=null)&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(dr,{className:"w-3 h-3"}),E.daily_rate_min??"","  ",E.daily_rate_max??""]}),E.transmission&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Wl,{className:"w-3 h-3",style:{color:Vt.teal}}),E.transmission]}),E.fuel_type&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(o0,{className:"w-3 h-3",style:{color:Vt.limeGreen}}),E.fuel_type]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Bs,{className:"w-3 h-3"}),E.last_searched_at?new Date(E.last_searched_at).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]})]})]}),e.jsxs(Ge,{className:"self-start md:self-center text-xs md:text-sm px-3 py-1 font-bold",style:{backgroundColor:`${Vt.teal}30`,color:Vt.teal},children:[E.search_count,""]})]},E.id))}):e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 italic py-8 text-sm",children:"No recent searches"})]})})})]})]}):null},wx=({icon:s,title:t,value:r,subtitle:n,gradient:a,delay:i})=>e.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:i},whileHover:{scale:1.02,y:-3},children:e.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-lg rounded-xl border-0 hover:shadow-xl transition-all duration-300 h-full",children:e.jsxs(He,{className:"p-3 md:p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-9 h-9 md:w-11 md:h-11 rounded-xl flex items-center justify-center shadow-md",style:{background:a},children:e.jsx(s,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),e.jsx(Ge,{variant:"secondary",className:"text-[9px] md:text-[10px] px-1.5 py-0.5",children:"Live"})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 dark:text-gray-400 font-medium mb-1",children:t}),e.jsx("p",{className:"text-xl md:text-3xl font-black dark:text-white mb-0.5",children:r}),n&&e.jsx("p",{className:"text-[9px] md:text-xs text-gray-500 dark:text-gray-500",children:n})]})})}),Ru=({title:s,subtitle:t,icon:r,id:n,delay:a})=>e.jsx(nt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:a},whileHover:{scale:1.01},children:e.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border hover:shadow-2xl transition-all duration-300",style:{borderColor:`${Vt.teal}40`},children:e.jsxs(He,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Vt.darkBlue}, ${Vt.teal})`},children:e.jsx(r,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm md:text-base font-bold dark:text-white",children:s}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t})]})]}),e.jsx("div",{className:"h-48 md:h-56",children:e.jsx("canvas",{id:n})})]})})});function j0e(){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-cyan-700 text-white py-12 px-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Dn,{className:"w-12 h-12"}),e.jsx("h1",{className:"text-4xl font-bold",children:"Privacy Policy"})]}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Rento LB - Car Rental Marketplace"}),e.jsx("p",{className:"text-blue-200 text-sm mt-2",children:"Last updated: December 2025"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Rento LB ("Rento", "we", "us", or "our") operates a mobile application that enables users to search, book, and connect with car rental providers in Lebanon. The application is operated by Rami Zeaiter as an individual developer on behalf of the Rento LB service. We are committed to protecting your privacy and handling your data in a transparent and secure manner.'})}),e.jsxs(Wn,{icon:e.jsx(so,{}),title:"1. Who We Are (Data Controller)",color:"blue",children:[e.jsxs(_0e,{children:[e.jsx(Du,{label:"Operator",value:"Rami Zeaiter"}),e.jsx(Du,{label:"Service Name",value:"Rento LB"}),e.jsx(Du,{label:"Official App Email",value:"social@rento-lb.com",icon:e.jsx(ja,{className:"w-4 h-4"})}),e.jsx(Du,{label:"Support Email",value:"ramizaiter1989@gmail.com",icon:e.jsx(ja,{className:"w-4 h-4"})}),e.jsx(Du,{label:"Phone",value:"+961 81 001 301",icon:e.jsx(Za,{className:"w-4 h-4"})}),e.jsx(Du,{label:"Service Area",value:"Lebanon",icon:e.jsx(js,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"mt-4 text-gray-600 italic",children:"Rento LB acts as a digital marketplace that facilitates search and booking between renters and car owners or rental agencies."})]}),e.jsxs(Wn,{icon:e.jsx(to,{}),title:"2. Information We Collect",color:"purple",children:[e.jsxs(K1,{title:"A. Information You Provide",children:[e.jsx("p",{className:"text-gray-600 mb-3",children:"We may collect the following data when you use the app:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(Es,{children:"Full name"}),e.jsx(Es,{children:"Phone number"}),e.jsx(Es,{children:"Email address"}),e.jsx(Es,{children:"Government-issued ID (passport or national ID)"}),e.jsx(Es,{children:"Driver's license"}),e.jsx(Es,{children:"Booking requests and history"}),e.jsx(Es,{children:"Messages, feedback, support tickets, and appeals"})]}),e.jsx("div",{className:"mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:e.jsxs("p",{className:"text-yellow-800 font-medium flex items-center gap-2",children:[e.jsx(rc,{className:"w-5 h-5"}),"We do not collect selfie or facial verification data."]})})]}),e.jsxs(K1,{title:"B. Car Owner Information",children:[e.jsx("p",{className:"text-gray-600 mb-3",children:"If you list a vehicle (private owner or agency), we may collect:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(Es,{children:"Identity and contact information"}),e.jsx(Es,{children:"Vehicle details and registration documents"}),e.jsx(Es,{children:"Uploaded images and legal documentation"})]}),e.jsx("p",{className:"mt-3 text-gray-600 text-sm",children:"Each submission is reviewed, and we reserve the right to approve or reject any listing if documents are missing, incomplete, or not legally valid."})]}),e.jsx(K1,{title:"C. Automatically Collected Data",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx(Es,{children:"App usage data (non-sensitive)"}),e.jsx(Es,{children:"Device and technical information (for app functionality and security)"})]})})]}),e.jsx(Wn,{icon:e.jsx(js,{}),title:"3. Location Data",color:"green",children:e.jsx("p",{className:"text-gray-600",children:"We may use location data only to display available cars within Lebanon and improve search results. We do not track users continuously or in the background."})}),e.jsx(Wn,{icon:e.jsx(dr,{}),title:"4. Payments",color:"emerald",children:e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:e.jsxs("ul",{className:"space-y-3",children:[e.jsxs(Es,{color:"green",children:["Payments are currently ",e.jsx("strong",{children:"cash only"})]}),e.jsx(Es,{color:"green",children:"All payments are made directly between renter and car owner"}),e.jsx(Es,{color:"green",children:"Rento LB does not process, store, or collect payment information"}),e.jsx(Es,{color:"green",children:"A commission model may be introduced in the future, and users will be informed in advance"})]})})}),e.jsxs(Wn,{icon:e.jsx(Kn,{}),title:"5. Purpose of Data Collection",color:"indigo",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We collect and use data to:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(Es,{children:"Enable car search and booking"}),e.jsx(Es,{children:"Verify eligibility to rent vehicles"}),e.jsx(Es,{children:"Connect renters with car owners or agencies"}),e.jsx(Es,{children:"Ensure safety, legality, and transparency"}),e.jsx(Es,{children:"Manage ratings, reviews, feedback, and disputes"}),e.jsx(Es,{children:"Provide customer support and communication"}),e.jsx(Es,{children:"Improve app functionality and user experience"})]})]}),e.jsx(Wn,{icon:e.jsx(rc,{}),title:"6. Marketplace Responsibility Disclaimer",color:"orange",children:e.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-6 rounded",children:[e.jsx("p",{className:"text-orange-900 font-semibold mb-3",children:"Rento LB acts only as an intermediary platform."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(Es,{color:"orange",children:"We facilitate search, booking, and connection"}),e.jsx(Es,{color:"orange",children:"We are not responsible for future actions, disputes, damages, or agreements between renters and owners"}),e.jsx(Es,{color:"orange",children:"Any rental agreement is strictly between the two parties"})]})]})}),e.jsx(Wn,{icon:e.jsx(_s,{}),title:"7. Data Sharing & Disclosure",color:"red",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsx("p",{className:"text-red-900 font-semibold mb-4",children:"We do not sell or share personal data with third parties."}),e.jsx("p",{className:"text-gray-600 mb-3",children:"Data may only be disclosed if:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(Es,{children:"Required by Lebanese law"}),e.jsx(Es,{children:"Ordered by a court or legal authority"}),e.jsx(Es,{children:"Necessary to protect users, legal rights, or public safety"})]})]})}),e.jsxs(Wn,{icon:e.jsx(Dn,{}),title:"8. User Rights & Control",color:"cyan",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Both renters and owners have the right to:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsx(qf,{children:"Accept or reject booking requests"}),e.jsx(qf,{children:"Delete their listings or accounts"}),e.jsx(qf,{children:"Request correction or deletion of personal data"}),e.jsx(qf,{children:"Submit feedback, appeals, or support tickets"}),e.jsx(qf,{children:"Rate and review each other"})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-gray-700",children:["To request data deletion, contact:"," ",e.jsx("a",{href:"mailto:social@rento-lb.com",className:"text-blue-600 font-semibold hover:underline",children:"social@rento-lb.com"})]})})]}),e.jsxs(Wn,{icon:e.jsx(Gl,{}),title:"9. Data Security",color:"slate",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We apply reasonable administrative and technical measures to protect your data from:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(X1,{children:"Unauthorized access"}),e.jsx(X1,{children:"Loss or misuse"}),e.jsx(X1,{children:"Alteration or disclosure"})]}),e.jsx("p",{className:"mt-4 text-gray-600 italic",children:"Access to data is strictly limited to authorized personnel."})]}),e.jsxs(Wn,{icon:e.jsx(Bs,{}),title:"10. Data Retention",color:"violet",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We retain personal data only as long as necessary to:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(Es,{children:"Operate the service"}),e.jsx(Es,{children:"Comply with legal obligations"}),e.jsx(Es,{children:"Resolve disputes"})]}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Users may request deletion at any time unless retention is legally required."})]}),e.jsx(Wn,{icon:e.jsx(so,{}),title:"11. Minimum Age Requirement",color:"pink",children:e.jsx("div",{className:"bg-pink-50 border-l-4 border-pink-400 p-6 rounded",children:e.jsx("p",{className:"text-pink-900 font-semibold text-lg",children:"You must be at least 18 years old to use Rento LB."})})}),e.jsxs(Wn,{icon:e.jsx(Kn,{}),title:"12. Transparency & Legal Compliance",color:"teal",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"All vehicles listed on Rento LB must be:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(Z1,{children:"Fully legal"}),e.jsx(Z1,{children:"Properly documented"}),e.jsx(Z1,{children:"Approved by our review team"})]}),e.jsx("p",{className:"mt-4 text-gray-600",children:"We reserve the right to reject or remove any content or listing that does not meet legal or platform standards."})]}),e.jsx(Wn,{icon:e.jsx(to,{}),title:"13. Changes to This Policy",color:"gray",children:e.jsx("p",{className:"text-gray-600",children:"We may update this Privacy Policy from time to time. Any changes will be published inside the app and become effective immediately."})}),e.jsxs(Wn,{icon:e.jsx(ja,{}),title:"14. Contact Us",color:"blue",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"If you have any questions or requests regarding this Privacy Policy:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(Q1,{icon:e.jsx(ja,{className:"w-5 h-5"}),value:"social@rento-lb.com",href:"mailto:social@rento-lb.com"}),e.jsx(Q1,{icon:e.jsx(ja,{className:"w-5 h-5"}),value:"ramizaiter1989@gmail.com",href:"mailto:ramizaiter1989@gmail.com"}),e.jsx(Q1,{icon:e.jsx(Za,{className:"w-5 h-5"}),value:"+961 81 001 301",href:"tel:+96181001301"})]})]})]}),e.jsx("div",{className:"bg-slate-800 text-slate-300 py-8 px-6 mt-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("p",{className:"text-sm",children:" 2025 Rento LB. Operated by Rami Zeaiter. All rights reserved."}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"This privacy policy is effective as of December 2025"})]})})]})}function Wn({icon:s,title:t,children:r,color:n="blue"}){const a={blue:"text-blue-600 bg-blue-50",purple:"text-purple-600 bg-purple-50",green:"text-green-600 bg-green-50",emerald:"text-emerald-600 bg-emerald-50",indigo:"text-indigo-600 bg-indigo-50",orange:"text-orange-600 bg-orange-50",red:"text-red-600 bg-red-50",cyan:"text-cyan-600 bg-cyan-50",slate:"text-slate-600 bg-slate-50",violet:"text-violet-600 bg-violet-50",pink:"text-pink-600 bg-pink-50",teal:"text-teal-600 bg-teal-50",gray:"text-gray-600 bg-gray-50"};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[e.jsx("div",{className:`${a[n]} p-2 rounded-lg`,children:ct.cloneElement(s,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex-1",children:t})]}),r]})}function K1({title:s,children:t}){return e.jsxs("div",{className:"mb-6 last:mb-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:s}),t]})}function Es({children:s,color:t="blue"}){const r={blue:"bg-blue-500",green:"bg-green-500",orange:"bg-orange-500"};return e.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[e.jsx("span",{className:`${r[t]} w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0`}),e.jsx("span",{children:s})]})}function _0e({children:s}){return e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:s})}function Du({label:s,value:t,icon:r}){return e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:s}),e.jsxs("p",{className:"text-gray-900 font-medium flex items-center gap-2",children:[r&&e.jsx("span",{className:"text-blue-600",children:r}),t]})]})}function qf({children:s}){return e.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(Kn,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:s})]})}function X1({children:s}){return e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(Gl,{className:"w-5 h-5 text-slate-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:s})]})}function Z1({children:s}){return e.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4 text-center",children:[e.jsx(Kn,{className:"w-6 h-6 text-teal-600 mx-auto mb-2"}),e.jsx("span",{className:"text-gray-700 font-medium",children:s})]})}function Q1({icon:s,value:t,href:r}){return e.jsxs("a",{href:r,className:"bg-blue-50 hover:bg-blue-100 transition-colors border border-blue-200 rounded-lg p-4 flex flex-col items-center gap-2 text-center",children:[e.jsx("div",{className:"text-blue-600",children:s}),e.jsx("span",{className:"text-gray-700 font-medium text-sm break-all",children:t})]})}function N0e(){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-cyan-700 to-teal-700 text-white py-12 px-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(to,{className:"w-12 h-12"}),e.jsx("h1",{className:"text-4xl font-bold",children:"Terms & Conditions"})]}),e.jsx("p",{className:"text-emerald-100 text-lg",children:"Rento LB - Car Rental Marketplace"}),e.jsx("p",{className:"text-emerald-200 text-sm mt-2",children:"Last updated: December 2025"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Welcome to Rento LB ("Rento", "we", "us", "our"). By accessing or using the Rento LB mobile application, you agree to these Terms & Conditions.'})}),e.jsxs(Ga,{icon:e.jsx(Dn,{}),title:"1. Service Description",color:"blue",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Rento LB is a digital marketplace that allows users to:"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx(ui,{children:"Search and book rental cars"}),e.jsx(ui,{children:"Connect directly with private car owners or rental agencies"})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:e.jsxs("p",{className:"text-blue-900 font-semibold flex items-center gap-2",children:[e.jsx(Vu,{className:"w-5 h-5"}),"Rento does not own vehicles and does not act as a rental company."]})})]}),e.jsx(Ga,{icon:e.jsx(_s,{}),title:"2. Eligibility",color:"purple",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(J1,{icon:e.jsx(Kn,{}),color:"green",children:"Users must be at least 18 years old"}),e.jsx(J1,{icon:e.jsx(Kn,{}),color:"green",children:"Users must provide valid identification and a driver's license"}),e.jsx(J1,{icon:e.jsx(ta,{}),color:"red",children:"False or misleading information may result in account suspension"})]})}),e.jsxs(Ga,{icon:e.jsx(_s,{}),title:"3. User Accounts",color:"indigo",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"You agree to:"}),e.jsx("div",{className:"bg-indigo-50 rounded-lg p-6 mb-4",children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx(ui,{children:"Provide accurate and legal information"}),e.jsx(ui,{children:"Keep your account secure"}),e.jsx(ui,{children:"Accept responsibility for activity under your account"})]})}),e.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 rounded",children:e.jsx("p",{className:"text-orange-900 font-medium",children:"Rento reserves the right to suspend or terminate accounts that violate these terms."})})]}),e.jsxs(Ga,{icon:e.jsx(Qt,{}),title:"4. Car Owners & Listings",color:"cyan",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Car owners and agencies:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsx(e_,{children:"Must upload legal vehicle documents"}),e.jsx(e_,{children:"Must ensure vehicles are road-legal and insured"}),e.jsx(e_,{children:"Have full right to accept or reject booking requests"})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-900 font-medium",children:"Rento may review, approve, reject, or remove any listing at its sole discretion."})})]}),e.jsx(Ga,{icon:e.jsx(mE,{}),title:"5. Bookings & Payments",color:"green",children:e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(jx,{icon:e.jsx(mE,{}),children:"Payments are currently cash only"}),e.jsx(jx,{icon:e.jsx(_s,{}),children:"Payments are made directly to the car owner"}),e.jsx(jx,{icon:e.jsx(ta,{}),children:"Rento does not handle or store payments"}),e.jsx(jx,{icon:e.jsx(Vu,{}),children:"A commission model may be introduced in the future with prior notice"})]})})}),e.jsx(Ga,{icon:e.jsx(Vu,{}),title:"6. Marketplace Disclaimer",color:"orange",children:e.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-6 rounded",children:[e.jsx("h3",{className:"font-bold text-orange-900 text-lg mb-4",children:"Rento:"}),e.jsxs("ul",{className:"space-y-3 mb-4",children:[e.jsx(ui,{color:"orange",children:"Only facilitates search, booking, and connection"}),e.jsx(ui,{color:"orange",children:"Is not responsible for disputes, damages, accidents, delays, or agreements"}),e.jsx(ui,{color:"orange",children:"Is not a party to rental contracts"})]}),e.jsx("div",{className:"bg-orange-100 border border-orange-300 rounded p-4",children:e.jsx("p",{className:"text-orange-900 font-bold text-center",children:"All agreements are strictly between renter and owner."})})]})}),e.jsxs(Ga,{icon:e.jsx(ir,{}),title:"7. Ratings, Reviews & Feedback",color:"yellow",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Users may:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[e.jsx(t_,{children:"Rate and review each other"}),e.jsx(t_,{children:"Submit feedback"}),e.jsx(t_,{children:"File support tickets or appeals"})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-900 font-medium",children:"Abusive, false, or misleading content may be removed."})})]}),e.jsxs(Ga,{icon:e.jsx(PM,{}),title:"8. Legal Compliance",color:"red",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Users must comply with:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(f6,{children:"Lebanese laws and regulations"}),e.jsx(f6,{children:"Traffic, insurance, and rental requirements"})]}),e.jsx("div",{className:"mt-6 bg-red-50 border-l-4 border-red-500 p-4 rounded",children:e.jsx("p",{className:"text-red-900 font-bold",children:"Illegal behavior will result in immediate suspension."})})]}),e.jsxs(Ga,{icon:e.jsx(kM,{}),title:"9. Account Termination",color:"slate",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We reserve the right to suspend or terminate accounts for:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(s_,{children:"Fraud"}),e.jsx(s_,{children:"Legal violations"}),e.jsx(s_,{children:"Abuse of the platform"})]})]}),e.jsx(Ga,{icon:e.jsx(Dn,{}),title:"10. Limitation of Liability",color:"violet",children:e.jsxs("div",{className:"bg-violet-50 border border-violet-200 rounded-lg p-6",children:[e.jsx("p",{className:"text-violet-900 font-bold mb-4",children:"Rento shall not be liable for:"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx(ui,{color:"violet",children:"Losses or damages between users"}),e.jsx(ui,{color:"violet",children:"Vehicle condition or availability"}),e.jsx(ui,{color:"violet",children:"Third-party actions"})]})]})}),e.jsx(Ga,{icon:e.jsx(to,{}),title:"11. Changes to Terms",color:"teal",children:e.jsx("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-6",children:e.jsxs("p",{className:"text-gray-700",children:["Terms may be updated at any time."," ",e.jsx("span",{className:"font-bold text-teal-900",children:"Continued use means acceptance."})]})})}),e.jsxs(Ga,{icon:e.jsx(ja,{}),title:"12. Contact",color:"blue",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"If you have questions about these Terms & Conditions:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(m6,{icon:e.jsx(ja,{className:"w-5 h-5"}),value:"social@rento-lb.com",href:"mailto:social@rento-lb.com"}),e.jsx(m6,{icon:e.jsx(Za,{className:"w-5 h-5"}),value:"+961 81 001 301",href:"tel:+96181001301"})]})]})]}),e.jsx("div",{className:"bg-slate-800 text-slate-300 py-8 px-6 mt-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("p",{className:"text-sm",children:" 2025 Rento LB. Operated by Rami Zeaiter. All rights reserved."}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"These terms are effective as of December 2025"})]})})]})}function Ga({icon:s,title:t,children:r,color:n="blue"}){const a={blue:"text-blue-600 bg-blue-50",purple:"text-purple-600 bg-purple-50",indigo:"text-indigo-600 bg-indigo-50",cyan:"text-cyan-600 bg-cyan-50",green:"text-green-600 bg-green-50",yellow:"text-yellow-600 bg-yellow-50",orange:"text-orange-600 bg-orange-50",red:"text-red-600 bg-red-50",slate:"text-slate-600 bg-slate-50",violet:"text-violet-600 bg-violet-50",teal:"text-teal-600 bg-teal-50"};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[e.jsx("div",{className:`${a[n]} p-2 rounded-lg`,children:ct.cloneElement(s,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex-1",children:t})]}),r]})}function ui({children:s,color:t="blue"}){const r={blue:"bg-blue-500",orange:"bg-orange-500",violet:"bg-violet-500"};return e.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[e.jsx("span",{className:`${r[t]} w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0`}),e.jsx("span",{children:s})]})}function J1({icon:s,color:t,children:r}){const n={green:"bg-green-50 border-green-200 text-green-900",red:"bg-red-50 border-red-200 text-red-900"};return e.jsxs("div",{className:`${n[t]} border rounded-lg p-4 flex items-center gap-3`,children:[ct.cloneElement(s,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:r})]})}function e_({children:s}){return e.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(Kn,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:s})]})}function jx({icon:s,children:t}){return e.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[e.jsx("div",{className:"text-green-600 mt-1",children:ct.cloneElement(s,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-medium",children:t})]})}function t_({children:s}){return e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[e.jsx(ir,{className:"w-6 h-6 text-yellow-600 mx-auto mb-2"}),e.jsx("span",{className:"text-gray-700 font-medium",children:s})]})}function f6({children:s}){return e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(PM,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 font-medium",children:s})]})}function s_({children:s}){return e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 text-center",children:[e.jsx(kM,{className:"w-6 h-6 text-slate-600 mx-auto mb-2"}),e.jsx("span",{className:"text-gray-700 font-medium",children:s})]})}function m6({icon:s,value:t,href:r}){return e.jsxs("a",{href:r,className:"bg-blue-50 hover:bg-blue-100 transition-colors border border-blue-200 rounded-lg p-6 flex flex-col items-center gap-3 text-center",children:[e.jsx("div",{className:"text-blue-600",children:s}),e.jsx("span",{className:"text-gray-700 font-medium break-all",children:t})]})}function k0e(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12",children:e.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-2",children:[e.jsxs("div",{className:"text-center space-y-5",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900 dark:text-white",children:"Rento LB Mobile App"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:["Book cars on the go with our mobile app on both"," ",e.jsx("span",{className:"font-semibold",children:"Google Play"})," and"," ",e.jsx("span",{className:"font-semibold",children:"Apple App Store"}),"."]})]}),e.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[e.jsxs("a",{href:T_.playstore,target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center gap-6 p-4",onClick:s=>eh(s,"playstore"),children:[e.jsx("div",{className:"w-full flex justify-center mobile-phone-3d",children:e.jsx("img",{src:"/mobileapp.png",alt:"Rento LB mobile app preview for Google Play"})}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("p",{className:"text-sm font-medium uppercase tracking-[0.2em] text-emerald-600 dark:text-emerald-400",children:"Get it on"}),e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg",alt:"Get it on Google Play",className:"h-10 sm:h-12"})]})]}),e.jsxs("a",{href:T_.appstore,target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center gap-6 p-4",onClick:s=>eh(s,"appstore"),children:[e.jsx("div",{className:"w-full flex justify-center mobile-phone-3d",children:e.jsx("img",{src:"/mobileapp.png",alt:"Rento LB mobile app preview for App Store"})}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("p",{className:"text-sm font-medium uppercase tracking-[0.2em] text-sky-700 dark:text-sky-400",children:"Download on the"}),e.jsx("img",{src:"https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg",alt:"Download on the App Store",className:"h-10 sm:h-12"})]})]})]})]})})}var S0e=Symbol("radix.slottable");function C0e(s){const t=({children:r})=>e.jsx(e.Fragment,{children:r});return t.displayName=`${s}.Slottable`,t.__radixId=S0e,t}var kI="AlertDialog",[A0e]=Aa(kI,[cL]),nl=cL(),SI=s=>{const{__scopeAlertDialog:t,...r}=s,n=nl(t);return e.jsx(kL,{...n,...r,modal:!0})};SI.displayName=kI;var E0e="AlertDialogTrigger",T0e=w.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=nl(r);return e.jsx(SL,{...a,...n,ref:t})});T0e.displayName=E0e;var R0e="AlertDialogPortal",CI=s=>{const{__scopeAlertDialog:t,...r}=s,n=nl(t);return e.jsx(CL,{...n,...r})};CI.displayName=R0e;var D0e="AlertDialogOverlay",AI=w.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=nl(r);return e.jsx(k2,{...a,...n,ref:t})});AI.displayName=D0e;var Zu="AlertDialogContent",[M0e,P0e]=A0e(Zu),O0e=C0e("AlertDialogContent"),EI=w.forwardRef((s,t)=>{const{__scopeAlertDialog:r,children:n,...a}=s,i=nl(r),o=w.useRef(null),c=is(t,o),d=w.useRef(null);return e.jsx($ee,{contentName:Zu,titleName:TI,docsSlug:"alert-dialog",children:e.jsx(M0e,{scope:r,cancelRef:d,children:e.jsxs(S2,{role:"alertdialog",...i,...a,ref:c,onOpenAutoFocus:bt(a.onOpenAutoFocus,h=>{h.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[e.jsx(O0e,{children:n}),e.jsx(F0e,{contentRef:o})]})})})});EI.displayName=Zu;var TI="AlertDialogTitle",RI=w.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=nl(r);return e.jsx(C2,{...a,...n,ref:t})});RI.displayName=TI;var DI="AlertDialogDescription",MI=w.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=nl(r);return e.jsx(A2,{...a,...n,ref:t})});MI.displayName=DI;var L0e="AlertDialogAction",PI=w.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=nl(r);return e.jsx(E2,{...a,...n,ref:t})});PI.displayName=L0e;var OI="AlertDialogCancel",LI=w.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,{cancelRef:a}=P0e(OI,r),i=nl(r),o=is(t,a);return e.jsx(E2,{...i,...n,ref:o})});LI.displayName=OI;var F0e=({contentRef:s})=>{const t=`\`${Zu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Zu}\` by passing a \`${DI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Zu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(s.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,s]),null},B0e=SI,I0e=CI,FI=AI,BI=EI,II=PI,zI=LI,UI=RI,$I=MI;const Iy=B0e,z0e=I0e,VI=w.forwardRef(({className:s,...t},r)=>e.jsx(FI,{className:Tt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:r}));VI.displayName=FI.displayName;const hp=w.forwardRef(({className:s,...t},r)=>e.jsxs(z0e,{children:[e.jsx(VI,{}),e.jsx(BI,{ref:r,className:Tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t})]}));hp.displayName=BI.displayName;const fp=({className:s,...t})=>e.jsx("div",{className:Tt("flex flex-col space-y-2 text-center sm:text-left",s),...t});fp.displayName="AlertDialogHeader";const mp=({className:s,...t})=>e.jsx("div",{className:Tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});mp.displayName="AlertDialogFooter";const pp=w.forwardRef(({className:s,...t},r)=>e.jsx(UI,{ref:r,className:Tt("text-lg font-semibold",s),...t}));pp.displayName=UI.displayName;const gp=w.forwardRef(({className:s,...t},r)=>e.jsx($I,{ref:r,className:Tt("text-sm text-muted-foreground",s),...t}));gp.displayName=$I.displayName;const xp=w.forwardRef(({className:s,...t},r)=>e.jsx(II,{ref:r,className:Tt(XN(),s),...t}));xp.displayName=II.displayName;const yp=w.forwardRef(({className:s,...t},r)=>e.jsx(zI,{ref:r,className:Tt(XN({variant:"outline"}),"mt-2 sm:mt-0",s),...t}));yp.displayName=zI.displayName;var zy="Switch",[U0e]=Aa(zy),[$0e,V0e]=U0e(zy),HI=w.forwardRef((s,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:c,value:d="on",onCheckedChange:h,form:m,...f}=s,[g,b]=w.useState(null),v=is(t,N=>b(N)),y=w.useRef(!1),_=g?m||!!g.closest("form"):!0,[j,S]=Yo({prop:a,defaultProp:i??!1,onChange:h,caller:zy});return e.jsxs($0e,{scope:r,checked:j,disabled:c,children:[e.jsx(qt.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":YI(j),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:v,onClick:bt(s.onClick,N=>{S(k=>!k),_&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})}),_&&e.jsx(WI,{control:g,bubbles:!y.current,name:n,value:d,checked:j,required:o,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});HI.displayName=zy;var qI="SwitchThumb",GI=w.forwardRef((s,t)=>{const{__scopeSwitch:r,...n}=s,a=V0e(qI,r);return e.jsx(qt.span,{"data-state":YI(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});GI.displayName=qI;var H0e="SwitchBubbleInput",WI=w.forwardRef(({__scopeSwitch:s,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=w.useRef(null),c=is(o,i),d=oy(r),h=iy(t);return w.useEffect(()=>{const m=o.current;if(!m)return;const f=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==r&&b){const v=new Event("click",{bubbles:n});b.call(m,r),m.dispatchEvent(v)}},[d,r,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});WI.displayName=H0e;function YI(s){return s?"checked":"unchecked"}var KI=HI,q0e=GI;const yn=w.forwardRef(({className:s,...t},r)=>e.jsx(KI,{className:Tt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:r,children:e.jsx(q0e,{className:Tt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));yn.displayName=KI.displayName;const fh=(s={})=>Le.get("/admin/users",{params:s}),XI=(s={})=>Le.get("/admin/online-users",{params:s}),G0e=s=>Le.get(`/admin/users/${s}`),ZI=(s={})=>Le.get("/admin/cars",{params:s}),W0e=s=>Le.get(`/admin/cars/${s}`),QI=(s,t)=>{const r=["main_image","front_image","back_image","left_image","right_image"];if(Object.keys(t).some(i=>r.includes(i)&&t[i]instanceof File)){const i=new FormData;Object.keys(t).forEach(c=>{const d=t[c];d!=null&&(d instanceof File?i.append(c,d):Array.isArray(d)||typeof d=="object"&&d!==null?i.append(c,JSON.stringify(d)):i.append(c,d))});const o={headers:{...Le.defaults.headers.common,...Le.defaults.headers.put||{}}};return delete o.headers["Content-Type"],Le.put(`/admin/cars/${s}`,i,o)}const a={};return Object.keys(t).forEach(i=>{const o=t[i];o!=null&&(a[i]=o)}),Le.put(`/admin/cars/${s}`,a,{headers:{"Content-Type":"application/json"}})},p6=(s,t)=>Le.put(`/admin/cars/${s}`,{car_accepted:t},{headers:{"Content-Type":"application/json"}}),Y0e=s=>Le.delete(`/admin/cars/${s}`),K0e=(s,t,r)=>{const n=new FormData;n.append("image",t);const a=String(r??"").trim().toLowerCase();return n.append("type",a),Le.post(`/admin/cars/${s}/photo`,n,{transformRequest:[(i,o)=>(typeof FormData<"u"&&i instanceof FormData&&delete o["Content-Type"],i)]})},JI=(s={})=>Le.get("/admin/agencies",{params:s}),X0e=s=>Le.get(`/admin/agencies/${s}`),Z0e=(s,t)=>Le.put(`/admin/agencies/${s}`,t),Q0e=(s={})=>Le.get("/admin/payments",{params:s}),J0e=s=>Le.post("/admin/payments/issue",s),eye=s=>Le.get(`/admin/agents/${s}/fee-summary`),tye=s=>Le.get(`/admin/agents/${s}/fee-percentage`),sye=(s,t)=>Le.put(`/admin/agents/${s}/fee-percentage`,t),rye=(s={})=>Le.get("/admin/announcements",{params:s}),nye=s=>Le.delete(`/admin/announcements/${s}`),aye=(s={})=>Le.get("/admin/appeals",{params:s}),iye=(s,t)=>Le.put(`/admin/appeals/${s}`,t),oye=(s={})=>Le.get("/admin/ads",{params:s}),lye=s=>Le.post("/admin/ads",s),cye=s=>Le.delete(`/admin/ads/${s}`),dye=(s={})=>Le.get("/admin/mobile-app-clicks",{params:s}),uye=(s={})=>Le.get("/admin/mobile-app-clicks/chart",{params:s}),hye=(s={})=>Le.get("/admin/featured-cars",{params:s}),fye=s=>Le.post("/admin/featured-cars",s),mye=s=>Le.delete(`/admin/featured-cars/${s}`),pye=(s={})=>Le.get("/admin/holidays",{params:s}),gye=s=>Le.post("/admin/holidays",s),xye=s=>Le.delete(`/admin/holidays/${s}`),g6=(s={})=>Le.get("/admin/real-user-data",{params:s}),x6=s=>Le.get(`/admin/real-user-data/${s}`),yye=(s,t)=>Le.post(`/admin/real-user-data/${s}`,t),bye=(s,t)=>Le.patch(`/admin/real-user-data/${s}/status`,t),vye=(s,t)=>Le.patch(`/admin/real-user-data/${s}/check`,t),wye=s=>Le.delete(`/admin/real-user-data/${s}`),jye=(s,t)=>Le.put(`/admin/users/${s}/link-real-user-data`,{real_user_data_id:t}),_ye=async(s,t)=>(await Le.get(`/admin/real-user-data/${s}/images/${t}/download`,{responseType:"blob"})).data,Nye=(s,t,r)=>{const n=new FormData;return n.append("image",r),Le.post(`/admin/real-user-data/${s}/images/${t}`,n,{headers:{"Content-Type":"multipart/form-data"}})},e9=(s={})=>Le.get("/admin/promo-codes",{params:s}),t9=s=>Le.post("/admin/promo-codes",s),s9=(s,t)=>Le.put(`/admin/promo-codes/${s}`,t),r9=s=>Le.delete(`/admin/promo-codes/${s}`),kye=(s,t={})=>Le.get(`/admin/promo-codes/${s}/users`,{params:t}),MN=(s,t={})=>Le.get(`/admin/brokers/${s}/referrals`,{params:t}),Gk=s=>Le.post("/admin/users",{...s,role:"broker"}),n9=s=>Le.get(`/admin/brokers/${s}/balance`),a9=(s,t={})=>Le.get(`/admin/brokers/${s}/payouts`,{params:t}),P0=(s,t={})=>Le.get(`/admin/brokers/${s}/commissions`,{params:t}),i9=s=>Le.post("/admin/broker-payouts",s),o9=(s={})=>Le.get("/admin/broker-commissions",{params:s}),l9=s=>Le.put(`/admin/broker-commissions/${s}/cancel`),c9=s=>Le.delete(`/admin/broker-referrals/${s}`),Sye=s=>Le.post("/admin/notifications/send-to-all",s),d9=(s={})=>Le.get("/admin/otps",{params:s}),Cye=()=>Le.get("/admin/otps/statistics"),Aye=s=>Le.get(`/admin/otps/${s}`),Eye=()=>Le.get("/admin/sms/balance"),Tye=s=>Le.post("/admin/sms/delivery-report",{batch_id:s}),u9=(s={})=>Le.get("/services",{params:s}),Rye=(s,t)=>{const r=new FormData;return Object.entries(t).forEach(([n,a])=>{a!=null&&(Array.isArray(a)?a.forEach(i=>{r.append(n,i)}):r.append(n,a))}),Le.post(`/admin/third-parties/${s}/services`,r,{headers:{"Content-Type":"multipart/form-data"}})},Dye=(s,t)=>Le.put(`/admin/services/${s}`,t),h9=s=>Le.delete(`/admin/services/${s}`),f9=s=>Le.get(`/services/${s}/items`),Mye=(s,t)=>Le.post(`/admin/services/${s}/items`,t),Pye=(s,t)=>Le.put(`/admin/services/items/${s}`,t),m9=s=>Le.delete(`/admin/services/items/${s}`),p9=(s={})=>Le.get("/admin/third-parties",{params:s}),Oye=s=>Le.post("/admin/third-parties",s),Lye=(s,t)=>Le.put(`/admin/third-parties/${s}`,t),g9=s=>Le.delete(`/admin/third-parties/${s}`),x9=(s={})=>Le.get("/admin/feedbacks",{params:s}),y9=s=>Le.delete(`/admin/feedbacks/${s}`),b9=(s,t,r="export")=>{const n=t.map(m=>m.label||m.key).join(","),a=s.map(m=>t.map(f=>{let g=m[f.key];if(f.transform&&typeof f.transform=="function"&&(g=f.transform(m)),g==null)return"";const b=String(g);return b.includes(",")||b.includes('"')||b.includes(`
`)?`"${b.replace(/"/g,'""')}"`:b}).join(",")),i=[n,...a].join(`
`),o="\uFEFF",c=new Blob([o+i],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),h=URL.createObjectURL(c);d.setAttribute("href",h),d.setAttribute("download",`${r}.csv`),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d)},v9=(s,t,r="Export",n="export")=>{const a=`
    <div>
      <h1>${r}</h1>
      <p>Generated on: ${new Date().toLocaleString()}</p>
      <table>
        <thead>
          <tr>
            ${t.map(o=>`<th>${o.label||o.key}</th>`).join("")}
          </tr>
        </thead>
        <tbody>
          ${s.map(o=>`
            <tr>
              ${t.map(c=>`<td>${o[c.key]??""}</td>`).join("")}
            </tr>
          `).join("")}
        </tbody>
      </table>
    </div>
  `,i=window.open("","_blank");i.document.write(`
    <html>
      <head>
        <title>${n}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          h1 { color: #333; }
          table { border-collapse: collapse; width: 100%; margin-top: 20px; }
          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
          th { background-color: #f2f2f2; font-weight: bold; }
          @media print {
            body { margin: 0; }
            @page { margin: 1cm; }
          }
        </style>
      </head>
      <body>
        ${a}
      </body>
    </html>
  `),i.document.close(),i.focus(),setTimeout(()=>{i.print(),i.close()},250)};function w9({onSubmit:s,loading:t=!1}){const[r,n]=w.useState({user_id:"",website:"",company_type:"",image_url:"",target_url:"",ads_text:"",amount_cost:"",start_at:"",expire_at:"",online:!1}),a=o=>{const{name:c,value:d,type:h,checked:m}=o.target;n(f=>({...f,[c]:h==="checkbox"?m:d}))},i=o=>{o.preventDefault();const c={...r,user_id:parseInt(r.user_id),amount_cost:r.amount_cost?parseFloat(r.amount_cost):0,start_at:r.start_at||new Date().toISOString().slice(0,19).replace("T"," "),expire_at:r.expire_at||new Date(Date.now()+720*60*60*1e3).toISOString().slice(0,19).replace("T"," ")};s(c)};return e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"User ID *"}),e.jsx(Ae,{type:"number",name:"user_id",value:r.user_id,onChange:a,required:!0,placeholder:"Enter user ID"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Start Date/Time *"}),e.jsx(Ae,{type:"datetime-local",name:"start_at",value:r.start_at,onChange:a,required:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Expire Date/Time *"}),e.jsx(Ae,{type:"datetime-local",name:"expire_at",value:r.expire_at,onChange:a,required:!0})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Website"}),e.jsx(Ae,{type:"text",name:"website",value:r.website,onChange:a,placeholder:"example.com"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Company Type"}),e.jsx(Ae,{type:"text",name:"company_type",value:r.company_type,onChange:a,placeholder:"rental"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Image URL"}),e.jsx(Ae,{type:"text",name:"image_url",value:r.image_url,onChange:a,placeholder:"https://example.com/image.jpg or /path/to/image.jpg"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Target URL"}),e.jsx(Ae,{type:"text",name:"target_url",value:r.target_url,onChange:a,placeholder:"https://example.com"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Ad Text"}),e.jsx(vn,{name:"ads_text",value:r.ads_text,onChange:a,placeholder:"Advertisement text content"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Amount Cost"}),e.jsx(Ae,{type:"number",step:"0.01",name:"amount_cost",value:r.amount_cost,onChange:a,placeholder:"0.00"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{children:"Online"}),e.jsx(yn,{checked:r.online,onCheckedChange:o=>n(c=>({...c,online:o}))})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx(fe,{type:"submit",disabled:t,className:"flex-1",children:t?"Creating...":"Create Ad"})})]})}function Fye({onSubmit:s,loading:t=!1}){const[r,n]=w.useState({user_id:"",name:"",amount:"",source:"bank",type:"income",status:"pending",due_date:"",description:"",metadata:""}),a=c=>{const{name:d,value:h}=c.target;n(m=>({...m,[d]:h}))},i=(c,d)=>{n(h=>({...h,[c]:d}))},o=c=>{c.preventDefault();const d={...r,user_id:parseInt(r.user_id),amount:parseFloat(r.amount),due_date:r.due_date||new Date().toISOString().slice(0,19).replace("T"," "),...r.metadata&&{metadata:JSON.parse(r.metadata)}};s(d)};return e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"User ID *"}),e.jsx(Ae,{type:"number",name:"user_id",value:r.user_id,onChange:a,required:!0,placeholder:"Enter user ID"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Name/Description *"}),e.jsx(Ae,{type:"text",name:"name",value:r.name,onChange:a,required:!0,placeholder:"Payment name",maxLength:100})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Amount *"}),e.jsx(Ae,{type:"number",step:"0.01",name:"amount",value:r.amount,onChange:a,required:!0,placeholder:"99.99"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Source *"}),e.jsxs(ot,{value:r.source,onValueChange:c=>i("source",c),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"wish",children:"Wish"}),e.jsx(ke,{value:"omt",children:"OMT"}),e.jsx(ke,{value:"bank",children:"Bank"}),e.jsx(ke,{value:"cash",children:"Cash"}),e.jsx(ke,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Type *"}),e.jsxs(ot,{value:r.type,onValueChange:c=>i("type",c),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"income",children:"Income"}),e.jsx(ke,{value:"expense",children:"Expense"}),e.jsx(ke,{value:"debit",children:"Debit"}),e.jsx(ke,{value:"upcoming_income",children:"Upcoming Income"}),e.jsx(ke,{value:"credit",children:"Credit"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Status"}),e.jsxs(ot,{value:r.status,onValueChange:c=>i("status",c),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"pending",children:"Pending"}),e.jsx(ke,{value:"paid",children:"Paid"}),e.jsx(ke,{value:"overdue",children:"Overdue"}),e.jsx(ke,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Due Date"}),e.jsx(Ae,{type:"datetime-local",name:"due_date",value:r.due_date,onChange:a})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Description"}),e.jsx(vn,{name:"description",value:r.description,onChange:a,placeholder:"Additional description"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Metadata (JSON)"}),e.jsx(vn,{name:"metadata",value:r.metadata,onChange:a,placeholder:'{"key": "value"}'})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx(fe,{type:"submit",disabled:t,className:"flex-1",children:t?"Issuing...":"Issue Payment/Invoice"})})]})}function j9({onSubmit:s,loading:t=!1}){const[r,n]=w.useState({car_id:"",duration:"",start_at:""}),a=o=>{const{name:c,value:d}=o.target;n(h=>({...h,[c]:d}))},i=o=>{o.preventDefault();const c={...r,car_id:parseInt(r.car_id),duration:parseInt(r.duration),start_at:r.start_at||new Date().toISOString().slice(0,19).replace("T"," ")};s(c)};return e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Car ID *"}),e.jsx(Ae,{type:"number",name:"car_id",value:r.car_id,onChange:a,required:!0,placeholder:"Enter car ID"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Duration (Days) *"}),e.jsx(Ae,{type:"number",name:"duration",value:r.duration,onChange:a,required:!0,min:"1",max:"365",placeholder:"30"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Number of days to feature (1-365)"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Start Date/Time"}),e.jsx(Ae,{type:"datetime-local",name:"start_at",value:r.start_at,onChange:a,placeholder:"Leave empty to start now"})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx(fe,{type:"submit",disabled:t,className:"flex-1",children:t?"Creating...":"Create Featured Car"})})]})}const _9=w.createContext(null);function Sn(){const s=w.useContext(_9);if(!s)throw new Error("useAdmin must be used within AdminProvider");return s}const va={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function Bye(){const{summary:s}=Sn();return e.jsx("div",{className:"space-y-6",children:s&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(Ue,{children:[e.jsxs(ts,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ss,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(_s,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(He,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.total_users}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.active_users," active"]})]})]}),e.jsxs(Ue,{children:[e.jsxs(ts,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ss,{className:"text-sm font-medium",children:"Total Bookings"}),e.jsx(Bs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(He,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.total_bookings}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.pending_bookings," pending"]})]})]}),e.jsxs(Ue,{children:[e.jsxs(ts,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ss,{className:"text-sm font-medium",children:"Total Revenue"}),e.jsx(dr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(He,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",s.total_revenue?.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",s.total_refunds?.toLocaleString()," refunds"]})]})]}),e.jsxs(Ue,{children:[e.jsxs(ts,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ss,{className:"text-sm font-medium",children:"Total Cars"}),e.jsx(Qt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(He,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.total_cars}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.available_cars," available"]})]})]})]})})}function Iye(){const{users:s,filters:t,setFilters:r,navigate:n,fetchUsers:a,fetchUserDetails:i,setSelectedItem:o,setModalType:c,setModalOpen:d,showConfirmDialog:h,deleteUser:m}=Sn(),f=s?.data??(Array.isArray(s)?s:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{placeholder:"Search users...",className:"w-64"}),e.jsxs(ot,{value:t.users.role,onValueChange:g=>r(b=>({...b,users:{...b.users,role:g}})),children:[e.jsx(at,{className:"w-32",children:e.jsx(lt,{placeholder:"Role"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All Roles"}),e.jsx(ke,{value:"client",children:"Client"}),e.jsx(ke,{value:"agency",children:"Agency"}),e.jsx(ke,{value:"admin",children:"Admin"})]})]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:a,children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsxs(fe,{onClick:()=>n("/admin/real-user-data"),style:{background:`linear-gradient(to right, ${va.darkBlue}, ${va.teal})`},className:"text-white flex items-center gap-2",children:[e.jsx(Qu,{className:"w-4 h-4"}),"Manage Real User Data"]})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Name"}),e.jsx(_e,{children:"Email"}),e.jsx(_e,{children:"Role"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Verified"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(Array.isArray(f)?f:[]).map(g=>e.jsxs(Ye,{children:[e.jsx(ve,{children:g.id}),e.jsx(ve,{children:g.first_name&&g.last_name?`${g.first_name} ${g.last_name}`:g.username||"N/A"}),e.jsx(ve,{children:g.email||g.phone_number||"N/A"}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:g.role})}),e.jsx(ve,{children:e.jsx(Ge,{variant:g.status?"default":"secondary",children:g.status?"Active":"Inactive"})}),e.jsx(ve,{children:g.verified_by_admin?e.jsx(Xr,{className:"w-4 h-4 text-green-500"}):e.jsx(ta,{className:"w-4 h-4 text-gray-400"})}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{variant:"ghost",size:"icon",onClick:async()=>{const b=await i(g.id);b&&(o(b),c("view-user"),d(!0))},title:"View Details",children:e.jsx(er,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:async()=>{const b=await i(g.id);b&&(o(b),c("edit-user"),d(!0))},children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>h("Delete User","Are you sure you want to delete this user?",()=>m(g.id)),children:e.jsx(tr,{className:"w-4 h-4 text-red-500"})})]})})]},g.id))})]})})})]})}function zye(){const{cars:s,filters:t,setFilters:r,fetchCars:n,fetchCarDetails:a,setSelectedItem:i,setModalType:o,setModalOpen:c,showConfirmDialog:d,deleteCar:h}=Sn(),m=s?.data??(Array.isArray(s)?s:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ot,{value:t.cars.status,onValueChange:f=>r(g=>({...g,cars:{...g.cars,status:f}})),children:[e.jsx(at,{className:"w-40",children:e.jsx(lt,{placeholder:"Status"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All Statuses"}),e.jsx(ke,{value:"available",children:"Available"}),e.jsx(ke,{value:"not_available",children:"Not Available"}),e.jsx(ke,{value:"rented",children:"Rented"}),e.jsx(ke,{value:"maintenance",children:"Maintenance"})]})]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:n,children:e.jsx(Ft,{className:"w-4 h-4"})})]})}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Make/Model"}),e.jsx(_e,{children:"Year"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Approved"}),e.jsx(_e,{children:"Daily Rate"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(Array.isArray(m)?m:[]).map(f=>e.jsxs(Ye,{children:[e.jsx(ve,{children:f.id}),e.jsxs(ve,{children:[f.make," ",f.model]}),e.jsx(ve,{children:f.year}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:f.status})}),e.jsx(ve,{children:f.car_accepted?e.jsx(Xr,{className:"w-4 h-4 text-green-500"}):e.jsx(ta,{className:"w-4 h-4 text-gray-400"})}),e.jsxs(ve,{children:["$",f.daily_rate]}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{variant:"ghost",size:"icon",onClick:async()=>{const g=await a(f.id);g&&(i(g),o("view-car"),c(!0))},title:"View Details",children:e.jsx(er,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:async()=>{const g=await a(f.id);g&&(i(g),o("edit-car"),c(!0))},children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>d("Delete Car","Are you sure you want to delete this car?",()=>h(f.id)),children:e.jsx(tr,{className:"w-4 h-4 text-red-500"})})]})})]},f.id))})]})})})]})}function Uye(){const{bookings:s,filters:t,setFilters:r,fetchBookings:n,fetchBookingDetails:a,setSelectedItem:i,setModalType:o,setModalOpen:c,forceCompleteBooking:d}=Sn(),h=s?.data??(Array.isArray(s)?s:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ot,{value:t.bookings.status,onValueChange:m=>r(f=>({...f,bookings:{...f.bookings,status:m}})),children:[e.jsx(at,{className:"w-40",children:e.jsx(lt,{placeholder:"Status"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All Statuses"}),e.jsx(ke,{value:"pending",children:"Pending"}),e.jsx(ke,{value:"confirmed",children:"Confirmed"}),e.jsx(ke,{value:"cancelled",children:"Cancelled"}),e.jsx(ke,{value:"completed",children:"Completed"}),e.jsx(ke,{value:"rejected",children:"Rejected"})]})]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:n,children:e.jsx(Ft,{className:"w-4 h-4"})})]})}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Client"}),e.jsx(_e,{children:"Car"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Payment"}),e.jsx(_e,{children:"Total Price"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(Array.isArray(h)?h:[]).map(m=>e.jsxs(Ye,{children:[e.jsx(ve,{children:m.id}),e.jsx(ve,{children:m.client?.first_name&&m.client?.last_name?`${m.client.first_name} ${m.client.last_name}`:m.client?.username||"N/A"}),e.jsxs(ve,{children:[m.car?.make," ",m.car?.model]}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:m.booking_request_status})}),e.jsx(ve,{children:e.jsx(Ge,{variant:m.payment_status==="paid"?"default":"secondary",children:m.payment_status})}),e.jsxs(ve,{children:["$",m.total_booking_price]}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{variant:"ghost",size:"icon",onClick:async()=>{const f=await a(m.id);f&&(i(f),o("view-booking"),c(!0))},title:"View Details",children:e.jsx(er,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:async()=>{const f=await a(m.id);f&&(i(f),o("edit-booking"),c(!0))},children:e.jsx(xr,{className:"w-4 h-4"})}),m.booking_request_status==="confirmed"&&e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>d(m.id),title:"Force Complete","aria-label":"Force complete booking",children:e.jsx(Xr,{className:"w-4 h-4 text-green-500"})})]})})]},m.id))})]})})})]})}function $ye(){const{payments:s,setSelectedItem:t,setModalType:r,setModalOpen:n,fetchPayments:a,processRefund:i}=Sn(),o=s?.data??(Array.isArray(s)?s:[]),c=[{key:"id",label:"ID"},{key:"user",label:"User",transform:d=>d.user?.name||"N/A"},{key:"amount",label:"Amount",transform:d=>`$${d.amount}`},{key:"type",label:"Type"},{key:"status",label:"Status"},{key:"source",label:"Source"},{key:"name",label:"Name"},{key:"created_at",label:"Created At",transform:d=>new Date(d.created_at).toLocaleString()}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(fe,{onClick:()=>{t(null),r("create-payment"),n(!0)},children:[e.jsx(nr,{className:"w-4 h-4 mr-2"}),"Issue Payment/Invoice"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(fe,{variant:"outline",onClick:()=>{const d=(Array.isArray(o)?o:[]).map(h=>({...h,user:h.user?.name||"N/A",amount:`$${h.amount}`,created_at:new Date(h.created_at).toLocaleString()}));b9(d,c,"invoices")},children:[e.jsx(vm,{className:"w-4 h-4 mr-2"}),"Export Excel"]}),e.jsxs(fe,{variant:"outline",onClick:()=>{const d=(Array.isArray(o)?o:[]).map(h=>({...h,user:h.user?.name||"N/A",amount:`$${h.amount}`,created_at:new Date(h.created_at).toLocaleString()}));v9(d,c,"Invoices Report","invoices")},children:[e.jsx(vm,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:a,"aria-label":"Refresh payments",children:e.jsx(Ft,{className:"w-4 h-4"})})]})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"User"}),e.jsx(_e,{children:"Amount"}),e.jsx(_e,{children:"Type"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Source"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(Array.isArray(o)?o:[]).map(d=>e.jsxs(Ye,{children:[e.jsx(ve,{children:d.id}),e.jsx(ve,{children:d.user?.name||"N/A"}),e.jsxs(ve,{children:["$",d.amount]}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:d.type})}),e.jsx(ve,{children:e.jsx(Ge,{variant:d.status==="paid"?"default":"secondary",children:d.status})}),e.jsx(ve,{children:d.source}),e.jsx(ve,{children:d.type==="refund"&&d.status!=="processed"&&e.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>{const h=d.reference_id||d.id;i(h)},children:"Process Refund"})})]},d.id))})]})})})]})}function Vye(){const{announcements:s,setSelectedItem:t,setModalType:r,setModalOpen:n,fetchAnnouncements:a,showConfirmDialog:i,deleteAnnouncement:o}=Sn(),c=s?.data??(Array.isArray(s)?s:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(fe,{onClick:()=>{t(null),r("create-announcement"),n(!0)},children:[e.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Announcement"]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:a,children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Title"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Priority"}),e.jsx(_e,{children:"Target Audience"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(Array.isArray(c)?c:[]).map(d=>e.jsxs(Ye,{children:[e.jsx(ve,{children:d.id}),e.jsx(ve,{children:d.title}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:d.status})}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:d.priority})}),e.jsx(ve,{children:d.target_audience?.join(", ")||"All"}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>{t(d),r("edit-announcement"),n(!0)},"aria-label":"Edit announcement",children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>i("Delete Announcement","Are you sure you want to delete this announcement?",()=>o(d.id)),children:e.jsx(tr,{className:"w-4 h-4 text-red-500"})})]})})]},d.id))})]})})})]})}function Hye(){const{appeals:s,filters:t,setFilters:r,setSelectedItem:n,setModalType:a,setModalOpen:i,fetchAppeals:o}=Sn(),c=s?.data??(Array.isArray(s)?s:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ot,{value:t.appeals.status,onValueChange:d=>r(h=>({...h,appeals:{...h.appeals,status:d}})),children:[e.jsx(at,{className:"w-40",children:e.jsx(lt,{placeholder:"Status"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All Statuses"}),e.jsx(ke,{value:"submitted",children:"Submitted"}),e.jsx(ke,{value:"under_review",children:"Under Review"}),e.jsx(ke,{value:"resolved",children:"Resolved"}),e.jsx(ke,{value:"rejected",children:"Rejected"}),e.jsx(ke,{value:"escalated",children:"Escalated"})]})]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:o,children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"User"}),e.jsx(_e,{children:"Type"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Priority"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(Array.isArray(c)?c:[]).map(d=>e.jsxs(Ye,{children:[e.jsx(ve,{children:d.id}),e.jsx(ve,{children:d.user?.username||d.user?.email||"N/A"}),e.jsx(ve,{children:d.type||"N/A"}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:d.status})}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:d.priority||"N/A"})}),e.jsx(ve,{children:e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>{n(d),a("edit-appeal"),i(!0)},children:e.jsx(xr,{className:"w-4 h-4"})})})]},d.id))})]})})})]})}function qye(){const{ads:s,navigate:t,setSelectedItem:r,setModalType:n,setModalOpen:a,fetchAds:i,showConfirmDialog:o,deleteAd:c}=Sn(),d=s?.data??(Array.isArray(s)?s:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(fe,{onClick:()=>{r(null),n("create-ad"),a(!0)},children:[e.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Ad"]}),e.jsxs(fe,{variant:"outline",onClick:()=>t("/admin/ads-analytics"),children:[e.jsx(qi,{className:"w-4 h-4 mr-2"}),"View Analytics"]})]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:i,"aria-label":"Refresh ads",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Website"}),e.jsx(_e,{children:"Company Type"}),e.jsx(_e,{children:"Online"}),e.jsx(_e,{children:"Views"}),e.jsx(_e,{children:"Clicks"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(Array.isArray(d)?d:[]).map(h=>e.jsxs(Ye,{children:[e.jsx(ve,{children:h.id}),e.jsx(ve,{children:h.website}),e.jsx(ve,{children:h.company_type}),e.jsx(ve,{children:h.online?e.jsx(Xr,{className:"w-4 h-4 text-green-500"}):e.jsx(ta,{className:"w-4 h-4 text-gray-400"})}),e.jsx(ve,{children:h.nb_views}),e.jsx(ve,{children:h.nb_clicks}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>{r(h),n("edit-ad"),a(!0)},children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>o("Delete Ad","Are you sure you want to delete this ad?",()=>c(h.id)),children:e.jsx(tr,{className:"w-4 h-4 text-red-500"})})]})})]},h.id))})]})})})]})}function Gye(){const{promoCodes:s,brokers:t,filters:r,setFilters:n,setBrokerForm:a,setSelectedItem:i,setModalType:o,setModalOpen:c,fetchPromoCodes:d,fetchPromoCodeUsers:h,fetchBrokerReferrals:m,showConfirmDialog:f,handleDeletePromoCode:g}=Sn(),b=s?.data??(Array.isArray(s)?s:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(fe,{onClick:()=>{i(null),o("create-promo-code"),c(!0)},children:[e.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Promo Code"]}),e.jsxs(fe,{variant:"outline",onClick:()=>{a({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),o("create-broker"),c(!0)},children:[e.jsx(_s,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ot,{value:r.promoCodes.broker_id||"all",onValueChange:v=>n(y=>({...y,promoCodes:{...y.promoCodes,broker_id:v}})),children:[e.jsx(at,{className:"w-[180px]",children:e.jsx(lt,{placeholder:"Filter by broker"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All brokers"}),(Array.isArray(t)?t:[]).map(v=>e.jsx(ke,{value:String(v.id),children:v.username||`${v.first_name||""} ${v.last_name||""}`||`Broker #${v.id}`},v.id))]})]}),e.jsxs(ot,{value:r.promoCodes.is_active,onValueChange:v=>n(y=>({...y,promoCodes:{...y.promoCodes,is_active:v}})),children:[e.jsx(at,{className:"w-[150px]",children:e.jsx(lt,{placeholder:"Status"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All status"}),e.jsx(ke,{value:"true",children:"Active"}),e.jsx(ke,{value:"false",children:"Inactive"})]})]})]})]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:d,"aria-label":"Refresh promo codes",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"Code"}),e.jsx(_e,{children:"Broker"}),e.jsx(_e,{children:"Description"}),e.jsx(_e,{children:"Uses"}),e.jsx(_e,{children:"Commission %"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Expires At"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(Array.isArray(b)?b:[]).map(v=>e.jsxs(Ye,{children:[e.jsx(ve,{className:"font-mono font-semibold",children:v.code}),e.jsx(ve,{children:v.broker?v.broker.username||`${v.broker.first_name||""} ${v.broker.last_name||""}`:"N/A"}),e.jsx(ve,{className:"max-w-xs truncate",children:v.description||""}),e.jsxs(ve,{children:[v.current_uses," / ",v.max_uses??""]}),e.jsxs(ve,{children:[v.commission_percentage??0,"%"]}),e.jsx(ve,{children:e.jsx(Ge,{variant:v.is_active?"default":"secondary",children:v.is_active?"Active":"Inactive"})}),e.jsx(ve,{children:v.expires_at?new Date(v.expires_at).toLocaleDateString():"No expiry"}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>{i(v),o("edit-promo-code"),c(!0)},children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>{i(v),h(v.id),m(v.broker_id),o("view-promo-users"),c(!0)},children:e.jsx(_s,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>f("Delete Promo Code","Are you sure you want to delete this promo code?",()=>g(v.id)),children:e.jsx(tr,{className:"w-4 h-4 text-red-500"})})]})})]},v.id))})]})})})]})}function Wye(){const{brokers:s,selectedBroker:t,brokerDetailTab:r,setBrokerDetailTab:n,brokerBalance:a,brokerCommissions:i,brokerPayouts:o,brokerReferrals:c,brokerCommissionsList:d,commissionStatusFilter:h,setCommissionStatusFilter:m,setBrokerCommissions:f,setBrokerForm:g,setPayoutForm:b,setSelectedBroker:v,setModalType:y,setModalOpen:_,fetchBrokers:j,fetchBrokerCommissionsList:S,openBrokerDetail:N,closeBrokerDetail:k,showConfirmDialog:C,handleCancelCommission:z,handleDeleteBrokerReferral:E}=Sn(),U=async T=>{if(t?.id){m(T);try{const re=await P0(t.id,{status:T==="all"?void 0:T}),Y=re.data?.commissions?.data??re.data?.commissions;f({data:Array.isArray(Y)?Y:[],statistics:re.data?.statistics||{}})}catch(re){console.error("Failed to fetch broker commissions:",re)}}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(fe,{variant:"outline",onClick:()=>{g({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),y("create-broker"),_(!0)},children:[e.jsx(_s,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),e.jsxs(fe,{onClick:()=>{b({broker_id:t?.id?String(t.id):"select",amount:t?.id&&a?.balance!=null?String(a.balance):"",reference:"",notes:""}),y("create-broker-payout"),_(!0)},children:[e.jsx(dr,{className:"w-4 h-4 mr-2"}),"Create Payout"]})]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:()=>{j(),S()},children:e.jsx(Ft,{className:"w-4 h-4"})})]}),t?e.jsxs(Ue,{children:[e.jsxs(ts,{className:"flex flex-row items-center justify-between",children:[e.jsxs(ss,{className:"flex items-center gap-2",children:[e.jsx(_s,{className:"w-5 h-5"}),t.username||`${t.first_name||""} ${t.last_name||""}`.trim()||`Broker #${t.id}`]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>{b({broker_id:String(t.id),amount:a?.balance?String(a.balance):"",reference:"",notes:""}),y("create-broker-payout"),_(!0)},children:[e.jsx(dr,{className:"w-4 h-4 mr-1"}),"Pay broker"]}),e.jsx(fe,{variant:"ghost",size:"sm",onClick:k,children:"Close"})]})]}),e.jsx(He,{children:e.jsxs(Ko,{value:r,onValueChange:n,className:"w-full",children:[e.jsxs(no,{className:"grid w-full grid-cols-4",children:[e.jsx(Yt,{value:"overview",children:"Overview"}),e.jsx(Yt,{value:"commissions",children:"Commissions"}),e.jsx(Yt,{value:"payouts",children:"Payouts"}),e.jsx(Yt,{value:"referrals",children:"Referrals"})]}),e.jsx(ns,{value:"overview",className:"space-y-4 mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Ue,{children:e.jsxs(He,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Balance"}),e.jsxs("p",{className:"text-2xl font-bold",style:{color:va.limeGreen},children:["$",(a?.balance??0).toFixed(2)]})]})}),e.jsx(Ue,{children:e.jsxs(He,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total commissions"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",(a?.total_commissions??i.statistics?.total_commissions??0).toFixed(2)]})]})}),e.jsx(Ue,{children:e.jsxs(He,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total payouts"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",(a?.total_payouts??i.statistics?.total_payouts??0).toFixed(2)]})]})})]})}),e.jsxs(ns,{value:"commissions",className:"mt-4",children:[e.jsx("div",{className:"flex gap-2 mb-4",children:["all","pending","paid","cancelled"].map(T=>e.jsx(fe,{variant:h===T?"default":"outline",size:"sm",onClick:()=>U(T),children:T.charAt(0).toUpperCase()+T.slice(1)},T))}),e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Referred user"}),e.jsx(_e,{children:"Promo code"}),e.jsx(_e,{children:"Booking amount"}),e.jsx(_e,{children:"Commission"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Completed at"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(Array.isArray(i.data)?i.data:[]).map(T=>e.jsxs(Ye,{children:[e.jsx(ve,{children:T.id}),e.jsx(ve,{children:T.referredUser?`${T.referredUser.first_name||""} ${T.referredUser.last_name||""}`.trim()||T.referredUser.username:T.referred_user_id}),e.jsx(ve,{children:T.promoCode?.code||""}),e.jsxs(ve,{children:["$",Number(T.booking_amount||0).toFixed(2)]}),e.jsxs(ve,{children:["$",Number(T.commission_amount||0).toFixed(2)," (",T.commission_percentage,"%)"]}),e.jsx(ve,{children:e.jsx(Ge,{variant:T.status==="paid"?"default":T.status==="cancelled"?"secondary":"outline",children:T.status})}),e.jsx(ve,{children:T.booking_completed_at?new Date(T.booking_completed_at).toLocaleDateString():""}),e.jsx(ve,{children:T.status==="pending"&&e.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>C("Cancel commission","Are you sure? This cannot be undone.",()=>z(T.id)),children:"Cancel"})})]},T.id))})]})]}),e.jsx(ns,{value:"payouts",className:"mt-4",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"Reference ID"}),e.jsx(_e,{children:"Amount"}),e.jsx(_e,{children:"Paid at"}),e.jsx(_e,{children:"Description"})]})}),e.jsx(Ut,{children:(Array.isArray(o.data)?o.data:[]).map(T=>e.jsxs(Ye,{children:[e.jsx(ve,{className:"font-mono text-xs",children:T.reference_id||T.id}),e.jsxs(ve,{children:["$",((T.amount||0)/100).toFixed(2)]}),e.jsx(ve,{children:T.paid_at?new Date(T.paid_at).toLocaleString():""}),e.jsx(ve,{children:T.description||T.metadata?.reference||""})]},T.id))})]})}),e.jsx(ns,{value:"referrals",className:"mt-4",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Referred user"}),e.jsx(_e,{children:"Promo code"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(Array.isArray(c)?c:[]).map(T=>e.jsxs(Ye,{children:[e.jsx(ve,{children:T.id}),e.jsx(ve,{children:T.referredUser?`${T.referredUser.first_name||""} ${T.referredUser.last_name||""}`.trim()||T.referredUser.username:T.referred_user_id}),e.jsx(ve,{children:T.promoCode?.code||""}),e.jsx(ve,{children:e.jsx(fe,{variant:"ghost",size:"sm",className:"text-red-500",onClick:()=>C("Delete referral","Remove this referral link? This cannot be undone.",()=>E(T.id)),children:"Delete"})})]},T.id))})]})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ue,{children:[e.jsxs(ts,{children:[e.jsx(ss,{children:"Brokers"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click Manage to view balance, commissions, payouts, and referrals."})]}),e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Username"}),e.jsx(_e,{children:"Name"}),e.jsx(_e,{children:"Phone"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(Array.isArray(s)?s:[]).map(T=>e.jsxs(Ye,{children:[e.jsx(ve,{children:T.id}),e.jsx(ve,{children:T.username}),e.jsx(ve,{children:[T.first_name,T.last_name].filter(Boolean).join(" ")||""}),e.jsx(ve,{children:T.phone_number||""}),e.jsx(ve,{children:e.jsx(fe,{variant:"outline",size:"sm",onClick:()=>N(T),children:"Manage"})})]},T.id))})]})})]}),e.jsxs(Ue,{children:[e.jsx(ts,{children:e.jsx(ss,{children:"All broker commissions"})}),e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Broker"}),e.jsx(_e,{children:"Referred user"}),e.jsx(_e,{children:"Promo"}),e.jsx(_e,{children:"Amount"}),e.jsx(_e,{children:"Status"})]})}),e.jsx(Ut,{children:(Array.isArray(d?.data)?d.data:[]).map(T=>e.jsxs(Ye,{children:[e.jsx(ve,{children:T.id}),e.jsx(ve,{children:T.broker?T.broker.username||`${T.broker.first_name||""} ${T.broker.last_name||""}`:T.broker_id}),e.jsx(ve,{children:T.referredUser?`${T.referredUser.first_name||""} ${T.referredUser.last_name||""}`.trim()||T.referredUser.username:""}),e.jsx(ve,{children:T.promoCode?.code||""}),e.jsxs(ve,{children:["$",Number(T.commission_amount||0).toFixed(2)]}),e.jsx(ve,{children:e.jsx(Ge,{variant:T.status==="paid"?"default":T.status==="cancelled"?"secondary":"outline",children:T.status})})]},T.id))})]})})]})]})]})}function Yye(){const{featuredCars:s,setSelectedItem:t,setModalType:r,setModalOpen:n,fetchFeaturedCars:a,showConfirmDialog:i,deleteFeaturedCar:o}=Sn(),c=s?.data??(Array.isArray(s)?s:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(fe,{onClick:()=>{t(null),r("create-featured-car"),n(!0)},children:[e.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Featured Car"]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:a,children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Car"}),e.jsx(_e,{children:"Duration"}),e.jsx(_e,{children:"Start Date"}),e.jsx(_e,{children:"Expire Date"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(Array.isArray(c)?c:[]).map(d=>e.jsxs(Ye,{children:[e.jsx(ve,{children:d.id}),e.jsxs(ve,{children:[d.car?.make," ",d.car?.model]}),e.jsxs(ve,{children:[d.duration," days"]}),e.jsx(ve,{children:new Date(d.start_at).toLocaleDateString()}),e.jsx(ve,{children:new Date(d.expire_at).toLocaleDateString()}),e.jsx(ve,{children:e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>i("Remove Featured Car","Are you sure?",()=>o(d.id)),children:e.jsx(tr,{className:"w-4 h-4 text-red-500"})})})]},d.id))})]})})})]})}function Kye(){const{holidays:s,setSelectedItem:t,setModalType:r,setModalOpen:n,fetchHolidays:a,showConfirmDialog:i,deleteHoliday:o}=Sn(),c=s?.data??(Array.isArray(s)?s:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(fe,{onClick:()=>{t(null),r("create-holiday"),n(!0)},children:[e.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Holiday"]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:a,children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Car"}),e.jsx(_e,{children:"Holiday Name"}),e.jsx(_e,{children:"Dates"}),e.jsx(_e,{children:"Increase %"}),e.jsx(_e,{children:"Active"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(Array.isArray(c)?c:[]).map(d=>e.jsxs(Ye,{children:[e.jsx(ve,{children:d.id}),e.jsxs(ve,{children:[d.car?.make," ",d.car?.model]}),e.jsx(ve,{children:d.holiday_name}),e.jsxs(ve,{children:[d.holiday_dates?.start," - ",d.holiday_dates?.end]}),e.jsxs(ve,{children:[d.percentage_increase,"%"]}),e.jsx(ve,{children:d.is_active?e.jsx(Xr,{className:"w-4 h-4 text-green-500"}):e.jsx(ta,{className:"w-4 h-4 text-gray-400"})}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>{t(d),r("edit-holiday"),n(!0)},children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>i("Delete Holiday","Are you sure you want to delete this holiday?",()=>o(d.id)),children:e.jsx(tr,{className:"w-4 h-4 text-red-500"})})]})})]},d.id))})]})})})]})}function Xye(){const{suggestions:s,setSelectedItem:t,setModalType:r,setModalOpen:n,fetchSuggestions:a,showConfirmDialog:i,deleteSuggestion:o}=Sn(),c=s?.data??(Array.isArray(s)?s:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsx(fe,{variant:"outline",size:"icon",onClick:a,"aria-label":"Refresh suggestions",children:e.jsx(Ft,{className:"w-4 h-4"})}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"User"}),e.jsx(_e,{children:"Title"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(Array.isArray(c)?c:[]).map(d=>e.jsxs(Ye,{children:[e.jsx(ve,{children:d.id}),e.jsx(ve,{children:d.user?.name||"N/A"}),e.jsx(ve,{children:d.title}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:d.status})}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>{t(d),r("edit-suggestion"),n(!0)},children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>i("Delete Suggestion","Are you sure you want to delete this suggestion?",()=>o(d.id)),children:e.jsx(tr,{className:"w-4 h-4 text-red-500"})})]})})]},d.id))})]})})})]})}function Zye(){const{notifications:s,setSelectedItem:t,setModalType:r,setModalOpen:n,fetchNotifications:a}=Sn(),i=s?.data??(Array.isArray(s)?s:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(fe,{onClick:()=>{t(null),r("send-notification"),n(!0)},children:[e.jsx(nr,{className:"w-4 h-4 mr-2"}),"Send to All Users"]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:a,children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Title"}),e.jsx(_e,{children:"Type"}),e.jsx(_e,{children:"Read"}),e.jsx(_e,{children:"Sent"}),e.jsx(_e,{children:"Created"})]})}),e.jsx(Ut,{children:(Array.isArray(i)?i:[]).map(o=>e.jsxs(Ye,{children:[e.jsx(ve,{children:o.id}),e.jsx(ve,{children:o.title}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:o.type})}),e.jsx(ve,{children:o.is_read?e.jsx(Xr,{className:"w-4 h-4 text-green-500"}):e.jsx(ta,{className:"w-4 h-4 text-gray-400"})}),e.jsx(ve,{children:o.is_sent?e.jsx(Xr,{className:"w-4 h-4 text-green-500"}):e.jsx(ta,{className:"w-4 h-4 text-gray-400"})}),e.jsx(ve,{children:new Date(o.created_at).toLocaleDateString()})]},o.id))})]})})})]})}function Qye(){const{otps:s,loading:t,filters:r,setFilters:n,fetchOtps:a}=Sn(),i=s?.data??(Array.isArray(s)?s:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{placeholder:"Search by phone number...",className:"w-64",value:r.otps.phone_number,onChange:o=>n(c=>({...c,otps:{...c.otps,phone_number:o.target.value}}))}),e.jsxs(ot,{value:r.otps.expired,onValueChange:o=>n(c=>({...c,otps:{...c.otps,expired:o}})),children:[e.jsx(at,{className:"w-40",children:e.jsx(lt,{placeholder:"Expired"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All OTPs"}),e.jsx(ke,{value:"false",children:"Active"}),e.jsx(ke,{value:"true",children:"Expired"})]})]})]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:a,children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Phone Number"}),e.jsx(_e,{children:"OTP Code"}),e.jsx(_e,{children:"Created At"}),e.jsx(_e,{children:"Expires At"}),e.jsx(_e,{children:"Status"})]})}),e.jsx(Ut,{children:t&&(Array.isArray(i)?i:[]).length===0?e.jsx(Ye,{children:e.jsxs(ve,{colSpan:6,className:"text-center py-8",children:[e.jsx(Ft,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading OTPs..."]})}):(Array.isArray(i)?i:[]).length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No OTPs found"})}):(Array.isArray(i)?i:[]).map(o=>{const c=new Date(o.expired_at)<new Date;return e.jsxs(Ye,{children:[e.jsx(ve,{children:o.id}),e.jsx(ve,{children:o.phone_number}),e.jsx(ve,{className:"font-mono font-bold",children:o.code}),e.jsx(ve,{children:new Date(o.created_at).toLocaleString()}),e.jsx(ve,{children:new Date(o.expired_at).toLocaleString()}),e.jsx(ve,{children:c?e.jsx(Ge,{variant:"destructive",children:"Expired"}):e.jsx(Ge,{variant:"default",children:"Active"})})]},o.id)})})]})})})]})}function Jye(){const s=Sn(),{services:t,thirdParties:r,serviceItems:n,serviceFeedbacks:a,loading:i,filters:o,setFilters:c,selectedServiceId:d,setSelectedItem:h,setModalType:m,setModalOpen:f,setConfirmDialog:g,fetchServices:b,fetchThirdParties:v,fetchServiceItems:y,fetchServiceFeedbacks:_,handleDeleteService:j,handleDeleteFeedback:S,handleDeleteServiceItem:N}=s;return e.jsx("div",{className:"space-y-6",children:e.jsxs(Ko,{defaultValue:"services-list",className:"w-full",children:[e.jsxs(no,{className:"grid w-full grid-cols-4 mb-4",children:[e.jsxs(Yt,{value:"services-list",className:"text-xs",children:[e.jsx(sc,{className:"w-4 h-4 mr-1"}),"Services"]}),e.jsxs(Yt,{value:"third-parties",className:"text-xs",children:[e.jsx(wa,{className:"w-4 h-4 mr-1"}),"Third Parties"]}),e.jsxs(Yt,{value:"service-items",className:"text-xs",children:[e.jsx(Gi,{className:"w-4 h-4 mr-1"}),"Service Items"]}),e.jsxs(Yt,{value:"service-feedbacks",className:"text-xs",children:[e.jsx(_a,{className:"w-4 h-4 mr-1"}),"Feedbacks"]})]}),e.jsxs(ns,{value:"services-list",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(fe,{onClick:()=>{h(null),m("create-service"),f(!0)},children:[e.jsx(nr,{className:"w-4 h-4 mr-1"}),"Create Service"]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:b,"aria-label":"Refresh services",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{placeholder:"Search services...",value:o.services.search,onChange:k=>c({...o,services:{...o.services,search:k.target.value}}),className:"w-48"}),e.jsxs(ot,{value:o.services.category,onValueChange:k=>c({...o,services:{...o.services,category:k}}),children:[e.jsx(at,{className:"w-40",children:e.jsx(lt,{placeholder:"Category"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All"}),e.jsx(ke,{value:"transport",children:"Transport"}),e.jsx(ke,{value:"accommodation",children:"Accommodation"}),e.jsx(ke,{value:"food",children:"Food"}),e.jsx(ke,{value:"entertainment",children:"Entertainment"}),e.jsx(ke,{value:"other",children:"Other"})]})]}),e.jsx(fe,{onClick:b,children:e.jsx(Mr,{className:"w-4 h-4"})})]})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Name"}),e.jsx(_e,{children:"Owner"}),e.jsx(_e,{children:"Category"}),e.jsx(_e,{children:"Price"}),e.jsx(_e,{children:"Rating"}),e.jsx(_e,{children:"Featured"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:i?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(t)?t:[]).length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8",children:"No services found"})}):(Array.isArray(t)?t:[]).map(k=>e.jsxs(Ye,{children:[e.jsx(ve,{children:k.id}),e.jsx(ve,{className:"font-medium",children:k.name}),e.jsx(ve,{children:k.third_party?e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium",children:k.third_party.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:k.third_party.email})]}):k.third_party_id?e.jsxs("span",{className:"text-muted-foreground",children:["ID: ",k.third_party_id]}):e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:k.category})}),e.jsxs(ve,{children:["$",(parseFloat(k.price)||0).toFixed(2)]}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ir,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),k.rating?(parseFloat(k.rating)||0).toFixed(1):"N/A"]})}),e.jsx(ve,{children:e.jsx(Ge,{variant:k.featured?"default":"secondary",children:k.featured?"Yes":"No"})}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>{h(k),m("view-service"),f(!0)},children:e.jsx(er,{className:"w-4 h-4"})}),e.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>{h(k),m("edit-service"),f(!0)},children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>s.fetchServiceItems(k.id),children:e.jsx(Gi,{className:"w-4 h-4"})}),e.jsx(fe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>g({open:!0,title:"Delete Service",message:`Are you sure you want to delete "${k.name}"?`,onConfirm:()=>j(k.id)}),children:e.jsx(tr,{className:"w-4 h-4"})})]})})]},k.id))})]})})})]}),e.jsxs(ns,{value:"third-parties",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(fe,{onClick:()=>{h(null),m("create-third-party"),f(!0)},children:[e.jsx(nr,{className:"w-4 h-4 mr-1"}),"Create Third Party"]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:v,children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx(Ae,{placeholder:"Search third parties...",value:o.thirdParties.search,onChange:k=>c({...o,thirdParties:{...o.thirdParties,search:k.target.value}}),className:"w-64"})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Name"}),e.jsx(_e,{children:"Contact"}),e.jsx(_e,{children:"Category"}),e.jsx(_e,{children:"City"}),e.jsx(_e,{children:"Subscription"}),e.jsx(_e,{children:"Created At"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:i?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(r)?r:[]).length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8",children:"No third parties found"})}):(Array.isArray(r)?r:[]).map(k=>e.jsxs(Ye,{children:[e.jsx(ve,{children:k.id}),e.jsx(ve,{children:e.jsx("p",{className:"font-medium",children:k.name})}),e.jsx(ve,{children:k.email||k.phone||"-"}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:k.category||"-"})}),e.jsx(ve,{children:k.city||"-"}),e.jsx(ve,{children:k.subscription_status||"-"}),e.jsx(ve,{children:k.created_at?new Date(k.created_at).toLocaleDateString():"-"}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>{h(k),m("view-third-party"),f(!0)},children:e.jsx(er,{className:"w-4 h-4"})}),e.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>{h(k),m("edit-third-party"),f(!0)},children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>{h(k),m("create-service-for-tp"),f(!0)},children:e.jsx(nr,{className:"w-4 h-4"})}),e.jsx(fe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>g({open:!0,title:"Delete Third Party",message:"Are you sure?",onConfirm:()=>s.handleDeleteThirdParty(k.id)}),children:e.jsx(tr,{className:"w-4 h-4"})})]})})]},k.id))})]})})})]}),e.jsxs(ns,{value:"service-items",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:d&&e.jsxs(e.Fragment,{children:[e.jsxs(fe,{onClick:()=>{h(null),m("create-service-item"),f(!0)},children:[e.jsx(nr,{className:"w-4 h-4 mr-1"}),"Add Item"]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:()=>y(d),children:e.jsx(Ft,{className:"w-4 h-4"})})]})}),e.jsxs(ot,{value:d?.toString()||"",onValueChange:k=>k&&s.fetchServiceItems(parseInt(k)),children:[e.jsx(at,{className:"w-64",children:e.jsx(lt,{placeholder:"Select a service to view items"})}),e.jsx(it,{children:(Array.isArray(t)?t:[]).map(k=>e.jsx(ke,{value:String(k.id),children:k.name},k.id))})]})]}),d?e.jsxs(Ue,{children:[e.jsx(ts,{children:e.jsxs(ss,{children:["Items for Service #",d]})}),e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Name"}),e.jsx(_e,{children:"Description"}),e.jsx(_e,{children:"Price"}),e.jsx(_e,{children:"Image"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:i?e.jsx(Ye,{children:e.jsx(ve,{colSpan:6,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(n)?n:[]).length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:6,className:"text-center py-8",children:"No items found"})}):(Array.isArray(n)?n:[]).map(k=>e.jsxs(Ye,{children:[e.jsx(ve,{children:k.id}),e.jsx(ve,{className:"font-medium",children:k.name}),e.jsx(ve,{className:"max-w-xs truncate",children:k.description||"N/A"}),e.jsxs(ve,{children:["$",(parseFloat(k.price)||0).toFixed(2)]}),e.jsx(ve,{children:k.image?e.jsx("img",{src:k.image,alt:k.name,className:"w-10 h-10 object-cover rounded"}):e.jsx("span",{className:"text-muted-foreground",children:"No image"})}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>{h(k),m("edit-service-item"),f(!0)},children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>g({open:!0,title:"Delete Item",message:`Delete "${k.name}"?`,onConfirm:()=>N(k.id)}),children:e.jsx(tr,{className:"w-4 h-4"})})]})})]},k.id))})]})})]}):e.jsx(Ue,{children:e.jsxs(He,{className:"py-12 text-center text-muted-foreground",children:[e.jsx(Gi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a service from the dropdown above"})]})})]}),e.jsxs(ns,{value:"service-feedbacks",className:"space-y-4",children:[e.jsx(fe,{variant:"outline",size:"icon",onClick:_,children:e.jsx(Ft,{className:"w-4 h-4"})}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Service"}),e.jsx(_e,{children:"User"}),e.jsx(_e,{children:"Rating"}),e.jsx(_e,{children:"Comment"}),e.jsx(_e,{children:"Helpful"}),e.jsx(_e,{children:"Created At"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:i?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(a)?a:[]).length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8",children:"No feedbacks found"})}):(Array.isArray(a)?a:[]).map(k=>e.jsxs(Ye,{children:[e.jsx(ve,{children:k.id}),e.jsx(ve,{children:k.service?.name||k.service_id}),e.jsx(ve,{children:k.user?.name||k.user_id}),e.jsx(ve,{children:e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((C,z)=>e.jsx(ir,{className:`w-4 h-4 ${z<k.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},z))})}),e.jsx(ve,{className:"max-w-xs truncate",children:k.comment||"N/A"}),e.jsx(ve,{children:k.helpful_count||0}),e.jsx(ve,{children:new Date(k.created_at).toLocaleDateString()}),e.jsx(ve,{children:e.jsx(fe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>g({open:!0,title:"Delete Feedback",message:"Are you sure?",onConfirm:()=>S(k.id)}),children:e.jsx(tr,{className:"w-4 h-4"})})})]},k.id))})]})})})]})]})})}function ebe(){const s=br(),[t,r]=w.useState("dashboard"),[n,a]=w.useState(!1),[i,o]=w.useState(null),[c,d]=w.useState([]),[h,m]=w.useState([]),[f,g]=w.useState([]),[b,v]=w.useState([]),[y,_]=w.useState([]),[j,S]=w.useState([]),[N,k]=w.useState([]),[C,z]=w.useState([]),[E,U]=w.useState([]),[T,re]=w.useState([]),[Y,I]=w.useState([]),[K,L]=w.useState([]),[J,Q]=w.useState([]),[Z,ee]=w.useState([]),[F,de]=w.useState([]),[q,G]=w.useState([]),[ie,le]=w.useState({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[be,ye]=w.useState(null),[$,V]=w.useState("overview"),[me,ce]=w.useState(null),[he,O]=w.useState({data:[],statistics:{}}),[oe,D]=w.useState({data:[]}),[Ce,H]=w.useState({data:[]}),[R,P]=w.useState({broker_id:"",amount:"",reference:"",notes:""}),[W,Ne]=w.useState("all"),[X,pe]=w.useState({}),[ge,Re]=w.useState({}),[De,Se]=w.useState([]),[Ie,We]=w.useState([]),[wt,gt]=w.useState([]),[pt,Nt]=w.useState([]),[yt,Ot]=w.useState(null),[Ze,Te]=w.useState({users:{page:1,per_page:50},cars:{page:1,per_page:50},bookings:{page:1,per_page:50},payments:{page:1,per_page:50},announcements:{page:1,per_page:50},appeals:{page:1,per_page:50},ads:{page:1,per_page:50},featuredCars:{page:1,per_page:50},holidays:{page:1,per_page:50},suggestions:{page:1,per_page:50},notifications:{page:1,per_page:50},otps:{page:1,per_page:50},services:{page:1,per_page:50},thirdParties:{page:1,per_page:50},serviceFeedbacks:{page:1,per_page:50},promoCodes:{page:1,per_page:50}}),[Be,xt]=w.useState({users:{role:"all",status:"all"},cars:{status:"all",car_accepted:"all",agent_id:""},bookings:{status:"all"},payments:{type:"all"},announcements:{status:"all"},appeals:{status:"all",priority:"all"},ads:{status:"all"},featuredCars:{status:"all"},holidays:{car_id:"",active:"all"},suggestions:{status:"all"},notifications:{type:"all",is_read:"all"},otps:{phone_number:"",expired:"all"},services:{category:"all",city:"",featured:"all",search:""},thirdParties:{search:""},promoCodes:{broker_id:"all",is_active:"all"}}),[jt,Pt]=w.useState(null),[Is,cs]=w.useState(null),[Rs,Dt]=w.useState("month"),[we,Rt]=w.useState(null),[Gs,Mt]=w.useState(!1),[ht,Ns]=w.useState(""),[mr,Ys]=w.useState({open:!1,title:"",message:"",onConfirm:null}),qr=async()=>{try{const{data:ne}=await Le.get("/admin/reports/summary");o(ne.summary)}catch(ne){console.error("Error fetching summary:",ne),xe.error("Failed to load dashboard summary")}},On=async()=>{a(!0);try{const ne={page:Ze.users.page,per_page:Ze.users.per_page};Be.users.role&&Be.users.role!=="all"&&(ne.role=Be.users.role),Be.users.status&&Be.users.status!=="all"&&(ne.status=Be.users.status==="active"||Be.users.status==="true");const Me=await fh(ne);d(Me.data.users)}catch{xe.error("Failed to fetch users")}finally{a(!1)}},Cn=async ne=>{try{const{data:Me}=await Le.get(`/admin/users/${ne}`);return Me.user}catch{return xe.error("Failed to fetch user details"),null}},_i=async()=>{a(!0);try{const ne={page:Ze.cars.page,per_page:Ze.cars.per_page,with_images:!0};Be.cars.status&&Be.cars.status!=="all"&&(ne.status=Be.cars.status),Be.cars.car_accepted&&Be.cars.car_accepted!=="all"&&(ne.car_accepted=Be.cars.car_accepted),Be.cars.agent_id&&Be.cars.agent_id!=="all"&&(ne.agent_id=Be.cars.agent_id);const Me=await ZI(ne);m(Me.data.cars)}catch{xe.error("Failed to fetch cars")}finally{a(!1)}},Id=async ne=>{try{const{data:Me}=await Le.get(`/admin/cars/${ne}`);return Me.car}catch{return xe.error("Failed to fetch car details"),null}},An=async()=>{a(!0);try{const ne=new URLSearchParams;Be.bookings.status&&Be.bookings.status!=="all"&&ne.append("status",Be.bookings.status),ne.append("page",Ze.bookings.page),ne.append("per_page",Ze.bookings.per_page);const{data:Me}=await Le.get(`/admin/bookings?${ne}`);g(Me.bookings)}catch{xe.error("Failed to fetch bookings")}finally{a(!1)}},Er=async ne=>{try{const{data:Me}=await Le.get(`/admin/bookings/${ne}`);return Me.booking}catch{return xe.error("Failed to fetch booking details"),null}},vr=async()=>{a(!0);try{const ne={page:Ze.payments.page,per_page:Ze.payments.per_page};Be.payments.type&&Be.payments.type!=="all"&&(ne.type=Be.payments.type);const Me=await Q0e(ne);v(Me.data.payments)}catch{xe.error("Failed to fetch payments")}finally{a(!1)}},Fr=async()=>{a(!0);try{const ne=new URLSearchParams;Be.announcements.status&&Be.announcements.status!=="all"&&ne.append("status",Be.announcements.status),ne.append("page",Ze.announcements.page),ne.append("per_page",Ze.announcements.per_page);const{data:Me}=await Le.get(`/admin/announcements?${ne}`);_(Me.announcements)}catch{xe.error("Failed to fetch announcements")}finally{a(!1)}},co=async()=>{a(!0);try{const ne=new URLSearchParams;Be.appeals.status&&Be.appeals.status!=="all"&&ne.append("status",Be.appeals.status),Be.appeals.priority&&Be.appeals.priority!=="all"&&ne.append("priority",Be.appeals.priority),ne.append("page",Ze.appeals.page),ne.append("per_page",Ze.appeals.per_page);const{data:Me}=await Le.get(`/admin/appeals?${ne}`);S(Me.appeals)}catch{xe.error("Failed to fetch appeals")}finally{a(!1)}},uo=async()=>{a(!0);try{const ne=new URLSearchParams;Be.ads.status&&Be.ads.status!=="all"&&ne.append("status",Be.ads.status),ne.append("page",Ze.ads.page),ne.append("per_page",Ze.ads.per_page);const{data:Me}=await Le.get(`/admin/ads?${ne}`);k(Me.ads)}catch{xe.error("Failed to fetch ads")}finally{a(!1)}},al=async()=>{a(!0);try{const ne=new URLSearchParams;Be.featuredCars.status&&Be.featuredCars.status!=="all"&&ne.append("status",Be.featuredCars.status),ne.append("page",Ze.featuredCars.page),ne.append("per_page",Ze.featuredCars.per_page);const{data:Me}=await Le.get(`/admin/featured-cars?${ne}`);z(Me.featured_cars)}catch{xe.error("Failed to fetch featured cars")}finally{a(!1)}},Ea=async()=>{a(!0);try{const ne=new URLSearchParams;Be.holidays.car_id&&Be.holidays.car_id!=="all"&&ne.append("car_id",Be.holidays.car_id),Be.holidays.active&&Be.holidays.active!=="all"&&ne.append("active",Be.holidays.active),ne.append("page",Ze.holidays.page),ne.append("per_page",Ze.holidays.per_page);const{data:Me}=await Le.get(`/admin/holidays?${ne}`);U(Me.holidays)}catch{xe.error("Failed to fetch holidays")}finally{a(!1)}},ti=async ne=>{try{await Le.post("/admin/holidays",ne),xe.success("Holiday created successfully"),Ea(),Mt(!1)}catch(Me){xe.error(Me.response?.data?.message||"Failed to create holiday")}},jc=async(ne,Me)=>{try{await Le.put(`/admin/holidays/${ne}`,Me),xe.success("Holiday updated successfully"),Ea(),Mt(!1)}catch{xe.error("Failed to update holiday")}},Ni=async ne=>{try{await Le.delete(`/admin/holidays/${ne}`),xe.success("Holiday deleted successfully"),Ea()}catch{xe.error("Failed to delete holiday")}},na=async()=>{a(!0);try{const ne=new URLSearchParams;Be.suggestions.status&&Be.suggestions.status!=="all"&&ne.append("status",Be.suggestions.status),ne.append("page",Ze.suggestions.page),ne.append("per_page",Ze.suggestions.per_page);const{data:Me}=await Le.get(`/admin/suggestions?${ne}`);re(Me.suggestions)}catch{xe.error("Failed to fetch suggestions")}finally{a(!1)}},ki=async()=>{a(!0);try{const ne=new URLSearchParams;Be.notifications.type&&Be.notifications.type!=="all"&&ne.append("type",Be.notifications.type),Be.notifications.is_read&&Be.notifications.is_read!=="all"&&ne.append("is_read",Be.notifications.is_read),ne.append("page",Ze.notifications.page),ne.append("per_page",Ze.notifications.per_page);const{data:Me}=await Le.get(`/admin/notifications?${ne}`);I(Me.notifications)}catch{xe.error("Failed to fetch notifications")}finally{a(!1)}},aa=async()=>{a(!0);try{const ne={};Be.otps.phone_number&&(ne.phone_number=Be.otps.phone_number),Be.otps.expired&&Be.otps.expired!=="all"&&(ne.expired=Be.otps.expired),ne.per_page=Ze.otps.per_page,ne.page=Ze.otps.page;const Me=await d9(ne);L(Me.data.otps)}catch(ne){xe.error(ne.response?.data?.message||"Failed to fetch OTPs")}finally{a(!1)}},zs=async()=>{a(!0);try{const ne={per_page:Ze.services.per_page,page:Ze.services.page};Be.services.category&&Be.services.category!=="all"&&(ne.category=Be.services.category),Be.services.city&&(ne.city=Be.services.city),Be.services.featured&&Be.services.featured!=="all"&&(ne.featured=Be.services.featured==="true"),Be.services.search&&(ne.search=Be.services.search);const Me=await u9(ne);Se(Me.data.services?.data||Me.data.services||[])}catch(ne){xe.error(ne.response?.data?.message||"Failed to fetch services")}finally{a(!1)}},il=async ne=>{try{const{third_party_id:Me,...vt}=ne;if(!Me){xe.error("Please select a third party owner for this service");return}const Ss={category:vt.category,name:vt.name,description:vt.description||void 0,tagline:vt.tagline||void 0,city:vt.city||void 0,contact_phone:vt.contact_phone||vt.phone||void 0,contact_email:vt.contact_email||void 0,min_price:vt.price??void 0,max_price:vt.price??void 0,currency:"USD"};console.log("Creating service for third party",Me,"with payload:",Ss),await Rye(Me,Ss),xe.success("Service created successfully"),zs(),Mt(!1)}catch(Me){console.error("Create service failed:",{status:Me.response?.status,data:Me.response?.data});const vt=Me.response?.data?.message||(typeof Me.response?.data=="string"?Me.response.data:null);xe.error(vt||"Failed to create service")}},_c=async(ne,Me)=>{try{await Dye(ne,Me),xe.success("Service updated successfully"),zs(),Mt(!1)}catch(vt){xe.error(vt.response?.data?.message||"Failed to update service")}},Ta=async ne=>{try{await h9(ne),xe.success("Service deleted successfully"),zs()}catch(Me){xe.error(Me.response?.data?.message||"Failed to delete service")}},En=async()=>{a(!0);try{const ne={per_page:Ze.thirdParties.per_page,page:Ze.thirdParties.page},Me=await p9(ne);We(Me.data.third_parties?.data||Me.data.third_parties||[])}catch(ne){xe.error(ne.response?.data?.message||"Failed to fetch third parties")}finally{a(!1)}},Ln=async ne=>{const Me={business_name:ne.name,username:ne.username,email:ne.email,password:ne.password,phone_number:ne.phone,subscription:ne.subscription||void 0,permissions:ne.permissions||[]};console.log("Creating third party with payload:",Me);try{await Oye(Me),xe.success("Third party created successfully"),En(),Mt(!1)}catch(vt){console.error("Create third party failed:",{payload:Me,status:vt.response?.status,data:vt.response?.data});const Ss=vt.response?.data?.message||(typeof vt.response?.data=="string"?vt.response.data:null);xe.error(Ss||"Failed to create third party")}},ol=async(ne,Me)=>{try{const vt={business_name:Me.name,username:Me.username,email:Me.email,phone_number:Me.phone,subscription:Me.subscription||void 0,permissions:Me.permissions||[]};Me.password&&(vt.password=Me.password),await Lye(ne,vt),xe.success("Third party updated successfully"),En(),Mt(!1)}catch(vt){xe.error(vt.response?.data?.message||"Failed to update third party")}},ia=async ne=>{try{await g9(ne),xe.success("Third party deleted successfully"),En()}catch(Me){xe.error(Me.response?.data?.message||"Failed to delete third party")}},oa=async ne=>{if(ne){a(!0);try{const Me=await f9(ne);gt(Me.data.items||[]),Ot(ne)}catch(Me){xe.error(Me.response?.data?.message||"Failed to fetch service items")}finally{a(!1)}}},ho=async(ne,Me)=>{try{await Mye(ne,Me),xe.success("Service item created successfully"),oa(ne),Mt(!1)}catch(vt){xe.error(vt.response?.data?.message||"Failed to create service item")}},fo=async(ne,Me)=>{try{await Pye(ne,Me),xe.success("Service item updated successfully"),yt&&oa(yt),Mt(!1)}catch(vt){xe.error(vt.response?.data?.message||"Failed to update service item")}},Fn=async ne=>{try{await m9(ne),xe.success("Service item deleted successfully"),yt&&oa(yt)}catch(Me){xe.error(Me.response?.data?.message||"Failed to delete service item")}},Jr=async()=>{a(!0);try{const ne={per_page:Ze.serviceFeedbacks.per_page,page:Ze.serviceFeedbacks.page},Me=await x9(ne);Nt(Me.data.feedbacks?.data||Me.data.feedbacks||[])}catch(ne){xe.error(ne.response?.data?.message||"Failed to fetch feedbacks")}finally{a(!1)}},mo=async ne=>{try{await y9(ne),xe.success("Feedback deleted successfully"),Jr()}catch(Me){xe.error(Me.response?.data?.message||"Failed to delete feedback")}},Th=async(ne="month")=>{try{const{data:Me}=await Le.get(`/admin/reports/statistics?period=${ne}`);Pt(Me.statistics)}catch{xe.error("Failed to fetch statistics")}},Nc=async(ne="month")=>{try{const{data:Me}=await Le.get(`/admin/reports/chart-data?period=${ne}`);cs(Me)}catch{xe.error("Failed to fetch chart data")}},ll=async(ne,Me)=>{try{await Le.put(`/admin/users/${ne}`,Me),xe.success("User updated successfully"),On(),Mt(!1)}catch(vt){xe.error(vt.response?.data?.message||"Failed to update user")}},si=async(ne,Me=!1)=>{try{await Le.delete(`/admin/users/${ne}${Me?"/force":""}`),xe.success(Me?"User permanently deleted":"User deactivated"),On()}catch{xe.error("Failed to delete user")}},Si=async(ne,Me)=>{try{const vt={...Me};["main_image","front_image","back_image","left_image","right_image"].forEach(Ir=>{ge[ne]&&ge[ne][Ir]&&(vt[Ir]=ge[ne][Ir])}),await QI(ne,vt),xe.success("Car updated successfully"),Re(Ir=>{const tn={...Ir};return delete tn[ne],tn}),_i(),Mt(!1)}catch{xe.error("Failed to update car")}},Br=(ne,Me,vt)=>{vt&&Re(Ss=>({...Ss,[ne]:{...Ss[ne],[Me]:vt}}))},ri=async ne=>{try{await Le.delete(`/admin/cars/${ne}`),xe.success("Car deleted successfully"),_i()}catch{xe.error("Failed to delete car")}},kc=async(ne,Me)=>{try{await Le.put(`/admin/bookings/${ne}`,Me),xe.success("Booking updated successfully"),An(),Mt(!1)}catch{xe.error("Failed to update booking")}},Sc=async ne=>{try{await Le.post(`/admin/bookings/${ne}/force-complete`),xe.success("Booking force completed"),An()}catch{xe.error("Failed to force complete booking")}},Ci=async(ne,Me="")=>{try{await Le.post(`/admin/refunds/${ne}`,{description:Me}),xe.success("Refund processed successfully"),vr()}catch(vt){xe.error(vt.response?.data?.message||"Failed to process refund")}},zd=async ne=>{try{const Me={title:ne.title,message:ne.message,priority:ne.priority||"medium",target_audience:ne.target_audience||[],status:ne.status||"draft"};ne.scheduled_at&&(Me.scheduled_at=ne.scheduled_at),ne.expires_at&&(Me.expires_at=ne.expires_at),ne.categories&&ne.categories.length>0&&(Me.categories=ne.categories),ne.media&&ne.media.length>0&&(Me.media=ne.media),await Le.post("/admin/announcements",Me),xe.success("Announcement created successfully"),Fr(),Mt(!1)}catch(Me){xe.error(Me.response?.data?.message||"Failed to create announcement")}},Ud=async(ne,Me)=>{try{await Le.put(`/admin/announcements/${ne}`,Me),xe.success("Announcement updated successfully"),Fr(),Mt(!1)}catch{xe.error("Failed to update announcement")}},Ai=async ne=>{try{await Le.delete(`/admin/announcements/${ne}`),xe.success("Announcement deleted successfully"),Fr()}catch{xe.error("Failed to delete announcement")}},Rh=async(ne,Me)=>{try{await Le.put(`/admin/appeals/${ne}`,Me),xe.success("Appeal updated successfully"),co(),Mt(!1)}catch{xe.error("Failed to update appeal")}},cl=async(ne,Me)=>{try{await Le.put(`/admin/ads/${ne}`,Me),xe.success("Ad updated successfully"),uo(),Mt(!1)}catch{xe.error("Failed to update ad")}},Ra=async ne=>{try{await lye(ne),xe.success("Ad created successfully"),uo(),Mt(!1)}catch(Me){xe.error(Me.response?.data?.message||"Failed to create ad")}},Cc=async ne=>{try{await Le.delete(`/admin/ads/${ne}`),xe.success("Ad deleted successfully"),uo()}catch{xe.error("Failed to delete ad")}},Dh=async ne=>{try{await J0e(ne),xe.success("Payment/Invoice issued successfully"),vr(),Mt(!1)}catch(Me){xe.error(Me.response?.data?.message||"Failed to issue payment")}},Mh=async ne=>{try{await fye(ne),xe.success("Featured car created successfully"),al(),Mt(!1)}catch(Me){xe.error(Me.response?.data?.message||"Failed to create featured car")}},dl=async ne=>{try{await Le.delete(`/admin/featured-cars/${ne}`),xe.success("Featured car removed successfully"),al()}catch{xe.error("Failed to remove featured car")}},Bn=async(ne,Me)=>{try{await Le.put(`/admin/suggestions/${ne}`,Me),xe.success("Suggestion updated successfully"),na(),Mt(!1)}catch{xe.error("Failed to update suggestion")}},Ac=async ne=>{try{await Le.delete(`/admin/suggestions/${ne}`),xe.success("Suggestion deleted successfully"),na()}catch{xe.error("Failed to delete suggestion")}},ul=async ne=>{try{await Le.post("/admin/notifications/send-to-all",ne),xe.success("Notification sent to all users successfully"),Mt(!1)}catch{xe.error("Failed to send notification")}},ni=async ne=>{try{const Me=await eye(ne),vt=await tye(ne);return pe(Ss=>({...Ss,[ne]:{...Me.data,app_fees_percentage:vt.data.fee_percentage||0}})),Me.data}catch(Me){return xe.error(Me.response?.data?.message||"Failed to fetch agent fee data"),null}},Ei=async(ne,Me)=>{try{await sye(ne,{app_fees:Me}),xe.success("Agent fee percentage updated successfully"),await ni(ne),On()}catch(vt){xe.error(vt.response?.data?.message||"Failed to update agent fee percentage")}},$d=(ne,Me,vt)=>{Ys({open:!0,title:ne,message:Me,onConfirm:vt})},Ti=async()=>{try{const ne=await fh({role:"broker",per_page:200}),Me=ne.data?.users?.data??ne.data?.users??ne.data?.data;G(Array.isArray(Me)?Me:[])}catch(ne){console.error("Failed to fetch brokers:",ne)}},po=async()=>{a(!0);try{const ne={page:Ze.promoCodes.page,per_page:Ze.promoCodes.per_page};Be.promoCodes.broker_id&&Be.promoCodes.broker_id!=="all"&&(ne.broker_id=Be.promoCodes.broker_id),Be.promoCodes.is_active!=="all"&&(ne.is_active=Be.promoCodes.is_active);const Me=await e9(ne);Q(Me.data?.promo_codes||Me.data?.promoCodes||Me.data||[])}catch(ne){console.error("Failed to fetch promo codes:",ne),xe.error("Failed to load promo codes")}finally{a(!1)}},Ri=async(ne,Me)=>{a(!0);try{Me?(await s9(Me.id,ne),xe.success("Promo code updated successfully")):(await t9(ne),xe.success("Promo code created successfully")),Mt(!1),Rt(null),await po()}catch(vt){console.error("Failed to save promo code:",vt);const Ss=vt.response?.data?.message||"Failed to save promo code";xe.error(Ss)}finally{a(!1)}},la=async ne=>{a(!0);try{await r9(ne),xe.success("Promo code deleted successfully"),await po()}catch(Me){console.error("Failed to delete promo code:",Me),xe.error("Failed to delete promo code")}finally{a(!1)}},Ec=async ne=>{try{const Me=await kye(ne,{per_page:50});ee(Me.data?.users||[])}catch(Me){console.error("Failed to fetch promo code users:",Me),xe.error("Failed to load users for this promo code")}},go=async ne=>{try{const Me=await MN(ne,{per_page:50});de(Me.data?.referrals||[])}catch(Me){console.error("Failed to fetch broker referrals:",Me),xe.error("Failed to load broker referrals")}},In=async()=>{const{username:ne,phone_number:Me,email:vt,password:Ss,password_confirmation:Ir,first_name:tn,last_name:ai}=ie;if(!ne?.trim()){xe.error("Username is required");return}if(!Me?.trim()){xe.error("Phone number is required");return}if(!tn?.trim()){xe.error("First name is required");return}if(!ai?.trim()){xe.error("Last name is required");return}if(!Ss){xe.error("Password is required");return}if(Ss.length<6){xe.error("Password must be at least 6 characters");return}if(Ss!==Ir){xe.error("Password and confirmation do not match");return}a(!0);try{await Gk({username:ne.trim(),phone_number:Me.trim().replace(/^\+?/,""),email:vt?.trim()||void 0,password:Ss,password_confirmation:Ir||Ss,first_name:tn.trim(),last_name:ai.trim()}),xe.success("Broker created successfully"),Mt(!1),le({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),await Ti()}catch(Pa){console.error("Failed to create broker:",Pa);const ml=Pa.response?.data,pl=ml?.message||(ml?.errors?Object.values(ml.errors).flat().join(" "):null)||"Failed to create broker";xe.error(pl)}finally{a(!1)}};w.useEffect(()=>{t==="dashboard"?(qr(),Th(Rs),Nc(Rs)):t==="users"?On():t==="cars"?_i():t==="bookings"?An():t==="payments"?vr():t==="announcements"?Fr():t==="appeals"?co():t==="ads"?uo():t==="featured-cars"?al():t==="holidays"?Ea():t==="suggestions"?na():t==="notifications"?ki():t==="otps"?aa():t==="services"?(zs(),En()):t==="promo-codes"?(po(),q.length||Ti()):t==="brokers"&&(Ti(),zn())},[t,Rs]);const hl=async ne=>{if(ye(ne),V("overview"),ne?.id)try{const[Me,vt,Ss,Ir]=await Promise.all([n9(ne.id).catch(()=>({data:null})),P0(ne.id).catch(()=>({data:{data:[],statistics:{}}})),a9(ne.id).catch(()=>({data:{payouts:{data:[]},summary:{}}})),MN(ne.id).catch(()=>({data:{referrals:[]}}))]);ce(Me.data);const tn=vt.data?.commissions?.data??vt.data?.commissions,ai=Array.isArray(tn)?tn:[];O({data:ai,statistics:vt.data?.statistics||{}});const Pa=Ss.data?.payouts||Ss.data,ml=Array.isArray(Pa)?Pa:Array.isArray(Pa?.data)?Pa.data:[];D({data:ml});const pl=Ir.data?.referrals??Ir.data?.data;de(Array.isArray(pl)?pl:[])}catch(Me){console.error("Failed to load broker detail:",Me)}},fl=()=>{ye(null),ce(null),O({data:[],statistics:{}}),D({data:[]})},$t=async()=>{be?.id&&(await hl(be),await zn())},zn=async()=>{try{const ne=await o9({per_page:50}),Me=ne.data?.commissions?.data??ne.data?.commissions;H({data:Array.isArray(Me)?Me:[]})}catch(ne){console.error("Failed to fetch broker commissions:",ne)}},Da=async()=>{const ne=R.broker_id?Number(R.broker_id):be?.id,Me=parseFloat(R.amount);if(!ne||!Me||Me<.01){xe.error("Select a broker and enter amount (min 0.01)");return}a(!0);try{await i9({broker_id:ne,amount:Me,reference:R.reference?.trim()||void 0,notes:R.notes?.trim()||void 0}),xe.success("Broker payout created successfully"),Mt(!1),P({broker_id:"",amount:"",reference:"",notes:""}),await $t(),await zn()}catch(vt){const Ss=vt.response?.data,Ir=Ss?.message||(Ss?.errors?Object.values(Ss.errors).flat().join(" "):null)||"Failed to create payout",tn=Ss?.pending_balance;xe.error(tn!=null?`${Ir} (Max: $${Number(tn).toFixed(2)})`:Ir)}finally{a(!1)}},Vd=async ne=>{try{await l9(ne),xe.success("Commission cancelled"),await $t(),await zn()}catch(Me){xe.error(Me.response?.data?.message||"Failed to cancel commission")}},en=async ne=>{try{await c9(ne),xe.success("Referral deleted"),await $t()}catch(Me){xe.error(Me.response?.data?.message||"Failed to delete referral")}},Ma=w.useMemo(()=>({COLORS:va,loading:n,summary:i,users:c,cars:h,bookings:f,payments:b,announcements:y,appeals:j,ads:N,featuredCars:C,holidays:E,suggestions:T,notifications:Y,otps:K,promoCodes:J,promoCodeUsers:Z,brokerReferrals:F,brokers:q,brokerForm:ie,setBrokerForm:le,selectedBroker:be,setSelectedBroker:ye,brokerDetailTab:$,setBrokerDetailTab:V,brokerBalance:me,brokerCommissions:he,setBrokerCommissions:O,brokerPayouts:oe,brokerCommissionsList:Ce,payoutForm:R,setPayoutForm:P,commissionStatusFilter:W,setCommissionStatusFilter:Ne,filters:Be,setFilters:xt,pagination:Ze,setPagination:Te,selectedItem:we,setSelectedItem:Rt,modalOpen:Gs,setModalOpen:Mt,modalType:ht,setModalType:Ns,confirmDialog:mr,setConfirmDialog:Ys,navigate:s,fetchUsers:On,fetchUserDetails:Cn,fetchCars:_i,fetchCarDetails:Id,fetchBookings:An,fetchBookingDetails:Er,fetchPayments:vr,fetchAnnouncements:Fr,fetchAppeals:co,fetchAds:uo,fetchFeaturedCars:al,fetchHolidays:Ea,fetchSuggestions:na,fetchNotifications:ki,fetchOtps:aa,updateUser:ll,deleteUser:si,updateCar:Si,deleteCar:ri,updateBooking:kc,forceCompleteBooking:Sc,processRefund:Ci,deleteAnnouncement:Ai,deleteAd:Cc,deleteFeaturedCar:dl,deleteHoliday:Ni,deleteSuggestion:Ac,showConfirmDialog:$d,fetchPromoCodes:po,fetchPromoCodeUsers:Ec,fetchBrokerReferrals:go,fetchBrokers:Ti,handleCreateOrUpdatePromoCode:Ri,handleDeletePromoCode:la,handleCreateBroker:In,openBrokerDetail:hl,closeBrokerDetail:fl,refreshBrokerDetail:$t,fetchBrokerCommissionsList:zn,handleCreateBrokerPayout:Da,handleCancelCommission:Vd,handleDeleteBrokerReferral:en,services:De,thirdParties:Ie,serviceItems:wt,serviceFeedbacks:pt,selectedServiceId:yt,setSelectedServiceId:Ot,fetchServices:zs,fetchThirdParties:En,fetchServiceItems:oa,fetchServiceFeedbacks:Jr,handleCreateService:il,handleUpdateService:_c,handleDeleteService:Ta,handleCreateThirdParty:Ln,handleUpdateThirdParty:ol,handleDeleteThirdParty:ia,handleCreateServiceItem:ho,handleUpdateServiceItem:fo,handleDeleteServiceItem:Fn,handleDeleteFeedback:mo}),[n,i,c,h,f,b,y,j,N,C,E,T,Y,K,J,Z,F,q,ie,be,$,me,he,oe,Ce,R,W,Be,Ze,we,Gs,ht,mr,De,Ie,wt,pt,yt]);return e.jsx(_9.Provider,{value:Ma,children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[e.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>s("/"),className:"h-9 w-9","aria-label":"Go to home page",children:e.jsx(AM,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${va.darkBlue}, ${va.teal}, ${va.limeGreen})`},children:"Admin Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage your platform"})]})]}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>{localStorage.clear(),s("/auth")},className:"h-9 w-9","aria-label":"Logout",children:e.jsx(ac,{className:"w-5 h-5"})})]})})}),e.jsx("main",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-7xl",children:e.jsxs(Ko,{value:t,onValueChange:r,className:"w-full",children:[e.jsxs(no,{className:"grid w-full grid-cols-8 lg:grid-cols-16 mb-6 h-auto p-1 bg-gray-100 dark:bg-gray-800",children:[e.jsxs(Yt,{value:"dashboard",className:"text-xs",children:[e.jsx(qi,{className:"w-4 h-4 mr-1"}),"Dashboard"]}),e.jsxs(Yt,{value:"users",className:"text-xs",children:[e.jsx(_s,{className:"w-4 h-4 mr-1"}),"Users"]}),e.jsxs(Yt,{value:"cars",className:"text-xs",children:[e.jsx(Qt,{className:"w-4 h-4 mr-1"}),"Cars"]}),e.jsxs(Yt,{value:"bookings",className:"text-xs",children:[e.jsx(Bs,{className:"w-4 h-4 mr-1"}),"Bookings"]}),e.jsxs(Yt,{value:"payments",className:"text-xs",children:[e.jsx(dr,{className:"w-4 h-4 mr-1"}),"Payments"]}),e.jsxs(Yt,{value:"promo-codes",className:"text-xs",children:[e.jsx(i0,{className:"w-4 h-4 mr-1"}),"Promo Codes"]}),e.jsxs(Yt,{value:"brokers",className:"text-xs",children:[e.jsx(_s,{className:"w-4 h-4 mr-1"}),"Brokers"]}),e.jsxs(Yt,{value:"announcements",className:"text-xs",children:[e.jsx(RM,{className:"w-4 h-4 mr-1"}),"Announcements"]}),e.jsxs(Yt,{value:"appeals",className:"text-xs",children:[e.jsx(rc,{className:"w-4 h-4 mr-1"}),"Appeals"]}),e.jsxs(Yt,{value:"ads",className:"text-xs",children:[e.jsx(to,{className:"w-4 h-4 mr-1"}),"Ads"]}),e.jsxs(Yt,{value:"featured-cars",className:"text-xs",children:[e.jsx(ir,{className:"w-4 h-4 mr-1"}),"Featured"]}),e.jsxs(Yt,{value:"holidays",className:"text-xs",children:[e.jsx(e0,{className:"w-4 h-4 mr-1"}),"Holidays"]}),e.jsxs(Yt,{value:"suggestions",className:"text-xs",children:[e.jsx(NW,{className:"w-4 h-4 mr-1"}),"Suggestions"]}),e.jsxs(Yt,{value:"notifications",className:"text-xs",children:[e.jsx(xd,{className:"w-4 h-4 mr-1"}),"Notifications"]}),e.jsxs(Yt,{value:"otps",className:"text-xs",children:[e.jsx($u,{className:"w-4 h-4 mr-1"}),"OTPs"]}),e.jsxs(Yt,{value:"services",className:"text-xs",children:[e.jsx(sc,{className:"w-4 h-4 mr-1"}),"Services"]})]}),e.jsx(ns,{value:"dashboard",className:"space-y-6",children:e.jsx(Bye,{})}),e.jsx(ns,{value:"users",className:"space-y-4",children:e.jsx(Iye,{})}),e.jsx(ns,{value:"cars",className:"space-y-4",children:e.jsx(zye,{})}),e.jsx(ns,{value:"bookings",className:"space-y-4",children:e.jsx(Uye,{})}),e.jsx(ns,{value:"payments",className:"space-y-4",children:e.jsx($ye,{})}),e.jsx(ns,{value:"announcements",className:"space-y-4",children:e.jsx(Vye,{})}),e.jsx(ns,{value:"appeals",className:"space-y-4",children:e.jsx(Hye,{})}),e.jsx(ns,{value:"ads",className:"space-y-4",children:e.jsx(qye,{})}),e.jsx(ns,{value:"promo-codes",className:"space-y-4",children:e.jsx(Gye,{})}),e.jsx(ns,{value:"brokers",className:"space-y-4",children:e.jsx(Wye,{})}),e.jsx(ns,{value:"featured-cars",className:"space-y-4",children:e.jsx(Yye,{})}),e.jsx(ns,{value:"holidays",className:"space-y-4",children:e.jsx(Kye,{})}),e.jsx(ns,{value:"suggestions",className:"space-y-4",children:e.jsx(Xye,{})}),e.jsx(ns,{value:"notifications",className:"space-y-4",children:e.jsx(Zye,{})}),e.jsx(ns,{value:"otps",className:"space-y-4",children:e.jsx(Qye,{})}),e.jsx(ns,{value:"services",className:"space-y-6",children:e.jsx(Jye,{})}),e.jsx(ns,{value:"services-legacy",style:{display:"none"},children:e.jsxs(Ko,{defaultValue:"services-list",className:"w-full",children:[e.jsxs(no,{className:"grid w-full grid-cols-4 mb-4",children:[e.jsxs(Yt,{value:"services-list",className:"text-xs",children:[e.jsx(sc,{className:"w-4 h-4 mr-1"}),"Services"]}),e.jsxs(Yt,{value:"third-parties",className:"text-xs",children:[e.jsx(wa,{className:"w-4 h-4 mr-1"}),"Third Parties"]}),e.jsxs(Yt,{value:"service-items",className:"text-xs",children:[e.jsx(Gi,{className:"w-4 h-4 mr-1"}),"Service Items"]}),e.jsxs(Yt,{value:"service-feedbacks",className:"text-xs",children:[e.jsx(_a,{className:"w-4 h-4 mr-1"}),"Feedbacks"]})]}),e.jsxs(ns,{value:"services-list",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(fe,{onClick:()=>{Rt(null),Ns("create-service"),Mt(!0)},children:[e.jsx(nr,{className:"w-4 h-4 mr-1"}),"Create Service"]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:zs,"aria-label":"Refresh services",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{placeholder:"Search services...",value:Be.services.search,onChange:ne=>xt({...Be,services:{...Be.services,search:ne.target.value}}),className:"w-48"}),e.jsxs(ot,{value:Be.services.category,onValueChange:ne=>xt({...Be,services:{...Be.services,category:ne}}),children:[e.jsx(at,{className:"w-40",children:e.jsx(lt,{placeholder:"Category"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All Categories"}),e.jsx(ke,{value:"transport",children:"Transport"}),e.jsx(ke,{value:"accommodation",children:"Accommodation"}),e.jsx(ke,{value:"food",children:"Food & Dining"}),e.jsx(ke,{value:"entertainment",children:"Entertainment"}),e.jsx(ke,{value:"other",children:"Other"})]})]}),e.jsxs(ot,{value:Be.services.featured,onValueChange:ne=>xt({...Be,services:{...Be.services,featured:ne}}),children:[e.jsx(at,{className:"w-32",children:e.jsx(lt,{placeholder:"Featured"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All"}),e.jsx(ke,{value:"true",children:"Featured"}),e.jsx(ke,{value:"false",children:"Not Featured"})]})]}),e.jsx(fe,{onClick:zs,children:e.jsx(Mr,{className:"w-4 h-4"})})]})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Name"}),e.jsx(_e,{children:"Owner"}),e.jsx(_e,{children:"Category"}),e.jsx(_e,{children:"Price"}),e.jsx(_e,{children:"Rating"}),e.jsx(_e,{children:"Featured"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:n?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):De.length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8",children:"No services found"})}):De.map(ne=>e.jsxs(Ye,{children:[e.jsx(ve,{children:ne.id}),e.jsx(ve,{className:"font-medium",children:ne.name}),e.jsx(ve,{children:ne.third_party?e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium",children:ne.third_party.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:ne.third_party.email})]}):ne.third_party_id?e.jsxs("span",{className:"text-muted-foreground",children:["ID: ",ne.third_party_id]}):e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:ne.category})}),e.jsxs(ve,{children:["$",(parseFloat(ne.price)||0).toFixed(2)]}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ir,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),ne.rating?(parseFloat(ne.rating)||0).toFixed(1):"N/A"]})}),e.jsx(ve,{children:e.jsx(Ge,{variant:ne.featured?"default":"secondary",children:ne.featured?"Yes":"No"})}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>{Rt(ne),Ns("view-service"),Mt(!0)},children:e.jsx(er,{className:"w-4 h-4"})}),e.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>{Rt(ne),Ns("edit-service"),Mt(!0)},children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>oa(ne.id),children:e.jsx(Gi,{className:"w-4 h-4"})}),e.jsx(fe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>Ys({open:!0,title:"Delete Service",message:`Are you sure you want to delete "${ne.name}"?`,onConfirm:()=>Ta(ne.id)}),children:e.jsx(tr,{className:"w-4 h-4"})})]})})]},ne.id))})]})})})]}),e.jsxs(ns,{value:"third-parties",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(fe,{onClick:()=>{Rt(null),Ns("create-third-party"),Mt(!0)},children:[e.jsx(nr,{className:"w-4 h-4 mr-1"}),"Create Third Party"]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:En,"aria-label":"Refresh third parties",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx(Ae,{placeholder:"Search third parties...",value:Be.thirdParties.search,onChange:ne=>xt({...Be,thirdParties:{...Be.thirdParties,search:ne.target.value}}),className:"w-64"})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Name"}),e.jsx(_e,{children:"Contact"}),e.jsx(_e,{children:"Category"}),e.jsx(_e,{children:"City"}),e.jsx(_e,{children:"Subscription"}),e.jsx(_e,{children:"Created At"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:n?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):Ie.length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8",children:"No third parties found"})}):Ie.map(ne=>e.jsxs(Ye,{children:[e.jsx(ve,{children:ne.id}),e.jsx(ve,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:ne.name}),ne.description&&e.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:ne.description})]})}),e.jsx(ve,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{children:ne.email}),ne.phone&&e.jsx("p",{className:"text-muted-foreground",children:ne.phone})]})}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:ne.category||"N/A"})}),e.jsx(ve,{children:ne.city||"N/A"}),e.jsx(ve,{children:e.jsx(Ge,{variant:ne.subscription==="premium"||ne.subscription==="enterprise"?"default":"secondary",children:ne.subscription||"Free"})}),e.jsx(ve,{children:new Date(ne.created_at).toLocaleDateString()}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fe,{size:"sm",variant:"ghost",title:"View Details",onClick:()=>{Rt(ne),Ns("view-third-party"),Mt(!0)},children:e.jsx(er,{className:"w-4 h-4"})}),e.jsx(fe,{size:"sm",variant:"ghost",title:"Edit",onClick:()=>{Rt(ne),Ns("edit-third-party"),Mt(!0)},children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{size:"sm",variant:"ghost",title:"Add Service for this Third Party",onClick:()=>{Rt({third_party_id:ne.id,third_party_name:ne.name}),Ns("create-service-for-tp"),Mt(!0)},children:e.jsx(nr,{className:"w-4 h-4"})}),e.jsx(fe,{size:"sm",variant:"ghost",className:"text-destructive",title:"Delete",onClick:()=>Ys({open:!0,title:"Delete Third Party",message:`Are you sure you want to delete "${ne.name}"?`,onConfirm:()=>ia(ne.id)}),children:e.jsx(tr,{className:"w-4 h-4"})})]})})]},ne.id))})]})})})]}),e.jsxs(ns,{value:"service-items",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:yt&&e.jsxs(e.Fragment,{children:[e.jsxs(fe,{onClick:()=>{Rt(null),Ns("create-service-item"),Mt(!0)},children:[e.jsx(nr,{className:"w-4 h-4 mr-1"}),"Add Item"]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:()=>oa(yt),"aria-label":"Refresh service items",children:e.jsx(Ft,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(ot,{value:yt?.toString()||"",onValueChange:ne=>{ne&&oa(parseInt(ne))},children:[e.jsx(at,{className:"w-64",children:e.jsx(lt,{placeholder:"Select a service to view items"})}),e.jsx(it,{children:De.map(ne=>e.jsx(ke,{value:ne.id.toString(),children:ne.name},ne.id))})]})})]}),yt?e.jsxs(Ue,{children:[e.jsx(ts,{children:e.jsxs(ss,{className:"text-lg",children:["Items for Service #",yt]})}),e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Name"}),e.jsx(_e,{children:"Description"}),e.jsx(_e,{children:"Price"}),e.jsx(_e,{children:"Image"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:n?e.jsx(Ye,{children:e.jsx(ve,{colSpan:6,className:"text-center py-8",children:"Loading..."})}):wt.length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:6,className:"text-center py-8",children:"No items found for this service"})}):wt.map(ne=>e.jsxs(Ye,{children:[e.jsx(ve,{children:ne.id}),e.jsx(ve,{className:"font-medium",children:ne.name}),e.jsx(ve,{className:"max-w-xs truncate",children:ne.description||"N/A"}),e.jsxs(ve,{children:["$",(parseFloat(ne.price)||0).toFixed(2)]}),e.jsx(ve,{children:ne.image?e.jsx("img",{src:ne.image,alt:ne.name,className:"w-10 h-10 object-cover rounded"}):e.jsx("span",{className:"text-muted-foreground",children:"No image"})}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>{Rt(ne),Ns("edit-service-item"),Mt(!0)},children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>Ys({open:!0,title:"Delete Item",message:`Are you sure you want to delete "${ne.name}"?`,onConfirm:()=>Fn(ne.id)}),children:e.jsx(tr,{className:"w-4 h-4"})})]})})]},ne.id))})]})})]}):e.jsx(Ue,{children:e.jsxs(He,{className:"py-12 text-center text-muted-foreground",children:[e.jsx(Gi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a service from the dropdown above to view its items"}),e.jsxs("p",{className:"text-sm mt-2",children:["Or click the ",e.jsx(Gi,{className:"w-4 h-4 inline"})," icon on a service in the Services tab"]})]})})]}),e.jsxs(ns,{value:"service-feedbacks",className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(fe,{variant:"outline",size:"icon",onClick:Jr,"aria-label":"Refresh service feedbacks",children:e.jsx(Ft,{className:"w-4 h-4"})})}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Service"}),e.jsx(_e,{children:"User"}),e.jsx(_e,{children:"Rating"}),e.jsx(_e,{children:"Comment"}),e.jsx(_e,{children:"Helpful"}),e.jsx(_e,{children:"Created At"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:n?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):pt.length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8",children:"No feedbacks found"})}):pt.map(ne=>e.jsxs(Ye,{children:[e.jsx(ve,{children:ne.id}),e.jsx(ve,{children:ne.service?.name||ne.service_id}),e.jsx(ve,{children:ne.user?.name||ne.user_id}),e.jsx(ve,{children:e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((Me,vt)=>e.jsx(ir,{className:`w-4 h-4 ${vt<ne.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},vt))})}),e.jsx(ve,{className:"max-w-xs truncate",children:ne.comment||"N/A"}),e.jsx(ve,{children:ne.helpful_count||0}),e.jsx(ve,{children:new Date(ne.created_at).toLocaleDateString()}),e.jsx(ve,{children:e.jsx(fe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>Ys({open:!0,title:"Delete Feedback",message:"Are you sure you want to delete this feedback?",onConfirm:()=>mo(ne.id)}),children:e.jsx(tr,{className:"w-4 h-4"})})})]},ne.id))})]})})})]})]})})]})}),e.jsx(Iy,{open:mr.open,onOpenChange:ne=>Ys({...mr,open:ne}),children:e.jsxs(hp,{children:[e.jsxs(fp,{children:[e.jsx(pp,{children:mr.title}),e.jsx(gp,{children:mr.message})]}),e.jsxs(mp,{children:[e.jsx(yp,{onClick:()=>Ys({...mr,open:!1}),children:"Cancel"}),e.jsx(xp,{onClick:()=>{mr.onConfirm&&mr.onConfirm(),Ys({...mr,open:!1})},children:"Confirm"})]})]})}),e.jsx(el,{children:Gs&&e.jsx(yr,{open:Gs,onOpenChange:Mt,children:e.jsxs(ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(hr,{children:e.jsxs(fr,{children:[ht==="view-user"&&"User Details",ht==="edit-user"&&"Edit User",ht==="view-car"&&"Car Details",ht==="edit-car"&&"Edit Car",ht==="view-booking"&&"Booking Details",ht==="edit-booking"&&"Edit Booking",ht==="create-announcement"&&"Create Announcement",ht==="edit-announcement"&&"Edit Announcement",ht==="edit-appeal"&&"Edit Appeal",ht==="edit-ad"&&"Edit Ad",ht==="edit-suggestion"&&"Edit Suggestion",ht==="send-notification"&&"Send Notification to All Users",ht==="create-holiday"&&"Create Holiday",ht==="edit-holiday"&&"Edit Holiday",ht==="create-ad"&&"Create Ad",ht==="create-payment"&&"Issue Payment/Invoice",ht==="create-featured-car"&&"Create Featured Car",ht==="create-service"&&"Create Service",ht==="view-service"&&"Service Details",ht==="edit-service"&&"Edit Service",ht==="create-third-party"&&"Create Third Party",ht==="view-third-party"&&"Third Party Details",ht==="edit-third-party"&&"Edit Third Party",ht==="create-service-for-tp"&&`Add Service for ${we?.third_party_name||"Third Party"}`,ht==="create-service-item"&&"Create Service Item",ht==="edit-service-item"&&"Edit Service Item",ht==="create-promo-code"&&"Create Promo Code",ht==="edit-promo-code"&&"Edit Promo Code",ht==="create-broker"&&"Create Broker",ht==="create-broker-payout"&&"Create Broker Payout",ht==="view-promo-users"&&"Promo Code Users"]})}),ht==="view-user"&&we&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"ID"}),e.jsx("p",{className:"text-sm",children:we.id})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Username"}),e.jsx("p",{className:"text-sm",children:we.username||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Email"}),e.jsx("p",{className:"text-sm",children:we.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Phone Number"}),e.jsx("p",{className:"text-sm",children:we.phone_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"First Name"}),e.jsx("p",{className:"text-sm",children:we.first_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Last Name"}),e.jsx("p",{className:"text-sm",children:we.last_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Gender"}),e.jsx("p",{className:"text-sm",children:we.gender||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Birth Date"}),e.jsx("p",{className:"text-sm",children:we.birth_date?new Date(we.birth_date).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"City"}),e.jsx("p",{className:"text-sm",children:we.city||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Role"}),e.jsx("p",{className:"text-sm",children:we.role||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Status"}),e.jsx(Ge,{variant:we.status?"default":"secondary",children:we.status?"Active":"Inactive"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Verified by Admin"}),e.jsx(Ge,{variant:we.verified_by_admin?"default":"secondary",children:we.verified_by_admin?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Is Locked"}),e.jsx(Ge,{variant:we.is_locked?"destructive":"default",children:we.is_locked?"Locked":"Unlocked"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Created At"}),e.jsx("p",{className:"text-sm",children:new Date(we.created_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Updated At"}),e.jsx("p",{className:"text-sm",children:new Date(we.updated_at).toLocaleString()})]})]}),we.bio&&e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Bio"}),e.jsx("p",{className:"text-sm",children:we.bio})]}),we.client&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(ue,{className:"text-sm font-semibold mb-2 block",children:"Client Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"License Number"}),e.jsx("p",{className:"text-sm",children:we.client.license_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"Profession"}),e.jsx("p",{className:"text-sm",children:we.client.profession||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"Average Salary"}),e.jsx("p",{className:"text-sm",children:we.client.avg_salary||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"Promo Code"}),e.jsx("p",{className:"text-sm",children:we.client.promo_code||"N/A"})]})]})]}),we.agent&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(ue,{className:"text-sm font-semibold mb-2 block",children:"Agent/Agency Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"Business Type"}),e.jsx("p",{className:"text-sm",children:we.agent.business_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"Company Number"}),e.jsx("p",{className:"text-sm",children:we.agent.company_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"Profession"}),e.jsx("p",{className:"text-sm",children:we.agent.profession||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"Website"}),e.jsx("p",{className:"text-sm",children:we.agent.website||"N/A"})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(fe,{onClick:()=>{Ns("edit-user")},className:"flex-1",children:"Edit User"}),e.jsx(fe,{variant:"outline",onClick:()=>Mt(!1),children:"Close"})]})]}),ht==="edit-user"&&we&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"ID"}),e.jsx(Ae,{value:we.id||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Username"}),e.jsx(Ae,{value:we.username||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Email"}),e.jsx(Ae,{type:"email",value:we.email||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Phone Number"}),e.jsx(Ae,{value:we.phone_number||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"First Name"}),e.jsx(Ae,{value:we.first_name||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Last Name"}),e.jsx(Ae,{value:we.last_name||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Gender"}),e.jsx(Ae,{value:we.gender||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Birth Date"}),e.jsx(Ae,{type:"date",value:we.birth_date?new Date(we.birth_date).toISOString().split("T")[0]:"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"City"}),e.jsx(Ae,{value:we.city||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Role"}),e.jsx(Ae,{value:we.role||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Created At"}),e.jsx(Ae,{value:new Date(we.created_at).toLocaleString(),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Updated At"}),e.jsx(Ae,{value:new Date(we.updated_at).toLocaleString(),disabled:!0})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Bio"}),e.jsx(vn,{value:we.bio||"",disabled:!0})]}),we.client&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(ue,{className:"text-sm font-semibold mb-2 block",children:"Client Details (Read-only)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"License Number"}),e.jsx(Ae,{value:we.client.license_number||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"Profession"}),e.jsx(Ae,{value:we.client.profession||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"Average Salary"}),e.jsx(Ae,{value:we.client.avg_salary||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"Promo Code"}),e.jsx(Ae,{value:we.client.promo_code||"N/A",disabled:!0})]})]})]}),we.agent&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(ue,{className:"text-sm font-semibold mb-2 block",children:"Agent/Agency Details (Read-only)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"Business Type"}),e.jsx(Ae,{value:we.agent.business_type||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"Company Number"}),e.jsx(Ae,{value:we.agent.company_number||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"Profession"}),e.jsx(Ae,{value:we.agent.profession||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-xs",children:"Website"}),e.jsx(Ae,{value:we.agent.website||"N/A",disabled:!0})]})]})]}),e.jsxs("div",{className:"border-t pt-4 space-y-3",children:[e.jsx(ue,{className:"text-sm font-semibold block",children:"Editable Fields"}),we.verified_by_admin&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{children:"Verified by Admin (can revoke only)"}),e.jsx(yn,{checked:we.verified_by_admin||!1,onCheckedChange:ne=>Rt({...we,verified_by_admin:ne})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{children:"Status (Active)"}),e.jsx(yn,{checked:we.status!==void 0?we.status:!0,onCheckedChange:ne=>Rt({...we,status:ne})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{children:"Is Locked"}),e.jsx(yn,{checked:we.is_locked||!1,onCheckedChange:ne=>Rt({...we,is_locked:ne})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{children:"Update Access (Allow Profile Updates)"}),e.jsx(yn,{checked:we.update_access!==void 0?we.update_access:!0,onCheckedChange:ne=>Rt({...we,update_access:ne})})]})]}),(we.role==="agency"||we.role==="agent")&&e.jsxs("div",{className:"border-t pt-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(ue,{className:"text-sm font-semibold",children:"App Fees Management"}),e.jsxs(fe,{variant:"outline",size:"sm",onClick:async()=>{await ni(we.id)},children:[e.jsx(Ft,{className:"w-4 h-4 mr-1"}),"Refresh Balance"]})]}),X[we.id]?e.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-md",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Current App Fees %:"}),e.jsxs("span",{className:"font-semibold",children:[X[we.id].app_fees_percentage||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Total Balance:"}),e.jsxs("span",{className:"font-semibold",children:["$",X[we.id].total_balance||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Paid Amount:"}),e.jsxs("span",{className:"text-green-600",children:["$",X[we.id].breakdown?.paid_amount||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Remaining Balance:"}),e.jsxs("span",{className:"text-orange-600",children:["$",X[we.id].breakdown?.remaining_balance||0]})]})]}):e.jsx("p",{className:"text-sm text-gray-500",children:'Click "Refresh Balance" to load app fees data'}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Update App Fees Percentage"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ae,{type:"number",step:"0.01",min:"0",max:"100",placeholder:"e.g., 10.00",defaultValue:X[we.id]?.app_fees_percentage||"",onChange:ne=>{const Me=parseFloat(ne.target.value);!isNaN(Me)&&Me>=0&&Me<=100&&Rt({...we,app_fees_percentage:Me})}}),e.jsx(fe,{onClick:()=>{we.app_fees_percentage!==void 0?Ei(we.id,we.app_fees_percentage):xe.error("Please enter a valid app fees percentage")},variant:"outline",children:"Update %"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enter percentage (0-100), e.g., 10.00 for 10%"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(fe,{onClick:()=>ll(we.id,{verified_by_admin:we.verified_by_admin,status:we.status,is_locked:we.is_locked,update_access:we.update_access!==void 0?we.update_access:!0}),className:"flex-1",children:"Update User"}),e.jsx(fe,{variant:"outline",onClick:()=>Mt(!1),children:"Cancel"})]})]}),ht==="view-car"&&we&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"ID"}),e.jsx("p",{className:"text-sm",children:we.id})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Make"}),e.jsx("p",{className:"text-sm",children:we.make||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Model"}),e.jsx("p",{className:"text-sm",children:we.model||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Year"}),e.jsx("p",{className:"text-sm",children:we.year||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"License Plate"}),e.jsx("p",{className:"text-sm",children:we.license_plate||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Color"}),e.jsx("p",{className:"text-sm",children:we.color||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Mileage"}),e.jsx("p",{className:"text-sm",children:we.mileage?.toLocaleString()||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Fuel Type"}),e.jsx("p",{className:"text-sm",children:we.fuel_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Transmission"}),e.jsx("p",{className:"text-sm",children:we.transmission||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Wheels Drive"}),e.jsx("p",{className:"text-sm",children:we.wheels_drive||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Category"}),e.jsx("p",{className:"text-sm",children:we.car_category||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Seats"}),e.jsx("p",{className:"text-sm",children:we.seats||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Doors"}),e.jsx("p",{className:"text-sm",children:we.doors||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Daily Rate"}),e.jsxs("p",{className:"text-sm",children:["$",we.daily_rate||"0.00"]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Holiday Rate"}),e.jsxs("p",{className:"text-sm",children:["$",we.holiday_rate||"N/A"]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Status"}),e.jsx(Ge,{variant:"outline",children:we.status||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Car Accepted"}),e.jsx(Ge,{variant:we.car_accepted?"default":"secondary",children:we.car_accepted?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"With Driver"}),e.jsx(Ge,{variant:we.with_driver?"default":"secondary",children:we.with_driver?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Is Delivered"}),e.jsx(Ge,{variant:we.is_delivered?"default":"secondary",children:we.is_delivered?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Min Rental Days"}),e.jsx("p",{className:"text-sm",children:we.min_rental_days||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Views Count"}),e.jsx("p",{className:"text-sm",children:we.views_count||0})]})]}),we.features&&we.features.length>0&&e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Features"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:we.features.map((ne,Me)=>e.jsx(Ge,{variant:"outline",children:ne},Me))})]}),we.car_add_on&&we.car_add_on.length>0&&e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Add-ons"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:we.car_add_on.map((ne,Me)=>e.jsx(Ge,{variant:"outline",children:ne},Me))})]}),we.notes&&e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Notes"}),e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:we.notes})]}),we.agent&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(ue,{className:"text-sm font-semibold mb-2 block",children:"Agent"}),e.jsxs("p",{className:"text-sm",children:[we.agent.username||we.agent.first_name," ",we.agent.last_name]}),e.jsx("p",{className:"text-xs text-gray-500",children:we.agent.phone_number})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(fe,{onClick:()=>{Ns("edit-car")},className:"flex-1",children:"Edit Car"}),e.jsx(fe,{variant:"outline",onClick:()=>Mt(!1),children:"Close"})]})]}),ht==="edit-car"&&we&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"ID"}),e.jsx(Ae,{value:we.id||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Make"}),e.jsx(Ae,{value:we.make||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Model"}),e.jsx(Ae,{value:we.model||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Year"}),e.jsx(Ae,{value:we.year||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"License Plate"}),e.jsx(Ae,{value:we.license_plate||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Color"}),e.jsx(Ae,{value:we.color||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Mileage"}),e.jsx(Ae,{value:we.mileage?.toLocaleString()||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Fuel Type"}),e.jsx(Ae,{value:we.fuel_type||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Transmission"}),e.jsx(Ae,{value:we.transmission||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Wheels Drive"}),e.jsx(Ae,{value:we.wheels_drive||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Category"}),e.jsx(Ae,{value:we.car_category||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Seats"}),e.jsx(Ae,{value:we.seats||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Doors"}),e.jsx(Ae,{value:we.doors||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Daily Rate"}),e.jsx(Ae,{value:`$${we.daily_rate||"0.00"}`,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Holiday Rate"}),e.jsx(Ae,{value:`$${we.holiday_rate||"N/A"}`,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Min Rental Days"}),e.jsx(Ae,{value:we.min_rental_days||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Views Count"}),e.jsx(Ae,{value:we.views_count||0,disabled:!0})]})]}),we.features&&we.features.length>0&&e.jsxs("div",{children:[e.jsx(ue,{children:"Features"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:we.features.map((ne,Me)=>e.jsx(Ge,{variant:"outline",children:ne},Me))})]}),we.car_add_on&&we.car_add_on.length>0&&e.jsxs("div",{children:[e.jsx(ue,{children:"Add-ons"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:we.car_add_on.map((ne,Me)=>e.jsx(Ge,{variant:"outline",children:ne},Me))})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(ue,{className:"text-sm font-semibold block mb-3",children:"Car Images"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Main Image"}),we.main_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${we.main_image_url}`,alt:"Main",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(Ae,{type:"file",accept:"image/*",onChange:ne=>Br(we.id,"main_image",ne.target.files[0]),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Front Image"}),we.front_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${we.front_image_url}`,alt:"Front",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(Ae,{type:"file",accept:"image/*",onChange:ne=>Br(we.id,"front_image",ne.target.files[0]),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Back Image"}),we.back_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${we.back_image_url}`,alt:"Back",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(Ae,{type:"file",accept:"image/*",onChange:ne=>Br(we.id,"back_image",ne.target.files[0]),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Left Image"}),we.left_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${we.left_image_url}`,alt:"Left",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(Ae,{type:"file",accept:"image/*",onChange:ne=>Br(we.id,"left_image",ne.target.files[0]),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Right Image"}),we.right_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${we.right_image_url}`,alt:"Right",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(Ae,{type:"file",accept:"image/*",onChange:ne=>Br(we.id,"right_image",ne.target.files[0]),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(ue,{className:"text-sm font-semibold block mb-3",children:"Editable Fields"}),e.jsxs("div",{children:[e.jsx(ue,{children:"Status"}),e.jsxs(ot,{value:we.status||"",onValueChange:ne=>Rt({...we,status:ne}),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"available",children:"Available"}),e.jsx(ke,{value:"rented",children:"Rented"}),e.jsx(ke,{value:"maintenance",children:"Maintenance"}),e.jsx(ke,{value:"unavailable",children:"Unavailable"})]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(ue,{children:"Notes"}),e.jsx(vn,{value:we.notes||"",onChange:ne=>Rt({...we,notes:ne.target.value}),rows:4})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsx(ue,{children:"Car Accepted"}),e.jsx(yn,{checked:we.car_accepted||!1,onCheckedChange:ne=>Rt({...we,car_accepted:ne})})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(fe,{onClick:()=>Si(we.id,{status:we.status,car_accepted:we.car_accepted,notes:we.notes}),className:"flex-1",disabled:n,children:"Update Car"}),e.jsx(fe,{variant:"outline",onClick:()=>Mt(!1),children:"Cancel"})]})]}),ht==="view-booking"&&we&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Booking ID"}),e.jsx("p",{className:"text-sm",children:we.id})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Client"}),e.jsx("p",{className:"text-sm",children:we.client?.first_name&&we.client?.last_name?`${we.client.first_name} ${we.client.last_name}`:we.client?.username||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Car"}),e.jsxs("p",{className:"text-sm",children:[we.car?.make," ",we.car?.model," (",we.car?.year,")"]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Agent"}),e.jsx("p",{className:"text-sm",children:we.car?.agent?.username||we.car?.agent?.first_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Start Date"}),e.jsx("p",{className:"text-sm",children:new Date(we.start_datetime).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"End Date"}),e.jsx("p",{className:"text-sm",children:new Date(we.end_datetime).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Total Price"}),e.jsxs("p",{className:"text-sm font-semibold",children:["$",we.total_booking_price||"0.00"]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Booking Status"}),e.jsx(Ge,{variant:"outline",children:we.booking_request_status||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Payment Status"}),e.jsx(Ge,{variant:we.payment_status==="paid"?"default":"secondary",children:we.payment_status||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Payment Method"}),e.jsx("p",{className:"text-sm",children:we.payment_method||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Is Paid Online"}),e.jsx(Ge,{variant:we.is_paid_online?"default":"secondary",children:we.is_paid_online?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Is Delivered"}),e.jsx(Ge,{variant:we.is_delivered?"default":"secondary",children:we.is_delivered?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Pickup Location"}),e.jsx("p",{className:"text-sm",children:we.pickup_location||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Dropoff Location"}),e.jsx("p",{className:"text-sm",children:we.dropoff_location||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Reason of Booking"}),e.jsx("p",{className:"text-sm",children:we.reason_of_booking||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Extra Charge"}),e.jsxs("p",{className:"text-sm",children:["$",we.extra_charge||"0.00"]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Cancellation Date"}),e.jsx("p",{className:"text-sm",children:we.cancelation_date?new Date(we.cancelation_date).toLocaleString():"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Cancellation Reason"}),e.jsx("p",{className:"text-sm",children:we.cancelation_reason||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Created At"}),e.jsx("p",{className:"text-sm",children:new Date(we.created_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Updated At"}),e.jsx("p",{className:"text-sm",children:new Date(we.updated_at).toLocaleString()})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(fe,{onClick:()=>{Ns("edit-booking")},className:"flex-1",children:"Edit Booking"}),e.jsx(fe,{variant:"outline",onClick:()=>Mt(!1),children:"Close"})]})]}),ht==="edit-booking"&&we&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Booking ID"}),e.jsx(Ae,{value:we.id||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Client"}),e.jsx(Ae,{value:we.client?.first_name&&we.client?.last_name?`${we.client.first_name} ${we.client.last_name}`:we.client?.username||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Car"}),e.jsx(Ae,{value:`${we.car?.make||""} ${we.car?.model||""} (${we.car?.year||""})`,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Start Date & Time"}),e.jsx(Ae,{value:new Date(we.start_datetime).toLocaleString(),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"End Date & Time"}),e.jsx(Ae,{value:new Date(we.end_datetime).toLocaleString(),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Payment Status"}),e.jsx(Ae,{value:we.payment_status||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Payment Method"}),e.jsx(Ae,{value:we.payment_method||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Is Paid Online"}),e.jsx(Ae,{value:we.is_paid_online?"Yes":"No",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Is Delivered"}),e.jsx(Ae,{value:we.is_delivered?"Yes":"No",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Pickup Location"}),e.jsx(Ae,{value:we.pickup_location||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Dropoff Location"}),e.jsx(Ae,{value:we.dropoff_location||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Reason of Booking"}),e.jsx(Ae,{value:we.reason_of_booking||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Extra Charge"}),e.jsx(Ae,{value:`$${we.extra_charge||"0.00"}`,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Cancellation Date"}),e.jsx(Ae,{value:we.cancelation_date?new Date(we.cancelation_date).toLocaleString():"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Cancellation Reason"}),e.jsx(Ae,{value:we.cancelation_reason||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Created At"}),e.jsx(Ae,{value:new Date(we.created_at).toLocaleString(),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Updated At"}),e.jsx(Ae,{value:new Date(we.updated_at).toLocaleString(),disabled:!0})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(ue,{className:"text-sm font-semibold block mb-3",children:"Editable Fields"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Booking Status"}),e.jsxs(ot,{value:we.booking_request_status||"",onValueChange:ne=>Rt({...we,booking_request_status:ne}),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"pending",children:"Pending"}),e.jsx(ke,{value:"confirmed",children:"Confirmed"}),e.jsx(ke,{value:"cancelled",children:"Cancelled"}),e.jsx(ke,{value:"completed",children:"Completed"}),e.jsx(ke,{value:"rejected",children:"Rejected"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Total Booking Price"}),e.jsx(Ae,{type:"number",step:"0.01",value:we.total_booking_price||"",onChange:ne=>Rt({...we,total_booking_price:ne.target.value})})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(fe,{onClick:()=>kc(we.id,{booking_request_status:we.booking_request_status,total_booking_price:we.total_booking_price}),className:"flex-1",children:"Update Booking"}),e.jsx(fe,{variant:"outline",onClick:()=>Mt(!1),children:"Cancel"})]})]}),(ht==="create-announcement"||ht==="edit-announcement")&&e.jsx(sbe,{announcement:we,onSubmit:ne=>{ht==="create-announcement"?zd(ne):Ud(we.id,ne)}}),ht==="edit-appeal"&&we&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Status"}),e.jsxs(ot,{value:we.status,onValueChange:ne=>Rt({...we,status:ne}),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"submitted",children:"Submitted"}),e.jsx(ke,{value:"under_review",children:"Under Review"}),e.jsx(ke,{value:"resolved",children:"Resolved"}),e.jsx(ke,{value:"rejected",children:"Rejected"}),e.jsx(ke,{value:"escalated",children:"Escalated"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Priority"}),e.jsxs(ot,{value:we.priority,onValueChange:ne=>Rt({...we,priority:ne}),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"low",children:"Low"}),e.jsx(ke,{value:"medium",children:"Medium"}),e.jsx(ke,{value:"high",children:"High"}),e.jsx(ke,{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Response"}),e.jsx(vn,{value:we.response||"",onChange:ne=>Rt({...we,response:ne.target.value})})]}),e.jsx(fe,{onClick:()=>Rh(we.id,{status:we.status,priority:we.priority,response:we.response}),children:"Update Appeal"})]}),ht==="edit-ad"&&we&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Online"}),e.jsx(yn,{checked:we.online,onCheckedChange:ne=>Rt({...we,online:ne})})]}),e.jsx(fe,{onClick:()=>cl(we.id,{online:we.online}),children:"Update Ad"})]}),ht==="edit-suggestion"&&we&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Status"}),e.jsxs(ot,{value:we.status,onValueChange:ne=>Rt({...we,status:ne}),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"pending",children:"Pending"}),e.jsx(ke,{value:"received",children:"Received"}),e.jsx(ke,{value:"implemented",children:"Implemented"}),e.jsx(ke,{value:"rejected",children:"Rejected"})]})]})]}),e.jsx(fe,{onClick:()=>Bn(we.id,{status:we.status}),children:"Update Suggestion"})]}),ht==="send-notification"&&e.jsx(rbe,{onSubmit:ne=>ul(ne)}),(ht==="create-holiday"||ht==="edit-holiday")&&e.jsx(tbe,{holiday:we,onSubmit:ne=>{ht==="create-holiday"?ti(ne):jc(we.id,ne)}}),ht==="create-ad"&&e.jsx(w9,{onSubmit:Ra,loading:n}),ht==="create-payment"&&e.jsx(Fye,{onSubmit:Dh,loading:n}),ht==="create-featured-car"&&e.jsx(j9,{onSubmit:Mh,loading:n}),ht==="view-service"&&we&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"ID"}),e.jsx("p",{className:"text-sm",children:we.id})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Name"}),e.jsx("p",{className:"text-sm",children:we.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Category"}),e.jsx("p",{className:"text-sm",children:we.category||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Price"}),e.jsxs("p",{className:"text-sm",children:["$",we.price?.toFixed(2)||"0.00"]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Rating"}),e.jsx("p",{className:"text-sm",children:we.rating?.toFixed(1)||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Featured"}),e.jsx(Ge,{variant:we.featured?"default":"secondary",children:we.featured?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"City"}),e.jsx("p",{className:"text-sm",children:we.city||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Clicks"}),e.jsx("p",{className:"text-sm",children:we.clicks||0})]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Description"}),e.jsx("p",{className:"text-sm",children:we.description||"N/A"})]}),we.images&&we.images.length>0&&e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Images"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:we.images.map((ne,Me)=>e.jsx("img",{src:ne,alt:`Service ${Me+1}`,className:"w-20 h-20 object-cover rounded"},Me))})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(fe,{onClick:()=>Ns("edit-service"),className:"flex-1",children:"Edit Service"}),e.jsx(fe,{variant:"outline",onClick:()=>Mt(!1),children:"Close"})]})]}),(ht==="create-service"||ht==="edit-service")&&e.jsx(nbe,{service:ht==="edit-service"?we:null,thirdParties:Ie,onSubmit:ne=>{ht==="edit-service"&&we?_c(we.id,ne):il(ne)}}),ht==="create-broker-payout"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Record a payment to a broker. Amount will be allocated to pending commissions (FIFO)."}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Broker *"}),e.jsxs(ot,{value:R.broker_id||"select",onValueChange:ne=>P(Me=>({...Me,broker_id:ne})),disabled:!!be?.id,children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select broker"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"select",children:"Select broker"}),(Array.isArray(q)?q:[]).map(ne=>e.jsx(ke,{value:String(ne.id),children:ne.username||`${ne.first_name||""} ${ne.last_name||""}`||`Broker #${ne.id}`},ne.id))]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Amount *"}),e.jsx(Ae,{type:"number",min:.01,step:.01,value:R.amount,onChange:ne=>P(Me=>({...Me,amount:ne.target.value})),placeholder:"e.g. 300.00"}),me?.balance!=null&&be&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Balance: $",Number(me.balance).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Reference"}),e.jsx(Ae,{value:R.reference,onChange:ne=>P(Me=>({...Me,reference:ne.target.value})),placeholder:"e.g. BANK-REF-123",maxLength:255})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Notes"}),e.jsx(vn,{value:R.notes,onChange:ne=>P(Me=>({...Me,notes:ne.target.value.slice(0,1e3)})),placeholder:"Optional notes",rows:3})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(fe,{variant:"outline",onClick:()=>Mt(!1),children:"Cancel"}),e.jsx(fe,{onClick:Da,disabled:n||!R.broker_id||R.broker_id==="select"||!R.amount||parseFloat(R.amount)<.01,children:n?"Creating...":"Create Payout"})]})]}),ht==="create-broker"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a new broker user (role: broker). Brokers can be assigned promo codes for the referral program."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Username *"}),e.jsx(Ae,{value:ie.username,onChange:ne=>le(Me=>({...Me,username:ne.target.value})),placeholder:"broker_john",maxLength:100})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Phone number *"}),e.jsx(Ae,{value:ie.phone_number,onChange:ne=>le(Me=>({...Me,phone_number:ne.target.value})),placeholder:"9613123456",maxLength:20})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ue,{children:"Email"}),e.jsx(Ae,{type:"email",value:ie.email,onChange:ne=>le(Me=>({...Me,email:ne.target.value})),placeholder:"john@example.com (optional)"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Password *"}),e.jsx(Ae,{type:"password",value:ie.password,onChange:ne=>le(Me=>({...Me,password:ne.target.value})),placeholder:"Min 6 characters"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Confirm password *"}),e.jsx(Ae,{type:"password",value:ie.password_confirmation,onChange:ne=>le(Me=>({...Me,password_confirmation:ne.target.value})),placeholder:"Repeat password"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"First name *"}),e.jsx(Ae,{value:ie.first_name,onChange:ne=>le(Me=>({...Me,first_name:ne.target.value})),placeholder:"John",maxLength:100})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Last name *"}),e.jsx(Ae,{value:ie.last_name,onChange:ne=>le(Me=>({...Me,last_name:ne.target.value})),placeholder:"Doe",maxLength:100})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(fe,{variant:"outline",onClick:()=>Mt(!1),children:"Cancel"}),e.jsx(fe,{onClick:In,disabled:n||!ie.username?.trim()||!ie.phone_number?.trim()||!ie.first_name?.trim()||!ie.last_name?.trim()||!ie.password||ie.password.length<6||ie.password!==ie.password_confirmation,children:n?"Creating...":"Create Broker"})]})]}),(ht==="create-promo-code"||ht==="edit-promo-code")&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Code"}),e.jsx(Ae,{value:we?.code||"",onChange:ne=>Rt(Me=>({...Me||{},code:ne.target.value})),placeholder:"SAVE20"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Broker *"}),e.jsxs(ot,{value:we?.broker_id?String(we.broker_id):"select",onValueChange:ne=>Rt(Me=>({...Me||{},broker_id:ne&&ne!=="select"?Number(ne):null})),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select broker"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"select",children:"Select broker"}),(Array.isArray(q)?q:[]).map(ne=>e.jsx(ke,{value:String(ne.id),children:ne.username||`${ne.first_name||""} ${ne.last_name||""}`||`Broker #${ne.id}`},ne.id))]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ue,{children:"Description"}),e.jsx(vn,{value:we?.description||"",onChange:ne=>Rt(Me=>({...Me||{},description:ne.target.value})),placeholder:"Optional description"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Max Uses"}),e.jsx(Ae,{type:"number",min:1,value:we?.max_uses??"",onChange:ne=>Rt(Me=>({...Me||{},max_uses:ne.target.value?Number(ne.target.value):null})),placeholder:"Leave empty for unlimited"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Expires At"}),e.jsx(Ae,{type:"date",value:we?.expires_at||"",onChange:ne=>Rt(Me=>({...Me||{},expires_at:ne.target.value}))})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Commission %"}),e.jsx(Ae,{type:"number",min:0,max:100,step:.1,value:we?.commission_percentage??"",onChange:ne=>Rt(Me=>({...Me||{},commission_percentage:ne.target.value?Number(ne.target.value):null})),placeholder:"e.g. 5"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[e.jsx(yn,{checked:we?.is_active??!0,onCheckedChange:ne=>Rt(Me=>({...Me||{},is_active:ne}))}),e.jsx("span",{className:"text-sm",children:"Active"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(fe,{variant:"outline",onClick:()=>Mt(!1),children:"Cancel"}),e.jsx(fe,{onClick:()=>{if(ht==="create-promo-code"&&(!we?.code?.trim()||!we?.broker_id)){xe.error("Code and Broker are required");return}const ne={code:we?.code?.trim(),broker_id:we?.broker_id||void 0,description:we?.description?.trim()||void 0,is_active:we?.is_active??!0,max_uses:we?.max_uses||void 0,expires_at:we?.expires_at||void 0,commission_percentage:we?.commission_percentage};Ri(ne,ht==="edit-promo-code"?we:null)},disabled:n,children:n?"Saving...":"Save"})]})]}),ht==="view-promo-users"&&we&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(i0,{className:"w-4 h-4"}),"Promo Code: ",e.jsx("span",{className:"font-mono",children:we.code})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Broker:"," ",we.broker?we.broker.username||`${we.broker.first_name||""} ${we.broker.last_name||""}`:"N/A"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Users who used this code"}),e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Username"}),e.jsx(_e,{children:"Name"}),e.jsx(_e,{children:"Phone"}),e.jsx(_e,{children:"Email"}),e.jsx(_e,{children:"Referred At"})]})}),e.jsx(Ut,{children:Z.map(ne=>e.jsxs(Ye,{children:[e.jsx(ve,{children:ne.id}),e.jsx(ve,{children:ne.username}),e.jsx(ve,{children:ne.first_name||ne.last_name?`${ne.first_name||""} ${ne.last_name||""}`:"N/A"}),e.jsx(ve,{children:ne.phone_number||"N/A"}),e.jsx(ve,{children:ne.email||"N/A"}),e.jsx(ve,{children:ne.referred_at?new Date(ne.referred_at).toLocaleString():"N/A"})]},ne.id))})]})]}),Array.isArray(F)&&F.length>0&&e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Broker referrals (all codes)"}),e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Referred User"}),e.jsx(_e,{children:"Promo Code"})]})}),e.jsx(Ut,{children:(Array.isArray(F)?F:[]).map(ne=>e.jsxs(Ye,{children:[e.jsx(ve,{children:ne.id}),e.jsx(ve,{children:ne.referredUser?ne.referredUser.username||`${ne.referredUser.first_name||""} ${ne.referredUser.last_name||""}`:ne.referred_user_id}),e.jsx(ve,{children:ne.promoCode?.code||"N/A"})]},ne.id))})]})]}),e.jsx("div",{className:"flex justify-end pt-3",children:e.jsx(fe,{variant:"outline",onClick:()=>Mt(!1),children:"Close"})})]}),ht==="view-third-party"&&we&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"ID"}),e.jsx("p",{className:"text-sm",children:we.id})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Name"}),e.jsx("p",{className:"text-sm",children:we.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Email"}),e.jsx("p",{className:"text-sm",children:we.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Phone"}),e.jsx("p",{className:"text-sm",children:we.phone||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Contact Email"}),e.jsx("p",{className:"text-sm",children:we.contact_email||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Category"}),e.jsx(Ge,{variant:"outline",children:we.category||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"City"}),e.jsx("p",{className:"text-sm",children:we.city||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Subscription"}),e.jsx(Ge,{variant:we.subscription==="premium"||we.subscription==="enterprise"?"default":"secondary",children:we.subscription||"Free"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Created At"}),e.jsx("p",{className:"text-sm",children:new Date(we.created_at).toLocaleString()})]})]}),we.description&&e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Description"}),e.jsx("p",{className:"text-sm",children:we.description})]}),we.permissions&&we.permissions.length>0&&e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-semibold",children:"Permissions"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:we.permissions.map((ne,Me)=>e.jsx(Ge,{variant:"secondary",className:"text-xs",children:ne},Me))})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(fe,{onClick:()=>Ns("edit-third-party"),className:"flex-1",children:"Edit Third Party"}),e.jsxs(fe,{variant:"outline",onClick:()=>{Rt({third_party_id:we.id,third_party_name:we.name}),Ns("create-service-for-tp")},children:[e.jsx(nr,{className:"w-4 h-4 mr-1"}),"Add Service"]}),e.jsx(fe,{variant:"outline",onClick:()=>Mt(!1),children:"Close"})]})]}),(ht==="create-third-party"||ht==="edit-third-party")&&e.jsx(abe,{thirdParty:ht==="edit-third-party"?we:null,onSubmit:ne=>{ht==="edit-third-party"&&we?ol(we.id,ne):Ln(ne)}}),ht==="create-service-for-tp"&&we&&e.jsx(obe,{thirdPartyId:we.third_party_id,thirdPartyName:we.third_party_name,onSubmit:ne=>{il({...ne,third_party_id:we.third_party_id})}}),(ht==="create-service-item"||ht==="edit-service-item")&&e.jsx(ibe,{item:ht==="edit-service-item"?we:null,onSubmit:ne=>{ht==="edit-service-item"&&we?fo(we.id,ne):yt&&ho(yt,ne)}})]})})})]})})}function tbe({holiday:s,onSubmit:t}){const[r,n]=w.useState({car_id:s?.car_id||"",holiday_name:s?.holiday_name||"",holiday_dates:{start:s?.holiday_dates?.start||"",end:s?.holiday_dates?.end||""},percentage_increase:s?.percentage_increase||"",is_active:s?.is_active!==void 0?s.is_active:!0});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Car ID *"}),e.jsx(Ae,{type:"number",value:r.car_id,onChange:a=>n({...r,car_id:a.target.value}),placeholder:"Enter car ID",required:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Holiday Name *"}),e.jsx(Ae,{value:r.holiday_name,onChange:a=>n({...r,holiday_name:a.target.value}),placeholder:"e.g., New Year",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Start Date *"}),e.jsx(Ae,{type:"date",value:r.holiday_dates.start,onChange:a=>n({...r,holiday_dates:{...r.holiday_dates,start:a.target.value}}),required:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"End Date *"}),e.jsx(Ae,{type:"date",value:r.holiday_dates.end,onChange:a=>n({...r,holiday_dates:{...r.holiday_dates,end:a.target.value}}),required:!0})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Percentage Increase *"}),e.jsx(Ae,{type:"number",step:"0.01",min:"0",max:"100",value:r.percentage_increase,onChange:a=>n({...r,percentage_increase:a.target.value}),placeholder:"20.00",required:!0})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yn,{id:"is_active",checked:r.is_active,onCheckedChange:a=>n({...r,is_active:a})}),e.jsx(ue,{htmlFor:"is_active",children:"Active"})]}),e.jsxs(fe,{onClick:()=>t(r),children:[s?"Update":"Create"," Holiday"]})]})}function sbe({announcement:s,onSubmit:t}){const r=d=>{if(!d)return"";const h=new Date(d),m=h.getFullYear(),f=String(h.getMonth()+1).padStart(2,"0"),g=String(h.getDate()).padStart(2,"0"),b=String(h.getHours()).padStart(2,"0"),v=String(h.getMinutes()).padStart(2,"0"),y=String(h.getSeconds()).padStart(2,"0");return`${m}-${f}-${g} ${b}:${v}:${y}`},n=d=>d?d.includes(" ")?d.replace(" ","T"):new Date(d).toISOString().slice(0,16):"",[a,i]=w.useState({title:s?.title||"",message:s?.message||"",scheduled_at:n(s?.scheduled_at)||"",expires_at:n(s?.expires_at)||"",priority:s?.priority||"medium",target_audience:s?.target_audience||[],status:s?.status||"draft",categories:s?.categories||[],media:s?.media||[]}),o=(d,h)=>{i(m=>{const f=m.target_audience||[];return h?{...m,target_audience:[...f,d]}:{...m,target_audience:f.filter(g=>g!==d)}})},c=()=>{const d={...a,scheduled_at:a.scheduled_at?r(a.scheduled_at):void 0,expires_at:a.expires_at?r(a.expires_at):void 0,categories:a.categories.length>0?a.categories:void 0,media:a.media.length>0?a.media:void 0};t(d)};return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Title *"}),e.jsx(Ae,{required:!0,value:a.title,onChange:d=>i({...a,title:d.target.value}),placeholder:"Enter announcement title"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Message *"}),e.jsx(vn,{required:!0,value:a.message,onChange:d=>i({...a,message:d.target.value}),placeholder:"Enter announcement message",rows:5})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Scheduled At"}),e.jsx(Ae,{type:"datetime-local",value:a.scheduled_at,onChange:d=>i({...a,scheduled_at:d.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Expires At"}),e.jsx(Ae,{type:"datetime-local",value:a.expires_at,onChange:d=>i({...a,expires_at:d.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Priority"}),e.jsxs(ot,{value:a.priority,onValueChange:d=>i({...a,priority:d}),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"low",children:"Low"}),e.jsx(ke,{value:"medium",children:"Medium"}),e.jsx(ke,{value:"high",children:"High"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Status"}),e.jsxs(ot,{value:a.status,onValueChange:d=>i({...a,status:d}),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"draft",children:"Draft"}),e.jsx(ke,{value:"published",children:"Published"}),e.jsx(ke,{value:"archived",children:"Archived"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Target Audience"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["client","agency","agent","admin"].map(d=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`target-${d}`,checked:a.target_audience.includes(d),onChange:h=>o(d,h.target.checked),className:"rounded"}),e.jsx(ue,{htmlFor:`target-${d}`,className:"text-sm font-normal cursor-pointer",children:d.charAt(0).toUpperCase()+d.slice(1)})]},d))})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsxs(fe,{onClick:c,className:"flex-1",children:[s?"Update":"Create"," Announcement"]})})]})}function rbe({onSubmit:s}){const[t,r]=w.useState({title:"",message:"",type:"general",data:{}});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Title"}),e.jsx(Ae,{value:t.title,onChange:n=>r({...t,title:n.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Message"}),e.jsx(vn,{value:t.message,onChange:n=>r({...t,message:n.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Type"}),e.jsxs(ot,{value:t.type,onValueChange:n=>r({...t,type:n}),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"general",children:"General"}),e.jsx(ke,{value:"booking",children:"Booking"}),e.jsx(ke,{value:"payment",children:"Payment"}),e.jsx(ke,{value:"system",children:"System"})]})]})]}),e.jsx(fe,{onClick:()=>s(t),children:"Send Notification"})]})}function nbe({service:s,onSubmit:t,thirdParties:r=[]}){const[n,a]=w.useState({name:s?.name||"",description:s?.description||"",category:s?.category||"",price:s?.price||"",featured:s?.featured||!1,images:s?.images||[],third_party_id:s?.third_party_id||"",city:s?.city||"",availability:s?.availability!==!1}),[i,o]=w.useState(""),c=()=>{i.trim()&&(a({...n,images:[...n.images,i.trim()]}),o(""))},d=h=>{a({...n,images:n.images.filter((m,f)=>f!==h)})};return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[r.length>0&&e.jsxs("div",{children:[e.jsx(ue,{children:"Service Owner (Third Party) *"}),e.jsxs(ot,{value:n.third_party_id?.toString()||"",onValueChange:h=>a({...n,third_party_id:parseInt(h)}),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select third party owner"})}),e.jsx(it,{children:r.map(h=>e.jsxs(ke,{value:h.id.toString(),children:[h.name," (",h.email,")"]},h.id))})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Name *"}),e.jsx(Ae,{required:!0,value:n.name,onChange:h=>a({...n,name:h.target.value}),placeholder:"Enter service name"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Description *"}),e.jsx(vn,{required:!0,value:n.description,onChange:h=>a({...n,description:h.target.value}),placeholder:"Enter service description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Category *"}),e.jsxs(ot,{value:n.category,onValueChange:h=>a({...n,category:h}),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select category"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"hotel",children:"Hotel"}),e.jsx(ke,{value:"restaurant",children:"Restaurant"}),e.jsx(ke,{value:"spa",children:"Spa"}),e.jsx(ke,{value:"nightclub",children:"Nightclub"}),e.jsx(ke,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Price *"}),e.jsx(Ae,{type:"number",step:"0.01",min:"0",required:!0,value:n.price,onChange:h=>a({...n,price:parseFloat(h.target.value)||""}),placeholder:"0.00"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"City"}),e.jsx(Ae,{value:n.city,onChange:h=>a({...n,city:h.target.value}),placeholder:"Enter city"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(ue,{children:"Availability"}),e.jsx(yn,{checked:n.availability,onCheckedChange:h=>a({...n,availability:h})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{children:"Featured"}),e.jsx(yn,{checked:n.featured,onCheckedChange:h=>a({...n,featured:h})})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Images"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(Ae,{value:i,onChange:h=>o(h.target.value),placeholder:"Enter image URL",className:"flex-1"}),e.jsx(fe,{type:"button",variant:"outline",onClick:c,children:"Add"})]}),n.images.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.images.map((h,m)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h,alt:`Image ${m+1}`,className:"w-16 h-16 object-cover rounded"}),e.jsx("button",{type:"button",onClick:()=>d(m),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs",children:""})]},m))})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsxs(fe,{onClick:()=>t(n),className:"flex-1",children:[s?"Update":"Create"," Service"]})})]})}function abe({thirdParty:s,onSubmit:t}){const[r,n]=w.useState({name:s?.business_name||s?.name||"",username:s?.username||"",email:s?.email||"",password:"",subscription:s?.subscription||"",permissions:s?.permissions||[],description:s?.description||"",category:s?.category||"",city:s?.city||"",contact_email:s?.contact_email||"",phone:s?.phone||""}),a=["services:read","services:write","items:read","items:write","feedbacks:read","feedbacks:respond"],i=o=>{r.permissions.includes(o)?n({...r,permissions:r.permissions.filter(c=>c!==o)}):n({...r,permissions:[...r.permissions,o]})};return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsx("div",{className:"border-b pb-2 mb-2",children:e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Account Information"})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Business Name *"}),e.jsx(Ae,{required:!0,value:r.name,onChange:o=>n({...r,name:o.target.value}),placeholder:"Enter business/company name"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Username *"}),e.jsx(Ae,{required:!0,value:r.username,onChange:o=>n({...r,username:o.target.value}),placeholder:"Unique username for login"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Email *"}),e.jsx(Ae,{type:"email",required:!0,value:r.email,onChange:o=>n({...r,email:o.target.value}),placeholder:"Enter login email"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:s?"Password (leave blank to keep current)":"Password *"}),e.jsx(Ae,{type:"password",required:!s,value:r.password,onChange:o=>n({...r,password:o.target.value}),placeholder:"Enter password"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Subscription"}),e.jsxs(ot,{value:r.subscription,onValueChange:o=>n({...r,subscription:o}),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select subscription"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"free",children:"Free"}),e.jsx(ke,{value:"basic",children:"Basic"}),e.jsx(ke,{value:"premium",children:"Premium"}),e.jsx(ke,{value:"enterprise",children:"Enterprise"})]})]})]})]}),e.jsx("div",{className:"border-b pb-2 mb-2 mt-4",children:e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Profile Information"})}),e.jsxs("div",{children:[e.jsx(ue,{children:"Description"}),e.jsx(vn,{value:r.description,onChange:o=>n({...r,description:o.target.value}),placeholder:"Enter business description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Category"}),e.jsxs(ot,{value:r.category,onValueChange:o=>n({...r,category:o}),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select category"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"transport",children:"Transport"}),e.jsx(ke,{value:"accommodation",children:"Accommodation"}),e.jsx(ke,{value:"food",children:"Food & Dining"}),e.jsx(ke,{value:"entertainment",children:"Entertainment"}),e.jsx(ke,{value:"tourism",children:"Tourism"}),e.jsx(ke,{value:"rental",children:"Rental Services"}),e.jsx(ke,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"City"}),e.jsx(Ae,{value:r.city,onChange:o=>n({...r,city:o.target.value}),placeholder:"Enter city"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Contact Email"}),e.jsx(Ae,{type:"email",value:r.contact_email,onChange:o=>n({...r,contact_email:o.target.value}),placeholder:"Enter public contact email"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Phone"}),e.jsx(Ae,{value:r.phone,onChange:o=>n({...r,phone:o.target.value}),placeholder:"Enter phone number"})]})]}),e.jsx("div",{className:"border-b pb-2 mb-2 mt-4",children:e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Permissions"})}),e.jsx("div",{className:"flex flex-wrap gap-3",children:a.map(o=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`perm-${o}`,checked:r.permissions.includes(o),onChange:()=>i(o),className:"rounded"}),e.jsx(ue,{htmlFor:`perm-${o}`,className:"text-sm font-normal cursor-pointer",children:o})]},o))}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsxs(fe,{onClick:()=>{const o={...r};s&&!o.password&&delete o.password,t(o)},className:"flex-1",children:[s?"Update":"Create"," Third Party"]})})]})}function ibe({item:s,onSubmit:t}){const[r,n]=w.useState({name:s?.name||"",description:s?.description||"",price:s?.price||"",image:s?.image||""});return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Name *"}),e.jsx(Ae,{required:!0,value:r.name,onChange:a=>n({...r,name:a.target.value}),placeholder:"Enter item name"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Description"}),e.jsx(vn,{value:r.description,onChange:a=>n({...r,description:a.target.value}),placeholder:"Enter item description",rows:3})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Price *"}),e.jsx(Ae,{type:"number",step:"0.01",min:"0",required:!0,value:r.price,onChange:a=>n({...r,price:parseFloat(a.target.value)||""}),placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Image URL"}),e.jsx(Ae,{value:r.image,onChange:a=>n({...r,image:a.target.value}),placeholder:"Enter image URL"}),r.image&&e.jsx("img",{src:r.image,alt:"Preview",className:"w-20 h-20 object-cover rounded mt-2"})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsxs(fe,{onClick:()=>t(r),className:"flex-1",children:[s?"Update":"Create"," Item"]})})]})}function obe({thirdPartyId:s,thirdPartyName:t,onSubmit:r}){const[n,a]=w.useState({name:"",description:"",category:"",price:"",featured:!1,images:[],city:"",availability:!0}),[i,o]=w.useState(""),c=()=>{i.trim()&&(a({...n,images:[...n.images,i.trim()]}),o(""))},d=h=>{a({...n,images:n.images.filter((m,f)=>f!==h)})};return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.jsx("strong",{children:"Owner:"})," ",t," (ID: ",s,")"]})}),e.jsxs("div",{children:[e.jsx(ue,{children:"Service Name *"}),e.jsx(Ae,{required:!0,value:n.name,onChange:h=>a({...n,name:h.target.value}),placeholder:"Enter service name"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Description *"}),e.jsx(vn,{required:!0,value:n.description,onChange:h=>a({...n,description:h.target.value}),placeholder:"Enter service description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Category *"}),e.jsxs(ot,{value:n.category,onValueChange:h=>a({...n,category:h}),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select category"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"hotel",children:"Hotel"}),e.jsx(ke,{value:"restaurant",children:"Restaurant"}),e.jsx(ke,{value:"spa",children:"Spa"}),e.jsx(ke,{value:"nightclub",children:"Nightclub"}),e.jsx(ke,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Price *"}),e.jsx(Ae,{type:"number",step:"0.01",min:"0",required:!0,value:n.price,onChange:h=>a({...n,price:parseFloat(h.target.value)||""}),placeholder:"0.00"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"City"}),e.jsx(Ae,{value:n.city,onChange:h=>a({...n,city:h.target.value}),placeholder:"Enter city"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(ue,{children:"Availability"}),e.jsx(yn,{checked:n.availability,onCheckedChange:h=>a({...n,availability:h})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{children:"Featured"}),e.jsx(yn,{checked:n.featured,onCheckedChange:h=>a({...n,featured:h})})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Images"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(Ae,{value:i,onChange:h=>o(h.target.value),placeholder:"Enter image URL",className:"flex-1"}),e.jsx(fe,{type:"button",variant:"outline",onClick:c,children:"Add"})]}),n.images.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.images.map((h,m)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h,alt:`Image ${m+1}`,className:"w-16 h-16 object-cover rounded"}),e.jsx("button",{type:"button",onClick:()=>d(m),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs",children:""})]},m))})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx(fe,{onClick:()=>r(n),className:"flex-1",children:"Create Service"})})]})}const lbe=s=>s.replace(/\D/g,""),cbe=({countries:s,iso2:t,setIso2:r,phone:n,setPhone:a,disabledPhone:i})=>e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx("select",{value:t,onChange:o=>r(o.target.value),className:"w-[100px] sm:w-[120px] shrink-0 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-[#008C95] focus:border-transparent",disabled:i,children:s.map(o=>e.jsxs("option",{value:o.iso2,children:[o.iso2," (",o.dialCode,")"]},o.iso2))}),e.jsx("input",{type:"tel",inputMode:"numeric",value:n,onChange:o=>a(lbe(o.target.value)),placeholder:"70123456",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-800 text-sm focus:ring-2 focus:ring-[#008C95] focus:border-transparent",disabled:i})]}),ga={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function dbe(){const s=br(),[t,r]=w.useState("login"),[n,a]=w.useState(!1),[i,o]=w.useState(""),[c,d]=w.useState(""),[h,m]=w.useState(""),[f,g]=w.useState("LB"),[b,v]=w.useState(!1),[y,_]=w.useState(""),[j,S]=w.useState(!1),[N,k]=w.useState(!1),[C,z]=w.useState(0),[E,U]=w.useState({username:"",email:"",first_name:"",last_name:"",password:"",password_confirmation:"",role:"admin",business_type:""}),T=w.useMemo(()=>eL.map(F=>({name:F.name,iso2:F.iso2,dialCode:F.dialCode.startsWith("+")?F.dialCode:`+${F.dialCode}`})).sort((F,de)=>F.name.localeCompare(de.name)),[]),re=w.useMemo(()=>{const F=new Map;for(const de of T)F.set(de.iso2,de.dialCode);return F},[T]),Y=F=>re.get(F)||"+961";w.useEffect(()=>{let F;return C>0&&(F=setInterval(()=>{z(de=>de<=1?(k(!0),0):de-1)},1e3)),()=>clearInterval(F)},[C]);const I=()=>{m(""),v(!1),_(""),S(!1),k(!1),z(0),U({username:"",email:"",first_name:"",last_name:"",password:"",password_confirmation:"",role:"admin",business_type:""})},K=()=>{v(!1),_(""),S(!1),k(!1),z(0),m("")},L=async()=>{if(!h)return xe.error("Please enter a phone number.");const F=`${Y(f)}${h.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test(F))return xe.error("Please enter a valid phone number with country code.");try{a(!0);const de=await uP(F);de.message&&xe.success(de.message),de.warning&&xe.warning(de.warning),v(!0),k(!1),z(60)}catch(de){de.response?.data?.errors?Object.values(de.response.data.errors).flat().forEach(q=>xe.error(q)):xe.error(de.response?.data?.message||"Failed to send OTP.")}finally{a(!1)}},J=async()=>{N&&await L()},Q=async()=>{if(!y)return xe.error("Please enter the OTP code.");if(y.length!==6)return xe.error("OTP code must be 6 digits.");const F=`${Y(f)}${h.replace(/^0+/,"")}`;try{a(!0);const de=await hP(F,y);de.message?xe.success(de.message):xe.success("OTP verified! Complete your registration."),S(!0)}catch(de){xe.error(de.response?.data?.message||de.response?.data?.error||"Invalid or expired OTP.")}finally{a(!1)}},Z=async F=>{if(F.preventDefault(),!i||!c)return xe.error("Please fill all fields");try{a(!0);let de={password:c};i.includes("@")?de.email=i:de.phone_number=i;const q=await Le.post("/auth/login",de),G=q.data.user;if(G.role!=="admin"){xe.error("Access denied. Admin privileges required."),localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("user");return}localStorage.setItem("authToken",q.data.token),localStorage.setItem("token",q.data.token),localStorage.setItem("user",JSON.stringify(G)),xe.success("Login successful!"),s("/admin")}catch(de){const q=de.response?.data?.message||de.response?.data?.error||"Login failed.";xe.error(q)}finally{a(!1)}},ee=async F=>{F.preventDefault();const{username:de,email:q,first_name:G,last_name:ie,password:le,password_confirmation:be,role:ye,business_type:$}=E;if(!de?.trim()||!G?.trim()||!ie?.trim()||!le||!be)return xe.error("Please fill all required fields");if(ye==="agency"&&!$?.trim())return xe.error("Business type is required for agency");if(le.length<6)return xe.error("Password must be at least 6 characters");if(le!==be)return xe.error("Passwords do not match");const me=`${Y(f)}${h.replace(/^0+/,"")}`.replace(/^\+/,"");try{a(!0);const ce={phone_number:me,otp_code:y,username:de.trim(),first_name:G.trim(),last_name:ie.trim(),password:le,password_confirmation:be,role:ye||"admin"};q?.trim()&&(ce.email=q.trim()),ye==="agency"&&$?.trim()&&(ce.business_type=$.trim());const he=await Le.post("/auth/register",ce),O=he.data?.user,oe=O?.role||ye||"admin";localStorage.setItem("authToken",he.data.token),localStorage.setItem("token",he.data.token),localStorage.setItem("user",JSON.stringify(O||he.data.user)),xe.success("Account created!"),s(oe==="admin"?"/admin":"/Complete-Profile")}catch(ce){const he=ce.response?.data?.message||ce.response?.data?.error||"Registration failed.";ce.response?.data?.errors?Object.values(ce.response.data.errors).flat().forEach(O=>xe.error(O)):xe.error(he)}finally{a(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center p-4",children:e.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:e.jsxs(Ue,{className:"border-0 shadow-2xl",children:[e.jsxs(ts,{className:"text-center space-y-4 pb-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{background:`linear-gradient(to right, ${ga.darkBlue}, ${ga.teal})`},children:e.jsx(Dn,{className:"w-8 h-8 text-white"})})}),e.jsxs("div",{children:[e.jsx(ss,{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${ga.darkBlue}, ${ga.teal}, ${ga.limeGreen})`},children:"Admin Login"}),e.jsx(jm,{className:"mt-2",children:"Sign in to access the admin dashboard"})]})]}),e.jsxs(He,{children:[e.jsxs(Ko,{value:t,onValueChange:r,children:[e.jsxs(no,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(Yt,{value:"login",children:"Login"}),e.jsx(Yt,{value:"register",children:"Register"})]}),e.jsx(ns,{value:"login",children:e.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"email",children:"Email or Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx(so,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Ae,{id:"email",type:"text",placeholder:"admin@example.com or +96170123456",value:i,onChange:F=>o(F.target.value),className:"pl-10",disabled:n,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Ae,{id:"password",type:"password",placeholder:"Enter your password",value:c,onChange:F=>d(F.target.value),className:"pl-10",disabled:n,required:!0})]})]}),e.jsx(fe,{type:"submit",className:"w-full text-white",style:{background:`linear-gradient(to right, ${ga.darkBlue}, ${ga.teal})`},disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:["Sign In",e.jsx(Nd,{className:"w-4 h-4 ml-2"})]})})]})}),e.jsx(ns,{value:"register",children:j?e.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Username *"}),e.jsx(Ae,{value:E.username,onChange:F=>U(de=>({...de,username:F.target.value})),placeholder:"admin_username",disabled:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Email"}),e.jsx(Ae,{type:"email",value:E.email,onChange:F=>U(de=>({...de,email:F.target.value})),placeholder:"admin@example.com",disabled:n})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Role *"}),e.jsxs(ot,{value:E.role||"admin",onValueChange:F=>U(de=>({...de,role:F})),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select role"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"client",children:"Client"}),e.jsx(ke,{value:"agency",children:"Agency"}),e.jsx(ke,{value:"admin",children:"Admin"})]})]})]}),E.role==="agency"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Business Type *"}),e.jsx(Ae,{value:E.business_type,onChange:F=>U(de=>({...de,business_type:F.target.value})),placeholder:"e.g. Car Rental Agency",disabled:n})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"First Name *"}),e.jsx(Ae,{value:E.first_name,onChange:F=>U(de=>({...de,first_name:F.target.value})),placeholder:"First",disabled:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Last Name *"}),e.jsx(Ae,{value:E.last_name,onChange:F=>U(de=>({...de,last_name:F.target.value})),placeholder:"Last",disabled:n,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Password *"}),e.jsx(Ae,{type:"password",value:E.password,onChange:F=>U(de=>({...de,password:F.target.value})),placeholder:"Min 6 characters",disabled:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Confirm Password *"}),e.jsx(Ae,{type:"password",value:E.password_confirmation,onChange:F=>U(de=>({...de,password_confirmation:F.target.value})),placeholder:"Repeat password",disabled:n,required:!0})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{type:"button",variant:"outline",onClick:I,disabled:n,children:"Back"}),e.jsx(fe,{type:"submit",className:"flex-1 text-white",style:{background:`linear-gradient(to right, ${ga.darkBlue}, ${ga.teal})`},disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(MY,{className:"w-4 h-4 mr-2"}),"Create Admin Account"]})})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(Za,{className:"w-4 h-4"}),"Phone Number"]}),e.jsx(cbe,{countries:T,iso2:f,setIso2:g,phone:h,setPhone:m,disabledPhone:b})]}),b&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"OTP Code"}),e.jsx(Ae,{type:"text",inputMode:"numeric",value:y,onChange:F=>{const de=F.target.value.replace(/\D/g,"");de.length<=6&&_(de)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"text-center text-xl font-bold tracking-widest"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Check your phone"}),C>0?e.jsxs("span",{children:["Resend in ",C,"s"]}):e.jsxs(fe,{type:"button",variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:J,disabled:!N||n,children:[e.jsx(Ft,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),e.jsx("div",{className:"flex gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsx(fe,{type:"button",variant:"outline",onClick:K,disabled:n,children:"Change"}),e.jsx(fe,{type:"button",onClick:Q,className:"flex-1 text-white",style:{background:`linear-gradient(to right, ${ga.darkBlue}, ${ga.teal})`},disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify OTP"})]}):e.jsx(fe,{type:"button",onClick:L,className:"w-full text-white",style:{background:`linear-gradient(to right, ${ga.darkBlue}, ${ga.teal})`},disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send OTP"})})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(fe,{variant:"ghost",onClick:()=>s("/"),className:"text-sm text-gray-600 dark:text-gray-400",children:" Back to Home"})})]})]})})})}var ube=Symbol("radix.slottable");function hbe(s){const t=({children:r})=>e.jsx(e.Fragment,{children:r});return t.displayName=`${s}.Slottable`,t.__radixId=ube,t}var[Uy]=Aa("Tooltip",[_h]),Wk=_h(),N9="TooltipProvider",fbe=700,y6="tooltip.open",[mbe,k9]=Uy(N9),S9=s=>{const{__scopeTooltip:t,delayDuration:r=fbe,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=s,o=w.useRef(!0),c=w.useRef(!1),d=w.useRef(0);return w.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),e.jsx(mbe,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:w.useCallback(h=>{c.current=h},[]),disableHoverableContent:a,children:i})};S9.displayName=N9;var C9="Tooltip",[c1e,bp]=Uy(C9),PN="TooltipTrigger",pbe=w.forwardRef((s,t)=>{const{__scopeTooltip:r,...n}=s,a=bp(PN,r),i=k9(PN,r),o=Wk(r),c=w.useRef(null),d=is(t,c,a.onTriggerChange),h=w.useRef(!1),m=w.useRef(!1),f=w.useCallback(()=>h.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),e.jsx(p2,{asChild:!0,...o,children:e.jsx(qt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:d,onPointerMove:bt(s.onPointerMove,g=>{g.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),m.current=!0)}),onPointerLeave:bt(s.onPointerLeave,()=>{a.onTriggerLeave(),m.current=!1}),onPointerDown:bt(s.onPointerDown,()=>{a.open&&a.onClose(),h.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:bt(s.onFocus,()=>{h.current||a.onOpen()}),onBlur:bt(s.onBlur,a.onClose),onClick:bt(s.onClick,a.onClose)})})});pbe.displayName=PN;var Yk="TooltipPortal",[gbe,xbe]=Uy(Yk,{forceMount:void 0}),A9=s=>{const{__scopeTooltip:t,forceMount:r,children:n,container:a}=s,i=bp(Yk,t);return e.jsx(gbe,{scope:t,forceMount:r,children:e.jsx(ei,{present:r||i.open,children:e.jsx(ep,{asChild:!0,container:a,children:n})})})};A9.displayName=Yk;var mh="TooltipContent",E9=w.forwardRef((s,t)=>{const r=xbe(mh,s.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=s,o=bp(mh,s.__scopeTooltip);return e.jsx(ei,{present:n||o.open,children:o.disableHoverableContent?e.jsx(T9,{side:a,...i,ref:t}):e.jsx(ybe,{side:a,...i,ref:t})})}),ybe=w.forwardRef((s,t)=>{const r=bp(mh,s.__scopeTooltip),n=k9(mh,s.__scopeTooltip),a=w.useRef(null),i=is(t,a),[o,c]=w.useState(null),{trigger:d,onClose:h}=r,m=a.current,{onPointerInTransitChange:f}=n,g=w.useCallback(()=>{c(null),f(!1)},[f]),b=w.useCallback((v,y)=>{const _=v.currentTarget,j={x:v.clientX,y:v.clientY},S=_be(j,_.getBoundingClientRect()),N=Nbe(j,S),k=kbe(y.getBoundingClientRect()),C=Cbe([...N,...k]);c(C),f(!0)},[f]);return w.useEffect(()=>()=>g(),[g]),w.useEffect(()=>{if(d&&m){const v=_=>b(_,m),y=_=>b(_,d);return d.addEventListener("pointerleave",v),m.addEventListener("pointerleave",y),()=>{d.removeEventListener("pointerleave",v),m.removeEventListener("pointerleave",y)}}},[d,m,b,g]),w.useEffect(()=>{if(o){const v=y=>{const _=y.target,j={x:y.clientX,y:y.clientY},S=d?.contains(_)||m?.contains(_),N=!Sbe(j,o);S?g():N&&(g(),h())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[d,m,o,h,g]),e.jsx(T9,{...s,ref:i})}),[bbe,vbe]=Uy(C9,{isInside:!1}),wbe=hbe("TooltipContent"),T9=w.forwardRef((s,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...c}=s,d=bp(mh,r),h=Wk(r),{onClose:m}=d;return w.useEffect(()=>(document.addEventListener(y6,m),()=>document.removeEventListener(y6,m)),[m]),w.useEffect(()=>{if(d.trigger){const f=g=>{g.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[d.trigger,m]),e.jsx(Qm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:m,children:e.jsxs(g2,{"data-state":d.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(wbe,{children:n}),e.jsx(bbe,{scope:r,isInside:!0,children:e.jsx(nJ,{id:d.contentId,role:"tooltip",children:a||n})})]})})});E9.displayName=mh;var R9="TooltipArrow",jbe=w.forwardRef((s,t)=>{const{__scopeTooltip:r,...n}=s,a=Wk(r);return vbe(R9,r).isInside?null:e.jsx(x2,{...a,...n,ref:t})});jbe.displayName=R9;function _be(s,t){const r=Math.abs(t.top-s.y),n=Math.abs(t.bottom-s.y),a=Math.abs(t.right-s.x),i=Math.abs(t.left-s.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Nbe(s,t,r=5){const n=[];switch(t){case"top":n.push({x:s.x-r,y:s.y+r},{x:s.x+r,y:s.y+r});break;case"bottom":n.push({x:s.x-r,y:s.y-r},{x:s.x+r,y:s.y-r});break;case"left":n.push({x:s.x+r,y:s.y-r},{x:s.x+r,y:s.y+r});break;case"right":n.push({x:s.x-r,y:s.y-r},{x:s.x-r,y:s.y+r});break}return n}function kbe(s){const{top:t,right:r,bottom:n,left:a}=s;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Sbe(s,t){const{x:r,y:n}=s;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const c=t[i],d=t[o],h=c.x,m=c.y,f=d.x,g=d.y;m>n!=g>n&&r<(f-h)*(n-m)/(g-m)+h&&(a=!a)}return a}function Cbe(s){const t=s.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Abe(t)}function Abe(s){if(s.length<=1)return s.slice();const t=[];for(let n=0;n<s.length;n++){const a=s[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=s.length-1;n>=0;n--){const a=s[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Ebe=S9,Tbe=A9,D9=E9;const Rbe=Ebe,Dbe=w.forwardRef(({className:s,sideOffset:t=4,...r},n)=>e.jsx(Tbe,{children:e.jsx(D9,{ref:n,sideOffset:t,className:Tt("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),...r})}));Dbe.displayName=D9.displayName;function Mbe(s){const t=Pbe(s),r=w.forwardRef((n,a)=>{const{children:i,...o}=n,c=w.Children.toArray(i),d=c.find(Lbe);if(d){const h=d.props.children,m=c.map(f=>f===d?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:f);return e.jsx(t,{...o,ref:a,children:w.isValidElement(h)?w.cloneElement(h,void 0,m):null})}return e.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}function Pbe(s){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const o=Bbe(a),c=Fbe(i,a.props);return a.type!==w.Fragment&&(c.ref=n?tl(n,o):o),w.cloneElement(a,c)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var Obe=Symbol("radix.slottable");function Lbe(s){return w.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Obe}function Fbe(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function Bbe(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}var ON=["Enter"," "],Ibe=["ArrowDown","PageUp","Home"],M9=["ArrowUp","PageDown","End"],zbe=[...Ibe,...M9],Ube={ltr:[...ON,"ArrowRight"],rtl:[...ON,"ArrowLeft"]},$be={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vp="Menu",[Bm,Vbe,Hbe]=Q0(vp),[Fd,P9]=Aa(vp,[Hbe,_h,J0]),$y=_h(),O9=J0(),[qbe,Bd]=Fd(vp),[Gbe,wp]=Fd(vp),L9=s=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=s,c=$y(t),[d,h]=w.useState(null),m=w.useRef(!1),f=ro(i),g=Xm(a);return w.useEffect(()=>{const b=()=>{m.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>m.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),e.jsx(iO,{...c,children:e.jsx(qbe,{scope:t,open:r,onOpenChange:f,content:d,onContentChange:h,children:e.jsx(Gbe,{scope:t,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:m,dir:g,modal:o,children:n})})})};L9.displayName=vp;var Wbe="MenuAnchor",Kk=w.forwardRef((s,t)=>{const{__scopeMenu:r,...n}=s,a=$y(r);return e.jsx(p2,{...a,...n,ref:t})});Kk.displayName=Wbe;var Xk="MenuPortal",[Ybe,F9]=Fd(Xk,{forceMount:void 0}),B9=s=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=s,i=Bd(Xk,t);return e.jsx(Ybe,{scope:t,forceMount:r,children:e.jsx(ei,{present:r||i.open,children:e.jsx(ep,{asChild:!0,container:a,children:n})})})};B9.displayName=Xk;var Xa="MenuContent",[Kbe,Zk]=Fd(Xa),I9=w.forwardRef((s,t)=>{const r=F9(Xa,s.__scopeMenu),{forceMount:n=r.forceMount,...a}=s,i=Bd(Xa,s.__scopeMenu),o=wp(Xa,s.__scopeMenu);return e.jsx(Bm.Provider,{scope:s.__scopeMenu,children:e.jsx(ei,{present:n||i.open,children:e.jsx(Bm.Slot,{scope:s.__scopeMenu,children:o.modal?e.jsx(Xbe,{...a,ref:t}):e.jsx(Zbe,{...a,ref:t})})})})}),Xbe=w.forwardRef((s,t)=>{const r=Bd(Xa,s.__scopeMenu),n=w.useRef(null),a=is(t,n);return w.useEffect(()=>{const i=n.current;if(i)return y2(i)},[]),e.jsx(Qk,{...s,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:bt(s.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Zbe=w.forwardRef((s,t)=>{const r=Bd(Xa,s.__scopeMenu);return e.jsx(Qk,{...s,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Qbe=Mbe("MenuContent.ScrollLock"),Qk=w.forwardRef((s,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,onDismiss:b,disableOutsideScroll:v,...y}=s,_=Bd(Xa,r),j=wp(Xa,r),S=$y(r),N=O9(r),k=Vbe(r),[C,z]=w.useState(null),E=w.useRef(null),U=is(t,E,_.onContentChange),T=w.useRef(0),re=w.useRef(""),Y=w.useRef(0),I=w.useRef(null),K=w.useRef("right"),L=w.useRef(0),J=v?cy:w.Fragment,Q=v?{as:Qbe,allowPinchZoom:!0}:void 0,Z=F=>{const de=re.current+F,q=k().filter($=>!$.disabled),G=document.activeElement,ie=q.find($=>$.ref.current===G)?.textValue,le=q.map($=>$.textValue),be=dve(le,de,ie),ye=q.find($=>$.textValue===be)?.ref.current;(function $(V){re.current=V,window.clearTimeout(T.current),V!==""&&(T.current=window.setTimeout(()=>$(""),1e3))})(de),ye&&setTimeout(()=>ye.focus())};w.useEffect(()=>()=>window.clearTimeout(T.current),[]),i2();const ee=w.useCallback(F=>K.current===I.current?.side&&hve(F,I.current?.area),[]);return e.jsx(Kbe,{scope:r,searchRef:re,onItemEnter:w.useCallback(F=>{ee(F)&&F.preventDefault()},[ee]),onItemLeave:w.useCallback(F=>{ee(F)||(E.current?.focus(),z(null))},[ee]),onTriggerLeave:w.useCallback(F=>{ee(F)&&F.preventDefault()},[ee]),pointerGraceTimerRef:Y,onPointerGraceIntentChange:w.useCallback(F=>{I.current=F},[]),children:e.jsx(J,{...Q,children:e.jsx(ty,{asChild:!0,trapped:a,onMountAutoFocus:bt(i,F=>{F.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:e.jsx(Qm,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,onDismiss:b,children:e.jsx(wP,{asChild:!0,...N,dir:j.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:z,onEntryFocus:bt(d,F=>{j.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(g2,{role:"menu","aria-orientation":"vertical","data-state":t7(_.open),"data-radix-menu-content":"",dir:j.dir,...S,...y,ref:U,style:{outline:"none",...y.style},onKeyDown:bt(y.onKeyDown,F=>{const q=F.target.closest("[data-radix-menu-content]")===F.currentTarget,G=F.ctrlKey||F.altKey||F.metaKey,ie=F.key.length===1;q&&(F.key==="Tab"&&F.preventDefault(),!G&&ie&&Z(F.key));const le=E.current;if(F.target!==le||!zbe.includes(F.key))return;F.preventDefault();const ye=k().filter($=>!$.disabled).map($=>$.ref.current);M9.includes(F.key)&&ye.reverse(),lve(ye)}),onBlur:bt(s.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(T.current),re.current="")}),onPointerMove:bt(s.onPointerMove,Im(F=>{const de=F.target,q=L.current!==F.clientX;if(F.currentTarget.contains(de)&&q){const G=F.clientX>L.current?"right":"left";K.current=G,L.current=F.clientX}}))})})})})})})});I9.displayName=Xa;var Jbe="MenuGroup",Jk=w.forwardRef((s,t)=>{const{__scopeMenu:r,...n}=s;return e.jsx(qt.div,{role:"group",...n,ref:t})});Jk.displayName=Jbe;var eve="MenuLabel",z9=w.forwardRef((s,t)=>{const{__scopeMenu:r,...n}=s;return e.jsx(qt.div,{...n,ref:t})});z9.displayName=eve;var O0="MenuItem",b6="menu.itemSelect",Vy=w.forwardRef((s,t)=>{const{disabled:r=!1,onSelect:n,...a}=s,i=w.useRef(null),o=wp(O0,s.__scopeMenu),c=Zk(O0,s.__scopeMenu),d=is(t,i),h=w.useRef(!1),m=()=>{const f=i.current;if(!r&&f){const g=new CustomEvent(b6,{bubbles:!0,cancelable:!0});f.addEventListener(b6,b=>n?.(b),{once:!0}),pP(f,g),g.defaultPrevented?h.current=!1:o.onClose()}};return e.jsx(U9,{...a,ref:d,disabled:r,onClick:bt(s.onClick,m),onPointerDown:f=>{s.onPointerDown?.(f),h.current=!0},onPointerUp:bt(s.onPointerUp,f=>{h.current||f.currentTarget?.click()}),onKeyDown:bt(s.onKeyDown,f=>{const g=c.searchRef.current!=="";r||g&&f.key===" "||ON.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Vy.displayName=O0;var U9=w.forwardRef((s,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=s,o=Zk(O0,r),c=O9(r),d=w.useRef(null),h=is(t,d),[m,f]=w.useState(!1),[g,b]=w.useState("");return w.useEffect(()=>{const v=d.current;v&&b((v.textContent??"").trim())},[i.children]),e.jsx(Bm.ItemSlot,{scope:r,disabled:n,textValue:a??g,children:e.jsx(jP,{asChild:!0,...c,focusable:!n,children:e.jsx(qt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:h,onPointerMove:bt(s.onPointerMove,Im(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:bt(s.onPointerLeave,Im(v=>o.onItemLeave(v))),onFocus:bt(s.onFocus,()=>f(!0)),onBlur:bt(s.onBlur,()=>f(!1))})})})}),tve="MenuCheckboxItem",$9=w.forwardRef((s,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=s;return e.jsx(W9,{scope:s.__scopeMenu,checked:r,children:e.jsx(Vy,{role:"menuitemcheckbox","aria-checked":L0(r)?"mixed":r,...a,ref:t,"data-state":tS(r),onSelect:bt(a.onSelect,()=>n?.(L0(r)?!0:!r),{checkForDefaultPrevented:!1})})})});$9.displayName=tve;var V9="MenuRadioGroup",[sve,rve]=Fd(V9,{value:void 0,onValueChange:()=>{}}),H9=w.forwardRef((s,t)=>{const{value:r,onValueChange:n,...a}=s,i=ro(n);return e.jsx(sve,{scope:s.__scopeMenu,value:r,onValueChange:i,children:e.jsx(Jk,{...a,ref:t})})});H9.displayName=V9;var q9="MenuRadioItem",G9=w.forwardRef((s,t)=>{const{value:r,...n}=s,a=rve(q9,s.__scopeMenu),i=r===a.value;return e.jsx(W9,{scope:s.__scopeMenu,checked:i,children:e.jsx(Vy,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":tS(i),onSelect:bt(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});G9.displayName=q9;var eS="MenuItemIndicator",[W9,nve]=Fd(eS,{checked:!1}),Y9=w.forwardRef((s,t)=>{const{__scopeMenu:r,forceMount:n,...a}=s,i=nve(eS,r);return e.jsx(ei,{present:n||L0(i.checked)||i.checked===!0,children:e.jsx(qt.span,{...a,ref:t,"data-state":tS(i.checked)})})});Y9.displayName=eS;var ave="MenuSeparator",K9=w.forwardRef((s,t)=>{const{__scopeMenu:r,...n}=s;return e.jsx(qt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});K9.displayName=ave;var ive="MenuArrow",X9=w.forwardRef((s,t)=>{const{__scopeMenu:r,...n}=s,a=$y(r);return e.jsx(x2,{...a,...n,ref:t})});X9.displayName=ive;var ove="MenuSub",[d1e,Z9]=Fd(ove),nm="MenuSubTrigger",Q9=w.forwardRef((s,t)=>{const r=Bd(nm,s.__scopeMenu),n=wp(nm,s.__scopeMenu),a=Z9(nm,s.__scopeMenu),i=Zk(nm,s.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,h={__scopeMenu:s.__scopeMenu},m=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>m,[m]),w.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),d(null)}},[c,d]),e.jsx(Kk,{asChild:!0,...h,children:e.jsx(U9,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":t7(r.open),...s,ref:tl(t,a.onTriggerChange),onClick:f=>{s.onClick?.(f),!(s.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:bt(s.onPointerMove,Im(f=>{i.onItemEnter(f),!f.defaultPrevented&&!s.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:bt(s.onPointerLeave,Im(f=>{m();const g=r.content?.getBoundingClientRect();if(g){const b=r.content?.dataset.side,v=b==="right",y=v?-5:5,_=g[v?"left":"right"],j=g[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:_,y:g.top},{x:j,y:g.top},{x:j,y:g.bottom},{x:_,y:g.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:bt(s.onKeyDown,f=>{const g=i.searchRef.current!=="";s.disabled||g&&f.key===" "||Ube[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});Q9.displayName=nm;var J9="MenuSubContent",e7=w.forwardRef((s,t)=>{const r=F9(Xa,s.__scopeMenu),{forceMount:n=r.forceMount,...a}=s,i=Bd(Xa,s.__scopeMenu),o=wp(Xa,s.__scopeMenu),c=Z9(J9,s.__scopeMenu),d=w.useRef(null),h=is(t,d);return e.jsx(Bm.Provider,{scope:s.__scopeMenu,children:e.jsx(ei,{present:n||i.open,children:e.jsx(Bm.Slot,{scope:s.__scopeMenu,children:e.jsx(Qk,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{o.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:bt(s.onFocusOutside,m=>{m.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:bt(s.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:bt(s.onKeyDown,m=>{const f=m.currentTarget.contains(m.target),g=$be[o.dir].includes(m.key);f&&g&&(i.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});e7.displayName=J9;function t7(s){return s?"open":"closed"}function L0(s){return s==="indeterminate"}function tS(s){return L0(s)?"indeterminate":s?"checked":"unchecked"}function lve(s){const t=document.activeElement;for(const r of s)if(r===t||(r.focus(),document.activeElement!==t))return}function cve(s,t){return s.map((r,n)=>s[(t+n)%s.length])}function dve(s,t,r){const a=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,i=r?s.indexOf(r):-1;let o=cve(s,Math.max(i,0));a.length===1&&(o=o.filter(h=>h!==r));const d=o.find(h=>h.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function uve(s,t){const{x:r,y:n}=s;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const c=t[i],d=t[o],h=c.x,m=c.y,f=d.x,g=d.y;m>n!=g>n&&r<(f-h)*(n-m)/(g-m)+h&&(a=!a)}return a}function hve(s,t){if(!t)return!1;const r={x:s.clientX,y:s.clientY};return uve(r,t)}function Im(s){return t=>t.pointerType==="mouse"?s(t):void 0}var fve=L9,mve=Kk,pve=B9,gve=I9,xve=Jk,yve=z9,bve=Vy,vve=$9,wve=H9,jve=G9,_ve=Y9,Nve=K9,kve=X9,Sve=Q9,Cve=e7,Hy="DropdownMenu",[Ave]=Aa(Hy,[P9]),Pn=P9(),[Eve,s7]=Ave(Hy),r7=s=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:c=!0}=s,d=Pn(t),h=w.useRef(null),[m,f]=Yo({prop:a,defaultProp:i??!1,onChange:o,caller:Hy});return e.jsx(Eve,{scope:t,triggerId:Xi(),triggerRef:h,contentId:Xi(),open:m,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(g=>!g),[f]),modal:c,children:e.jsx(fve,{...d,open:m,onOpenChange:f,dir:n,modal:c,children:r})})};r7.displayName=Hy;var n7="DropdownMenuTrigger",a7=w.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=s,i=s7(n7,r),o=Pn(r);return e.jsx(mve,{asChild:!0,...o,children:e.jsx(qt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:tl(t,i.triggerRef),onPointerDown:bt(s.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:bt(s.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});a7.displayName=n7;var Tve="DropdownMenuPortal",i7=s=>{const{__scopeDropdownMenu:t,...r}=s,n=Pn(t);return e.jsx(pve,{...n,...r})};i7.displayName=Tve;var o7="DropdownMenuContent",l7=w.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=s7(o7,r),i=Pn(r),o=w.useRef(!1);return e.jsx(gve,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:bt(s.onCloseAutoFocus,c=>{o.current||a.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:bt(s.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!a.modal||m)&&(o.current=!0)}),style:{...s.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});l7.displayName=o7;var Rve="DropdownMenuGroup",Dve=w.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=Pn(r);return e.jsx(xve,{...a,...n,ref:t})});Dve.displayName=Rve;var Mve="DropdownMenuLabel",c7=w.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=Pn(r);return e.jsx(yve,{...a,...n,ref:t})});c7.displayName=Mve;var Pve="DropdownMenuItem",d7=w.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=Pn(r);return e.jsx(bve,{...a,...n,ref:t})});d7.displayName=Pve;var Ove="DropdownMenuCheckboxItem",u7=w.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=Pn(r);return e.jsx(vve,{...a,...n,ref:t})});u7.displayName=Ove;var Lve="DropdownMenuRadioGroup",Fve=w.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=Pn(r);return e.jsx(wve,{...a,...n,ref:t})});Fve.displayName=Lve;var Bve="DropdownMenuRadioItem",h7=w.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=Pn(r);return e.jsx(jve,{...a,...n,ref:t})});h7.displayName=Bve;var Ive="DropdownMenuItemIndicator",f7=w.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=Pn(r);return e.jsx(_ve,{...a,...n,ref:t})});f7.displayName=Ive;var zve="DropdownMenuSeparator",m7=w.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=Pn(r);return e.jsx(Nve,{...a,...n,ref:t})});m7.displayName=zve;var Uve="DropdownMenuArrow",$ve=w.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=Pn(r);return e.jsx(kve,{...a,...n,ref:t})});$ve.displayName=Uve;var Vve="DropdownMenuSubTrigger",p7=w.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=Pn(r);return e.jsx(Sve,{...a,...n,ref:t})});p7.displayName=Vve;var Hve="DropdownMenuSubContent",g7=w.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=Pn(r);return e.jsx(Cve,{...a,...n,ref:t,style:{...s.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});g7.displayName=Hve;var qve=r7,Gve=a7,Wve=i7,x7=l7,y7=c7,b7=d7,v7=u7,w7=h7,j7=f7,_7=m7,N7=p7,k7=g7;const Yve=qve,Kve=Gve,Xve=w.forwardRef(({className:s,inset:t,children:r,...n},a)=>e.jsxs(N7,{ref:a,className:Tt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",s),...n,children:[r,e.jsx(Zr,{className:"ml-auto"})]}));Xve.displayName=N7.displayName;const Zve=w.forwardRef(({className:s,...t},r)=>e.jsx(k7,{ref:r,className:Tt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",s),...t}));Zve.displayName=k7.displayName;const S7=w.forwardRef(({className:s,sideOffset:t=4,...r},n)=>e.jsx(Wve,{children:e.jsx(x7,{ref:n,sideOffset:t,className:Tt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",s),...r})}));S7.displayName=x7.displayName;const LN=w.forwardRef(({className:s,inset:t,...r},n)=>e.jsx(b7,{ref:n,className:Tt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",s),...r}));LN.displayName=b7.displayName;const Qve=w.forwardRef(({className:s,children:t,checked:r,...n},a)=>e.jsxs(v7,{ref:a,className:Tt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:r,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(j7,{children:e.jsx(Qn,{className:"h-4 w-4"})})}),t]}));Qve.displayName=v7.displayName;const Jve=w.forwardRef(({className:s,children:t,...r},n)=>e.jsxs(w7,{ref:n,className:Tt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(j7,{children:e.jsx(t0,{className:"h-2 w-2 fill-current"})})}),t]}));Jve.displayName=w7.displayName;const ewe=w.forwardRef(({className:s,inset:t,...r},n)=>e.jsx(y7,{ref:n,className:Tt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",s),...r}));ewe.displayName=y7.displayName;const C7=w.forwardRef(({className:s,...t},r)=>e.jsx(_7,{ref:r,className:Tt("-mx-1 my-1 h-px bg-muted",s),...t}));C7.displayName=_7.displayName;const twe=45*1e3;function swe(s){const t=s.type||"",r=s.title||"Notification",n=s.notification_text||s.message||"";switch(t){case"new_otp":return{title:"New OTP sent",description:n||"An OTP was sent to a phone number.",type:"info"};case"profile_completed":return{title:"Profile completed (Real user data)",description:n||"A user has completed their profile. Review in Real User Data.",type:"success"};case"user_registered":case"new_user_registered":return{title:"New user registered",description:n||"A new user has registered.",type:"success"};default:return{title:r||"Notification",description:n,type:"info"}}}function rwe(){const s=w.useRef(new Set),t=w.useRef(!0);w.useEffect(()=>{let r;const n=async()=>{try{const a=await iP({unread_only:!0,per_page:20}),i=a.data?.notifications??a.data,o=i?.data??(Array.isArray(i)?i:[]),c=Array.isArray(o)?o:[];if(t.current){c.forEach(d=>d.id!=null&&s.current.add(d.id)),t.current=!1;return}for(const d of c){if(d.id==null||s.current.has(d.id))continue;s.current.add(d.id);const{title:h,description:m,type:f}=swe(d);f==="success"?xe.success(h,{description:m}):f==="error"?xe.error(h,{description:m}):xe.info(h,{description:m})}}catch{}};return n(),r=setInterval(n,twe),()=>clearInterval(r)},[])}function A7(s){if(!s)return"Never";const t=new Date(s),n=new Date-t,a=Math.floor(n/6e4);if(a<1)return"Just now";if(a<60)return`${a} min ago`;const i=Math.floor(a/60);return i<24?`${i}h ago`:t.toLocaleDateString()}function nwe(s){const t=s?.sessions??[];if(t.length===0)return null;const r=t.map(n=>n.last_used_at).filter(Boolean);return r.length===0?null:r.sort((n,a)=>new Date(a)-new Date(n))[0]}const v6=[{id:"main",title:"MAIN",items:[{to:"/admin",label:"Dashboard",icon:JN}]},{id:"management",title:"MANAGEMENT",items:[{to:"/admin/users",label:"Users",icon:_s},{to:"/admin/agencies",label:"Agencies",icon:bY},{to:"/admin/real-user-data",label:"Real User Data",icon:r0},{to:"/admin/cars",label:"Cars",icon:Qt},{to:"/admin/bookings",label:"Bookings",icon:ZN},{to:"/admin/payments",label:"Payments",icon:dr},{to:"/admin/promo-codes",label:"Promo Codes",icon:i0},{to:"/admin/brokers",label:"Brokers",icon:_s},{to:"/admin/ads",label:"Ads",icon:RM},{to:"/admin/featured",label:"Featured",icon:ir},{to:"/admin/holidays",label:"Holidays",icon:Bs}]},{id:"system",title:"SYSTEM",items:[{to:"/admin/services",label:"Services",icon:sc},{to:"/admin/announcements",label:"Announcements",icon:xd},{to:"/admin/appeals",label:"Appeals",icon:rc},{to:"/admin/suggestions",label:"Suggestions",icon:H0},{to:"/admin/notifications",label:"Notifications",icon:xd},{to:"/admin/alerts",label:"Alerts",icon:xd,badgeKey:"alerts"},{to:"/admin/otps",label:"OTPs",icon:$u}]}],awe=()=>{const s=ra(),{logout:t}=Md(),[r,n]=w.useState(0);rwe(),w.useEffect(()=>{oP().then(v=>n(v.data?.unread_count??v.data?.count??0)).catch(()=>n(0))},[s.pathname]);const[a,i]=w.useState(localStorage.getItem("admin_sidebar")==="true"),[o,c]=w.useState(""),[d,h]=w.useState(!1),[m,f]=w.useState(null);w.useEffect(()=>{bX().then(v=>{const y=v.data??v;f({user:y.user,lastSeenAt:y.last_seen_at??y.last_active_at,isOnline:y.is_online})}).catch(()=>f(null))},[]),w.useEffect(()=>{localStorage.setItem("admin_sidebar",a)},[a]),w.useEffect(()=>{window.innerWidth<768&&i(!0)},[]);const g=w.useMemo(()=>o?v6.map(v=>({...v,items:v.items.filter(y=>y.label.toLowerCase().includes(o.toLowerCase()))})).filter(v=>v.items.length>0):v6,[o]),b=s.pathname.replace("/admin","").split("/").filter(Boolean).map(v=>v[0].toUpperCase()+v.slice(1)).join(" / ")||"Dashboard";return e.jsx(Rbe,{delayDuration:0,children:e.jsxs("div",{className:"flex min-h-screen bg-background",children:[e.jsx(el,{children:e.jsxs(nt.aside,{initial:{width:a?88:256},animate:{width:a?88:256},transition:{type:"spring",stiffness:260,damping:30},className:"relative border-r bg-card/95 backdrop-blur p-4 flex flex-col",children:[e.jsx("button",{onClick:()=>i(!a),className:"absolute -right-3 top-6 bg-card border rounded-full p-1 shadow hover:bg-muted",children:e.jsx(vi,{className:Tt("w-4 h-4 transition-transform",a&&"rotate-180")})}),e.jsxs(Yve,{children:[e.jsx(Kve,{asChild:!0,children:e.jsxs("button",{className:"flex items-center gap-3 mb-4 rounded-xl px-2 py-2 hover:bg-muted",children:[e.jsx("img",{src:m?.user?.profile_picture?.startsWith("http")?m.user.profile_picture:m?.user?.profile_picture?`https://rento-lb.com/api/storage/${m.user.profile_picture.replace(/^\//,"")}`:"/rento-512.png",className:"w-10 h-10 rounded-full",alt:""}),!a&&e.jsxs("div",{className:"text-left",children:[e.jsxs("p",{className:"text-sm font-semibold truncate",children:[m?.user?.first_name||m?.user?.username||"Admin",m?.user?.last_name?` ${m.user.last_name}`:""]}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[m?.isOnline?e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-green-500"}):null,m?.lastSeenAt?A7(m.lastSeenAt):""]})]})]})}),e.jsxs(S7,{children:[e.jsxs(LN,{children:[e.jsx(so,{className:"w-4 h-4 mr-2"})," Profile"]}),e.jsx(C7,{}),e.jsxs(LN,{onClick:t,className:"text-red-600",children:[e.jsx(ac,{className:"w-4 h-4 mr-2"})," Logout"]})]})]}),!a&&e.jsxs("div",{className:"mb-4 relative",children:[e.jsx(Mr,{className:"absolute left-3 top-2.5 w-4 h-4 text-muted-foreground"}),e.jsx(Ae,{value:o,onChange:v=>c(v.target.value),placeholder:"Search...",className:"pl-9"})]}),e.jsx("nav",{className:"flex-1 space-y-6 overflow-y-auto",children:g.map(v=>e.jsxs("div",{children:[!a&&e.jsx("p",{className:"px-3 mb-2 text-xs font-semibold text-muted-foreground",children:v.title}),e.jsx("div",{className:"space-y-1",children:v.items.map(({to:y,label:_,icon:j,badge:S,badgeKey:N})=>{const k=N==="alerts"?r:S;return e.jsx("div",{children:e.jsxs(iM,{to:y,end:!0,className:({isActive:C})=>Tt("group relative flex items-center gap-3 rounded-xl px-3 py-2.5 text-sm font-medium","transition-all duration-200","hover:scale-[1.05]",C?"bg-primary/10 text-primary shadow-sm":"text-muted-foreground hover:bg-muted"),children:[e.jsx("span",{className:"absolute inset-0 rounded-xl bg-primary/10 opacity-0 group-[.active]:opacity-100 blur-sm"}),e.jsx(j,{className:"relative w-4 h-4"}),!a&&e.jsx("span",{children:_}),k!=null&&Number(k)>0&&!a&&e.jsx(nt.span,{animate:{scale:[1,1.15,1]},transition:{repeat:1/0,duration:1.8},className:"ml-auto bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:k})]})},y)})})]},v.id))})]})}),e.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[e.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Admin / ",b]}),e.jsx(nt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},children:e.jsx(tH,{})},s.pathname)]})]})})};Qa.register(...up);const iwe=({data:s})=>{const t=w.useRef(null),r=w.useRef(null);return w.useEffect(()=>{if(!s?.length||!t.current)return;const n=t.current.getContext("2d");r.current&&(r.current.destroy(),r.current=null);const a=s.map(o=>o.label),i=[{key:"pending",label:"Pending",color:"#facc15"},{key:"completed",label:"Completed",color:"#22c55e"},{key:"cancelled",label:"Cancelled",color:"#ef4444"},{key:"total",label:"Total",color:"#3b82f6"}];return r.current=new Qa(n,{type:"line",data:{labels:a,datasets:i.map(({key:o,label:c,color:d})=>({label:c,data:s.map(h=>h[o]??0),borderColor:d,backgroundColor:`${d}20`,fill:!1,tension:.2}))},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,font:{size:11}}},y:{beginAtZero:!0,ticks:{stepSize:1,font:{size:11}},grid:{color:"rgba(0,0,0,0.06)"}}},animation:{duration:400}}}),()=>{r.current&&(r.current.destroy(),r.current=null)}},[s]),!s||s.length===0?null:e.jsx("div",{className:"w-full h-[320px]",children:e.jsx("canvas",{ref:t})})};Qa.register(...up);const owe="#00A19C",lwe=({data:s})=>{const t=w.useRef(null),r=w.useRef(null);return w.useEffect(()=>{if(!s?.length||!t.current)return;const n=t.current.getContext("2d");return r.current&&(r.current.destroy(),r.current=null),r.current=new Qa(n,{type:"bar",data:{labels:s.map(a=>a.label),datasets:[{label:"Cars",data:s.map(a=>a.count),backgroundColor:owe,borderRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:a=>"Cars: "+a.raw}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:0,font:{size:12}}},y:{beginAtZero:!0,ticks:{stepSize:1,font:{size:12}},grid:{color:"rgba(0,0,0,0.06)"}}},animation:{duration:600}}}),()=>{r.current&&(r.current.destroy(),r.current=null)}},[s]),s?.length?e.jsx("div",{className:"w-full h-full min-h-[280px]",children:e.jsx("canvas",{ref:t})}):null};Qa.register(...up);const cwe=({data:s})=>{const t=w.useRef(null),r=w.useRef(null),n=s?.length&&"count"in(s[0]??{});return w.useEffect(()=>{if(!s?.length||!t.current)return;const a=t.current.getContext("2d");r.current&&(r.current.destroy(),r.current=null);const i=s.map(c=>c.label),o=n?[{label:"Clicks",data:s.map(c=>c.count??0),borderColor:"#00A19C",backgroundColor:"rgba(0,161,156,0.15)",fill:!0,tension:.3}]:[{label:"App Store (iOS)",data:s.map(c=>c.ios??0),borderColor:"#007AFF",backgroundColor:"rgba(0,122,255,0.15)",fill:!0,tension:.3},{label:"Play Store (Android)",data:s.map(c=>c.android??0),borderColor:"#34C759",backgroundColor:"rgba(52,199,89,0.15)",fill:!0,tension:.3}];return r.current=new Qa(a,{type:"line",data:{labels:i,datasets:o},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",callbacks:{afterBody:c=>`Total: ${c.reduce((h,m)=>h+(m.raw??0),0)}`}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:0,font:{size:11}}},y:{beginAtZero:!0,ticks:{stepSize:1,font:{size:11}},grid:{color:"rgba(0,0,0,0.06)"}}},animation:{duration:400}}}),()=>{r.current&&(r.current.destroy(),r.current=null)}},[s,n]),s?.length?e.jsx("div",{className:"w-full h-full min-h-[280px]",children:e.jsx("canvas",{ref:t})}):null};Qa.register(...up);const dwe=({byStore:s})=>{const t=w.useRef(null),r=w.useRef(null),n=s?.playstore??0,a=s?.appstore??0,i=n+a;return w.useEffect(()=>{if(!t.current)return;const o=t.current.getContext("2d");return r.current&&(r.current.destroy(),r.current=null),r.current=new Qa(o,{type:"pie",data:{labels:["Play Store","App Store"],datasets:[{data:[n,a],backgroundColor:["#34C759","#007AFF"],borderWidth:2,borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:c=>{const d=c.raw??0,h=i>0?(d/i*100).toFixed(1):0;return`${c.label}: ${d} (${h}%)`}}}},animation:{duration:400}}}),()=>{r.current&&(r.current.destroy(),r.current=null)}},[n,a]),e.jsx("div",{className:"w-full h-full min-h-[200px]",children:e.jsx("canvas",{ref:t})})},$i=s=>s.toISOString().split("T")[0],uwe=(s,t,r)=>{const n={},a=new Date,i=(o,c)=>{o[c]||(o[c]=0),o[c]++};if(t==="day"){const o=new Date(r.from),c=new Date(r.to);for(;o<=c;){const d=$i(o);n[d]={label:o.toLocaleDateString("en-US",{month:"short",day:"numeric"}),total:0,pending:0,completed:0,cancelled:0},o.setDate(o.getDate()+1)}return s.forEach(d=>{if(!d.start_datetime)return;const h=$i(new Date(d.start_datetime));n[h]&&(n[h].total++,i(n[h],d.booking_request_status))}),Object.values(n)}if(t==="week"){for(let o=6;o>=0;o--){const c=new Date;c.setDate(a.getDate()-o);const d=$i(c);n[d]={label:c.toLocaleDateString("en-US",{weekday:"short"}),total:0,pending:0,completed:0,cancelled:0}}return s.forEach(o=>{if(!o.start_datetime)return;const c=$i(new Date(o.start_datetime));n[c]&&(n[c].total++,i(n[c],o.booking_request_status))}),Object.values(n)}if(t==="month"){const o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return o.forEach(c=>{n[c]={label:c,total:0,pending:0,completed:0,cancelled:0}}),s.forEach(c=>{if(!c.start_datetime)return;const d=new Date(c.start_datetime);if(d.getFullYear()!==a.getFullYear())return;const h=d.toLocaleString("en-US",{month:"short"});n[h].total++,i(n[h],c.booking_request_status)}),o.map(c=>n[c])}return s.forEach(o=>{if(!o.start_datetime)return;const c=new Date(o.start_datetime).getFullYear();n[c]||(n[c]={label:String(c),total:0,pending:0,completed:0,cancelled:0}),n[c].total++,i(n[c],o.booking_request_status)}),Object.values(n).sort((o,c)=>Number(o.label)-Number(c.label))},hwe=()=>{const[s,t]=w.useState({users:0,cars:0,bookings:0,revenue:0}),[r,n]=w.useState(null),[a,i]=w.useState([]),[o,c]=w.useState(!0),d=new Date,h=new Date;h.setDate(d.getDate()-29);const[m,f]=w.useState("day"),[g,b]=w.useState({from:h,to:d}),[v,y]=w.useState([]),[_,j]=w.useState(!0);w.useEffect(()=>{(async()=>{try{c(!0);const D=await Le.get("/admin/users"),Ce=await Le.get("/admin/cars",{params:{per_page:1,page:1}}),H=await Le.get("/admin/bookings"),R=await Le.get("/admin/payments"),W=(Ce.data?.cars??Ce.data)?.total??Ce.data?.meta?.total??0;t({users:D.data?.users?.total??0,cars:W,bookings:H.data?.bookings?.total??H.data?.total??0,revenue:R.data?.total_revenue??R.data?.revenue??0})}catch(D){console.error("Dashboard stats error:",D)}finally{c(!1)}})()},[]),w.useEffect(()=>{(async()=>{try{const D=await XI({minutes:30}),Ce=D.data??D,H=Ce?.online_users??Ce?.users??Ce?.data??[];i(Array.isArray(H)?H:[]),n(Ce?.online_users_count??(Array.isArray(H)?H.length:0))}catch{n(0),i([])}})()},[]),w.useEffect(()=>{(async()=>{try{j(!0);const Ce=(await Le.get("/admin/bookings"))?.data?.bookings?.data||[],H=uwe(Ce,m,g);y(H)}catch(D){console.error("Chart error:",D),y([])}finally{j(!1)}})()},[m,g]);const S=({title:oe,value:D,icon:Ce,color:H,subtitle:R})=>e.jsx(Ue,{children:e.jsxs(He,{className:"p-6 flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl ${H} flex items-center justify-center`,children:e.jsx(Ce,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:oe}),e.jsx("h2",{className:"text-2xl font-bold",children:o?"":D}),R!=null&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[e.jsx(t0,{className:"w-2 h-2 fill-green-500 text-green-500"}),R]})]})]})}),[N,k]=w.useState([]),[C,z]=w.useState(""),[E,U]=w.useState(""),[T,re]=w.useState([]);w.useEffect(()=>{(async()=>{try{const D=await Le.get("admin/cars");k(D.data?.cars?.data||D.data?.cars||[])}catch(D){console.error("Cars fetch error",D)}})()},[]);const Y=oe=>[...new Set(oe.map(D=>D.make).filter(Boolean))].sort(),I=(oe,D,Ce)=>{let H=[...oe];Ce&&(H=H.filter(P=>P.model===Ce)),D&&(H=H.filter(P=>P.make===D));const R={};return H.forEach(P=>{let W;Ce&&D?W=`${P.make} ${P.model}`:Ce?W=P.make:D?W=P.model:W=P.make,W&&(R[W]=(R[W]||0)+1)}),Object.entries(R).map(([P,W])=>({label:P,count:W}))},K=(oe,D)=>{const Ce=D?oe.filter(H=>H.make===D):oe;return[...new Set(Ce.map(H=>H.model).filter(Boolean))].sort()};w.useEffect(()=>{U("")},[C]),w.useEffect(()=>{const oe=I(N,C,E);re(oe)},[N,C,E]);const[L,J]=w.useState([]),[Q,Z]=w.useState("day"),[ee,F]=w.useState([]),[de,q]=w.useState({playstore:0,appstore:0}),[G,ie]=w.useState(0),[le,be]=w.useState(!0),[ye,$]=w.useState(!0),[V,me]=w.useState(null),[ce,he]=w.useState({from:(()=>{const oe=new Date;return oe.setDate(oe.getDate()-29),oe})(),to:new Date}),O=()=>Q==="day"?7:Q==="week"?28:30;return w.useEffect(()=>{(async()=>{try{be(!0),me(null);const D=await uye({period:Q,days_back:O()});me(!0);const Ce=D.data??D,H=Ce.series??Ce.data?.series??[],R=Ce.by_store??Ce.data?.by_store??{playstore:0,appstore:0},P=Ce.total_clicks??Ce.data?.total_clicks??0;F(Array.isArray(H)?H:[]),q(typeof R=="object"?R:{playstore:0,appstore:0}),ie(typeof P=="number"?P:0)}catch(D){me(D.response?.status===404?!1:null),D.response?.status!==404&&console.error("Clicks chart error",D),F([]),q({playstore:0,appstore:0}),ie(0)}finally{be(!1)}})()},[Q]),w.useEffect(()=>{(async()=>{try{$(!0);const D=await dye({date_from:$i(ce.from),date_to:$i(ce.to),per_page:100}),Ce=D.data??D,H=Ce.clicks??Ce.data?.clicks??Ce.data??Ce,R=H?.data??(Array.isArray(H)?H:[]);J(Array.isArray(R)?R:[])}catch(D){D.response?.status!==404&&console.error("Clicks list error",D),J([])}finally{$(!1)}})()},[ce.from,ce.to]),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(S,{title:"Total Users",value:s.users,icon:_s,color:"bg-blue-500",subtitle:r!==null?`Online now: ${r}`:void 0}),e.jsx(S,{title:"Total Cars",value:s.cars,icon:Qt,color:"bg-[#00A19C]"}),e.jsx(S,{title:"Total Bookings",value:s.bookings,icon:ZN,color:"bg-purple-500"}),e.jsx(S,{title:"Total Revenue",value:`$${s.revenue}`,icon:dr,color:"bg-green-500"})]}),a.length>0&&e.jsx(Ue,{children:e.jsxs(He,{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[e.jsx(t0,{className:"w-4 h-4 fill-green-500 text-green-500"}),"Online Users (",r,")"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-[240px] overflow-y-auto",children:a.slice(0,12).map(oe=>{const D=nwe(oe),Ce=[oe.first_name,oe.last_name].filter(Boolean).join(" ")||oe.username||`User #${oe.id}`;return e.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border p-3 bg-muted/30",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:Ce}),e.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["@",oe.username,"  ",oe.role]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground shrink-0",children:[e.jsx(mc,{className:"w-3.5 h-3.5"}),A7(D)]})]},oe.id)})}),a.length>12&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["+",a.length-12," more"]})]})}),e.jsx(Ue,{children:e.jsxs(He,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Booking Overview"}),e.jsxs("div",{className:"flex flex-col gap-3 min-w-[160px]",children:[e.jsxs("select",{value:m,onChange:oe=>f(oe.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",children:[e.jsx("option",{value:"day",children:"Daily"}),e.jsx("option",{value:"week",children:"Week"}),e.jsx("option",{value:"month",children:"Month"}),e.jsx("option",{value:"year",children:"Year"})]}),m==="day"&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"From"}),e.jsx("input",{type:"date",value:$i(g.from),onChange:oe=>b(D=>({...D,from:new Date(oe.target.value)})),className:"border rounded-md px-2 py-1 text-sm w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"To"}),e.jsx("input",{type:"date",value:$i(g.to),onChange:oe=>b(D=>({...D,to:new Date(oe.target.value)})),className:"border rounded-md px-2 py-1 text-sm w-full"})]})]})]})]}),e.jsx("div",{className:"w-full h-[320px]",children:_?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Loading chart data..."}):v.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No booking data"}):e.jsx(iwe,{data:v})})]})}),e.jsx(Ue,{children:e.jsxs(He,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Cars Distribution"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("select",{value:C,onChange:oe=>z(oe.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",children:[e.jsx("option",{value:"",children:"All Makes"}),Y(N).map(oe=>e.jsx("option",{value:oe,children:oe},oe))]}),e.jsxs("select",{value:E,onChange:oe=>U(oe.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",disabled:!N.length,children:[e.jsx("option",{value:"",children:"All Models"}),K(N,C).map(oe=>e.jsx("option",{value:oe,children:oe},oe))]})]})]}),e.jsx("div",{className:"h-[300px] w-full",children:T.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No car data"}):e.jsx(lwe,{data:T})})]})}),e.jsx(Ue,{children:e.jsxs(He,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Jl,{className:"w-5 h-5"}),"Mobile App Store Clicks"]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("select",{value:Q,onChange:oe=>Z(oe.target.value),className:"border rounded-md px-3 py-1.5 text-sm bg-background",children:[e.jsx("option",{value:"day",children:"Daily"}),e.jsx("option",{value:"week",children:"Weekly"}),e.jsx("option",{value:"month",children:"Monthly"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"date",value:$i(ce.from),onChange:oe=>he(D=>({...D,from:new Date(oe.target.value)})),className:"border rounded-md px-2 py-1 text-sm"}),e.jsx("span",{className:"text-muted-foreground",children:""}),e.jsx("input",{type:"date",value:$i(ce.to),onChange:oe=>he(D=>({...D,to:new Date(oe.target.value)})),className:"border rounded-md px-2 py-1 text-sm"})]})]})]}),V===!1&&e.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-500 bg-amber-50 dark:bg-amber-950/30 rounded-lg p-3",children:["API not found (404). Ensure the backend exposes ",e.jsx("code",{className:"text-xs bg-amber-100 dark:bg-amber-900/50 px-1 rounded",children:"GET /api/admin/mobile-app-clicks"})," and ",e.jsx("code",{className:"text-xs bg-amber-100 dark:bg-amber-900/50 px-1 rounded",children:"GET /api/admin/mobile-app-clicks/chart"}),"."]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"lg:col-span-2 h-[300px]",children:le?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Loading chart..."}):ee.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground gap-2",children:[e.jsx("span",{children:"No click data"}),V===!0&&e.jsx("span",{className:"text-xs",children:"Clicks are recorded when users tap Play Store / App Store links."})]}):e.jsxs("div",{className:"h-full",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Timeline"}),e.jsx(cwe,{data:ee})]})}),e.jsx("div",{className:"h-[260px] lg:h-[300px]",children:le?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground text-sm",children:"Loading..."}):(de?.playstore||de?.appstore)>0?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"By store"}),e.jsx(dwe,{byStore:de})]}):e.jsx("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground text-sm",children:e.jsx("span",{children:"No store breakdown yet"})})})]}),(de?.playstore||de?.appstore||G)>0&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total: ",G,"  Play Store: ",de?.playstore??0,"  App Store: ",de?.appstore??0]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Clickers list (date range below)"}),e.jsx("div",{className:"overflow-x-auto rounded-md border max-h-[320px] overflow-y-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Date"}),e.jsx("th",{className:"text-left p-3",children:"Store"}),e.jsx("th",{className:"text-left p-3",children:"IP"}),e.jsx("th",{className:"text-left p-3",children:"City"}),e.jsx("th",{className:"text-left p-3",children:"Country"})]})}),e.jsx("tbody",{children:ye?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-6 text-center text-muted-foreground",children:"Loading..."})}):L.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-6 text-center text-muted-foreground",children:"No clicks recorded"})}):[...L].sort((oe,D)=>new Date(D.created_at||0)-new Date(oe.created_at||0)).map(oe=>e.jsxs("tr",{className:"border-t hover:bg-muted/30",children:[e.jsx("td",{className:"p-3",children:oe.created_at?new Date(oe.created_at).toLocaleString():""}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`inline-flex px-2 py-0.5 rounded text-xs font-medium ${(oe.store||"").includes("ios")?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:(oe.store||"").toLowerCase().includes("app")?"App Store":"Play Store"})}),e.jsx("td",{className:"p-3 font-mono text-xs",children:oe.ip||""}),e.jsx("td",{className:"p-3",children:oe.city||""}),e.jsx("td",{className:"p-3",children:oe.country_name||oe.country||oe.country_code||""})]},oe.id||`${oe.created_at}-${oe.ip}`))})]})})]})]})})]})},fwe=1,mwe=1e6;let r_=0;function pwe(){return r_=(r_+1)%Number.MAX_SAFE_INTEGER,r_.toString()}const n_=new Map,w6=s=>{if(n_.has(s))return;const t=setTimeout(()=>{n_.delete(s),gm({type:"REMOVE_TOAST",toastId:s})},mwe);n_.set(s,t)},gwe=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,fwe)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?w6(r):s.toasts.forEach(n=>{w6(n.id)}),{...s,toasts:s.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(r=>r.id!==t.toastId)}}},Vx=[];let Hx={toasts:[]};function gm(s){Hx=gwe(Hx,s),Vx.forEach(t=>{t(Hx)})}function _n({...s}){const t=pwe(),r=a=>gm({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>gm({type:"DISMISS_TOAST",toastId:t});return gm({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function jp(){const[s,t]=w.useState(Hx);return w.useEffect(()=>(Vx.push(t),()=>{const r=Vx.indexOf(t);r>-1&&Vx.splice(r,1)}),[s]),{...s,toast:_n,dismiss:r=>gm({type:"DISMISS_TOAST",toastId:r})}}const xwe=()=>{br();const{toast:s}=jp(),t=20,[r,n]=w.useState([]),[a,i]=w.useState({current_page:1,last_page:1,per_page:t,total:0}),[o,c]=w.useState(1),[d,h]=w.useState(null),[m,f]=w.useState(!0),[g,b]=w.useState(null),[v,y]=w.useState(!1),[_,j]=w.useState(""),[S,N]=w.useState(null),[k,C]=w.useState(""),[z,E]=w.useState([]),[U,T]=w.useState("all"),[re,Y]=w.useState(!1),I=w.useCallback(async()=>{f(!0);try{const F={page:o,per_page:t,sort_by:"created_at",sort_order:"desc"};k.trim()&&(F.search=k.trim()),z.length===1?F.role=z[0]:z.length>1&&(F.role=z.join(",")),U==="active"?F.status=!0:U==="blocked"&&(F.status=!1);const de=await fh(F),q=de.data?.users??de.data,G=Array.isArray(q)?q:q?.data??[];n(Array.isArray(G)?G:[]);const ie=q?.current_page!=null?{current_page:q.current_page,last_page:q.last_page??1,per_page:q.per_page??t,total:q.total??0}:{current_page:o,last_page:1,per_page:t,total:0};i(le=>({...le,current_page:ie.current_page??o,last_page:ie.last_page??1,per_page:ie.per_page??t,total:ie.total??0}))}catch{s({title:"Error",description:"Failed to load users",variant:"destructive"}),n([])}finally{f(!1)}},[o,k,z,U]);w.useEffect(()=>{I()},[I]),w.useEffect(()=>{c(1)},[k,z,U]),w.useEffect(()=>{(async()=>{try{const de=await XI({minutes:30}),q=de.data??de,G=q?.online_users??q?.users??q?.data??[];h(q?.online_users_count??(Array.isArray(G)?G.length:0))}catch{h(0)}})()},[]);const K=async F=>{try{const{data:de}=await Le.get(`/admin/users/${F}`);return de.user}catch{return s({title:"Error",description:"Failed to fetch user details",variant:"destructive"}),null}},L="/avatar.png",J="https://rento-lb.com/api/storage/",Q=F=>{const de=F?.profile_picture;if(!de)return L;if(de.startsWith("http"))return de;const q=de.startsWith("/")?de.slice(1):de;return J+q},Z=[...r].sort((F,de)=>new Date(de.created_at||0)-new Date(F.created_at||0)),ee=async F=>{if(confirm("Delete this user?"))try{await Le.delete(`/admin/users/${F}`),n(de=>de.filter(q=>q.id!==F)),i(de=>({...de,total:Math.max(0,(de.total??0)-1)})),s({title:"User deleted"})}catch{s({title:"Error",description:"Delete failed",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(yr,{open:v,onOpenChange:y,children:e.jsxs(ur,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(hr,{children:e.jsx(fr,{children:_==="edit-user"?"Edit User":"User Details"})}),_==="view-user"&&g&&e.jsx(_we,{user:g,onEdit:()=>{N({...g}),j("edit-user")},onClose:()=>y(!1)}),_==="edit-user"&&S&&e.jsx(Nwe,{user:S,setUser:N,onClose:()=>{y(!1),j("view-user")},onSaved:F=>{b(F),N({...F}),j("view-user")}})]})}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Users"})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"relative w-full sm:w-72",children:[e.jsx(Mr,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(Ae,{placeholder:"Search user...",className:"pl-9",value:k,onChange:F=>C(F.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_s,{className:"h-4 w-4"}),e.jsx("span",{children:"Total:"}),e.jsx("span",{className:"font-semibold text-foreground",children:a.total})]}),d!==null&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t0,{className:"w-2.5 h-2.5 fill-green-500 text-green-500"}),e.jsx("span",{children:"Online now:"}),e.jsx("span",{className:"font-semibold text-foreground",children:d})]})]}),e.jsx(fe,{variant:"outline",size:"sm",onClick:()=>Y(F=>!F),children:"Filters"})]})]}),re&&e.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-4 rounded-lg border p-4 bg-background",children:[e.jsxs(ot,{value:U,onValueChange:T,children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Status"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All"}),e.jsx(ke,{value:"active",children:"Active"}),e.jsx(ke,{value:"blocked",children:"Blocked"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-3 text-sm",children:["client","agency","admin"].map(F=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:z.includes(F),onChange:de=>{const q=de.target.checked;E(G=>q?[...G,F]:G.filter(ie=>ie!==F))}}),e.jsx("span",{className:"capitalize",children:F})]},F))})]}),e.jsx(Ue,{children:e.jsxs(He,{className:"p-4",children:[m?e.jsx("p",{className:"p-6 text-muted-foreground text-center",children:"Loading users..."}):Z.length===0?e.jsx("p",{className:"p-6 text-muted-foreground text-center",children:"No users found"}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Z.map(F=>e.jsx(Ue,{className:"overflow-hidden border-2 hover:shadow-md transition-shadow",children:e.jsxs(He,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3 cursor-pointer",title:ywe(F),role:"button",tabIndex:0,onClick:()=>j6(F.id,K,b,j,y),onKeyDown:de=>de.key==="Enter"&&j6(F.id,K,b,j,y),children:[e.jsx("img",{src:Q(F),alt:F.username||"User",className:"h-12 w-12 rounded-full object-cover ring-2 ring-muted",onError:de=>{de.currentTarget.onerror=null,de.currentTarget.src="/avatar.png"}}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-semibold truncate",children:F.first_name&&F.last_name?`${F.first_name} ${F.last_name}`:F.username||`User #${F.id}`}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:F.phone_number||""})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[e.jsx(Ge,{variant:"outline",className:"capitalize",children:F.role}),F.update_access?e.jsx(Ge,{className:"bg-green-500",children:"Active"}):e.jsx(Ge,{variant:"destructive",children:"Blocked"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[e.jsx(fe,{variant:"ghost",size:"icon",onClick:async()=>{const de=await K(F.id);de&&(b(de),j("view-user"),y(!0))},title:"View Details",children:e.jsx(er,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:async()=>{const de=await K(F.id);de&&(b(de),N({...de}),j("edit-user"),y(!0))},title:"Edit User",children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{size:"icon",variant:"ghost","aria-label":"Delete user",className:"text-red-500 hover:text-red-600",onClick:()=>ee(F.id),title:"Remove User",children:e.jsx(tr,{className:"h-4 w-4"})})]})]})},F.id))}),a.last_page>1&&!m&&Z.length>0&&e.jsxs("div",{className:"flex flex-col items-center gap-3 mt-6 pt-4 border-t",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",e.jsx("span",{className:"font-semibold text-foreground",children:a.current_page})," of"," ",e.jsx("span",{className:"font-semibold text-foreground",children:a.last_page})," (",a.total," users)"]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-center",children:[e.jsx(fe,{variant:"outline",size:"sm",disabled:a.current_page<=1,onClick:()=>c(F=>F-1),children:e.jsx(vi,{size:16})}),Array.from({length:a.last_page},(F,de)=>de+1).filter(F=>F===1||F===a.last_page||Math.abs(F-a.current_page)<=2).map(F=>e.jsx(fe,{size:"sm",variant:F===a.current_page?"default":"outline",onClick:()=>c(F),children:F},F)),e.jsx(fe,{variant:"outline",size:"sm",disabled:a.current_page>=a.last_page,onClick:()=>c(F=>F+1),children:e.jsx(Zr,{size:16})})]})]})]})})]})};function ywe(s){if(!s)return"";const t=s.client||{},r=t.qualification_code||{};return[`User ID : ${s.id??"N/A"}`,`Age : ${r.age??"N/A"}`,`Gender : ${s.gender??"N/A"}`,`City : ${s.city??"N/A"}`,`Bio : ${s.bio??"N/A"}`,`Profession : ${t.profession??"N/A"}`,`Email : ${s.email??"N/A"}`,`License number : ${t.license_number??"N/A"}`,`Average rating : ${t.average_rating??"N/A"}`,`OTP verification : ${s.otp_verification??"N/A"}`].join(`
`)}async function j6(s,t,r,n,a){const i=await t(s);i&&(r(i),n("view-user"),a(!0))}function E7(s){if(!s)return"N/A";const t=new Date(s);return Number.isNaN(t.getTime())?String(s):t.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}function F0(s){if(!s)return"N/A";const t=new Date(s);return Number.isNaN(t.getTime())?String(s):t.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}const bwe="https://rento-lb.com/api/storage/",vwe="/avatar.png";function wwe(s,t=null){if(!s)return t;if(s.startsWith("http"))return s;const r=s.startsWith("/")?s.slice(1):s;return bwe+r}function jwe(s){return s?String(s).toLowerCase().split("?")[0].endsWith(".pdf"):!1}function _x({title:s,path:t,fallback:r=null}){const n=wwe(t,r);if(!n)return e.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"});if(jwe(n)){const a=`${n}#toolbar=0&navpanes=0&scrollbar=0`;return e.jsx("iframe",{title:s,src:a,className:"w-full max-w-[260px] h-[180px] rounded-md border bg-white"})}return e.jsx("img",{src:n,alt:s,className:"w-full max-w-[260px] h-[180px] object-cover rounded-md border",onError:a=>{r&&(a.currentTarget.onerror=null,a.currentTarget.src=r)}})}function _we({user:s,onEdit:t,onClose:r}){const n=s?.client||{};function a({label:c,value:d}){return e.jsxs("div",{className:"flex items-center gap-2 test-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[c," :"]}),e.jsx("span",{className:"text-foreground",children:d??"N/A"})]})}const i=({label:c,value:d,tone:h="neutral"})=>{const m=h==="teal"?"bg-teal-600 text-white":h==="red"?"bg-red-600 text-white":"bg-muted text-foreground";return e.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx("span",{className:" text-muted-foreground",children:c}),e.jsx("span",{className:`inline-flex items-center justify-center px-2 h-5 rounded text-xs font-semibold leading-none ${m}`,children:d})]})},o=s?.status?"Active":"Inactive";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(a,{label:"ID",value:s?.id}),e.jsx(a,{label:"Username",value:s?.username}),e.jsx(a,{label:"Email",value:s?.email}),e.jsx(a,{label:"Phone Number",value:s?.phone_number}),e.jsx(a,{label:"First Name",value:s?.first_name}),e.jsx(a,{label:"Last Name",value:s?.last_name}),e.jsx(a,{label:"Gender",value:s?.gender}),e.jsx(a,{label:"Birth Date",value:E7(s?.birth_date)}),e.jsx(a,{label:"City",value:s?.city}),e.jsx(a,{label:"Role",value:s?.role}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(i,{label:"Status:",value:o,tone:s?.status?"teal":"red"})}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(i,{label:"Verified by Admin:",value:s?.verified_by_admin?"Yes":"No",tone:s?.verified_by_admin?"teal":"red"})}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(i,{label:"Is Locked:",value:s?.is_locked?"Locked":"Unlocked",tone:s?.is_locked?"red":"teal"})}),e.jsx(a,{label:"Created At",value:F0(s?.created_at)}),e.jsx(a,{label:"Updated At",value:F0(s?.updated_at)})]}),e.jsx("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:e.jsx(a,{label:"Bio",value:s?.bio})}),e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Client Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(a,{label:"License Number",value:n?.license_number}),e.jsx(a,{label:"Profession",value:n?.profession}),e.jsx(a,{label:"Average Salary",value:n?.avg_salary}),e.jsx(a,{label:"Promo Code",value:n?.promo_code})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Documents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Profile Picture"}),e.jsx(_x,{title:"Profile Picture",path:s?.profile_picture,fallback:vwe})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Driver License"}),e.jsx(_x,{title:"Driver License",path:n?.driver_license})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"ID Card Front"}),e.jsx(_x,{title:"ID Card Front",path:s?.id_card_front})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"ID Card Back"}),e.jsx(_x,{title:"ID Card Back",path:s?.id_card_back})]})]})]}),e.jsxs("div",{className:"pt-3 flex gap-2",children:[e.jsx(fe,{className:"flex-1",onClick:t,children:"Edit User"}),e.jsx(fe,{variant:"outline",className:"w-28",onClick:r,children:"Close"})]})]})}function Nwe({user:s,setUser:t,onClose:r,onSaved:n}){const{toast:a}=jp(),i=(h,m)=>t(f=>({...f,[h]:m})),o=s?.client||{},c=async()=>{try{const h={verified_by_admin:!!s?.verified_by_admin,status:!!s?.status,is_locked:!!s?.is_locked,update_access:!!s?.update_access},{data:m}=await Le.put(`/admin/users/${s.id}`,h),f=m.user??m.data??s;a({title:"Saved",description:"User updated successfully"}),n?.(f)}catch{a({title:"Error",description:"Failed to update user",variant:"destructive"})}},d=({label:h,value:m,onChange:f})=>e.jsxs("div",{className:"flex items-center justify-between gap-3 py-2",children:[e.jsx("div",{className:"text-sm",children:h}),e.jsx("button",{type:"button",role:"switch","aria-checked":!!m,onClick:()=>f(!m),className:["relative inline-flex h-5 w-10 items-center rounded-full transition-colors",m?"bg-teal-600":"bg-muted","focus:outline-none focus:ring-2 focus:ring-teal-500/40"].join(" "),children:e.jsx("span",{className:["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",m?"translate-x-5":"translate-x-1","shadow"].join(" ")})})]});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"ID"}),e.jsx(Ae,{value:s?.id??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Username"}),e.jsx(Ae,{value:s?.username??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Email"}),e.jsx(Ae,{value:s?.email??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Phone Number"}),e.jsx(Ae,{value:s?.phone_number??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"First Name"}),e.jsx(Ae,{value:s?.first_name??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Last Name"}),e.jsx(Ae,{value:s?.last_name??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Gender"}),e.jsx(Ae,{value:s?.gender??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Birth Date"}),e.jsx(Ae,{value:E7(s?.birth_date),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"City"}),e.jsx(Ae,{value:s?.city??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Role"}),e.jsx(Ae,{value:s?.role??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Created At"}),e.jsx(Ae,{value:F0(s?.created_at),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Updated At"}),e.jsx(Ae,{value:F0(s?.updated_at),disabled:!0})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(ue,{children:"Bio"}),e.jsx("textarea",{className:"w-full border rounded-md p-2 min-h-[90px]",value:s?.bio??"",disabled:!0})]})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Client Details (Read-only)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"License Number"}),e.jsx(Ae,{value:o?.license_number??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Profession"}),e.jsx(Ae,{value:o?.profession??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Average Salary"}),e.jsx(Ae,{value:o?.avg_salary??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Promo Code"}),e.jsx(Ae,{value:o?.promo_code??"",disabled:!0})]})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Editable Fields"}),e.jsxs("div",{className:"rounded-md border p-3 space-y-1",children:[s?.verified_by_admin&&e.jsx(d,{label:"Verified by Admin (can revoke only)",value:s?.verified_by_admin,onChange:h=>i("verified_by_admin",h)}),e.jsx(d,{label:"Status (Active)",value:s?.status,onChange:h=>i("status",h)}),e.jsx(d,{label:"Is Locked",value:s?.is_locked,onChange:h=>i("is_locked",h)}),e.jsx(d,{label:"Update Access Allow Profile Updates",value:s?.update_access,onChange:h=>i("update_access",h)})]}),e.jsxs("div",{className:"pt-3 flex gap-2 justify-end",children:[e.jsx(fe,{className:"w-36",onClick:c,children:"Update User"}),e.jsx(fe,{variant:"outline",className:"w-28",onClick:r,children:"Cancel"})]})]})}const Nx=20,kwe=[{label:"Select region...",value:""},{label:"Beirut",value:"Beirut"},{label:"Mount Lebanon",value:"Mount Lebanon"},{label:"North",value:"North"},{label:"South",value:"South"},{label:"Bekaa",value:"Bekaa"},{label:"Baalbek",value:"Baalbek"},{label:"Keserwan",value:"Keserwan"},{label:"Nabatieh",value:"Nabatieh"},{label:"Akkar",value:"Akkar"}];function Swe(s){if(!s||typeof s!="string")return null;const t=s.trim(),r=t.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(r)return{lat:parseFloat(r[1]),lng:parseFloat(r[2])};const n=t.match(/[?&]q=(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(n)return{lat:parseFloat(n[1]),lng:parseFloat(n[2])};const a=t.match(/(?:!3d|!4d|!1d)(-?\d+\.?\d*)/g);if(a&&a.length>=2){const i=parseFloat(a[0].replace(/\D/g,"")),o=parseFloat(a[1].replace(/\D/g,""));if(!isNaN(i)&&!isNaN(o))return{lat:i,lng:o}}return null}const Cwe=[{value:"all",label:"All Status"},{value:"available",label:"Available"},{value:"not_available",label:"Not Available"},{value:"rented",label:"Rented"},{value:"maintenance",label:"Maintenance"}],Awe=[{value:"all",label:"All"},{value:"true",label:"Accepted"},{value:"false",label:"Not Accepted"}],Ewe=[{value:"all",label:"All"},{value:"true",label:"Private"},{value:"false",label:"Public"}],Twe=()=>{const[s]=DH(),[t,r]=w.useState([]),[n,a]=w.useState({current_page:1,last_page:1,per_page:Nx,total:0}),[i,o]=w.useState(!0),[c,d]=w.useState(1),[h,m]=w.useState("all"),[f,g]=w.useState("all"),[b,v]=w.useState("all"),[y,_]=w.useState(""),[j,S]=w.useState([]),[N,k]=w.useState("");w.useEffect(()=>{const Se=s.get("agent_id");Se!=null&&Se!==""&&_(Se)},[s]),w.useEffect(()=>{(async()=>{try{const Ie=await JI({per_page:500,sort_by:"username",sort_order:"asc"}),wt=(Ie.data?.agencies??Ie.data)?.data??[];S(Array.isArray(wt)?wt:[])}catch(Ie){console.error("Failed to load agencies for cars filter",Ie)}})()},[]);const[C,z]=w.useState([]),[E,U]=w.useState([]),[T,re]=w.useState("newest"),[Y,I]=w.useState(!1),[K,L]=w.useState(null),[J,Q]=w.useState(!1),[Z,ee]=w.useState(""),{toast:F}=jp(),[de,q]=w.useState(null),[G,ie]=w.useState({open:!1,title:"",message:"",onConfirm:null}),[le,be]=w.useState(""),[ye,$]=w.useState(""),[V,me]=w.useState(""),[ce,he]=w.useState(""),O=w.useCallback(async()=>{o(!0);try{const Se={per_page:Nx,page:c,...h&&h!=="all"&&{status:h},...f&&f!=="all"&&{car_accepted:f},...b&&b!=="all"&&{is_private:b},...y&&{agent_id:Number(y)}},Ie=await ZI(Se),We=Ie.data||Ie,wt=Array.isArray(We.cars)?We.cars:We.cars?.data??[],gt=We.meta||We.cars&&{total:We.cars.total,current_page:We.cars.current_page??c,last_page:We.cars.last_page??1,per_page:We.cars.per_page??Nx}||n;r(wt),a(pt=>({...pt,...gt,total:gt.total??pt.total,current_page:gt.current_page??c,last_page:gt.last_page??pt.last_page,per_page:gt.per_page??Nx}))}catch(Se){Se.response?.status===403?F({title:"Access denied",description:"Super admin access required",variant:"destructive"}):Se.response?.status===401?F({title:"Unauthorized",description:"Please log in again",variant:"destructive"}):(console.error("Failed to load cars",Se),F({title:"Error",description:"Failed to load cars",variant:"destructive"}))}finally{o(!1)}},[c,h,f,b,y,N]);w.useEffect(()=>{O()},[O]);const oe=async Se=>{try{const Ie=await W0e(Se),We=Ie.data||Ie;return We?.car??We??null}catch(Ie){return Ie.response?.status===403?F({title:"Access denied",description:"Super admin access required",variant:"destructive"}):Ie.response?.status===404?F({title:"Full details unavailable",description:"Showing list data (GET /admin/cars/{id} returned 404).",variant:"destructive"}):F({title:"Error",description:"Failed to fetch car details",variant:"destructive"}),null}},D=Se=>{L(Se),ee("view-car"),Q(!0),oe(Se.id).then(Ie=>{Ie&&L(Ie)})},Ce=Se=>{L(Se),q({...Se}),ee("edit-car"),Q(!0),oe(Se.id).then(Ie=>{Ie&&(L(Ie),q(We=>We&&We.id===Ie.id?{...Ie,...We}:{...Ie}))})},H="/car-avatar.png",R=w.useMemo(()=>`${"https://rento-lb.com/api/api".trim().replace(/\/+$/,"").replace(/\/api\/api\/?$/,"")}/api/storage/`,[]),P=Se=>{if(!Se)return null;if(Se.startsWith("http"))return Se;const Ie=Se.startsWith("/")?Se.slice(1):Se;return`${R}${Ie}`},W=Se=>P(Se)||H,Ne=(Se,Ie,We)=>{ie({open:!0,title:Se,message:Ie,onConfirm:We})},X=async Se=>{try{const Ie=await p6(Se.id,!0),We=Ie.data||Ie,wt=We?.car??We??{...Se,car_accepted:!0};r(gt=>gt.map(pt=>pt.id===Se.id?{...pt,car_accepted:!0}:pt)),K?.id===Se.id&&L(wt),de?.id===Se.id&&q(wt),F({title:"Success",description:"Car accepted successfully"})}catch(Ie){Ie.response?.status===403?F({title:"Access denied",description:"Super admin access required",variant:"destructive"}):F({title:"Error",description:Ie.response?.data?.message||"Failed to accept car",variant:"destructive"})}},pe=async Se=>{try{const Ie=await p6(Se.id,!1),We=Ie.data||Ie,wt=We?.car??We??{...Se,car_accepted:!1};r(gt=>gt.map(pt=>pt.id===Se.id?{...pt,car_accepted:!1}:pt)),K?.id===Se.id&&L(wt),de?.id===Se.id&&q(wt),F({title:"Success",description:"Car rejected successfully"})}catch(Ie){Ie.response?.status===403?F({title:"Access denied",description:"Super admin access required",variant:"destructive"}):F({title:"Error",description:Ie.response?.data?.message||"Failed to reject car",variant:"destructive"})}},ge=async Se=>{try{await Y0e(Se),F({title:"Success",description:"Car deleted successfully"}),O(),Q(!1)}catch{F({title:"Error",description:"Failed to delete car",variant:"destructive"})}},Re=Se=>{if(Se==null||Se==="")return NaN;if(typeof Se=="number")return Se;const Ie=String(Se).replace(/[^0-9.]/g,""),We=Number(Ie);return Number.isNaN(We)?NaN:We},De=w.useMemo(()=>{let Se=[...t];if(N&&N.trim()){const pt=N.toLowerCase().trim();Se=Se.filter(Nt=>JSON.stringify(Nt).toLowerCase().includes(pt))}if(C.length>0){const pt=C.map(Nt=>String(Nt).toLowerCase());Se=Se.filter(Nt=>pt.includes((Nt.car_category||"").toLowerCase()))}E.length>0&&(Se=Se.filter(pt=>E.includes(pt.status)));const Ie=le?Number(le):null,We=ye?Number(ye):null;(Ie!==null||We!==null)&&(Se=Se.filter(pt=>{const Nt=Number(pt.year);return!(Number.isNaN(Nt)||Ie!==null&&Nt<Ie||We!==null&&Nt>We)}));const wt=V!==""?Re(V):null,gt=ce!==""?Re(ce):null;return(wt!==null||gt!==null)&&(Se=Se.filter(pt=>{const Nt=Re(pt.daily_rate);return!(Number.isNaN(Nt)||wt!==null&&!Number.isNaN(wt)&&Nt<wt||gt!==null&&!Number.isNaN(gt)&&Nt>gt)})),T==="newest"&&Se.sort((pt,Nt)=>new Date(Nt.created_at)-new Date(pt.created_at)),T==="price"&&Se.sort((pt,Nt)=>{const yt=Re(pt.daily_rate),Ot=Re(Nt.daily_rate);return Number.isNaN(yt)&&Number.isNaN(Ot)?0:Number.isNaN(yt)?1:Number.isNaN(Ot)?-1:yt-Ot}),(T==="year_asc"||T==="year_desc")&&Se.sort((pt,Nt)=>{const yt=Number(pt.year),Ot=Number(Nt.year);return Number.isNaN(yt)&&Number.isNaN(Ot)?0:Number.isNaN(yt)?1:Number.isNaN(Ot)?-1:T==="year_asc"?yt-Ot:Ot-yt}),(T==="views_asc"||T==="views_desc")&&Se.sort((pt,Nt)=>{const yt=Number(pt.views_count),Ot=Number(Nt.views_count);return Number.isNaN(yt)&&Number.isNaN(Ot)?0:Number.isNaN(yt)?1:Number.isNaN(Ot)?-1:T==="views_asc"?yt-Ot:Ot-yt}),Se},[t,N,C,E,T,le,ye,V,ce]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Cars"})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"relative w-full sm:w-72",children:[e.jsx(Mr,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(Ae,{placeholder:"Search make, model, plate, color...",className:"pl-9 h-9",value:N,onChange:Se=>{k(Se.target.value),d(1)}})]}),e.jsxs(ot,{value:y||"all",onValueChange:Se=>{_(Se==="all"?"":Se),d(1)},children:[e.jsx(at,{className:"h-9 w-[200px]",children:e.jsx(lt,{placeholder:"Filter by agency"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All agencies"}),j.map(Se=>e.jsx(ke,{value:String(Se.id),children:Se.username||(Se.first_name&&Se.last_name?`${Se.first_name} ${Se.last_name}`:`Agency #${Se.id}`)},Se.id))]})]}),e.jsxs(ot,{value:h,onValueChange:Se=>{m(Se),d(1)},children:[e.jsx(at,{className:"h-9 w-[140px]",children:e.jsx(lt,{placeholder:"Status"})}),e.jsx(it,{children:Cwe.map(Se=>e.jsx(ke,{value:Se.value,children:Se.label},Se.value))})]}),e.jsxs(ot,{value:f,onValueChange:Se=>{g(Se),d(1)},children:[e.jsx(at,{className:"h-9 w-[130px]",children:e.jsx(lt,{placeholder:"Accepted"})}),e.jsx(it,{children:Awe.map(Se=>e.jsx(ke,{value:Se.value,children:Se.label},Se.value))})]}),e.jsxs(ot,{value:b,onValueChange:Se=>{v(Se),d(1)},children:[e.jsx(at,{className:"h-9 w-[110px]",children:e.jsx(lt,{placeholder:"Visibility"})}),e.jsx(it,{children:Ewe.map(Se=>e.jsx(ke,{value:Se.value,children:Se.label},Se.value))})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Qt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-semibold text-foreground",children:n.total}),e.jsx("span",{children:"cars"})]}),e.jsx(fe,{variant:"outline",size:"sm",onClick:()=>I(Se=>!Se),children:"More filters"})]})]}),Y&&e.jsx("div",{className:"mt-3 rounded-lg border bg-background p-3",children:e.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[e.jsxs(ot,{value:T,onValueChange:re,children:[e.jsx(at,{className:"h-9 w-[180px]",children:e.jsx(lt,{placeholder:"Sort"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"newest",children:"Newest"}),e.jsx(ke,{value:"price",children:"Price "}),e.jsx(ke,{value:"year_asc",children:"Year "}),e.jsx(ke,{value:"year_desc",children:"Year "}),e.jsx(ke,{value:"views_asc",children:"Views "}),e.jsx(ke,{value:"views_desc",children:"Views "})]})]}),e.jsxs(ot,{value:C[0]??"all",onValueChange:Se=>z(Se==="all"?[]:[Se]),children:[e.jsx(at,{className:"h-9 w-[160px]",children:e.jsx(lt,{placeholder:"Category"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All Categories"}),e.jsx(ke,{value:"sedan",children:"Sedan"}),e.jsx(ke,{value:"hatchback",children:"Hatchback"}),e.jsx(ke,{value:"coupe",children:"Coupe"}),e.jsx(ke,{value:"suv",children:"SUV"}),e.jsx(ke,{value:"crossover",children:"Crossover"}),e.jsx(ke,{value:"wagon",children:"Wagon"}),e.jsx(ke,{value:"pickup",children:"Pickup"}),e.jsx(ke,{value:"minivan",children:"Minivan"}),e.jsx(ke,{value:"convertible",children:"Convertible"})]})]}),e.jsxs(ot,{value:E[0]??"all",onValueChange:Se=>U(Se==="all"?[]:[Se]),children:[e.jsx(at,{className:"h-9 w-[150px]",children:e.jsx(lt,{placeholder:"Status"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All Status"}),e.jsx(ke,{value:"available",children:"Available"}),e.jsx(ke,{value:"reserved",children:"Reserved"})]})]}),e.jsx(Ae,{type:"number",placeholder:"Year from",className:"h-9 w-[120px]",value:le,onChange:Se=>be(Se.target.value)}),e.jsx(Ae,{type:"number",placeholder:"Year to",className:"h-9 w-[120px]",value:ye,onChange:Se=>$(Se.target.value)}),e.jsx(Ae,{type:"number",placeholder:"Rate from",className:"h-9 w-[120px]",value:V,onChange:Se=>me(Se.target.value)}),e.jsx(Ae,{type:"number",placeholder:"Rate to",className:"h-9 w-[120px]",value:ce,onChange:Se=>he(Se.target.value)})]})}),i?e.jsx("p",{className:"text-muted-foreground",children:"Loading cars..."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:De.map(Se=>e.jsxs("div",{className:`
  border rounded-lg p-3 transition-all duration-300
  ${Se.car_accepted?"bg-green-500/10 border-green-500/40 hover:bg-green-500/20 shadow-[0_0_10px_rgba(34,197,94,0.4)]":"bg-red-500/10 border-red-500/40 hover:bg-red-500/20 shadow-[0_0_10px_rgba(239,68,68,0.4)]"}
`,children:[e.jsxs("div",{className:"relative h-36 mb-2 overflow-hidden rounded-md",children:[e.jsx("img",{src:W(Se.main_image_url),alt:Se.make,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute bottom-2 right-2 z-20 flex flex-col items-end gap-0.5",children:[Se.agent?.profile_picture?e.jsx("img",{src:Se.agent.profile_picture.startsWith("http")?Se.agent.profile_picture:`https://rento-lb.com/api/storage/${Se.agent.profile_picture.replace(/^\/?storage\//,"")}`,alt:Se.agent?.username,className:"w-8 h-8 rounded-full border-2 border-white shadow-md bg-white object-cover",onError:Ie=>{Ie.currentTarget.onerror=null,Ie.currentTarget.src="/avatar.png"}}):e.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white shadow-md bg-muted flex items-center justify-center",children:e.jsx(Qt,{className:"w-4 h-4 text-muted-foreground"})}),Se.agent?.username!=null&&Se.agent.username!==""&&e.jsxs("span",{className:"text-[10px] font-medium text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)] bg-black/50 px-1.5 py-0.5 rounded max-w-[80px] truncate",title:Se.agent.username,children:["@",Se.agent.username]})]})]}),e.jsxs("h3",{className:"font-semibold text-sm",children:[Se.make," ",Se.model]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1 space-y-1",children:[e.jsxs("div",{children:["Year: ",Se.year]}),e.jsxs("div",{children:["Rate: $",Se.daily_rate]}),e.jsxs("div",{children:["Agent: ",Se.agent?.username||""]}),e.jsxs("div",{children:["Views: ",Se.views_count]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[e.jsx(Ge,{variant:"outline",children:Se.car_category}),Se.status==="available"&&e.jsx(Ge,{className:"bg-green-600",children:"Available"}),Se.car_accepted?e.jsx(Ge,{className:"bg-green-500/20 text-green-700 border-green-500/40",children:"Accepted"}):e.jsx(Ge,{className:"bg-red-500/20 text-red-700 border-red-500/40",children:"Rejected"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx(fe,{size:"icon",variant:"ghost",onClick:()=>D(Se),children:e.jsx(er,{className:"w-4 h-4"})}),e.jsx(fe,{size:"icon",variant:"ghost",onClick:()=>Ce(Se),children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{size:"icon",variant:"ghost",onClick:()=>Ne("Delete Car","Are you sure you want to delete this car?",()=>ge(Se.id)),children:e.jsx(tr,{className:"w-4 h-4 text-red-500"})})]}),Se.car_accepted?e.jsx(fe,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>pe(Se),children:"Reject"}):e.jsx(fe,{size:"sm",className:"h-7 text-xs",onClick:()=>X(Se),children:"Accept"})]})]},Se.id))}),De.length===0&&e.jsx("div",{className:"text-center text-muted-foreground mt-10",children:"No cars found"}),n.last_page>1&&e.jsxs("div",{className:"flex flex-col items-center gap-3 mt-10",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing page ",e.jsx("span",{className:"font-semibold text-foreground",children:n.current_page})," ","of ",e.jsx("span",{className:"font-semibold text-foreground",children:n.last_page})," ","(",n.total," cars)"]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-center",children:[e.jsx(fe,{variant:"outline",size:"sm",disabled:n.current_page<=1,onClick:()=>d(Se=>Se-1),children:e.jsx(vi,{size:16})}),Array.from({length:n.last_page},(Se,Ie)=>Ie+1).filter(Se=>Se===1||Se===n.last_page||Math.abs(Se-n.current_page)<=2).map((Se,Ie,We)=>e.jsx(fe,{size:"sm",variant:Se===n.current_page?"default":"outline",onClick:()=>d(Se),children:Se},Se)),e.jsx(fe,{variant:"outline",size:"sm",disabled:n.current_page>=n.last_page,onClick:()=>d(Se=>Se+1),children:e.jsx(Zr,{size:16})})]})]})]}),e.jsx(yr,{open:J,onOpenChange:Q,children:e.jsxs(ur,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(hr,{children:e.jsx(fr,{children:Z==="view-car"?"Car Details":"Edit Car"})}),K?Z==="view-car"?e.jsx(Rwe,{car:K,imgUrl:W,getStorageUrl:P,onEdit:()=>{q({...K}),ee("edit-car")},onClose:()=>Q(!1),onAccept:()=>X(K),onReject:()=>pe(K)}):de&&e.jsx(Owe,{car:de,setCar:q,imgUrl:W,onClose:()=>ee("view-car"),onSaved:Se=>{L(Se),q({...Se}),ee("view-car")}}):e.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})]})};function Rwe({car:s,imgUrl:t,getStorageUrl:r,onEdit:n,onClose:a,onAccept:i,onReject:o}){const c=s?.agent||null,d=f=>{if(!f)return"N/A";const g=Number(f);return Number.isNaN(g)?f:`$${g.toFixed(2)}`},h=({label:f,value:g})=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:f}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:g??"N/A"})]}),m=({value:f})=>f?e.jsx(Ge,{className:"bg-green-500/20 text-green-700 border-green-500/40",children:"Yes"}):e.jsx(Ge,{className:"bg-red-500/20 text-red-700 border-red-500/40",children:"No"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative rounded-xl overflow-hidden border",children:[e.jsx("img",{src:t(s.main_image_url),alt:s.make,className:"w-full h-[260px] object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 left-6 text-white",children:[e.jsxs("h2",{className:"text-2xl font-bold",children:[s.make," ",s.model]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(Ge,{className:"bg-white/20 backdrop-blur text-white",children:s.car_category}),s.car_accepted?e.jsx(Ge,{className:"bg-green-600",children:"Accepted"}):e.jsx(Ge,{className:"bg-red-600",children:"Rejected"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 p-4 rounded-xl border bg-background shadow-sm",children:[e.jsx(h,{label:"Year",value:s.year}),e.jsx(h,{label:"Color",value:s.color}),e.jsx(h,{label:"Transmission",value:s.transmission}),e.jsx(h,{label:"Fuel Type",value:s.fuel_type}),e.jsx(h,{label:"Seats",value:s.seats}),e.jsx(h,{label:"Doors",value:s.doors}),e.jsx(h,{label:"Daily Rate",value:d(s.daily_rate)}),e.jsx(h,{label:"Status",value:s.status})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"rounded-xl border p-4 space-y-3 bg-background shadow-sm",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Car Information"}),e.jsx(h,{label:"License Plate",value:s.license_plate}),e.jsx(h,{label:"Mileage",value:s.mileage}),e.jsx(h,{label:"Cylinder",value:s.cylinder_number}),e.jsx(h,{label:"Min Rental Days",value:s.min_rental_days}),e.jsxs("div",{className:"flex gap-4 pt-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Accepted"}),e.jsx(m,{value:s.car_accepted})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Private"}),e.jsx(m,{value:s.is_private})]})]})]}),e.jsxs("div",{className:"rounded-xl border p-4 space-y-3 bg-background shadow-sm",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Agent"}),e.jsx(h,{label:"Username",value:c?.username}),e.jsx(h,{label:"Phone",value:c?.phone_number}),e.jsx(h,{label:"Email",value:c?.email}),e.jsx(h,{label:"City",value:c?.city})]})]}),s.features?.length>0&&e.jsxs("div",{className:"rounded-xl border p-4 bg-background shadow-sm",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Features"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.features.map((f,g)=>e.jsx(Ge,{variant:"outline",children:typeof f=="string"?f:f.name},g))})]}),s.notes&&e.jsxs("div",{className:"rounded-xl border p-4 bg-background shadow-sm",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Notes"}),e.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:s.notes})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[!s.car_accepted&&e.jsx(fe,{className:"bg-green-600 hover:bg-green-700",onClick:i,children:"Accept Car"}),s.car_accepted&&e.jsx(fe,{variant:"destructive",onClick:o,children:"Reject Car"}),e.jsx(fe,{className:"flex-1",onClick:n,children:"Edit Car"}),e.jsx(fe,{variant:"outline",onClick:a,children:"Close"})]})]})}const Dwe=[{type:"main",label:"Main",fullKey:"main_image_full_url",pathKey:"main_image_url"},{type:"front",label:"Front",fullKey:"front_image_full_url",pathKey:"front_image_url"},{type:"back",label:"Back",fullKey:"back_image_full_url",pathKey:"back_image_url"},{type:"left",label:"Left",fullKey:"left_image_full_url",pathKey:"left_image_url"},{type:"right",label:"Right",fullKey:"right_image_full_url",pathKey:"right_image_url"}];function Js({label:s,type:t="text",disabled:r=!1,value:n="",onChange:a}){const i=o=>{const c=o.target.value;a(t==="number"?c===""?"":Number(c):c)};return e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:s}),e.jsx(Ae,{type:t,value:n,onChange:i,disabled:r})]})}function a_({label:s,options:t,emptySentinel:r,value:n="",onValueChange:a}){const i=r?(n??"")||r:String(n??""),o=c=>a(r&&c===r?"":c);return e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:s}),e.jsxs(ot,{value:i,onValueChange:o,children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select..."})}),e.jsx(it,{children:t.map(c=>{const d=c.value===""||c.value==null?r||"__none__":String(c.value);return e.jsx(ke,{value:d,children:c.label},d)})})]})]})}function Gf({label:s,value:t,onChange:r}){return e.jsxs("div",{className:"flex items-center justify-between gap-3 py-2",children:[e.jsx("div",{className:"text-sm",children:s}),e.jsx("button",{type:"button",role:"switch","aria-checked":!!t,onClick:()=>r(!t),className:["relative inline-flex h-5 w-10 items-center rounded-full transition-colors",t?"bg-teal-600":"bg-muted","focus:outline-none focus:ring-2 focus:ring-teal-500/40"].join(" "),children:e.jsx("span",{className:["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",t?"translate-x-5":"translate-x-1","shadow"].join(" ")})})]})}function Mwe({car:s,setVal:t}){const{toast:r}=jp(),[n,a]=w.useState(""),[i,o]=w.useState(!1),[c,d]=w.useState(null),h=s?.live_location||{address:"",latitude:0,longitude:0},m=h.latitude&&h.longitude&&(Number(h.latitude)!==0||Number(h.longitude)!==0),f=j=>t("live_location",{...h,...j}),g=()=>{const j=Swe(n);j?(f({latitude:j.lat,longitude:j.lng}),r({title:"Coordinates applied"})):r({title:"Could not parse link",description:"Paste a valid Google Maps URL with coordinates",variant:"destructive"})},b=()=>{if(!navigator.geolocation){r({title:"Geolocation not supported",variant:"destructive"});return}navigator.geolocation.getCurrentPosition(j=>{f({latitude:j.coords.latitude,longitude:j.coords.longitude}),r({title:"Current location set"})},()=>r({title:"Could not get location",variant:"destructive"}))},v=()=>{const j=s?.agent?.location;if(j&&(j.lat!=null||j.latitude!=null)){const S=j.latitude??j.lat??33.8547,N=j.longitude??j.lng??35.8623;f({latitude:S,longitude:N}),r({title:"Office location set"})}else r({title:"No office location",description:"Car agent has no location set",variant:"destructive"})},y=()=>{d({latitude:h.latitude||33.8547,longitude:h.longitude||35.8623}),o(!0)},_=()=>{c&&(f({latitude:c.latitude,longitude:c.longitude}),r({title:"Location set from map"})),o(!1)};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(js,{className:"w-4 h-4"}),"Location & Address (same as Add Car)"]}),e.jsxs("div",{className:"space-y-4 p-4 rounded-lg border bg-muted/30",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Address (region)"}),e.jsxs(ot,{value:h.address||"__empty__",onValueChange:j=>f({address:j==="__empty__"?"":j}),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select region..."})}),e.jsxs(it,{children:[e.jsx(ke,{value:"__empty__",children:"Select region..."}),kwe.filter(j=>j.value).map(j=>e.jsx(ke,{value:j.value,children:j.label},j.value))]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Paste Google Maps link (to set coordinates)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ae,{placeholder:"e.g. https://www.google.com/maps/@33.89,35.50 or maps.app.goo.gl/...",value:n,onChange:j=>a(j.target.value),className:"flex-1"}),e.jsx(fe,{type:"button",variant:"outline",size:"sm",onClick:g,children:"Apply"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(fe,{type:"button",variant:"outline",size:"sm",onClick:b,children:[e.jsx(q0,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),e.jsxs(fe,{type:"button",variant:"outline",size:"sm",onClick:y,children:[e.jsx(js,{className:"w-4 h-4 mr-2"}),"Select on Map"]}),e.jsxs(fe,{type:"button",variant:"outline",size:"sm",onClick:v,children:[e.jsx(wa,{className:"w-4 h-4 mr-2"}),"Office location"]})]}),m?e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Location set: Lat ",h.latitude,"  Lng ",h.longitude]}):e.jsx("div",{className:"text-xs text-muted-foreground",children:"No coordinates set yet."})]}),e.jsx(yr,{open:i,onOpenChange:o,children:e.jsxs(ur,{className:"max-w-2xl",children:[e.jsx(hr,{children:e.jsx(fr,{children:"Select location on map"})}),c&&e.jsx(Pwe,{center:c,selectedLocation:c,onLocationSelect:(j,S)=>d({latitude:j,longitude:S})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(fe,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(fe,{onClick:_,children:"Confirm"})]})]})})]})}function Pwe({center:s,selectedLocation:t,onLocationSelect:r}){const n=ct.useRef(null),a=ct.useRef(null),i="admin-edit-car-location-map";return ct.useEffect(()=>{if(!window.L||n.current)return;const o=parseFloat(s?.latitude)||33.8547,c=parseFloat(s?.longitude)||35.8623,d=window.L.map(i).setView([o,c],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(d);const h=window.L.marker([o,c],{draggable:!0}).addTo(d);h.on("dragend",m=>{const f=m.target.getLatLng();r(f.lat,f.lng)}),d.on("click",m=>{h.setLatLng(m.latlng),r(m.latlng.lat,m.latlng.lng)}),n.current=d,a.current=h},[]),e.jsx("div",{id:i,className:"w-full h-[300px] rounded-md"})}function Owe({car:s,setCar:t,imgUrl:r,onClose:n,onSaved:a}){const{toast:i}=jp(),[o,c]=w.useState(null),d=ct.useRef({}),h=(y,_)=>t(j=>({...j,[y]:_})),m=(y,_)=>{const j=s?.[y];return j||r(s?.[_])},f=async(y,_)=>{if(!(!_||!s?.id)){c(y);try{const j=await K0e(s.id,_,y),S=j.data||j,N=S?.car??S??s;t(N),i({title:"Image updated",description:`${y} image replaced successfully`})}catch(j){const S=j.response?.data?.errors?.image?.[0]||j.response?.data?.message||"Failed to replace image";i({title:"Error",description:S,variant:"destructive"})}finally{c(null),d.current[y]&&(d.current[y].value="")}}},g=y=>{if(y==null||y==="")return"";const _=Number(y);return Number.isNaN(_)?y:_},b=y=>!Array.isArray(y)||y.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"}):e.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((_,j)=>e.jsx(Ge,{variant:"outline",children:typeof _=="string"?_:_?.name??JSON.stringify(_)},j))}),v=async()=>{try{const y={make:s.make,model:s.model,year:s.year,cylinder_number:s.cylinder_number==="__none__"||s.cylinder_number===""?void 0:s.cylinder_number,license_plate:s.license_plate,color:s.color,mileage:s.mileage,fuel_type:s.fuel_type,transmission:s.transmission,wheels_drive:s.wheels_drive,car_category:s.car_category,seats:s.seats,doors:s.doors,daily_rate:g(s.daily_rate),holiday_rate:g(s.holiday_rate),is_deposit:!!s.is_deposit,deposit:g(s.deposit),status:s.status,car_accepted:!!s.car_accepted,is_private:!!s.is_private,is_delivered:!!s.is_delivered,delivery_fees:g(s.delivery_fees),with_driver:!!s.with_driver,driver_fees:g(s.driver_fees),max_driving_mileage:s.max_driving_mileage!=null&&s.max_driving_mileage!==""?Number(s.max_driving_mileage):void 0,min_rental_days:s.min_rental_days,notes:s.notes,agent_id:s.agent_id!=null&&s.agent_id!==""?Number(s.agent_id):void 0,insurance_expiry:s.insurance_expiry||void 0,registration_expiry:s.registration_expiry||void 0,views_count:s.views_count!=null&&s.views_count!==""?Number(s.views_count):void 0,clicks_count:s.clicks_count!=null&&s.clicks_count!==""?Number(s.clicks_count):void 0,search_count:s.search_count!=null&&s.search_count!==""?Number(s.search_count):void 0},_=s?.live_location,j=_?.address??"",S=_?.latitude??_?.lat??"",N=_?.longitude??_?.lng??"";(j||S!==""&&N!=="")&&(y.live_location={address:String(j||""),latitude:S!==""?Number(S):0,longitude:N!==""?Number(N):0});const k=await QI(s.id,y),C=k.data||k,z=C?.car??C??s;i({title:"Saved",description:"Car updated successfully"}),a?.(z)}catch(y){if(y.response?.status===422&&y.response?.data?.errors){const _=Object.entries(y.response.data.errors).map(([j,S])=>`${j}: ${(S||[]).join(", ")}`).join("; ");i({title:"Validation Error",description:_||"Invalid data",variant:"destructive"})}else i({title:"Error",description:"Failed to update car",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(Js,{label:"ID",value:s?.id??"",onChange:()=>{},disabled:!0}),e.jsx(Js,{label:"Make",value:s?.make??"",onChange:y=>h("make",y)}),e.jsx(Js,{label:"Model",value:s?.model??"",onChange:y=>h("model",y)}),e.jsx(Js,{label:"Year",value:s?.year??"",onChange:y=>h("year",y),type:"number"}),e.jsx(a_,{label:"Cylinder",value:s?.cylinder_number??"",onValueChange:y=>h("cylinder_number",y),emptySentinel:"__none__",options:[{label:"",value:""},{label:"4",value:"4"},{label:"6",value:"6"},{label:"8",value:"8"},{label:"10",value:"10"},{label:"12",value:"12"}]}),e.jsx(Js,{label:"License Plate",value:s?.license_plate??"",onChange:y=>h("license_plate",y)}),e.jsx(Js,{label:"Color",value:s?.color??"",onChange:y=>h("color",y)}),e.jsx(Js,{label:"Mileage",value:s?.mileage??"",onChange:y=>h("mileage",y),type:"number"}),e.jsx(Js,{label:"Fuel Type",value:s?.fuel_type??"",onChange:y=>h("fuel_type",y)}),e.jsx(Js,{label:"Transmission",value:s?.transmission??"",onChange:y=>h("transmission",y)}),e.jsx(Js,{label:"Wheels Drive",value:s?.wheels_drive??"",onChange:y=>h("wheels_drive",y)}),e.jsx(a_,{label:"Category",value:s?.car_category??"",onValueChange:y=>h("car_category",y),emptySentinel:"__none__",options:[{label:"",value:""},{label:"Sedan",value:"Sedan"},{label:"Hatchback",value:"Hatchback"},{label:"Coupe",value:"Coupe"},{label:"SUV",value:"SUV"},{label:"Crossover",value:"Crossover"},{label:"Wagon",value:"Wagon"},{label:"Pickup",value:"Pickup"},{label:"Minivan",value:"Minivan"},{label:"Convertible",value:"Convertible"}]}),e.jsx(Js,{label:"Seats",value:s?.seats??"",onChange:y=>h("seats",y),type:"number"}),e.jsx(Js,{label:"Doors",value:s?.doors??"",onChange:y=>h("doors",y),type:"number"}),e.jsx(Js,{label:"Daily Rate",value:s?.daily_rate??"",onChange:y=>h("daily_rate",y),type:"number"}),e.jsx(Js,{label:"Holiday Rate",value:s?.holiday_rate??"",onChange:y=>h("holiday_rate",y),type:"number"}),e.jsx(Js,{label:"Deposit",value:s?.deposit??"",onChange:y=>h("deposit",y),type:"number"}),e.jsx(Js,{label:"Delivery Fees",value:s?.delivery_fees??"",onChange:y=>h("delivery_fees",y),type:"number"}),e.jsx(Js,{label:"Driver Fees",value:s?.driver_fees??"",onChange:y=>h("driver_fees",y),type:"number"}),e.jsx(Js,{label:"Min Rental Days",value:s?.min_rental_days??"",onChange:y=>h("min_rental_days",y),type:"number"}),e.jsx(Js,{label:"Max Driving Mileage",value:s?.max_driving_mileage??"",onChange:y=>h("max_driving_mileage",y),type:"number"}),e.jsx(Js,{label:"Agent ID (reassign owner)",value:s?.agent_id??"",onChange:y=>h("agent_id",y),type:"number"}),e.jsx(Js,{label:"Insurance Expiry",value:s?.insurance_expiry??"",onChange:y=>h("insurance_expiry",y),type:"date"}),e.jsx(Js,{label:"Registration Expiry",value:s?.registration_expiry??"",onChange:y=>h("registration_expiry",y),type:"date"}),e.jsx(Js,{label:"Views Count",value:s?.views_count??"",onChange:y=>h("views_count",y),type:"number"}),e.jsx(Js,{label:"Clicks Count",value:s?.clicks_count??"",onChange:y=>h("clicks_count",y),type:"number"}),e.jsx(Js,{label:"Search Count",value:s?.search_count??"",onChange:y=>h("search_count",y),type:"number"})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsx(Mwe,{car:s,setVal:h}),e.jsx("div",{className:"border-t pt-3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Features"}),b(s?.features)]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Add-ons"}),b(s?.add_ons)]}),e.jsx("div",{className:"border-t pt-3"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Car Images"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Main"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{ref:y=>d.current.main=y,type:"file",accept:"image/jpeg,image/jpg,image/png",className:"hidden",onChange:y=>{const _=y.target.files?.[0];_&&f("main",_)}}),e.jsx(fe,{type:"button",variant:"outline",size:"sm",disabled:o==="main",onClick:()=>d.current.main?.click(),children:o==="main"?"Uploading":"Replace"})]})]}),e.jsx("a",{href:m("main_image_full_url","main_image_url"),target:"_blank",rel:"noreferrer",children:e.jsx("img",{src:m("main_image_full_url","main_image_url"),alt:"Main",className:"w-full max-h-[260px] object-cover rounded-md border"})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Dwe.filter(y=>y.type!=="main").map(({type:y,label:_,fullKey:j,pathKey:S})=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-1",children:[e.jsx("span",{className:"text-muted-foreground",children:_}),e.jsx("input",{ref:N=>d.current[y]=N,type:"file",accept:"image/jpeg,image/jpg,image/png",className:"hidden",onChange:N=>{const k=N.target.files?.[0];k&&f(y,k)}}),e.jsx(fe,{type:"button",variant:"outline",size:"sm",className:"h-7 px-1",disabled:o===y,onClick:()=>d.current[y]?.click(),children:o===y?"":"Replace"})]}),e.jsx("a",{href:m(j,S),target:"_blank",rel:"noreferrer",children:e.jsx("img",{src:m(j,S),alt:_,className:"h-[120px] w-full object-cover rounded-md border"})})]},y))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a_,{label:"Status",value:s?.status??"",onValueChange:y=>h("status",y),options:[{label:"Available",value:"available"},{label:"Not Available",value:"not_available"},{label:"Rented",value:"rented"},{label:"Maintenance",value:"maintenance"}]}),e.jsx("div",{className:"text-sm font-semibold",children:"Notes"}),e.jsx("textarea",{className:"w-full border rounded-md p-2 min-h-[90px]",value:s?.notes??"",onChange:y=>h("notes",y.target.value)})]}),e.jsx(Gf,{label:"Car Accepted",value:s?.car_accepted,onChange:y=>h("car_accepted",y?1:0)}),e.jsx(Gf,{label:"Is Private",value:s?.is_private,onChange:y=>h("is_private",y?1:0)}),e.jsx(Gf,{label:"Is Deposit",value:s?.is_deposit,onChange:y=>h("is_deposit",y?1:0)}),e.jsx(Gf,{label:"With Driver",value:s?.with_driver,onChange:y=>h("with_driver",y?1:0)}),e.jsx(Gf,{label:"Is Delivered",value:s?.is_delivered,onChange:y=>h("is_delivered",y?1:0)}),e.jsxs("div",{className:"pt-3 flex gap-2",children:[e.jsx(fe,{className:"flex-1",onClick:v,children:"Update Car"}),e.jsx(fe,{variant:"outline",className:"w-28",onClick:n,children:"Cancel"})]})]})}const Lwe={pending:"bg-yellow-100 text-yellow-700",confirmed:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700",completed:"bg-blue-100 text-blue-700",rejected:"bg-gray-200 text-gray-700"};function Fwe(s,t=14){return s?s.length>t?`${s.slice(0,t)}...`:s:"N/A"}function Bwe(){const[s,t]=w.useState([]),[r,n]=w.useState({}),[a,i]=w.useState(!1),[o,c]=w.useState(""),[d,h]=w.useState([]),[m,f]=w.useState("newest"),[g,b]=w.useState("all"),[v,y]=w.useState(!1),[_,j]=w.useState(null),[S,N]=w.useState(!1),[k,C]=w.useState(null),[z,E]=w.useState(null),[U,T]=w.useState(!1),[re,Y]=w.useState(""),I=async()=>{i(!0);try{const le={page:1,per_page:50},{data:be}=await Le.get("/admin/bookings",{params:le}),ye=be.bookings?.data||[];t(ye),ye.forEach($=>{r[$.client_id]||K($.client_id)})}catch(le){console.error(le)}finally{i(!1)}},K=async le=>{try{const{data:be}=await Le.get(`/admin/users/${le}`),ye=be.user?.first_name&&be.user?.last_name?`${be.user.first_name} ${be.user.last_name}`:be.user?.username||`User #${le}`;n($=>({...$,[le]:ye}))}catch{n(be=>({...be,[le]:`User #${le}`}))}};w.useEffect(()=>{I()},[]);const L=async le=>{try{const{data:be}=await Le.get(`/admin/bookings/${le}`);return be.booking??be.data??be}catch{return xe({title:"Error",description:"Failed to fetch booking details",variant:"destructive"}),null}},J=w.useMemo(()=>{let le=[...s];if(o){const be=o.toLowerCase().trim();le=le.filter(ye=>{const $=(r[ye.client_id]??"").toLowerCase(),V=(ye.car?.make??"").toLowerCase(),me=(ye.car?.model??"").toLowerCase(),ce=`${V} ${me}`.trim(),he=(ye.car?.agent?.username??"").toLowerCase();return[ye.id,ye.client_id,ye.car_id,$,V,me,ce,he].join(" ").toLowerCase().includes(be)})}return d.length>0&&(le=le.filter(be=>d.includes(be.booking_request_status))),g!=="all"&&(le=le.filter(be=>(be.payment_status??"").toLowerCase()===g)),le.sort((be,ye)=>{if(m==="newest"){const $=new Date(be.created_at??0).getTime(),V=new Date(ye.created_at??0).getTime();return V!==$?V-$:Number(ye.id)-Number(be.id)}if(m==="client_az"||m==="client_za"){const $=(r[be.client_id]??"").toLowerCase(),V=(r[ye.client_id]??"").toLowerCase();return $<V?m==="client_az"?-1:1:$>V?m==="client_az"?1:-1:Number(ye.id)-Number(be.id)}return m==="total_high"?Number(ye.total_booking_price||0)-Number(be.total_booking_price||0):m==="total_low"?Number(be.total_booking_price||0)-Number(ye.total_booking_price||0):0}),le},[s,o,r,d,g,m]),Q=w.useMemo(()=>J.reduce((le,be)=>le+Number(be.total_booking_price||0),0),[J]),Z=w.useMemo(()=>{const le={pending:0,confirmed:0,cancelled:0,completed:0,rejected:0};for(const be of s){const ye=(be.booking_request_status??"").toLowerCase();le[ye]!==void 0&&(le[ye]+=1)}return le},[s]),ee=le=>{C({...le}),N(!0)},F=async()=>{try{const le={booking_request_status:k.booking_request_status,payment_status:k.payment_status,payment_method:k.payment_method,total_booking_price:k.total_booking_price,extra_charge:k.extra_charge,with_driver:k.with_driver,is_delivered:k.is_delivered,start_datetime:k.start_datetime,end_datetime:k.end_datetime,pickup_location:k.pickup_location,dropoff_location:k.dropoff_location,reason_of_booking:k.reason_of_booking};await Le.put(`/admin/bookings/${k.id}`,le),xe.success("Booking updated successfully"),N(!1),I()}catch{xe.error("Failed to update booking")}},de=async le=>{await Le.post(`/admin/bookings/${le}/force-complete`),I()},q="/avatar.png",G="https://rento-lb.com/api/storage/",ie=le=>{const be=le?.client.profile_picture;if(!be)return q;if(be.startsWith("http"))return be;const ye=be.startsWith("/")?be.slice(1):be;return G+ye};return e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Bookings"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"px-3 py-1.5 rounded-lg border bg-muted text-sm font-semibold",children:[e.jsxs("p",{children:["Total Bookings : ",J.length," "]}),e.jsxs("p",{children:["Total : $",Q.toLocaleString()]})]}),e.jsx(Ae,{placeholder:"Search client / car / agent  ",className:"h-8 w-44 text-xs",value:o,onChange:le=>c(le.target.value)}),e.jsxs(Ue,{className:"p-3",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Status"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:["pending","confirmed","cancelled","completed","rejected"].map(le=>{const be=d.includes(le);return e.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:be,onChange:ye=>{const $=ye.target.checked;h(V=>$?[...V,le]:V.filter(me=>me!==le))}}),e.jsxs("span",{className:"capitalize flex items-center gap-2",children:[le,e.jsx("span",{className:"inline-flex items-center justify-center h-5 min-w-6 px-2 rounded-full text-[11px] font-semibold bg-muted text-foreground",children:Z?.[le]??0})]})]},le)})}),d.length>0&&e.jsx("button",{type:"button",className:"mt-2 text-xs text-muted-foreground underline",onClick:()=>h([]),children:"Clear status filter"})]}),e.jsx("div",{className:"w-44",children:e.jsxs(ot,{value:g,onValueChange:b,children:[e.jsx(at,{className:"h-8 text-xs",children:e.jsx(lt,{placeholder:"Payment status"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All Payments"}),e.jsx(ke,{value:"pending",children:"Pending"}),e.jsx(ke,{value:"paid",children:"Paid"})]})]})}),e.jsx("div",{className:"w-44",children:e.jsxs(ot,{value:m,onValueChange:f,children:[e.jsx(at,{className:"h-8 text-xs",children:e.jsx(lt,{placeholder:"Sort by"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"newest",children:"Newest"}),e.jsx(ke,{value:"client_az",children:"Client A - Z"}),e.jsx(ke,{value:"client_za",children:"Client Z - A"}),e.jsx(ke,{value:"total_high",children:"Total High  Low"}),e.jsx(ke,{value:"total_low",children:"Total Low  High"})]})]})}),e.jsx(fe,{size:"icon",variant:"ghost","aria-label":"Refresh",onClick:I,children:e.jsx(Ft,{size:16})})]})]}),e.jsx("div",{className:"rounded-xl border",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Client"}),e.jsx(_e,{children:"Car"}),e.jsx(_e,{children:"Agent"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Payment"}),e.jsx(_e,{children:"Total"}),e.jsx(_e,{className:"text-right",children:"Actions"})]})}),e.jsxs(Ut,{children:[J.map(le=>e.jsxs(Ye,{children:[e.jsx(ve,{children:e.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Uwe(le),onClick:()=>_6(le.id,L,E,Y,T),children:[le.id," "]})}),e.jsx(ve,{children:e.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Iwe(le),children:[e.jsx("img",{src:ie(le),alt:le.client.username||"User",className:"h-7 w-7 rounded-full object-cover",onError:be=>{be.currentTarget.onerror=null,be.currentTarget.src="/avatar.png"}}),Fwe(r[le.client_id]||`User #${le.client_id}`,14)]})}),e.jsx(ve,{children:e.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:zwe(le),children:le.car?`${le.car.make} ${le.car.model}`:`#${le.car_id}`})}),e.jsx(ve,{children:e.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:$we(le),children:le.car?.agent?.username??""})}),e.jsxs(ve,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:Lwe[le.booking_request_status],children:le.booking_request_status}),le.booking_request_status==="confirmed"?e.jsx(Xr,{className:"w-4 h-4 text-green-600"}):e.jsx(Vu,{className:"w-4 h-4 text-red-500"})]}),e.jsx(ve,{children:e.jsx(Ge,{variant:le.payment_status==="paid"?"default":"secondary",children:le.payment_status})}),e.jsxs(ve,{children:["$",le.total_booking_price]}),e.jsxs(ve,{className:"flex justify-end gap-1",children:[e.jsx(fe,{size:"icon",variant:"ghost","aria-label":"View",onClick:()=>_6(le.id,L,E,Y,T),title:"View Details",children:e.jsx(er,{size:16})}),e.jsx(fe,{size:"icon",variant:"ghost","aria-label":"Edit",onClick:()=>ee(le),title:"Edit Details",children:e.jsx(xr,{size:16})}),le.booking_request_status==="confirmed"?e.jsx(fe,{size:"icon",variant:"ghost","aria-label":"Force complete",title:"Confirmed",onClick:()=>de(le.id),children:e.jsx(Xr,{size:16,className:"text-green-600"})}):e.jsx(fe,{size:"icon",variant:"ghost","aria-label":"Disabled",disabled:!0,children:e.jsx(IW,{size:16})})]})]},le.id)),!a&&J.length===0&&e.jsx(Ye,{children:e.jsx(ve,{colSpan:7,className:"text-center py-10 text-muted-foreground",children:"No bookings found"})})]})]})}),e.jsx(yr,{open:U,onOpenChange:T,children:e.jsxs(ur,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(hr,{children:[e.jsx(fr,{children:"Booking Details"}),e.jsx(xi,{children:"Complete booking information (read-only)."})]}),re==="view-booking"&&z&&e.jsx("div",{className:"space-y-6 text-sm",children:e.jsx(Vwe,{booking:z,clients:r,onClose:()=>T(!1)})})]})}),e.jsx(yr,{open:S,onOpenChange:N,children:e.jsxs(ur,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(hr,{children:[e.jsx(fr,{children:"Edit Booking"}),e.jsx(xi,{children:"All fields below are editable"})]}),k&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Status"}),e.jsxs(ot,{value:k.booking_request_status,onValueChange:le=>C({...k,booking_request_status:le}),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsx(it,{children:["pending","confirmed","cancelled","completed","rejected"].map(le=>e.jsx(ke,{value:le,children:le},le))})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Payment Status"}),e.jsxs(ot,{value:k.payment_status,onValueChange:le=>C({...k,payment_status:le}),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"pending",children:"Pending"}),e.jsx(ke,{value:"paid",children:"Paid"}),e.jsx(ke,{value:"failed",children:"Failed"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Total Price"}),e.jsx(Ae,{type:"number",value:k.total_booking_price,onChange:le=>C({...k,total_booking_price:le.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Extra Charge"}),e.jsx(Ae,{type:"number",value:k.extra_charge||0,onChange:le=>C({...k,extra_charge:le.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Pickup Location"}),e.jsx(Ae,{value:k.pickup_location||"",onChange:le=>C({...k,pickup_location:le.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Dropoff Location"}),e.jsx(Ae,{value:k.dropoff_location||"",onChange:le=>C({...k,dropoff_location:le.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Start"}),e.jsx(Ae,{type:"datetime-local",value:k.start_datetime?.slice(0,16),onChange:le=>C({...k,start_datetime:le.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"End"}),e.jsx(Ae,{type:"datetime-local",value:k.end_datetime?.slice(0,16),onChange:le=>C({...k,end_datetime:le.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Reason / Notes"}),e.jsx("textarea",{className:"w-full border rounded-md p-2",rows:3,value:k.reason_of_booking||"",onChange:le=>C({...k,reason_of_booking:le.target.value})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(fe,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),e.jsx(fe,{onClick:F,children:"Save Changes"})]})]})]})})]})}async function _6(s,t,r,n,a){const i=await t(s);i&&(r(i),n("view-booking"),a(!0))}function Iwe(s){return s?[`User ID : ${s.client.id??"N/A"}`,`username : ${s.client.username??"N/A"}`,`Phone Number : ${s.client.phone_number??"N/A"}`,`Email : ${s.client.email??"N/A"}`,`verified By Admin : ${s.client.verified_by_admin??"N/A"}`,`Gender : ${s.client.gender??"N/A"}`,`Birth Date : ${T7(s.client.birth_date??"N/A")}`,`city : ${s.client.city??"N/A"}`,`bio : ${s.client.bio??"N/A"}`].join(`
`):""}function zwe(s){return s?[`Car ID : ${s.car.id??"N/A"}`,`Agent ID : ${s.car.agent_id??"N/A"}`,`Year : ${s.car.year??"N/A"}`,`Cylinder Number : ${s.car.cylinder_number??"N/A"}`,`License Plate : ${s.car.license_plate??"N/A"}`,`Color : ${s.car.color??"N/A"}`,`Mileage : ${s.car.mileage??"N/A"}`,`Transmission : ${s.car.transmission??"N/A"}`,`Wheels Drive : ${s.car.wheels_drive??"N/A"}`,`Category : ${s.car.car_category??"N/A"}`,`Seats : ${s.car.seats??"N/A"}`,`Doors : ${s.car.doors??"N/A"}`,`Daily_rate : ${s.car.daily_rate??"N/A"}`,`hHliday Rate : ${s.car.holiday_rate??"N/A"}`,`Status : ${s.car.status??"N/A"}`].join(`
`):""}function Uwe(s){return s?[`Client Id : ${s.client_id??"N/A"}`,`Car Id : ${s.car_id??"N/A"}`,`Reason Of Booking : ${s.reason_of_booking??"N/A"}`,`Total Booking Price : ${s.total_booking_price??"N/A"}`,`Is Paid Online : ${s.is_paid_online??"N/A"}`,`Is Delivered : ${s.is_delivered??"N/A"}`,`Pickup Location : ${s.pickup_location??"N/A"}`,`Dropoff Location : ${s.dropoff_location??"N/A"}`].join(`
`):""}function $we(s){return s?[`ID : ${s.car?.agent?.id??"N/A"}`,`Username : ${s.car?.agent?.username??"N/A"}`,`First Name : ${s.car?.agent?.first_name??"N/A"}`,`Last Name : ${s.car?.agent?.last_name??"N/A"}`,`Real User Id : ${s.car?.agent?.real_user_id??"N/A"}`,`Email : ${s.car?.agent?.email??"N/A"}`,`Verified_by_admin : ${s.car?.agent?.verified_by_admin??"N/A"}`,`Gender : ${s.car?.agent?.gender??"N/A"}`,`Birth date : ${T7(s.car?.agent?.birth_date??"N/A")}`,`City : ${s.car?.agent?.city??"N/A"}`,`Bio : ${s.car?.agent?.bio??"N/A"}`].join(`
`):""}function N6(s){if(!s)return"N/A";const t=new Date(s);return Number.isNaN(t.getTime())?String(s):t.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}function T7(s){if(!s)return"N/A";const t=new Date(s);return Number.isNaN(t.getTime())?String(s):t.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric"})}function i_(s){if(s==null||s==="")return"N/A";const t=Number(s);return Number.isNaN(t)?String(s):`$${t.toLocaleString("en-US")}`}function Vwe({booking:s,clients:t,onClose:r}){const n=s?.client||{},a=s?.car||{};function i({label:g,value:b}){return e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[g," :"]}),e.jsx("span",{className:"text-foreground break-words",children:b??"N/A"})]})}const o=({label:g,value:b,tone:v="neutral"})=>{const y=v==="teal"?"bg-teal-600 text-white":v==="red"?"bg-red-600 text-white":v==="yellow"?"bg-yellow-500 text-white":"bg-muted text-foreground";return e.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx("span",{className:"text-muted-foreground",children:g}),e.jsx("span",{className:`inline-flex items-center justify-center px-2 h-5 rounded text-xs font-semibold leading-none ${y}`,children:b??"N/A"})]})},c=s?.booking_request_status??"N/A",d=c==="completed"?"teal":c==="pending"?"yellow":c==="cancelled"||c==="rejected"?"red":"neutral",h=s?.payment_status??"N/A",m=h==="paid"?"teal":h==="pending"?"yellow":h==="failed"?"red":"neutral",f=(n?.first_name&&n?.last_name?`${n.first_name} ${n.last_name}`:n?.username)||t?.[s?.client_id]||`User #${s?.client_id??"N/A"}`;return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Booking"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(i,{label:"Booking ID",value:s?.id}),e.jsx(i,{label:"Car ID",value:s?.car_id??a?.id}),e.jsx(i,{label:"Start",value:N6(s?.start_datetime)}),e.jsx(i,{label:"End",value:N6(s?.end_datetime)}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(o,{label:"Status:",value:c,tone:d})}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(o,{label:"Payment:",value:h,tone:m})}),e.jsx(i,{label:"Total",value:i_(s?.total_booking_price)}),e.jsx(i,{label:"Extra Charge",value:i_(s?.extra_charge??0)}),e.jsx(i,{label:"Deposit",value:i_(s?.deposit??0)}),e.jsx(i,{label:"Paid Online",value:s?.is_paid_online?"Yes":"No"}),e.jsx(i,{label:"Payment Method",value:s?.payment_method??"N/A"}),e.jsx(i,{label:"With Driver",value:s?.with_driver?"Yes":"No"})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Client"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(i,{label:"Client Name",value:f}),e.jsx(i,{label:"Client ID",value:s?.client_id??n?.id}),e.jsx(i,{label:"Email",value:n?.email??"N/A"}),e.jsx(i,{label:"Phone",value:n?.phone_number??"N/A"})]}),e.jsx("div",{className:"border-t pt-3"}),s?.car&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Car"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(i,{label:"Make",value:a?.make}),e.jsx(i,{label:"Model",value:a?.model}),e.jsx(i,{label:"Year",value:a?.year}),e.jsx(i,{label:"Plate",value:a?.license_plate}),e.jsx(i,{label:"Color",value:a?.color}),e.jsx(i,{label:"Transmission",value:a?.transmission}),e.jsx(i,{label:"Fuel",value:a?.fuel_type})]}),e.jsx("div",{className:"border-t pt-3"})]}),e.jsx("div",{className:"text-sm font-semibold",children:"Locations"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(i,{label:"Pickup",value:s?.pickup_location??"N/A"}),e.jsx(i,{label:"Dropoff",value:s?.dropoff_location??"N/A"}),e.jsx(i,{label:"Delivery Address",value:s?.delivery_location?.address??"N/A"}),e.jsx(i,{label:"Return Address",value:s?.return_location?.address??"N/A"})]}),s?.reason_of_booking&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Reason / Notes"}),e.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:s?.reason_of_booking})]}),e.jsx("div",{className:"pt-3 flex gap-2 justify-end",children:e.jsx(fe,{variant:"outline",className:"w-28",onClick:r,children:"Close"})})]})}const Hwe={paid:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700",cancelled:"bg-red-100 text-red-700"},qwe={income:"bg-blue-100 text-blue-700",expense:"bg-purple-100 text-purple-700"};function Gwe(s,t=14){return s?s.length>t?`${s.slice(0,t)}...`:s:"N/A"}function Wwe(){const[s,t]=w.useState([]),[r,n]=w.useState(!1),[a,i]=w.useState(""),[o,c]=w.useState(!1),[d,h]=w.useState(!1),[m,f]=w.useState(null),[g,b]=w.useState(!1),[v,y]=w.useState(null),[_,j]=w.useState(!1),[S,N]=w.useState({user_id:"",amount:"",source:"cash",type:"income",status:"pending",due_date:"",description:""}),k=async()=>{n(!0);try{const{data:K}=await Le.get("/admin/payments",{params:{per_page:50}});t(K.payments?.data||[])}catch{xe.error("Failed to load payments")}finally{n(!1)}};w.useEffect(()=>{k()},[]);const C=w.useMemo(()=>{let K=[...s];return a&&(K=K.filter(L=>`${L.id} ${L.reference_id} ${L.user?.first_name??""} ${L.user?.last_name??""}`.toLowerCase().includes(a.toLowerCase()))),K.sort((L,J)=>o?L.amount-J.amount:J.amount-L.amount),K},[s,a,o]),z=K=>{f(K),h(!0)},E=K=>{y({...K}),b(!0)},U=async()=>{try{const K={status:v.status,source:v.source,due_date:v.due_date,description:v.description};await Le.put(`/admin/payments/${v.id}`,K),xe.success("Payment updated"),b(!1),k()}catch{xe.error("Failed to update payment")}},T=async()=>{try{const K={user_id:Number(S.user_id),amount:Number(S.amount),source:S.source,type:S.type,status:S.status,due_date:S.due_date,description:S.description};await Le.post("/admin/payments",K),xe.success("Payment created"),j(!1),N({user_id:"",amount:"",source:"cash",type:"income",status:"pending",due_date:"",description:""}),k()}catch{xe.error("Failed to create payment")}},re="/avatar.png",Y="https://rento-lb.com/api/storage/",I=K=>{const L=K?.user.profile_picture;if(!L)return re;if(L.startsWith("http"))return L;const J=L.startsWith("/")?L.slice(1):L;return Y+J};return e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Payments"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(fe,{size:"sm",onClick:()=>j(!0),children:[e.jsx(nr,{size:16,className:"mr-1"}),"Add Payment"]}),e.jsx(Ae,{placeholder:"Search",className:"h-8 w-48 text-xs",value:a,onChange:K=>i(K.target.value)}),e.jsx(fe,{size:"icon",variant:"ghost","aria-label":"Sort amount",onClick:()=>c(!o),children:e.jsx(_G,{size:16})}),e.jsx(fe,{size:"icon",variant:"ghost","aria-label":"Refresh payments",onClick:k,children:e.jsx(Ft,{size:16})})]})]}),e.jsx("div",{className:"rounded-xl border bg-background",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"User"}),e.jsx(_e,{children:"Type"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Source"}),e.jsx(_e,{children:"Amount"}),e.jsx(_e,{className:"text-right",children:"Actions"})]})}),e.jsxs(Ut,{children:[C.map(K=>e.jsxs(Ye,{children:[e.jsx(ve,{children:e.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Kwe(K),role:"button",tabIndex:0,onClick:()=>z(K),children:K.id})}),e.jsx(ve,{children:e.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Ywe(K),children:[e.jsx("img",{src:I(K),alt:K.user.username||"User",className:"h-7 w-7 rounded-full object-cover",onError:L=>{L.currentTarget.onerror=null,L.currentTarget.src="/avatar.png"}}),Gwe(K.user?`${K.user.first_name} ${K.user.last_name}`:"",14)]})}),e.jsx(ve,{children:e.jsx(Ge,{className:qwe[K.type],children:K.type})}),e.jsx(ve,{children:e.jsx(Ge,{className:Hwe[K.status],children:K.status})}),e.jsx(ve,{children:K.source}),e.jsxs(ve,{children:["$",K.amount]}),e.jsxs(ve,{className:"flex justify-end gap-1",children:[e.jsx(fe,{size:"icon",variant:"ghost","aria-label":"View payment",onClick:()=>z(K),children:e.jsx(er,{size:16})}),e.jsx(fe,{size:"icon",variant:"ghost","aria-label":"Edit payment",onClick:()=>E(K),children:e.jsx(xr,{size:16})})]})]},K.id)),!r&&C.length===0&&e.jsx(Ye,{children:e.jsx(ve,{colSpan:7,className:"text-center py-10 text-muted-foreground",children:"No payments found"})})]})]})}),e.jsx(yr,{open:d,onOpenChange:h,children:e.jsxs(ur,{className:"max-w-3xl",children:[e.jsxs(hr,{children:[e.jsx(fr,{children:"Payment Details"}),e.jsx(xi,{children:"Read-only"})]}),m&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("b",{children:"ID:"})," ",m.id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Reference:"})," ",m.reference_id]}),e.jsxs("div",{children:[e.jsx("b",{children:"User:"})," ",m.user?.first_name," ",m.user?.last_name]}),e.jsxs("div",{children:[e.jsx("b",{children:"Type:"})," ",m.type]}),e.jsxs("div",{children:[e.jsx("b",{children:"Status:"})," ",m.status]}),e.jsxs("div",{children:[e.jsx("b",{children:"Source:"})," ",m.source]}),e.jsxs("div",{children:[e.jsx("b",{children:"Amount:"})," $",m.amount]}),e.jsxs("div",{children:[e.jsx("b",{children:"Due:"})," ",new Date(m.due_date).toLocaleString()]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("b",{children:"Description:"})," ",m.description||""]})]})]})}),e.jsx(yr,{open:g,onOpenChange:b,children:e.jsxs(ur,{className:"max-w-xl",children:[e.jsxs(hr,{children:[e.jsx(fr,{children:"Edit Payment"}),e.jsx(xi,{children:"Editable fields only"})]}),v&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Status"}),e.jsxs(ot,{value:v.status,onValueChange:K=>y({...v,status:K}),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"pending",children:"Pending"}),e.jsx(ke,{value:"paid",children:"Paid"}),e.jsx(ke,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Source"}),e.jsx(Ae,{value:v.source,onChange:K=>y({...v,source:K.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Due Date"}),e.jsx(Ae,{type:"datetime-local",value:v.due_date?.slice(0,16),onChange:K=>y({...v,due_date:K.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Description"}),e.jsx(Ae,{value:v.description||"",onChange:K=>y({...v,description:K.target.value})})]}),e.jsx(fe,{className:"w-full",onClick:U,children:"Save Changes"})]})]})}),e.jsx(yr,{open:_,onOpenChange:j,children:e.jsxs(ur,{className:"max-w-xl",children:[e.jsxs(hr,{children:[e.jsx(fr,{children:"Add Payment"}),e.jsx(xi,{children:"Create a new payment"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ae,{type:"number",placeholder:"User ID",value:S.user_id,onChange:K=>N({...S,user_id:K.target.value})}),e.jsx(Ae,{type:"number",placeholder:"Amount",value:S.amount,onChange:K=>N({...S,amount:K.target.value})}),e.jsxs(ot,{value:S.type,onValueChange:K=>N({...S,type:K}),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"income",children:"Income"}),e.jsx(ke,{value:"expense",children:"Expense"})]})]}),e.jsxs(ot,{value:S.status,onValueChange:K=>N({...S,status:K}),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"pending",children:"Pending"}),e.jsx(ke,{value:"paid",children:"Paid"}),e.jsx(ke,{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs(ot,{value:S.source,onValueChange:K=>N({...S,source:K}),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"cash",children:"Cash"}),e.jsx(ke,{value:"bank",children:"Bank"})]})]}),e.jsx(Ae,{type:"datetime-local",value:S.due_date,onChange:K=>N({...S,due_date:K.target.value})}),e.jsx(Ae,{placeholder:"Description",value:S.description,onChange:K=>N({...S,description:K.target.value})}),e.jsx(fe,{className:"w-full",onClick:T,children:"Create Payment"})]})]})})]})}function Ywe(s){if(!s)return"";const t=s.user||{};return[`User ID : ${t.id??"N/A"}`,`Real User ID : ${t.real_user_id??"N/A"}`,`Username : ${t.username??"N/A"}`,`Phone Number : ${t.phone_number??"N/A"}`,`Email : ${t.email??"N/A"}`,`Verified ByAadmin : ${t.verified_by_admin??"N/A"}`,`Gender : ${t.gender??"N/A"}`,`Birth Date : ${Xwe(t.birth_date??"N/A")}`,`City : ${t.city??"N/A"}`,`Bio : ${t.bio??"N/A"}`,`Role : ${t.role??"N/A"}`].join(`
`)}function Kwe(s){return s?[`User ID : ${s.user_id??"N/A"}`,`Name : ${s.name??"N/A"}`,`Issue Date : ${k6(s.issue_date??"N/A")}`,`Due Date : ${k6(s.due_date??"N/A")}`,`Reference ID : ${s.reference_id??"N/A"}`,`Description : ${s.description??"N/A"}`].join(`
`):""}function Xwe(s){if(!s)return"N/A";const t=new Date(s);return Number.isNaN(t.getTime())?String(s):t.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}function k6(s){if(!s)return"N/A";const t=new Date(s);return Number.isNaN(t.getTime())?String(s):t.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}const Zwe=()=>{const[s,t]=w.useState([]),[r,n]=w.useState(!1),[a,i]=w.useState(!1),o=async()=>{i(!0);try{const{data:d}=await oye();t(d.ads.data)}finally{i(!1)}};w.useEffect(()=>{o()},[]);const c=async d=>{if(confirm("Delete this ad?"))try{await cye(d),_n({title:"Ad deleted"}),o()}catch{_n({title:"Failed to delete ad",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Ads"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(fe,{size:"sm","aria-label":"Create new ad",onClick:()=>n(d=>!d),children:[e.jsx(nr,{className:"h-4 w-4 mr-1"}),"Create Ad"]}),e.jsx(fe,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:o,children:e.jsx(Ft,{className:"h-4 w-4"})})]})]}),r&&e.jsxs(Ue,{children:[e.jsx(ts,{children:e.jsx(ss,{children:"Create Advertisement"})}),e.jsx(He,{children:e.jsx(w9,{onSuccess:()=>{n(!1),o()}})})]}),e.jsx(Ue,{children:e.jsxs(He,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Website"}),e.jsx(_e,{children:"Company"}),e.jsx(_e,{children:"User"}),e.jsx(_e,{children:"Online"}),e.jsx(_e,{children:"Views"}),e.jsx(_e,{children:"Clicks"}),e.jsx(_e,{children:"Cost"}),e.jsx(_e,{className:"text-right",children:"Actions"})]})}),e.jsx(Ut,{children:s.map(d=>e.jsxs(Ye,{children:[e.jsx(ve,{children:d.id}),e.jsx(ve,{className:"max-w-[160px] truncate",children:e.jsx("a",{href:d.website,target:"_blank",className:"text-blue-400 hover:underline",children:d.website})}),e.jsx(ve,{children:d.company_type}),e.jsx(ve,{children:d.user?.username??""}),e.jsx(ve,{children:e.jsx(Ge,{variant:d.online?"success":"secondary",children:d.online?"Online":"Offline"})}),e.jsx(ve,{children:d.nb_views}),e.jsx(ve,{children:d.nb_clicks}),e.jsxs(ve,{children:["$",Number(d.amount_cost).toFixed(2)]}),e.jsx(ve,{className:"text-right",children:e.jsx(fe,{size:"sm",variant:"destructive","aria-label":"Delete ad",onClick:()=>c(d.id),children:e.jsx(Hm,{className:"h-3 w-3"})})})]},d.id))})]})}),!a&&s.length===0&&e.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No ads found"})]})})]})},Qwe=()=>{const[s,t]=w.useState([]),[r,n]=w.useState(!1),[a,i]=w.useState(!1),o=async()=>{i(!0);try{const{data:h}=await hye();t(h.featured_cars.data)}finally{i(!1)}};w.useEffect(()=>{o()},[]);const c=async h=>{if(confirm("Delete this featured car?"))try{await mye(h),_n({title:"Featured car removed"}),o()}catch{_n({title:"Failed to delete featured car",variant:"destructive"})}},d=(h,m)=>{const f=new Date(h),g=new Date(m);return`${Math.ceil((g-f)/(1e3*60*60*24))||0} days`};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Featured Cars"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(fe,{size:"sm","aria-label":"Create new featured car",onClick:()=>n(h=>!h),children:[e.jsx(nr,{className:"h-4 w-4 mr-1"}),"Create Featured Car"]}),e.jsx(fe,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:o,children:e.jsx(Ft,{className:"h-4 w-4"})})]})]}),r&&e.jsxs(Ue,{children:[e.jsx(ts,{children:e.jsx(ss,{children:"Create Featured Car"})}),e.jsx(He,{children:e.jsx(j9,{onSuccess:()=>{n(!1),o()}})})]}),e.jsx(Ue,{children:e.jsxs(He,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Car"}),e.jsx(_e,{children:"Duration"}),e.jsx(_e,{children:"Start Date"}),e.jsx(_e,{children:"Expire Date"}),e.jsx(_e,{className:"text-right",children:"Actions"})]})}),e.jsx(Ut,{children:s.map(h=>e.jsxs(Ye,{children:[e.jsx(ve,{children:h.id}),e.jsxs(ve,{children:[h.car?.make," ",h.car?.model]}),e.jsx(ve,{children:d(h.start_at,h.expire_at)}),e.jsx(ve,{children:new Date(h.start_at).toLocaleDateString()}),e.jsx(ve,{children:new Date(h.expire_at).toLocaleDateString()}),e.jsx(ve,{className:"text-right",children:e.jsx(fe,{size:"icon","aria-label":"Delete featured car",variant:"destructive",onClick:()=>c(h.id),children:e.jsx(Hm,{className:"h-3 w-3"})})})]},h.id))})]})}),!a&&s.length===0&&e.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No featured cars found"})]})})]})},Jwe=({onSuccess:s})=>{const[t,r]=w.useState(!1),[n,a]=w.useState({car_id:"",holiday_name:"",start:"",end:"",percentage_increase:"",is_active:!0}),i=(c,d)=>a(h=>({...h,[c]:d})),o=async c=>{c.preventDefault(),r(!0);try{await gye({car_id:Number(n.car_id),holiday_name:n.holiday_name,holiday_dates:{start:n.start,end:n.end},percentage_increase:Number(n.percentage_increase),is_active:n.is_active}),_n({title:"Holiday created"}),s?.()}catch{_n({title:"Failed to create holiday",variant:"destructive"})}finally{r(!1)}};return e.jsxs("form",{onSubmit:o,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Car ID"}),e.jsx(Ae,{value:n.car_id,onChange:c=>i("car_id",c.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Holiday Name"}),e.jsx(Ae,{value:n.holiday_name,onChange:c=>i("holiday_name",c.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Start Date"}),e.jsx(Ae,{type:"date",value:n.start,onChange:c=>i("start",c.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"End Date"}),e.jsx(Ae,{type:"date",value:n.end,onChange:c=>i("end",c.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Increase %"}),e.jsx(Ae,{type:"number",step:"0.01",value:n.percentage_increase,onChange:c=>i("percentage_increase",c.target.value),required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[e.jsx(yn,{checked:n.is_active,onCheckedChange:c=>i("is_active",c)}),e.jsx(ue,{children:"Active"})]}),e.jsx("div",{className:"md:col-span-2 flex justify-end gap-2",children:e.jsx(fe,{type:"submit",disabled:t,children:t?"Saving...":"Create Holiday"})})]})},eje=()=>{const[s,t]=w.useState([]),[r,n]=w.useState(!1),[a,i]=w.useState(!0),o=async()=>{i(!0);try{const d=await pye();console.log("HOLIDAYS API RESPONSE:",d.data),t(d.data.holidays.data)}catch(d){console.error(d),_n({title:"Failed to load holidays",variant:"destructive"})}finally{i(!1)}};w.useEffect(()=>{o()},[]);const c=async d=>{if(confirm("Delete this holiday?"))try{await xye(d),_n({title:"Holiday deleted"}),o()}catch{_n({title:"Failed to delete holiday",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Holidays"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(fe,{size:"sm","aria-label":"Create new holiday",onClick:()=>n(d=>!d),children:[e.jsx(nr,{className:"h-4 w-4 mr-1"}),"Create Holiday"]}),e.jsx(fe,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:o,children:e.jsx(Ft,{className:"h-4 w-4"})})]})]}),r&&e.jsxs(Ue,{children:[e.jsx(ts,{children:e.jsx(ss,{children:"Create Holiday"})}),e.jsx(He,{children:e.jsx(Jwe,{onSuccess:()=>{n(!1),o()}})})]}),e.jsx(Ue,{children:e.jsx(He,{children:a?e.jsx("p",{className:"text-center py-6 text-muted-foreground",children:"Loading holidays..."}):s.length===0?e.jsx("p",{className:"text-center py-6 text-muted-foreground",children:"No holidays found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Car"}),e.jsx(_e,{children:"Holiday Name"}),e.jsx(_e,{children:"Dates"}),e.jsx(_e,{children:"Increase %"}),e.jsx(_e,{children:"Active"}),e.jsx(_e,{className:"text-right",children:"Actions"})]})}),e.jsx(Ut,{children:s.map(d=>e.jsxs(Ye,{children:[e.jsx(ve,{children:d.id}),e.jsxs(ve,{children:[d.car?.make," ",d.car?.model]}),e.jsx(ve,{children:d.holiday_name}),e.jsxs(ve,{className:"text-xs",children:[d.holiday_dates.start," "," ",d.holiday_dates.end]}),e.jsxs(ve,{children:[d.percentage_increase,"%"]}),e.jsx(ve,{children:e.jsx(Ge,{variant:d.is_active?"success":"secondary",children:d.is_active?"Yes":"No"})}),e.jsx(ve,{className:"text-right",children:e.jsx(fe,{size:"icon","aria-label":"Delete holiday",variant:"destructive",onClick:()=>c(d.id),children:e.jsx(Hm,{className:"h-3 w-3"})})})]},d.id))})]})})})})]})};function tje(){const[s,t]=w.useState([]),[r,n]=w.useState(null),[a,i]=w.useState(!0),[o,c]=w.useState({search:"",status:"",page:1}),d=w.useCallback(async()=>{i(!0);try{const f=await rye({search:o.search||void 0,status:o.status||void 0,page:o.page});console.log("ANNOUNCEMENTS API RESPONSE:",f.data),t(f.data.announcements.data),n(f.data.announcements)}catch(f){console.error(f),_n({title:"Failed to load announcements",variant:"destructive"})}finally{i(!1)}},[o]);return w.useEffect(()=>{d()},[d]),{announcements:s,meta:r,loading:a,filters:o,setFilters:c,refresh:()=>{d()},removeAnnouncement:async f=>{if(confirm("Delete this announcement?"))try{await nye(f),_n({title:"Announcement deleted"}),d()}catch{_n({title:"Failed to delete announcement",variant:"destructive"})}}}}function sje(){const{announcements:s,meta:t,loading:r,filters:n,setFilters:a,refresh:i,removeAnnouncement:o}=tje();return console.log("ANNOUNCEMENTS IN PAGE:",s),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Announcements"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(Ae,{className:"w-56",placeholder:"Search...",value:n.search,onChange:c=>a({...n,search:c.target.value,page:1})}),e.jsxs(ot,{value:n.status,onValueChange:c=>a({...n,status:c,page:1}),children:[e.jsx(at,{className:"w-36",children:e.jsx(lt,{placeholder:"Status"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"draft",children:"Draft"}),e.jsx(ke,{value:"published",children:"Published"})]})]}),e.jsx(fe,{variant:"outline",onClick:i,children:e.jsx(ic,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"border rounded-xl bg-card",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Title"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Priority"}),e.jsx(_e,{children:"Audience"}),e.jsx(_e,{className:"text-right",children:"Actions"})]})}),e.jsxs(Ut,{children:[s.map(c=>e.jsxs(Ye,{children:[e.jsx(ve,{children:c.id}),e.jsx(ve,{className:"font-medium",children:c.title}),e.jsx(ve,{children:e.jsx(Ge,{children:c.status})}),e.jsx(ve,{children:c.priority}),e.jsx(ve,{children:c.target_audience?.length?c.target_audience.join(", "):"All"}),e.jsx(ve,{className:"text-right",children:e.jsx(fe,{size:"icon","aria-label":"Delete announcement",variant:"destructive",onClick:()=>o(c.id),children:e.jsx(Hm,{className:"w-3 h-3"})})})]},c.id)),!r&&s.length===0&&e.jsx(Ye,{children:e.jsx(ve,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"No announcements found"})})]})]})}),t&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",t.from,"",t.to," of ",t.total]})]})}function rje(){const[s,t]=w.useState([]),[r,n]=w.useState(null),[a,i]=w.useState(!0),[o,c]=w.useState({search:"",status:"",page:1}),d=w.useCallback(async()=>{i(!0);try{const f=await aye({search:o.search||void 0,status:o.status||void 0,page:o.page});console.log("APPEALS API RESPONSE:",f.data),t(f.data.appeals.data),n(f.data.appeals)}catch(f){console.error(f),_n({title:"Failed to load appeals",variant:"destructive"})}finally{i(!1)}},[o]);return w.useEffect(()=>{d()},[d]),{appeals:s,meta:r,loading:a,filters:o,setFilters:c,refresh:()=>d(),updateStatus:async(f,g)=>{try{await iye(f,g),_n({title:"Appeal updated"}),d()}catch{_n({title:"Failed to update appeal",variant:"destructive"})}}}}function nje(){const{appeals:s,meta:t,loading:r,filters:n,setFilters:a,refresh:i,updateStatus:o}=rje();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Appeals"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(Ae,{className:"w-56",placeholder:"Search...",value:n.search,onChange:c=>a({...n,search:c.target.value,page:1})}),e.jsxs(ot,{value:n.status||"all",onValueChange:c=>a({...n,status:c==="all"?"":c,page:1}),children:[e.jsx(at,{className:"w-36",children:e.jsx(lt,{placeholder:"Status"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All"}),e.jsx(ke,{value:"submitted",children:"Submitted"}),e.jsx(ke,{value:"under_review",children:"Under Review"}),e.jsx(ke,{value:"resolved",children:"Resolved"}),e.jsx(ke,{value:"rejected",children:"Rejected"})]})]}),e.jsx(fe,{variant:"outline",onClick:i,children:e.jsx(ic,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"border rounded-xl bg-card",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"User"}),e.jsx(_e,{children:"Message"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{className:"text-right",children:"Actions"})]})}),e.jsxs(Ut,{children:[s.map(c=>e.jsxs(Ye,{children:[e.jsx(ve,{children:c.id}),e.jsx(ve,{children:c.user?.username??""}),e.jsx(ve,{className:"max-w-xs truncate",children:c.message}),e.jsx(ve,{children:e.jsx(Ge,{children:c.status})}),e.jsx(ve,{className:"text-right",children:e.jsx(fe,{size:"sm",onClick:()=>o(c.id,{status:"resolved"}),children:"Resolve"})})]},c.id)),!r&&s.length===0&&e.jsx(Ye,{children:e.jsx(ve,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:"No appeals found"})})]})]})}),t&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",t.from,"",t.to," of ",t.total]})]})}function aje(){const[s,t]=w.useState([]),[r,n]=w.useState(null),[a,i]=w.useState(!1),[o,c]=w.useState({page:1}),d=w.useCallback(async()=>{try{i(!0);const m=(await Le.get("/admin/suggestions",{params:{page:o.page}})).data?.suggestions;t(m?.data||[]),n({current_page:m?.current_page,last_page:m?.last_page,from:m?.from,to:m?.to,total:m?.total})}catch(h){console.error("Failed to fetch suggestions:",h),t([]),n(null)}finally{i(!1)}},[o.page]);return w.useEffect(()=>{d()},[d]),{suggestions:s,meta:r,loading:a,filters:o,setFilters:c,refresh:d}}function ije(){const{suggestions:s,meta:t,loading:r,filters:n,setFilters:a,refresh:i}=aje();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Suggestions"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(fe,{variant:"outline",onClick:i,children:[e.jsx(ic,{className:"w-4 h-4 mr-2"}),"Refresh"]}),t&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{size:"icon",variant:"outline","aria-label":"Previous Page",disabled:t.current_page===1,onClick:()=>a({...n,page:t.current_page-1}),children:e.jsx(vi,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm",children:["Page ",t.current_page," of ",t.last_page]}),e.jsx(fe,{size:"icon",variant:"outline","aria-label":"Next Page",disabled:t.current_page===t.last_page,onClick:()=>a({...n,page:t.current_page+1}),children:e.jsx(Zr,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"border rounded-xl bg-card",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"User"}),e.jsx(_e,{children:"Message"}),e.jsx(_e,{children:"Created At"})]})}),e.jsxs(Ut,{children:[s.map(o=>e.jsxs(Ye,{children:[e.jsx(ve,{children:o.id}),e.jsx(ve,{children:o.user?.username||""}),e.jsx(ve,{className:"max-w-[400px] truncate",children:o.message||o.suggestion||""}),e.jsx(ve,{children:new Date(o.created_at).toLocaleString()})]},o.id)),!r&&s.length===0&&e.jsx(Ye,{children:e.jsx(ve,{colSpan:4,className:"text-center py-6 text-muted-foreground",children:"No suggestions found"})}),r&&e.jsx(Ye,{children:e.jsx(ve,{colSpan:4,className:"text-center py-6 text-muted-foreground",children:"Loading..."})})]})]})}),t&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",t.from,"",t.to," of ",t.total]})]})}function oje(){const[s,t]=w.useState([]),[r,n]=w.useState(null),[a,i]=w.useState(!1),[o,c]=w.useState({page:1}),d=w.useCallback(async()=>{try{i(!0);const g=(await Le.get("/admin/notifications",{params:{page:o.page}})).data?.notifications;t(g?.data||[]),n({current_page:g?.current_page,last_page:g?.last_page,from:g?.from,to:g?.to,total:g?.total})}catch(f){console.error("Failed to fetch notifications:",f),t([]),n(null)}finally{i(!1)}},[o.page]);return w.useEffect(()=>{d()},[d]),{notifications:s,meta:r,loading:a,filters:o,setFilters:c,refresh:d,deleteNotification:async f=>{if(confirm("Delete this notification?"))try{await Le.delete(`/admin/notifications/${f}`),d()}catch(g){console.error("Delete failed:",g)}},sendToAll:async()=>{const f=prompt("Notification title:");if(!f)return;const g=prompt("Notification message:");if(g)try{await Sye({title:f,message:g,type:"general"}),alert("Notification sent to all users"),d()}catch(b){console.error("Send failed:",b),alert("Failed to send notification")}}}}function lje(){const{notifications:s,meta:t,loading:r,filters:n,setFilters:a,refresh:i,deleteNotification:o,sendToAll:c}=oje();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Notifications"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(fe,{variant:"outline",onClick:i,children:[e.jsx(ic,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e.jsxs(fe,{onClick:c,children:[e.jsx(G0,{className:"w-4 h-4 mr-2"}),"Send to All"]})]}),t&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{size:"icon",variant:"outline","aria-label":"Previous Page",disabled:t.current_page===1,onClick:()=>a({...n,page:t.current_page-1}),children:e.jsx(vi,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm",children:["Page ",t.current_page," of ",t.last_page]}),e.jsx(fe,{size:"icon",variant:"outline","aria-label":"Next Page",disabled:t.current_page===t.last_page,onClick:()=>a({...n,page:t.current_page+1}),children:e.jsx(Zr,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"border rounded-xl bg-card",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Title"}),e.jsx(_e,{children:"Type"}),e.jsx(_e,{children:"Read"}),e.jsx(_e,{children:"Sent"}),e.jsx(_e,{children:"Created"}),e.jsx(_e,{className:"text-right",children:"Actions"})]})}),e.jsxs(Ut,{children:[s.map(d=>e.jsxs(Ye,{children:[e.jsx(ve,{children:d.id}),e.jsx(ve,{className:"font-medium",children:d.title||""}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:d.type||"general"})}),e.jsx(ve,{children:e.jsx(Ge,{variant:d.is_read?"success":"secondary",children:d.is_read?"Yes":"No"})}),e.jsx(ve,{children:e.jsx(Ge,{variant:d.sent?"success":"secondary",children:d.sent?"Yes":"No"})}),e.jsx(ve,{children:new Date(d.created_at).toLocaleString()}),e.jsx(ve,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(fe,{size:"icon","aria-label":"Edit",variant:"ghost",children:e.jsx(xr,{className:"w-3 h-3"})}),e.jsx(fe,{size:"icon",variant:"ghost","aria-label":"Delete",onClick:()=>o(d.id),children:e.jsx(Hm,{className:"w-3 h-3 text-red-500"})})]})})]},d.id)),!r&&s.length===0&&e.jsx(Ye,{children:e.jsx(ve,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:"No notifications found"})}),r&&e.jsx(Ye,{children:e.jsx(ve,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:"Loading..."})})]})]})}),t&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",t.from,"",t.to," of ",t.total]})]})}const cje={profile_completed:{label:"Profile completed",icon:Qu,color:"bg-emerald-100 text-emerald-800 border-emerald-300"},new_otp:{label:"New OTP sent",icon:$u,color:"bg-amber-100 text-amber-800 border-amber-300"}};function dje(){const s=br(),[t,r]=w.useState([]),[n,a]=w.useState({current_page:1,last_page:1,per_page:20,total:0}),[i,o]=w.useState(0),[c,d]=w.useState(!1),[h,m]=w.useState(!1),[f,g]=w.useState(20),[b,v]=w.useState(1),y=w.useCallback(async()=>{d(!0);try{const N={per_page:f,page:b};h&&(N.unread_only=!0);const k=await iP(N),C=k.data?.notifications??k.data,z=C?.data??(Array.isArray(C)?C:[]);r(z),a({current_page:C?.current_page??1,last_page:C?.last_page??1,per_page:C?.per_page??f,total:C?.total??0}),k.data?.unread_count!=null&&o(k.data.unread_count)}catch(N){xe.error(N.response?.data?.message||"Failed to load notifications"),r([])}finally{d(!1)}},[b,f,h]),_=w.useCallback(async()=>{try{const N=await oP(),k=N.data?.unread_count??N.data?.count??0;o(k)}catch{o(0)}},[]);w.useEffect(()=>{y()},[y]),w.useEffect(()=>{_()},[_]);const j=async N=>{try{await kX(N?{notification_ids:N}:{mark_all:!0}),xe.success(N?"Marked as read.":"All marked as read."),y(),_()}catch(k){xe.error(k.response?.data?.message||"Failed to mark as read")}},S=N=>{const k=N.type,C=N.data||{};k==="profile_completed"&&C.user_id?s("/admin/real-user-data",{state:{highlightUserId:C.user_id}}):k==="new_otp"&&s("/admin/otps")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(xd,{className:"w-6 h-6"}),"My Alerts"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Profile completed and new OTP notifications. Mark as read and open user or OTPs from here."}),e.jsxs(Ue,{children:[e.jsxs(ts,{children:[e.jsx(ss,{className:"text-sm",children:"Notifications"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[e.jsxs(ot,{value:h?"unread":"all",onValueChange:N=>{m(N==="unread"),v(1)},children:[e.jsx(at,{className:"w-36",children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All"}),e.jsx(ke,{value:"unread",children:"Unread only"})]})]}),e.jsxs(ot,{value:String(f),onValueChange:N=>{g(Number(N)),v(1)},children:[e.jsx(at,{className:"w-24",children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"10",children:"10"}),e.jsx(ke,{value:"20",children:"20"}),e.jsx(ke,{value:"50",children:"50"})]})]}),e.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>j(),children:[e.jsx(QN,{className:"w-4 h-4 mr-1"}),"Mark all read"]}),i>0&&e.jsxs(Ge,{variant:"secondary",children:["Unread: ",i]})]})]}),e.jsxs(He,{children:[c?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(fn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):t.length===0?e.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No notifications"}):e.jsx("ul",{className:"space-y-2",children:t.map(N=>{const k=cje[N.type]||{label:N.type,icon:xd,color:"bg-muted"},C=k.icon;return e.jsxs("li",{className:`flex items-center gap-3 rounded-lg border p-3 ${N.is_read?"bg-card":"bg-primary/5 border-primary/20"}`,children:[e.jsx("div",{className:`rounded-full p-2 ${k.color}`,children:e.jsx(C,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium",children:N.title||k.label}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:N.notification_text??N.message??""}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:N.created_at?new Date(N.created_at).toLocaleString():""})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!N.is_read&&e.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>j([N.id]),children:"Mark read"}),(N.type==="profile_completed"||N.type==="new_otp")&&e.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>S(N),children:["Open",e.jsx(Zr,{className:"w-4 h-4 ml-1"})]})]})]},N.id)})}),n.last_page>1&&e.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Page ",n.current_page," of ",n.last_page,"  Total ",n.total]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{variant:"outline",size:"sm",disabled:b<=1,onClick:()=>v(N=>N-1),children:"Previous"}),e.jsx(fe,{variant:"outline",size:"sm",disabled:b>=n.last_page,onClick:()=>v(N=>N+1),children:"Next"})]})]})]})]})]})}const o_={20:"Delivered",21:"Not delivered",22:"Waiting"},mi={1:"USA / Canada",7:"Russia / Kazakhstan",20:"Egypt",27:"South Africa",30:"Greece",31:"Netherlands",32:"Belgium",33:"France",34:"Spain",36:"Hungary",39:"Italy",40:"Romania",41:"Switzerland",43:"Austria",44:"United Kingdom",45:"Denmark",46:"Sweden",47:"Norway",48:"Poland",49:"Germany",51:"Peru",52:"Mexico",53:"Cuba",54:"Argentina",55:"Brazil",56:"Chile",57:"Colombia",58:"Venezuela",60:"Malaysia",61:"Australia",62:"Indonesia",63:"Philippines",64:"New Zealand",65:"Singapore",66:"Thailand",81:"Japan",82:"South Korea",84:"Vietnam",86:"China",90:"Turkey",91:"India",92:"Pakistan",93:"Afghanistan",94:"Sri Lanka",95:"Myanmar",98:"Iran",212:"Morocco",213:"Algeria",216:"Tunisia",218:"Libya",220:"Gambia",221:"Senegal",222:"Mauritania",223:"Mali",224:"Guinea",225:"Ivory Coast",226:"Burkina Faso",227:"Niger",228:"Togo",229:"Benin",230:"Mauritius",231:"Liberia",232:"Sierra Leone",233:"Ghana",234:"Nigeria",235:"Chad",236:"Central African Republic",237:"Cameroon",238:"Cape Verde",239:"So Tom and Prncipe",240:"Equatorial Guinea",241:"Gabon",242:"Republic of the Congo",243:"DR Congo",244:"Angola",245:"Guinea-Bissau",246:"British Indian Ocean Territory",248:"Seychelles",249:"Sudan",250:"Rwanda",251:"Ethiopia",252:"Somalia",253:"Djibouti",254:"Kenya",255:"Tanzania",256:"Uganda",257:"Burundi",258:"Mozambique",260:"Zambia",261:"Madagascar",262:"Runion / Mayotte",263:"Zimbabwe",264:"Namibia",265:"Malawi",266:"Lesotho",267:"Botswana",268:"Eswatini",269:"Comoros",290:"Saint Helena",291:"Eritrea",297:"Aruba",298:"Faroe Islands",299:"Greenland",350:"Gibraltar",351:"Portugal",352:"Luxembourg",353:"Ireland",354:"Iceland",355:"Albania",356:"Malta",357:"Cyprus",358:"Finland",359:"Bulgaria",370:"Lithuania",371:"Latvia",372:"Estonia",373:"Moldova",374:"Armenia",375:"Belarus",376:"Andorra",377:"Monaco",378:"San Marino",380:"Ukraine",381:"Serbia",382:"Montenegro",383:"Kosovo",385:"Croatia",386:"Slovenia",387:"Bosnia and Herzegovina",389:"North Macedonia",420:"Czech Republic",421:"Slovakia",423:"Liechtenstein",500:"Falkland Islands",501:"Belize",502:"Guatemala",503:"El Salvador",504:"Honduras",505:"Nicaragua",506:"Costa Rica",507:"Panama",508:"Saint Pierre and Miquelon",509:"Haiti",590:"Guadeloupe",591:"Bolivia",592:"Guyana",593:"Ecuador",594:"French Guiana",595:"Paraguay",596:"Martinique",597:"Suriname",598:"Uruguay",599:"Caribbean Netherlands",670:"East Timor",672:"Antarctica",673:"Brunei",674:"Nauru",675:"Papua New Guinea",676:"Tonga",677:"Solomon Islands",678:"Vanuatu",679:"Fiji",680:"Palau",681:"Wallis and Futuna",682:"Cook Islands",683:"Niue",685:"Samoa",686:"Kiribati",687:"New Caledonia",688:"Tuvalu",689:"French Polynesia",690:"Tokelau",691:"Micronesia",692:"Marshall Islands",850:"North Korea",852:"Hong Kong",853:"Macau",855:"Cambodia",856:"Laos",880:"Bangladesh",886:"Taiwan",960:"Maldives",961:"Lebanon",962:"Jordan",963:"Syria",964:"Iraq",965:"Kuwait",966:"Saudi Arabia",967:"Yemen",968:"Oman",970:"Palestine",971:"UAE",972:"Israel",973:"Bahrain",974:"Qatar",975:"Bhutan",976:"Mongolia",977:"Nepal",992:"Tajikistan",993:"Turkmenistan",994:"Azerbaijan",995:"Georgia",996:"Kyrgyzstan",998:"Uzbekistan",int:"International",international:"International"};function l_(s,t){const r=s?String(s).replace(/\D/g,""):"";if(r.length>0){const n=r.slice(0,3),a=r.slice(0,2),i=r.slice(0,1);if(mi[n])return mi[n];if(mi[a])return mi[a];if(mi[i])return mi[i]}if(t!=null&&t!==""){const n=String(t).replace(/^\+/,"").trim().toLowerCase();return mi[n]??mi[t]??t}return""}function Wf(s,t){const r=s?String(s).replace(/\D/g,""):"";if(r.length>0){const n=r.slice(0,3),a=r.slice(0,2),i=r.slice(0,1);if(mi[n])return n;if(mi[a])return a;if(mi[i])return i}return t??""}function Mu({title:s,value:t,sub:r,icon:n,className:a=""}){return e.jsx(Ue,{className:a,children:e.jsx(He,{className:"pt-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:s}),e.jsx("p",{className:"text-2xl font-bold mt-0.5",children:t??""}),r!=null&&r!==""&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r})]}),n&&e.jsx(n,{className:"h-8 w-8 text-muted-foreground/60"})]})})})}function uje(){const s=br(),[t,r]=w.useState([]),[n,a]=w.useState({current_page:1,last_page:1,per_page:50,total:0}),[i,o]=w.useState(!1),[c,d]=w.useState(null),[h,m]=w.useState(!1),[f,g]=w.useState({balance_int:null,balance_decimal:null,success:!1}),[b,v]=w.useState(!1),[y,_]=w.useState(""),[j,S]=w.useState(!1),[N,k]=w.useState(!1),[C,z]=w.useState(null),[E,U]=w.useState(!1),[T,re]=w.useState(1),[Y,I]=w.useState(50),[K,L]=w.useState(""),[J,Q]=w.useState("all"),[Z,ee]=w.useState(""),[F,de]=w.useState(""),[q,G]=w.useState("all"),[ie,le]=w.useState("all"),[be,ye]=w.useState(!1),$=w.useCallback(async()=>{o(!0);try{const D={page:T,per_page:Y};K?.trim()&&(D.phone_number=K.trim()),J==="true"&&(D.expired=!0),J==="false"&&(D.expired=!1),Z&&(D.from_date=Z),F&&(D.to_date=F),q&&q!=="all"&&(D.delivery_status=q),ie&&ie!=="all"&&(D.registration=ie),be&&(D.group_by="phone");const Ce=await d9(D),R=be&&Ce.data?.otps_by_phone?Ce.data.otps_by_phone:Ce.data?.otps,P=R?.data||[];r(P),a({current_page:R?.current_page??1,last_page:R?.last_page??1,per_page:R?.per_page??Y,total:R?.total??0})}catch(D){xe.error(D.response?.data?.message||"Failed to load OTPs"),r([])}finally{o(!1)}},[T,Y,K,J,Z,F,q,ie,be]);w.useEffect(()=>{$()},[$]);const V=w.useCallback(async()=>{m(!0);try{const D=await Cye();d(D.data?.statistics??D.data??null)}catch{d(null)}finally{m(!1)}},[]),me=w.useCallback(async()=>{v(!0);try{const D=await Eye();g({success:D.data?.success??!1,balance_int:D.data?.balance_int??null,balance_decimal:D.data?.balance_decimal??null,error:D.data?.error??null})}catch(D){g({success:!1,balance_int:null,balance_decimal:null,error:D.response?.data?.error||"Failed to fetch balance"})}finally{v(!1)}},[]);w.useEffect(()=>{V()},[V]),w.useEffect(()=>{me()},[me]);const ce=async D=>{D.preventDefault();const Ce=y?.trim();if(!Ce){xe.error("Enter a batch ID");return}S(!0);try{const R=(await Tye(Ce)).data;R?.success?(xe.success(`Updated ${R.otps_updated??0} OTP(s). Status: ${o_[R.delivery_status]||R.delivery_status}`),_(""),$(),V()):xe.error(R?.error||"Delivery report failed")}catch(H){xe.error(H.response?.data?.error||H.response?.data?.message||"Failed to fetch delivery report")}finally{S(!1)}},he=()=>{re(1),$()},O=D=>D?new Date(D)<new Date:!1,oe=async D=>{k(!0),z(null),U(!0);try{const Ce=await Aye(D);z(Ce.data?.otp??Ce.data??null)}catch{xe.error("Failed to load OTP details"),z(null)}finally{U(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx($u,{className:"w-7 h-7"}),"OTP & SMS Analytics"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Audit trail of all OTPs. Delivery status is always liveevery list, stats, or single-OTP request refreshes from Moursel first."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-4",children:h?e.jsx(Ue,{className:"col-span-full",children:e.jsx(He,{className:"py-8 flex justify-center",children:e.jsx(fn,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):e.jsxs(e.Fragment,{children:[e.jsx(Mu,{title:"Total OTPs",value:c?.total_otps,icon:qi}),e.jsx(Mu,{title:"Active",value:c?.active_otps,sub:"Not expired",icon:$u}),e.jsx(Mu,{title:"Expired",value:c?.expired_otps,icon:$u}),e.jsx(Mu,{title:"Today",value:c?.otps_today,icon:qi}),e.jsx(Mu,{title:"This week",value:c?.otps_this_week,icon:qi}),e.jsx(Mu,{title:"This month",value:c?.otps_this_month,icon:qi}),e.jsx(Ue,{children:e.jsxs(He,{className:"pt-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"SMS balance"}),b?e.jsx(fn,{className:"h-6 w-6 animate-spin mt-1 text-muted-foreground"}):f.error?e.jsx("p",{className:"text-sm text-destructive mt-0.5",children:f.error}):e.jsx("p",{className:"text-xl font-bold mt-0.5",children:f.balance_decimal!=null?f.balance_decimal:f.balance_int??""})]}),e.jsx(wm,{className:"h-8 w-8 text-muted-foreground/60"})]}),!b&&!f.error&&e.jsxs(fe,{variant:"ghost",size:"sm",className:"mt-2 h-7 px-2",onClick:me,children:[e.jsx(ic,{className:"h-3 w-3 mr-1"})," Refresh"]})]})})]})}),c&&(c.phones_never_registered!=null||c.phones_became_user!=null)&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(Ue,{className:"border-amber-200 bg-amber-50/50 dark:bg-amber-950/20 dark:border-amber-800",children:e.jsx(He,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(OY,{className:"h-9 w-9 text-amber-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Phones never registered"}),e.jsx("p",{className:"text-2xl font-bold text-amber-800 dark:text-amber-200",children:c.phones_never_registered??""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Received OTP but not yet a user"})]})]})})}),e.jsx(Ue,{className:"border-emerald-200 bg-emerald-50/50 dark:bg-emerald-950/20 dark:border-emerald-800",children:e.jsx(He,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qu,{className:"h-9 w-9 text-emerald-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Phones became user"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-200",children:c.phones_became_user??""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"OTP led to signup"})]})]})})})]}),e.jsxs(Ue,{className:"bg-muted/30",children:[e.jsxs(ts,{children:[e.jsxs(ss,{className:"text-sm flex items-center gap-2",children:[e.jsx(r0,{className:"w-4 h-4"}),"Delivery status"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Every OTP list, statistics, and single-OTP request refreshes delivery from Moursel firstdata is always live. Optionally fetch a single batch below (e.g. for debugging)."})]}),e.jsx(He,{children:e.jsxs("form",{onSubmit:ce,className:"flex flex-wrap items-end gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(ue,{className:"text-xs",children:"Batch ID (on-demand)"}),e.jsx(Ae,{placeholder:"e.g. abc-123",value:y,onChange:D=>_(D.target.value),className:"w-48"})]}),e.jsxs(fe,{type:"submit",disabled:j,children:[j?e.jsx(fn,{className:"w-4 h-4 animate-spin"}):e.jsx(r0,{className:"w-4 h-4 mr-1"}),"Fetch this batch"]})]})})]}),e.jsxs(Ue,{children:[e.jsxs(ts,{children:[e.jsx(ss,{className:"text-base",children:"OTP list"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Filter and group for analysis. Delivery status is refreshed from Moursel on every load."})]}),e.jsxs(He,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(ue,{className:"text-xs",children:"Phone"}),e.jsx(Ae,{placeholder:"Filter by phone",value:K,onChange:D=>L(D.target.value),className:"w-36"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(ue,{className:"text-xs",children:"Expired"}),e.jsxs(ot,{value:J,onValueChange:Q,children:[e.jsx(at,{className:"w-28",children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All"}),e.jsx(ke,{value:"true",children:"Expired only"}),e.jsx(ke,{value:"false",children:"Active only"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(ue,{className:"text-xs",children:"From"}),e.jsx(Ae,{type:"date",value:Z,onChange:D=>ee(D.target.value),className:"w-32"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(ue,{className:"text-xs",children:"To"}),e.jsx(Ae,{type:"date",value:F,onChange:D=>de(D.target.value),className:"w-32"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(ue,{className:"text-xs",children:"Delivery"}),e.jsxs(ot,{value:q,onValueChange:G,children:[e.jsx(at,{className:"w-32",children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All"}),e.jsx(ke,{value:"20",children:"Delivered"}),e.jsx(ke,{value:"21",children:"Not delivered"}),e.jsx(ke,{value:"22",children:"Waiting"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(ue,{className:"text-xs",children:"Registration"}),e.jsxs(ot,{value:ie,onValueChange:le,children:[e.jsx(at,{className:"w-40",children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All"}),e.jsx(ke,{value:"only_not_registered",children:"Not registered"}),e.jsx(ke,{value:"only_became_user",children:"Became user"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(ue,{className:"text-xs",children:"View"}),e.jsxs(ot,{value:be?"phone":"list",onValueChange:D=>ye(D==="phone"),children:[e.jsx(at,{className:"w-28",children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"list",children:"Per OTP"}),e.jsx(ke,{value:"phone",children:"By phone"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(ue,{className:"text-xs",children:"Per page"}),e.jsxs(ot,{value:String(Y),onValueChange:D=>I(Number(D)),children:[e.jsx(at,{className:"w-20",children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"20",children:"20"}),e.jsx(ke,{value:"50",children:"50"}),e.jsx(ke,{value:"100",children:"100"})]})]})]}),e.jsx(fe,{variant:"outline",onClick:he,children:"Apply"}),e.jsx(fe,{variant:"outline",size:"icon",onClick:()=>{$(),V()},disabled:i,children:e.jsx(ic,{className:`w-4 h-4 ${i?"animate-spin":""}`})})]}),e.jsx("div",{className:"rounded-xl border bg-card overflow-hidden shadow-sm",children:e.jsx("div",{className:"overflow-auto max-h-[min(70vh,800px)]",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsx(Ye,{className:"border-b bg-muted/80 hover:bg-muted/80 sticky top-0 z-10 shadow-[0_1px_0_0_hsl(var(--border))] [&_th]:bg-muted/80",children:be?e.jsxs(e.Fragment,{children:[e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5",children:"Phone"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5",children:"Last sent"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5",children:"OTP count"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5",children:"Country"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5",children:"Registered"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5",children:"User ID"})]}):e.jsxs(e.Fragment,{children:[e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5 w-14",children:"ID"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5 min-w-[120px]",children:"Phone"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5 w-20",children:"Code"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5",children:"Created"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5",children:"Batch ID"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5 min-w-[100px]",children:"Country"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5",children:"Delivery"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5",children:"Report at"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5 w-20",children:"Status"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5 w-16 text-center",children:"#"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5 w-24",children:"Registered"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5 w-16",children:"User"}),e.jsx(_e,{className:"font-semibold text-foreground whitespace-nowrap py-3.5 w-12"})]})})}),e.jsx(Ut,{children:i?e.jsx(Ye,{className:"hover:bg-transparent",children:e.jsxs(ve,{colSpan:be?6:13,className:"text-center py-16",children:[e.jsx(fn,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Loading OTPs"})]})}):t.length===0?e.jsx(Ye,{className:"hover:bg-transparent",children:e.jsx(ve,{colSpan:be?6:13,className:"text-center py-16 text-muted-foreground",children:"No OTPs match your filters."})}):be?t.map((D,Ce)=>e.jsxs(Ye,{className:`transition-colors ${Ce%2===1?"bg-muted/20":""} hover:bg-muted/40`,children:[e.jsx(ve,{className:"font-mono text-sm py-2.5",children:D.phone_number}),e.jsx(ve,{className:"text-sm text-muted-foreground py-2.5",children:D.last_sent_at?new Date(D.last_sent_at).toLocaleString():""}),e.jsx(ve,{className:"text-sm font-medium py-2.5",children:D.otp_count??""}),e.jsxs(ve,{className:"text-sm py-2.5",children:[e.jsx("span",{className:"font-medium text-foreground",children:l_(D.phone_number,D.country_origin)}),Wf(D.phone_number,D.country_origin)!==""&&e.jsxs("span",{className:"text-muted-foreground text-xs ml-1",children:["(+",Wf(D.phone_number,D.country_origin),")"]})]}),e.jsx(ve,{className:"py-2.5",children:D.is_registered_user!=null?D.is_registered_user?e.jsx(Ge,{variant:"default",className:"bg-emerald-600 hover:bg-emerald-600 text-xs font-medium",children:"Yes"}):e.jsx(Ge,{variant:"destructive",className:"bg-red-600 hover:bg-red-600 text-xs font-medium",children:"No"}):e.jsx("span",{className:"text-muted-foreground",children:""})}),e.jsx(ve,{className:"py-2.5",children:D.registered_user_id!=null?e.jsx(fe,{variant:"link",className:"h-auto p-0 font-mono text-sm text-primary hover:underline",onClick:()=>s("/admin/users"),children:D.registered_user_id}):e.jsx("span",{className:"text-muted-foreground",children:""})})]},D.phone_number)):t.map((D,Ce)=>{const H=D.is_expired??O(D.expired_at);return e.jsxs(Ye,{className:`transition-colors ${Ce%2===1?"bg-muted/20":""} hover:bg-muted/40`,children:[e.jsx(ve,{className:"font-mono text-sm py-2.5 text-muted-foreground",children:D.id}),e.jsx(ve,{className:"font-mono text-sm py-2.5",children:D.phone_number}),e.jsx(ve,{className:"font-mono font-semibold text-sm py-2.5",children:D.code}),e.jsx(ve,{className:"text-sm text-muted-foreground py-2.5 whitespace-nowrap",children:D.created_at?new Date(D.created_at).toLocaleString():""}),e.jsx(ve,{className:"font-mono text-xs text-muted-foreground py-2.5 max-w-[100px] truncate",title:D.batch_id??"",children:D.batch_id??""}),e.jsxs(ve,{className:"py-2.5",children:[e.jsx("span",{className:"font-medium text-foreground text-sm",children:l_(D.phone_number,D.country_origin)}),Wf(D.phone_number,D.country_origin)!==""&&e.jsxs("span",{className:"text-muted-foreground text-xs ml-1",children:["(+",Wf(D.phone_number,D.country_origin),")"]})]}),e.jsx(ve,{className:"py-2.5",children:D.delivery_status!=null?e.jsx(Ge,{variant:"outline",className:"text-xs font-medium",children:o_[D.delivery_status]??D.delivery_status}):e.jsx("span",{className:"text-muted-foreground",children:""})}),e.jsx(ve,{className:"text-sm text-muted-foreground py-2.5 whitespace-nowrap",children:D.delivery_report_at?new Date(D.delivery_report_at).toLocaleString():""}),e.jsx(ve,{className:"py-2.5",children:e.jsx(Ge,{variant:H?"destructive":"default",className:"text-xs font-medium",children:H?"Expired":"Active"})}),e.jsx(ve,{className:"text-sm font-medium py-2.5 text-center",children:D.otp_count_for_this_number??""}),e.jsx(ve,{className:"py-2.5",children:D.is_registered_user!=null?D.is_registered_user?e.jsx(Ge,{variant:"default",className:"bg-emerald-600 hover:bg-emerald-600 text-xs font-medium",children:"Yes"}):e.jsx(Ge,{variant:"destructive",className:"bg-red-600 hover:bg-red-600 text-xs font-medium",children:"No"}):e.jsx("span",{className:"text-muted-foreground",children:""})}),e.jsx(ve,{className:"py-2.5",children:D.registered_user_id!=null?e.jsx(fe,{variant:"link",className:"h-auto p-0 font-mono text-sm text-primary hover:underline",onClick:()=>s("/admin/users"),children:D.registered_user_id}):e.jsx("span",{className:"text-muted-foreground",children:""})}),e.jsx(ve,{className:"py-2",children:e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>oe(D.id),className:"h-8 w-8 rounded-md hover:bg-muted",title:"View details",children:e.jsx(er,{className:"h-4 w-4"})})})]},D.id)})})]})})}),n.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Page ",n.current_page," of ",n.last_page,"  Total ",n.total]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{variant:"outline",size:"sm",disabled:T<=1,onClick:()=>re(D=>D-1),children:e.jsx(vi,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"outline",size:"sm",disabled:T>=n.last_page,onClick:()=>re(D=>D+1),children:e.jsx(Zr,{className:"w-4 h-4"})})]})]})]})]}),e.jsx(yr,{open:N,onOpenChange:k,children:e.jsxs(ur,{className:"max-w-md",children:[e.jsx(hr,{children:e.jsx(fr,{children:"OTP details"})}),E?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(fn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):C?e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"ID:"})," ",e.jsx("span",{className:"font-mono",children:C.id})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",e.jsx("span",{className:"font-mono",children:C.phone_number})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Code:"})," ",e.jsx("span",{className:"font-mono font-semibold",children:C.code})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Batch ID:"})," ",e.jsx("span",{className:"font-mono",children:C.batch_id??""})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Country:"})," ",l_(C.phone_number,C.country_origin),(()=>{const D=Wf(C.phone_number,C.country_origin);return D!==""?` (+${D})`:""})()]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Delivery:"})," ",C.delivery_status!=null?o_[C.delivery_status]??C.delivery_status:""]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Delivery report at:"})," ",C.delivery_report_at?new Date(C.delivery_report_at).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Created:"})," ",C.created_at?new Date(C.created_at).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Expired at:"})," ",C.expired_at?new Date(C.expired_at).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Is expired:"})," ",C.is_expired??O(C.expired_at)?"Yes":"No"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Registered user:"})," ",C.is_registered_user!=null?C.is_registered_user?"Yes":"No":""]}),C.registered_user_id!=null&&e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"User ID:"})," ",e.jsx(fe,{variant:"link",className:"h-auto p-0 font-mono",onClick:()=>{k(!1),s("/admin/users")},children:C.registered_user_id})]})]}):e.jsx("p",{className:"text-muted-foreground",children:"No details"})]})})]})}function hje(){const[s,t]=w.useState([]),[r,n]=w.useState([]),[a,i]=w.useState(!0),[o,c]=w.useState({broker_id:"all",is_active:"all"}),[d,h]=w.useState({open:!1,title:"",message:"",onConfirm:null}),[m,f]=w.useState({open:!1,type:null,item:null}),[g,b]=w.useState({code:"",broker_id:"",description:"",max_uses:"",commission_percentage:"",is_active:!0,expires_at:"",username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),v=w.useCallback(async()=>{i(!0);try{const E={per_page:100};o.broker_id!=="all"&&(E.broker_id=o.broker_id),o.is_active!=="all"&&(E.is_active=o.is_active);const U=await e9(E),T=U.data?.data??U.data?.promo_codes??U.data;t(Array.isArray(T)?T:[])}catch(E){console.error(E),xe.error("Failed to load promo codes"),t([])}finally{i(!1)}},[o.broker_id,o.is_active]),y=w.useCallback(async()=>{try{const E=await fh({role:"broker",per_page:200}),U=E.data?.users?.data??E.data?.users??E.data?.data;n(Array.isArray(U)?U:[])}catch(E){console.error(E),n([])}},[]);w.useEffect(()=>{v()},[v]),w.useEffect(()=>{y()},[y]);const _=E=>{h({open:!0,title:"Delete Promo Code",message:`Are you sure you want to delete "${E.code}"?`,onConfirm:async()=>{try{await r9(E.id),xe.success("Promo code deleted"),v()}catch(U){xe.error(U.response?.data?.message||"Delete failed")}}})},j=E=>{b({code:E.code??"",broker_id:E.broker_id?String(E.broker_id):"",description:E.description??"",max_uses:E.max_uses??"",commission_percentage:E.commission_percentage??"",is_active:E.is_active!==!1,expires_at:E.expires_at?E.expires_at.slice(0,10):""}),f({open:!0,type:"edit",item:E})},S=()=>{b({code:"",broker_id:"",description:"",max_uses:"",commission_percentage:"",is_active:!0,expires_at:""}),f({open:!0,type:"create",item:null})},N=()=>{b({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),f({open:!0,type:"create-broker",item:null})},k=async()=>{try{const E={code:g.code.trim(),broker_id:g.broker_id?parseInt(g.broker_id,10):null,description:g.description.trim()||null,max_uses:g.max_uses?parseInt(g.max_uses,10):null,commission_percentage:g.commission_percentage?parseFloat(g.commission_percentage):0,is_active:g.is_active,expires_at:g.expires_at||null};m.type==="edit"?(await s9(m.item.id,E),xe.success("Promo code updated")):(await t9(E),xe.success("Promo code created")),f({open:!1,type:null,item:null}),v()}catch(E){const U=E.response?.data?.message||E.response?.data?.errors&&Object.values(E.response.data.errors).flat().join(" ")||"Failed";xe.error(U)}},C=async()=>{try{await Gk({username:g.username.trim(),phone_number:g.phone_number.trim(),email:g.email.trim()||void 0,password:g.password,password_confirmation:g.password_confirmation,first_name:g.first_name.trim(),last_name:g.last_name.trim()}),xe.success("Broker created"),f({open:!1,type:null,item:null}),y(),v()}catch(E){const U=E.response?.data?.message||E.response?.data?.errors&&Object.values(E.response.data.errors).flat().join(" ")||"Failed";xe.error(U)}},z=Array.isArray(s)?s:[];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Promo Codes"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(fe,{onClick:S,children:[e.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Promo Code"]}),e.jsxs(fe,{variant:"outline",onClick:N,children:[e.jsx(_s,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),e.jsxs(ot,{value:o.broker_id,onValueChange:E=>c(U=>({...U,broker_id:E})),children:[e.jsx(at,{className:"w-[180px]",children:e.jsx(lt,{placeholder:"Broker"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All brokers"}),r.map(E=>e.jsx(ke,{value:String(E.id),children:E.username||[E.first_name,E.last_name].filter(Boolean).join(" ")||`#${E.id}`},E.id))]})]}),e.jsxs(ot,{value:o.is_active,onValueChange:E=>c(U=>({...U,is_active:E})),children:[e.jsx(at,{className:"w-[130px]",children:e.jsx(lt,{placeholder:"Status"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All"}),e.jsx(ke,{value:"true",children:"Active"}),e.jsx(ke,{value:"false",children:"Inactive"})]})]})]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:v,"aria-label":"Refresh",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"Code"}),e.jsx(_e,{children:"Broker"}),e.jsx(_e,{children:"Description"}),e.jsx(_e,{children:"Uses"}),e.jsx(_e,{children:"Commission %"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Expires"}),e.jsx(_e,{className:"w-[100px]",children:"Actions"})]})}),e.jsx(Ut,{children:a?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Loading..."})}):z.length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No promo codes found"})}):z.map(E=>e.jsxs(Ye,{children:[e.jsx(ve,{className:"font-mono font-semibold",children:E.code}),e.jsx(ve,{children:E.broker?E.broker.username||[E.broker.first_name,E.broker.last_name].filter(Boolean).join(" ")||"":"N/A"}),e.jsx(ve,{className:"max-w-[200px] truncate",children:E.description||""}),e.jsxs(ve,{children:[E.current_uses??0," / ",E.max_uses??""]}),e.jsxs(ve,{children:[E.commission_percentage??0,"%"]}),e.jsx(ve,{children:e.jsx(Ge,{variant:E.is_active?"default":"secondary",children:E.is_active?"Active":"Inactive"})}),e.jsx(ve,{children:E.expires_at?new Date(E.expires_at).toLocaleDateString():"No expiry"}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>j(E),"aria-label":"Edit",children:e.jsx(xr,{className:"w-4 h-4"})}),e.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>_(E),"aria-label":"Delete",className:"text-destructive",children:e.jsx(tr,{className:"w-4 h-4"})})]})})]},E.id))})]})})}),e.jsx(yr,{open:m.open&&(m.type==="create"||m.type==="edit"),onOpenChange:E=>!E&&f({open:!1,type:null,item:null}),children:e.jsxs(ur,{className:"max-w-md",children:[e.jsx(hr,{children:e.jsx(fr,{children:m.type==="edit"?"Edit Promo Code":"Create Promo Code"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Code"}),e.jsx(Ae,{value:g.code,onChange:E=>b(U=>({...U,code:E.target.value})),placeholder:"PROMO20",disabled:m.type==="edit"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Broker"}),e.jsxs(ot,{value:g.broker_id,onValueChange:E=>b(U=>({...U,broker_id:E})),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select broker"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"",children:"None"}),r.map(E=>e.jsx(ke,{value:String(E.id),children:E.username||`#${E.id}`},E.id))]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Description (optional)"}),e.jsx(Ae,{value:g.description,onChange:E=>b(U=>({...U,description:E.target.value})),placeholder:"Description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Max uses (optional)"}),e.jsx(Ae,{type:"number",min:0,value:g.max_uses,onChange:E=>b(U=>({...U,max_uses:E.target.value})),placeholder:""})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Commission %"}),e.jsx(Ae,{type:"number",min:0,step:.01,value:g.commission_percentage,onChange:E=>b(U=>({...U,commission_percentage:E.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Expires at (optional)"}),e.jsx(Ae,{type:"date",value:g.expires_at,onChange:E=>b(U=>({...U,expires_at:E.target.value}))})]}),m.type==="edit"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"active",checked:g.is_active,onChange:E=>b(U=>({...U,is_active:E.target.checked}))}),e.jsx(ue,{htmlFor:"active",children:"Active"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(fe,{variant:"outline",onClick:()=>f({open:!1,type:null,item:null}),children:"Cancel"}),e.jsx(fe,{onClick:k,children:m.type==="edit"?"Update":"Create"})]})]})]})}),e.jsx(yr,{open:m.open&&m.type==="create-broker",onOpenChange:E=>!E&&f({open:!1,type:null,item:null}),children:e.jsxs(ur,{className:"max-w-md",children:[e.jsx(hr,{children:e.jsx(fr,{children:"Create Broker"})}),e.jsxs("div",{className:"space-y-4",children:[["username","first_name","last_name","phone_number","email","password","password_confirmation"].map(E=>e.jsxs("div",{children:[e.jsx(ue,{children:E.replace(/_/g," ")}),e.jsx(Ae,{type:E.includes("password")?"password":"text",value:g[E],onChange:U=>b(T=>({...T,[E]:U.target.value})),placeholder:E,required:["username","first_name","last_name","phone_number","password","password_confirmation"].includes(E)})]},E)),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(fe,{variant:"outline",onClick:()=>f({open:!1,type:null,item:null}),children:"Cancel"}),e.jsx(fe,{onClick:C,children:"Create Broker"})]})]})]})}),e.jsx(Iy,{open:d.open,onOpenChange:E=>h(U=>({...U,open:E})),children:e.jsxs(hp,{children:[e.jsxs(fp,{children:[e.jsx(pp,{children:d.title}),e.jsx(gp,{children:d.message})]}),e.jsxs(mp,{children:[e.jsx(yp,{children:"Cancel"}),e.jsx(xp,{onClick:d.onConfirm,children:"Confirm"})]})]})})]})}function Pu(s){return s?.username||[s?.first_name,s?.last_name].filter(Boolean).join(" ")||`Broker #${s?.id}`}function fje(){const[s,t]=w.useState([]),[r,n]=w.useState({data:[]}),[a,i]=w.useState(!0),[o,c]=w.useState(null),[d,h]=w.useState("overview"),[m,f]=w.useState(null),[g,b]=w.useState({data:[],statistics:{}}),[v,y]=w.useState({data:[]}),[_,j]=w.useState([]),[S,N]=w.useState("all"),[k,C]=w.useState({open:!1,title:"",message:"",onConfirm:null}),[z,E]=w.useState({open:!1,type:null}),[U,T]=w.useState({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:"",broker_id:"",amount:"",reference:"",notes:""}),re=w.useCallback(async()=>{i(!0);try{const F=await fh({role:"broker",per_page:200}),de=F.data?.users?.data??F.data?.users??F.data?.data;t(Array.isArray(de)?de:[])}catch(F){console.error(F),xe.error("Failed to load brokers"),t([])}finally{i(!1)}},[]),Y=w.useCallback(async()=>{try{const F=await o9({per_page:100}),de=F.data?.data??F.data?.commissions??F.data;n({data:Array.isArray(de)?de:[]})}catch{n({data:[]})}},[]),I=w.useCallback(async F=>{if(c(F),h("overview"),!!F?.id)try{const[de,q,G,ie]=await Promise.all([n9(F.id).catch(()=>({data:null})),P0(F.id).catch(()=>({data:{data:[],statistics:{}}})),a9(F.id).catch(()=>({data:{payouts:{data:[]}}})),MN(F.id).catch(()=>({data:{referrals:[]}}))]);f(de.data);const le=q.data?.commissions?.data??q.data?.commissions;b({data:Array.isArray(le)?le:[],statistics:q.data?.statistics||{}});const be=G.data?.payouts?.data??G.data?.data??G.data;y({data:Array.isArray(be)?be:[]});const ye=ie.data?.referrals??ie.data?.data??ie.data;j(Array.isArray(ye)?ye:[])}catch{xe.error("Failed to load broker detail")}},[]),K=()=>{c(null),f(null),b({data:[],statistics:{}}),y({data:[]}),j([])},L=async F=>{if(o?.id){N(F);try{const de=await P0(o.id,{status:F==="all"?void 0:F}),q=de.data?.commissions?.data??de.data?.commissions;b({data:Array.isArray(q)?q:[],statistics:de.data?.statistics||{}})}catch(de){console.error(de)}}};w.useEffect(()=>{re(),Y()},[re,Y]);const J=async()=>{try{await Gk({username:U.username.trim(),phone_number:U.phone_number.trim(),email:U.email.trim()||void 0,password:U.password,password_confirmation:U.password_confirmation,first_name:U.first_name.trim(),last_name:U.last_name.trim()}),xe.success("Broker created"),E({open:!1,type:null}),re()}catch(F){xe.error(F.response?.data?.message||"Failed")}},Q=async()=>{try{await i9({broker_id:parseInt(U.broker_id,10),amount:parseFloat(U.amount)*100,reference:U.reference.trim()||void 0,notes:U.notes.trim()||void 0}),xe.success("Payout created"),E({open:!1,type:null}),o?.id&&I(o),Y()}catch(F){xe.error(F.response?.data?.message||"Payout failed")}},Z=F=>{C({open:!0,title:"Cancel commission",message:"Are you sure?",onConfirm:async()=>{try{await l9(F.id),xe.success("Commission cancelled"),o?.id&&L(S),Y()}catch(de){xe.error(de.response?.data?.message||"Failed")}}})},ee=F=>{C({open:!0,title:"Delete referral",message:"Remove this referral?",onConfirm:async()=>{try{await c9(F.id),xe.success("Referral deleted"),o?.id&&I(o)}catch(de){xe.error(de.response?.data?.message||"Failed")}}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Brokers"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(fe,{variant:"outline",onClick:()=>{T({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),E({open:!0,type:"create-broker"})},children:[e.jsx(_s,{className:"w-4 h-4 mr-2"})," Create Broker"]}),e.jsxs(fe,{onClick:()=>{T({broker_id:o?.id?String(o.id):"",amount:m?.balance!=null?String(m.balance):"",reference:"",notes:""}),E({open:!0,type:"create-payout"})},children:[e.jsx(dr,{className:"w-4 h-4 mr-2"})," Create Payout"]})]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:()=>{re(),Y()},"aria-label":"Refresh",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),o?e.jsxs(Ue,{children:[e.jsxs(ts,{className:"flex flex-row items-center justify-between",children:[e.jsxs(ss,{className:"flex items-center gap-2",children:[e.jsx(_s,{className:"w-5 h-5"}),Pu(o)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>{T({broker_id:String(o.id),amount:m?.balance?String(m.balance):"",reference:"",notes:""}),E({open:!0,type:"create-payout"})},children:[e.jsx(dr,{className:"w-4 h-4 mr-1"})," Pay broker"]}),e.jsxs(fe,{variant:"ghost",size:"sm",onClick:K,children:[e.jsx(vi,{className:"w-4 h-4 mr-1"})," Close"]})]})]}),e.jsx(He,{children:e.jsxs(Ko,{value:d,onValueChange:h,children:[e.jsxs(no,{className:"grid w-full grid-cols-4",children:[e.jsx(Yt,{value:"overview",children:"Overview"}),e.jsx(Yt,{value:"commissions",children:"Commissions"}),e.jsx(Yt,{value:"payouts",children:"Payouts"}),e.jsx(Yt,{value:"referrals",children:"Referrals"})]}),e.jsx(ns,{value:"overview",className:"space-y-4 mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Ue,{children:e.jsxs(He,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Balance"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",(m?.balance??0).toFixed(2)]})]})}),e.jsx(Ue,{children:e.jsxs(He,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total commissions"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",(m?.total_commissions??g.statistics?.total_commissions??0).toFixed(2)]})]})}),e.jsx(Ue,{children:e.jsxs(He,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total payouts"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",(m?.total_payouts??g.statistics?.total_payouts??0).toFixed(2)]})]})})]})}),e.jsxs(ns,{value:"commissions",className:"mt-4",children:[e.jsx("div",{className:"flex gap-2 mb-4",children:["all","pending","paid","cancelled"].map(F=>e.jsx(fe,{variant:S===F?"default":"outline",size:"sm",onClick:()=>L(F),children:F.charAt(0).toUpperCase()+F.slice(1)},F))}),e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Referred user"}),e.jsx(_e,{children:"Promo"}),e.jsx(_e,{children:"Amount"}),e.jsx(_e,{children:"Commission"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(g.data||[]).map(F=>e.jsxs(Ye,{children:[e.jsx(ve,{children:F.id}),e.jsx(ve,{children:F.referredUser?Pu(F.referredUser):F.referred_user_id}),e.jsx(ve,{children:F.promoCode?.code||""}),e.jsxs(ve,{children:["$",Number(F.booking_amount||0).toFixed(2)]}),e.jsxs(ve,{children:["$",Number(F.commission_amount||0).toFixed(2)," (",F.commission_percentage,"%)"]}),e.jsx(ve,{children:e.jsx(Ge,{variant:F.status==="paid"?"default":F.status==="cancelled"?"secondary":"outline",children:F.status})}),e.jsx(ve,{children:F.status==="pending"&&e.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>Z(F),children:"Cancel"})})]},F.id))})]})]}),e.jsx(ns,{value:"payouts",className:"mt-4",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"Reference"}),e.jsx(_e,{children:"Amount"}),e.jsx(_e,{children:"Paid at"}),e.jsx(_e,{children:"Description"})]})}),e.jsx(Ut,{children:(v.data||[]).map(F=>e.jsxs(Ye,{children:[e.jsx(ve,{className:"font-mono text-xs",children:F.reference_id||F.id}),e.jsxs(ve,{children:["$",((F.amount||0)/100).toFixed(2)]}),e.jsx(ve,{children:F.paid_at?new Date(F.paid_at).toLocaleString():""}),e.jsx(ve,{children:F.description||F.metadata?.reference||""})]},F.id))})]})}),e.jsx(ns,{value:"referrals",className:"mt-4",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Referred user"}),e.jsx(_e,{children:"Promo"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:(_||[]).map(F=>e.jsxs(Ye,{children:[e.jsx(ve,{children:F.id}),e.jsx(ve,{children:F.referredUser?Pu(F.referredUser):F.referred_user_id}),e.jsx(ve,{children:F.promoCode?.code||""}),e.jsx(ve,{children:e.jsx(fe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>ee(F),children:"Delete"})})]},F.id))})]})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ue,{children:[e.jsxs(ts,{children:[e.jsx(ss,{children:"Brokers"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click Manage to view balance, commissions, payouts, and referrals."})]}),e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Username"}),e.jsx(_e,{children:"Name"}),e.jsx(_e,{children:"Phone"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:a?e.jsx(Ye,{children:e.jsx(ve,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):s.length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No brokers found"})}):s.map(F=>e.jsxs(Ye,{children:[e.jsx(ve,{children:F.id}),e.jsx(ve,{children:F.username}),e.jsx(ve,{children:[F.first_name,F.last_name].filter(Boolean).join(" ")||""}),e.jsx(ve,{children:F.phone_number||""}),e.jsx(ve,{children:e.jsx(fe,{variant:"outline",size:"sm",onClick:()=>I(F),children:"Manage"})})]},F.id))})]})})]}),e.jsxs(Ue,{children:[e.jsx(ts,{children:e.jsx(ss,{children:"All broker commissions"})}),e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Broker"}),e.jsx(_e,{children:"Referred user"}),e.jsx(_e,{children:"Promo"}),e.jsx(_e,{children:"Amount"}),e.jsx(_e,{children:"Status"})]})}),e.jsx(Ut,{children:(r.data||[]).map(F=>e.jsxs(Ye,{children:[e.jsx(ve,{children:F.id}),e.jsx(ve,{children:F.broker?Pu(F.broker):F.broker_id}),e.jsx(ve,{children:F.referredUser?Pu(F.referredUser):""}),e.jsx(ve,{children:F.promoCode?.code||""}),e.jsxs(ve,{children:["$",Number(F.commission_amount||0).toFixed(2)]}),e.jsx(ve,{children:e.jsx(Ge,{variant:F.status==="paid"?"default":F.status==="cancelled"?"secondary":"outline",children:F.status})})]},F.id))})]})})]})]}),e.jsx(yr,{open:z.open&&z.type==="create-broker",onOpenChange:F=>!F&&E({open:!1,type:null}),children:e.jsxs(ur,{className:"max-w-md",children:[e.jsx(hr,{children:e.jsx(fr,{children:"Create Broker"})}),e.jsxs("div",{className:"space-y-4",children:[["username","first_name","last_name","phone_number","email","password","password_confirmation"].map(F=>e.jsxs("div",{children:[e.jsx(ue,{children:F.replace(/_/g," ")}),e.jsx(Ae,{type:F.includes("password")?"password":"text",value:U[F],onChange:de=>T(q=>({...q,[F]:de.target.value}))})]},F)),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(fe,{variant:"outline",onClick:()=>E({open:!1,type:null}),children:"Cancel"}),e.jsx(fe,{onClick:J,children:"Create"})]})]})]})}),e.jsx(yr,{open:z.open&&z.type==="create-payout",onOpenChange:F=>!F&&E({open:!1,type:null}),children:e.jsxs(ur,{className:"max-w-md",children:[e.jsx(hr,{children:e.jsx(fr,{children:"Create Payout"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Broker"}),e.jsxs("select",{className:"w-full border rounded-md px-3 py-2",value:U.broker_id,onChange:F=>T(de=>({...de,broker_id:F.target.value})),children:[e.jsx("option",{value:"",children:"Select broker"}),s.map(F=>e.jsx("option",{value:F.id,children:Pu(F)},F.id))]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Amount ($)"}),e.jsx(Ae,{type:"number",step:.01,value:U.amount,onChange:F=>T(de=>({...de,amount:F.target.value}))})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Reference (optional)"}),e.jsx(Ae,{value:U.reference,onChange:F=>T(de=>({...de,reference:F.target.value}))})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Notes (optional)"}),e.jsx(Ae,{value:U.notes,onChange:F=>T(de=>({...de,notes:F.target.value}))})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(fe,{variant:"outline",onClick:()=>E({open:!1,type:null}),children:"Cancel"}),e.jsx(fe,{onClick:Q,children:"Create Payout"})]})]})]})}),e.jsx(Iy,{open:k.open,onOpenChange:F=>C(de=>({...de,open:F})),children:e.jsxs(hp,{children:[e.jsxs(fp,{children:[e.jsx(pp,{children:k.title}),e.jsx(gp,{children:k.message})]}),e.jsxs(mp,{children:[e.jsx(yp,{children:"Cancel"}),e.jsx(xp,{onClick:k.onConfirm,children:"Confirm"})]})]})})]})}const FN="https://rento-lb.com/api/storage/",qx="/avatar.png",S6=["Beirut","Mount Lebanon","North","South","Bekaa","Baalbek","Keserwan","Nabatieh","Akkar"],C6=[{value:"",label:"All types"},{value:"rental",label:"Rental"},{value:"private",label:"Private"},{value:"company",label:"Company"},{value:"marina",label:"Marina"}],mje=[{value:"created_at",label:"Created at"},{value:"username",label:"Username"},{value:"first_name",label:"First name"},{value:"last_name",label:"Last name"}];function c_(s){const t=s?.profile_picture;if(!t)return qx;if(t.startsWith("http"))return t;const r=t.startsWith("/")?t.slice(1):t;return FN+r}function Yf(s){return s?.first_name&&s?.last_name?`${s.first_name} ${s.last_name}`:s?.username||`Agency #${s?.id}`}const A6={rental:"border-l-4 border-l-teal-500 bg-gradient-to-br from-teal-50/80 to-white dark:from-teal-950/30 dark:to-card shadow-md hover:shadow-lg",private:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50/80 to-white dark:from-blue-950/30 dark:to-card shadow-md hover:shadow-lg",company:"border-l-4 border-l-violet-500 bg-gradient-to-br from-violet-50/80 to-white dark:from-violet-950/30 dark:to-card shadow-md hover:shadow-lg",marina:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50/80 to-white dark:from-cyan-950/30 dark:to-card shadow-md hover:shadow-lg",default:"border-l-4 border-l-primary bg-gradient-to-br from-primary/5 to-white dark:from-primary/10 dark:to-card shadow-md hover:shadow-lg"};function pje(s){return A6[s]||A6.default}function gje(){const s=br(),[t,r]=w.useState([]),[n,a]=w.useState({current_page:1,last_page:1,per_page:20,total:0}),[i,o]=w.useState(!0),[c,d]=w.useState(!1),[h,m]=w.useState(1),[f,g]=w.useState(20),[b,v]=w.useState(""),[y,_]=w.useState(!1),[j,S]=w.useState(""),[N,k]=w.useState(""),[C,z]=w.useState("created_at"),[E,U]=w.useState("desc"),[T,re]=w.useState(!1),[Y,I]=w.useState(!1),[K,L]=w.useState(null),[J,Q]=w.useState(null),[Z,ee]=w.useState(!1),[F,de]=w.useState(!1),[q,G]=w.useState({}),[ie,le]=w.useState(!1),be=w.useCallback(async()=>{o(!0),d(!1);try{const O={page:h,per_page:f,sort_by:C,sort_order:E};y&&(O.verified_only=!0),j&&(O.business_type=j),N&&(O.address=N),b.trim()&&(O.search=b.trim()),T&&(O.include_all=!0);const oe=await JI(O),D=oe.data?.agencies??oe.data,Ce=D?.data??[];r(Array.isArray(Ce)?Ce:[]),a({current_page:D.current_page??1,last_page:D.last_page??1,per_page:D.per_page??f,total:D.total??0})}catch(O){O.response?.status===403?(d(!0),r([]),xe.error("Super admin access required")):(xe.error(O.response?.data?.message||O.response?.data?.error||"Failed to load agencies"),r([]))}finally{o(!1)}},[h,f,b,y,j,N,C,E,T]);w.useEffect(()=>{be()},[be]);const ye=async O=>{L(O),Q(null),I(!0),ee(!0);try{const oe=await X0e(O.id);Q(oe.data?.agency??oe.data)}catch(oe){oe.response?.status===403?xe.error("Super admin access required"):oe.response?.status===404?xe.error("Agency not found"):xe.error(oe.response?.data?.error||"Failed to load agency")}finally{ee(!1)}},$=()=>{I(!1),L(null),Q(null),de(!1)},V=()=>{if(!J)return;const O=J.location||{};G({username:J.username||"",first_name:J.first_name||"",last_name:J.last_name||"",email:J.email||"",phone_number:J.phone_number||"",verified_by_admin:!!J.verified_by_admin,status:J.status!==!1,is_locked:!!J.is_locked,country:J.country||"",city:J.city||"",bio:J.bio||"",gender:J.gender||"",birth_date:J.birth_date||"",business_type:J.business_type||"",company_number:J.company_number||"",address:J.address||"",location_lat:O.lat??"",location_lng:O.lng??"",location_city:O.city||"",website:J.website||"",profession:J.profession||"",policies:J.policies||"",app_fees:J.app_fees??""}),de(!0)},me=(O,oe)=>{G(D=>({...D,[O]:oe}))},ce=async()=>{if(K?.id){le(!0);try{const O={};if(["username","first_name","last_name","email","phone_number","country","city","bio","gender","birth_date","business_type","company_number","address","website","profession","policies"].forEach(P=>{q[P]!==void 0&&(O[P]=String(q[P]||"").trim()||void 0)}),q.verified_by_admin!==void 0&&(O.verified_by_admin=!!q.verified_by_admin),q.status!==void 0&&(O.status=!!q.status),q.is_locked!==void 0&&(O.is_locked=!!q.is_locked),q.app_fees!==void 0&&q.app_fees!==""){const P=Number(q.app_fees);!isNaN(P)&&P>=0&&P<=100&&(O.app_fees=P)}const D=q.location_lat!==void 0&&q.location_lat!==""?Number(q.location_lat):null,Ce=q.location_lng!==void 0&&q.location_lng!==""?Number(q.location_lng):null;(D!=null||Ce!=null||q.location_city)&&(O.location={lat:D??void 0,lng:Ce??void 0,city:q.location_city||void 0});const H=await Z0e(K.id,O),R=H.data?.agency??H.data;Q(R),de(!1),xe.success("Agency updated successfully")}catch(O){const oe=O.response?.data?.message||O.response?.data?.errors?Object.values(O.response?.data?.errors||{}).flat().join(", "):O.response?.data?.error||"Failed to update agency";xe.error(oe)}finally{le(!1)}}},he=()=>{m(1),be()};return c?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(wa,{className:"w-6 h-6"}),"Agencies"]}),e.jsx(Ue,{children:e.jsxs(He,{className:"py-12 text-center",children:[e.jsx(ta,{className:"w-12 h-12 mx-auto text-destructive mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"This section is available only to Super Admin users."}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"If you believe you should have access, please contact your administrator."})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(wa,{className:"w-6 h-6"}),"Agencies"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Car rental companies and agents who list vehicles on the platform. Super Admin only."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[180px] max-w-sm",children:[e.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ae,{placeholder:"Search username, first name, last name...",value:b,onChange:O=>v(O.target.value),onKeyDown:O=>O.key==="Enter"&&he(),className:"pl-9"})]}),e.jsxs(ot,{value:j||"all",onValueChange:O=>{S(O==="all"?"":O),m(1)},children:[e.jsx(at,{className:"w-36",children:e.jsx(lt,{placeholder:"Business type"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All types"}),C6.filter(O=>O.value).map(O=>e.jsx(ke,{value:O.value,children:O.label},O.value))]})]}),e.jsxs(ot,{value:N||"all",onValueChange:O=>{k(O==="all"?"":O),m(1)},children:[e.jsx(at,{className:"w-40",children:e.jsx(lt,{placeholder:"Governorate"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All governorates"}),S6.map(O=>e.jsx(ke,{value:O,children:O},O))]})]}),e.jsxs(ot,{value:y?"yes":"no",onValueChange:O=>{_(O==="yes"),m(1)},children:[e.jsx(at,{className:"w-32",children:e.jsx(lt,{placeholder:"Verified"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"no",children:"All"}),e.jsx(ke,{value:"yes",children:"Verified only"})]})]}),e.jsxs(ot,{value:T?"yes":"no",onValueChange:O=>{re(O==="yes"),m(1)},children:[e.jsx(at,{className:"w-36",children:e.jsx(lt,{placeholder:"Include"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"no",children:"Active only"}),e.jsx(ke,{value:"yes",children:"Include inactive/locked"})]})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:T,onChange:O=>{re(O.target.checked),m(1)},className:"rounded"}),"Include inactive/locked"]}),e.jsxs(ot,{value:C,onValueChange:O=>{z(O),m(1)},children:[e.jsx(at,{className:"w-36",children:e.jsx(lt,{placeholder:"Sort by"})}),e.jsx(it,{children:mje.map(O=>e.jsx(ke,{value:O.value,children:O.label},O.value))})]}),e.jsxs(ot,{value:E,onValueChange:O=>{U(O),m(1)},children:[e.jsx(at,{className:"w-28",children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"asc",children:"Asc"}),e.jsx(ke,{value:"desc",children:"Desc"})]})]}),e.jsxs(ot,{value:String(f),onValueChange:O=>{g(Number(O)),m(1)},children:[e.jsx(at,{className:"w-24",children:e.jsx(lt,{})}),e.jsxs(it,{children:[e.jsx(ke,{value:"10",children:"10"}),e.jsx(ke,{value:"20",children:"20"}),e.jsx(ke,{value:"50",children:"50"})]})]}),e.jsx(fe,{variant:"outline",onClick:he,children:"Search"}),e.jsx(fe,{variant:"outline",size:"icon",onClick:be,children:e.jsx(Ft,{className:"h-4 w-4"})})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[e.jsx(wa,{className:"w-5 h-5"}),"Agencies (",n.total,")"]}),i?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(fn,{className:"h-10 w-10 animate-spin text-muted-foreground"})}):t.length===0?e.jsxs(Ue,{className:"py-12 text-center text-muted-foreground",children:[e.jsx(wa,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),"No agencies found"]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(O=>e.jsxs(Ue,{role:"button",tabIndex:0,onClick:()=>s(`/admin/cars?agent_id=${O.id}&agent_username=${encodeURIComponent(O.username||Yf(O))}`),onKeyDown:oe=>oe.key==="Enter"&&s(`/admin/cars?agent_id=${O.id}&agent_username=${encodeURIComponent(O.username||Yf(O))}`),className:`overflow-hidden transition-all duration-200 cursor-pointer hover:shadow-lg ${pje(O.business_type)}`,children:[e.jsxs(ts,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("img",{src:c_(O),alt:"",className:"h-12 w-12 rounded-full object-cover shrink-0 ring-2 ring-white dark:ring-card shadow",onError:oe=>{oe.currentTarget.onerror=null,oe.currentTarget.src=qx}}),e.jsxs("div",{className:"min-w-0",children:[e.jsx(ss,{className:"text-base truncate",children:Yf(O)}),e.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["@",O.username||""]})]})]}),O.verified_by_admin&&e.jsx(Xr,{className:"h-5 w-5 text-green-600 shrink-0",title:"Verified"})]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-2",children:[e.jsx(Ge,{variant:"secondary",className:"text-xs capitalize",children:O.business_type||""}),O.address&&e.jsxs(Ge,{variant:"outline",className:"text-xs flex items-center gap-1",children:[e.jsx(js,{className:"w-3 h-3"}),O.address]})]})]}),e.jsxs(He,{className:"pt-0 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(Qt,{className:"w-4 h-4"}),"Cars"]}),e.jsxs("span",{className:"font-medium",children:[O.cars_count??0," ",e.jsxs("span",{className:"text-muted-foreground font-normal text-xs",children:["(",O.cars_accepted_count??0," accepted, ",O.cars_not_accepted_count??0," pending)"]})]})]}),(O.sea_vehicles_count??0)>0&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(bG,{className:"w-4 h-4"}),"Sea vehicles"]}),e.jsx("span",{className:"font-medium",children:O.sea_vehicles_count})]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsxs(fe,{size:"sm",className:"flex-1",onClick:oe=>{oe.stopPropagation(),ye(O)},children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"View details"]}),e.jsxs(fe,{size:"sm",variant:"outline",onClick:oe=>{oe.stopPropagation(),s(`/admin/cars?agent_id=${O.id}&agent_username=${encodeURIComponent(O.username||Yf(O))}`)},children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),"View cars"]})]})]})]},O.id))})]}),n.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Page ",n.current_page," of ",n.last_page,"  Total ",n.total]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{variant:"outline",size:"sm",disabled:h<=1,onClick:()=>m(O=>O-1),children:"Previous"}),e.jsx(fe,{variant:"outline",size:"sm",disabled:h>=n.last_page,onClick:()=>m(O=>O+1),children:"Next"})]})]}),e.jsx(yr,{open:Y,onOpenChange:O=>!O&&$(),children:e.jsxs(ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(hr,{children:e.jsxs(fr,{className:"flex items-center justify-between gap-2",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(wa,{className:"w-5 h-5"}),"Agency  ",K?Yf(K):""," (ID:"," ",K?.id,")"]}),!Z&&J&&!F&&e.jsxs(fe,{size:"sm",onClick:V,children:[e.jsx(j_,{className:"w-4 h-4 mr-2"}),"Edit"]})]})}),Z?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(fn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):J?F?e.jsx(bje,{editForm:q,handleEditChange:me,onCancel:()=>de(!1),onSave:ce,saving:ie,agencyDetail:J,profileImgUrl:c_,ASSET_BASE:FN,DEFAULT_AVATAR:qx,GOVERNORATES:S6,BUSINESS_TYPES:C6}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:c_(J),alt:"",className:"h-16 w-16 rounded-full object-cover",onError:O=>{O.currentTarget.onerror=null,O.currentTarget.src=qx}}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold",children:[J.first_name," ",J.last_name]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",J.username]}),J.verified_by_admin&&e.jsx(Ge,{className:"mt-1 bg-green-600",children:"Verified"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsx($l,{label:"Business type",value:J.business_type}),e.jsx($l,{label:"Address",value:J.address}),e.jsx($l,{label:"Profession",value:J.profession}),e.jsx($l,{label:"Company number",value:J.company_number}),e.jsx($l,{label:"Cars total",value:J.cars_count}),e.jsx($l,{label:"Cars accepted",value:J.cars_accepted_count}),e.jsx($l,{label:"Cars not accepted",value:J.cars_not_accepted_count}),e.jsx($l,{label:"Sea vehicles",value:J.sea_vehicles_count})]}),J.website&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Website:"}),e.jsxs("a",{href:J.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[J.website,e.jsx(s0,{className:"w-3 h-3"})]})]}),J.location&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Location: "}),J.location.city||"",J.location.lat!=null&&J.location.lng!=null?` (${J.location.lat}, ${J.location.lng})`:""]}),J.policies&&e.jsxs("div",{className:"rounded-md border p-3 bg-muted/30",children:[e.jsxs("p",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1 mb-2",children:[e.jsx(to,{className:"w-3 h-3"})," Policies"]}),e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:J.policies})]}),J.business_doc&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Business document"}),e.jsxs("a",{href:J.business_doc.startsWith("http")?J.business_doc:FN+(J.business_doc.startsWith("/")?J.business_doc.slice(1):J.business_doc),target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm flex items-center gap-1",children:["View document",e.jsx(s0,{className:"w-3 h-3"})]})]})]}):e.jsx("p",{className:"text-muted-foreground py-4",children:"No details available."})]})})]})}function $l({label:s,value:t}){const r=t??"";return e.jsxs("div",{children:[e.jsxs("span",{className:"text-muted-foreground",children:[s,": "]}),e.jsx("span",{children:typeof r=="object"?JSON.stringify(r):String(r)})]})}const xje=[{value:"",label:""},{value:"owner",label:"Owner"},{value:"manager",label:"Manager"}],yje=[{value:"",label:""},{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"}];function bje({editForm:s,handleEditChange:t,onCancel:r,onSave:n,saving:a,agencyDetail:i,profileImgUrl:o,ASSET_BASE:c,DEFAULT_AVATAR:d,GOVERNORATES:h,BUSINESS_TYPES:m}){const f=m.filter(g=>g.value);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b",children:[e.jsx("img",{src:o(i),alt:"",className:"h-16 w-16 rounded-full object-cover",onError:g=>{g.currentTarget.onerror=null,g.currentTarget.src=d}}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Profile photo cannot be changed here. Use User photo upload."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Account"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Username"}),e.jsx(Ae,{value:s.username,onChange:g=>t("username",g.target.value),placeholder:"username"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"First name"}),e.jsx(Ae,{value:s.first_name,onChange:g=>t("first_name",g.target.value),placeholder:"First name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Last name"}),e.jsx(Ae,{value:s.last_name,onChange:g=>t("last_name",g.target.value),placeholder:"Last name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Email"}),e.jsx(Ae,{type:"email",value:s.email,onChange:g=>t("email",g.target.value),placeholder:"email@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Phone number"}),e.jsx(Ae,{value:s.phone_number,onChange:g=>t("phone_number",g.target.value),placeholder:"Phone"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Country"}),e.jsx(Ae,{value:s.country,onChange:g=>t("country",g.target.value),placeholder:"Country"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"City"}),e.jsx(Ae,{value:s.city,onChange:g=>t("city",g.target.value),placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Gender"}),e.jsxs(ot,{value:s.gender||"_",onValueChange:g=>t("gender",g==="_"?"":g),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsx(it,{children:yje.map(g=>e.jsx(ke,{value:g.value||"_",children:g.label},g.value||"_"))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Birth date"}),e.jsx(Ae,{type:"date",value:s.birth_date,onChange:g=>t("birth_date",g.target.value)})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Bio"}),e.jsx(Ae,{value:s.bio,onChange:g=>t("bio",g.target.value),placeholder:"Bio (max 500)",maxLength:500})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.verified_by_admin,onChange:g=>t("verified_by_admin",g.target.checked)}),e.jsx("span",{className:"text-sm",children:"Verified by admin"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.status,onChange:g=>t("status",g.target.checked)}),e.jsx("span",{className:"text-sm",children:"Account active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.is_locked,onChange:g=>t("is_locked",g.target.checked)}),e.jsx("span",{className:"text-sm",children:"Locked"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Business"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Business type"}),e.jsxs(ot,{value:s.business_type||"_",onValueChange:g=>t("business_type",g==="_"?"":g),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Business type"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"_",children:""}),f.map(g=>e.jsx(ke,{value:g.value,children:g.label},g.value))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Address (governorate)"}),e.jsxs(ot,{value:s.address||"_",onValueChange:g=>t("address",g==="_"?"":g),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Address"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"_",children:""}),h.map(g=>e.jsx(ke,{value:g,children:g},g))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Company number"}),e.jsx(Ae,{value:s.company_number,onChange:g=>t("company_number",g.target.value),placeholder:"e.g. LB-12345"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Profession"}),e.jsxs(ot,{value:s.profession||"_",onValueChange:g=>t("profession",g==="_"?"":g),children:[e.jsx(at,{children:e.jsx(lt,{})}),e.jsx(it,{children:xje.map(g=>e.jsx(ke,{value:g.value||"_",children:g.label},g.value||"_"))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Website"}),e.jsx(Ae,{value:s.website,onChange:g=>t("website",g.target.value),placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"App fees (%)"}),e.jsx(Ae,{type:"number",min:0,max:100,value:s.app_fees,onChange:g=>t("app_fees",g.target.value),placeholder:"0100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Location lat"}),e.jsx(Ae,{type:"number",step:"any",value:s.location_lat,onChange:g=>t("location_lat",g.target.value),placeholder:"33.8"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Location lng"}),e.jsx(Ae,{type:"number",step:"any",value:s.location_lng,onChange:g=>t("location_lng",g.target.value),placeholder:"35.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Location city"}),e.jsx(Ae,{value:s.location_city,onChange:g=>t("location_city",g.target.value),placeholder:"Beirut"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Policies (terms and conditions)"}),e.jsx("textarea",{className:"w-full min-h-[100px] rounded-md border px-3 py-2 text-sm",value:s.policies,onChange:g=>t("policies",g.target.value),placeholder:"Terms and conditions...",maxLength:1e4})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(fe,{variant:"outline",onClick:r,disabled:a,children:"Cancel"}),e.jsxs(fe,{onClick:n,disabled:a,children:[a?e.jsx(fn,{className:"w-4 h-4 animate-spin mr-2"}):null,"Save changes"]})]})]})}function vje(){const[s,t]=w.useState([]),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,c]=w.useState([]),[d,h]=w.useState(!1),[m,f]=w.useState(""),[g,b]=w.useState({services:{search:"",category:"all"},thirdParties:{search:""}}),[v,y]=w.useState({open:!1,title:"",message:"",onConfirm:null}),_=w.useCallback(async()=>{h(!0);try{const T={};g.services.search&&(T.search=g.services.search),g.services.category!=="all"&&(T.category=g.services.category);const re=await u9({...T,per_page:100}),Y=re.data?.data??re.data?.services??re.data;t(Array.isArray(Y)?Y:[])}catch(T){console.error(T),xe.error("Failed to load services"),t([])}finally{h(!1)}},[g.services.search,g.services.category]),j=w.useCallback(async()=>{h(!0);try{const T=await p9({per_page:100}),re=T.data?.data??T.data?.third_parties??T.data;n(Array.isArray(re)?re:[])}catch(T){console.error(T),xe.error("Failed to load third parties"),n([])}finally{h(!1)}},[]),S=w.useCallback(async T=>{if(!T){i([]);return}h(!0);try{const re=await f9(parseInt(T,10)),Y=re.data?.data??re.data?.items??re.data;i(Array.isArray(Y)?Y:[])}catch(re){console.error(re),i([])}finally{h(!1)}},[]),N=w.useCallback(async()=>{h(!0);try{const T=await x9({per_page:100}),re=T.data?.data??T.data?.feedbacks??T.data;c(Array.isArray(re)?re:[])}catch(T){console.error(T),xe.error("Failed to load feedbacks"),c([])}finally{h(!1)}},[]);w.useEffect(()=>{_()},[_]),w.useEffect(()=>{m?S(m):i([])},[m,S]);const k=(T,re,Y)=>{y({open:!0,title:T,message:re,onConfirm:Y})},C=T=>{k("Delete Service",`Delete "${T.name}"?`,async()=>{try{await h9(T.id),xe.success("Service deleted"),_()}catch(re){xe.error(re.response?.data?.message||"Failed")}})},z=T=>{k("Delete Third Party","Are you sure?",async()=>{try{await g9(T.id),xe.success("Third party deleted"),j()}catch(re){xe.error(re.response?.data?.message||"Failed")}})},E=T=>{k("Delete Item",`Delete "${T.name}"?`,async()=>{try{await m9(T.id),xe.success("Item deleted"),m&&S(m)}catch(re){xe.error(re.response?.data?.message||"Failed")}})},U=T=>{k("Delete Feedback","Are you sure?",async()=>{try{await y9(T.id),xe.success("Feedback deleted"),N()}catch(re){xe.error(re.response?.data?.message||"Failed")}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Services"}),e.jsxs(Ko,{defaultValue:"services-list",className:"w-full",children:[e.jsxs(no,{className:"grid w-full grid-cols-4 mb-4",children:[e.jsxs(Yt,{value:"services-list",children:[e.jsx(sc,{className:"w-4 h-4 mr-1"})," Services"]}),e.jsxs(Yt,{value:"third-parties",onClick:()=>j(),children:[e.jsx(wa,{className:"w-4 h-4 mr-1"})," Third Parties"]}),e.jsxs(Yt,{value:"service-items",children:[e.jsx(Gi,{className:"w-4 h-4 mr-1"})," Service Items"]}),e.jsxs(Yt,{value:"service-feedbacks",onClick:()=>N(),children:[e.jsx(_a,{className:"w-4 h-4 mr-1"})," Feedbacks"]})]}),e.jsxs(ns,{value:"services-list",className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Ae,{placeholder:"Search services...",value:g.services.search,onChange:T=>b(re=>({...re,services:{...re.services,search:T.target.value}})),className:"w-48"}),e.jsxs(ot,{value:g.services.category,onValueChange:T=>b(re=>({...re,services:{...re.services,category:T}})),children:[e.jsx(at,{className:"w-40",children:e.jsx(lt,{placeholder:"Category"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All"}),e.jsx(ke,{value:"transport",children:"Transport"}),e.jsx(ke,{value:"accommodation",children:"Accommodation"}),e.jsx(ke,{value:"food",children:"Food"}),e.jsx(ke,{value:"entertainment",children:"Entertainment"}),e.jsx(ke,{value:"other",children:"Other"})]})]}),e.jsx(fe,{variant:"outline",size:"icon",onClick:_,"aria-label":"Refresh",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Name"}),e.jsx(_e,{children:"Owner"}),e.jsx(_e,{children:"Category"}),e.jsx(_e,{children:"Price"}),e.jsx(_e,{children:"Rating"}),e.jsx(_e,{children:"Featured"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:d?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):s.length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No services found"})}):s.map(T=>e.jsxs(Ye,{children:[e.jsx(ve,{children:T.id}),e.jsx(ve,{className:"font-medium",children:T.name}),e.jsx(ve,{children:T.third_party?T.third_party.name||T.third_party.email:T.third_party_id||""}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:T.category||""})}),e.jsxs(ve,{children:["$",(parseFloat(T.price)||0).toFixed(2)]}),e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ir,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),T.rating?Number(T.rating).toFixed(1):"N/A"]})}),e.jsx(ve,{children:e.jsx(Ge,{variant:T.featured?"default":"secondary",children:T.featured?"Yes":"No"})}),e.jsx(ve,{children:e.jsx(fe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>C(T),children:e.jsx(tr,{className:"w-4 h-4"})})})]},T.id))})]})})})]}),e.jsxs(ns,{value:"third-parties",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{placeholder:"Search third parties...",value:g.thirdParties.search,onChange:T=>b(re=>({...re,thirdParties:{...re.thirdParties,search:T.target.value}})),className:"w-64"}),e.jsx(fe,{variant:"outline",size:"icon",onClick:j,"aria-label":"Refresh",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Name"}),e.jsx(_e,{children:"Contact"}),e.jsx(_e,{children:"Category"}),e.jsx(_e,{children:"City"}),e.jsx(_e,{children:"Subscription"}),e.jsx(_e,{children:"Created"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:d?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):r.length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No third parties found"})}):r.map(T=>e.jsxs(Ye,{children:[e.jsx(ve,{children:T.id}),e.jsx(ve,{className:"font-medium",children:T.name}),e.jsx(ve,{children:T.email||T.phone||""}),e.jsx(ve,{children:e.jsx(Ge,{variant:"outline",children:T.category||""})}),e.jsx(ve,{children:T.city||""}),e.jsx(ve,{children:T.subscription_status||""}),e.jsx(ve,{children:T.created_at?new Date(T.created_at).toLocaleDateString():""}),e.jsx(ve,{children:e.jsx(fe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>z(T),children:e.jsx(tr,{className:"w-4 h-4"})})})]},T.id))})]})})})]}),e.jsxs(ns,{value:"service-items",className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(ot,{value:m,onValueChange:T=>f(T),children:[e.jsx(at,{className:"w-64",children:e.jsx(lt,{placeholder:"Select a service to view items"})}),e.jsx(it,{children:s.map(T=>e.jsx(ke,{value:String(T.id),children:T.name},T.id))})]}),m&&e.jsx(fe,{variant:"outline",size:"icon",onClick:()=>S(m),"aria-label":"Refresh",children:e.jsx(Ft,{className:"w-4 h-4"})})]}),m?e.jsxs(Ue,{children:[e.jsx(ts,{children:e.jsxs(ss,{children:["Items for Service #",m]})}),e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Name"}),e.jsx(_e,{children:"Description"}),e.jsx(_e,{children:"Price"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:d?e.jsx(Ye,{children:e.jsx(ve,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):a.length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No items found"})}):a.map(T=>e.jsxs(Ye,{children:[e.jsx(ve,{children:T.id}),e.jsx(ve,{className:"font-medium",children:T.name}),e.jsx(ve,{className:"max-w-xs truncate",children:T.description||"N/A"}),e.jsxs(ve,{children:["$",(parseFloat(T.price)||0).toFixed(2)]}),e.jsx(ve,{children:e.jsx(fe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>E(T),children:e.jsx(tr,{className:"w-4 h-4"})})})]},T.id))})]})})]}):e.jsx(Ue,{children:e.jsxs(He,{className:"py-12 text-center text-muted-foreground",children:[e.jsx(Gi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a service from the dropdown above"})]})})]}),e.jsxs(ns,{value:"service-feedbacks",className:"space-y-4",children:[e.jsx(fe,{variant:"outline",size:"icon",onClick:N,"aria-label":"Refresh",children:e.jsx(Ft,{className:"w-4 h-4"})}),e.jsx(Ue,{children:e.jsx(He,{className:"p-0",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Service"}),e.jsx(_e,{children:"User"}),e.jsx(_e,{children:"Rating"}),e.jsx(_e,{children:"Comment"}),e.jsx(_e,{children:"Created"}),e.jsx(_e,{children:"Actions"})]})}),e.jsx(Ut,{children:d?e.jsx(Ye,{children:e.jsx(ve,{colSpan:7,className:"text-center py-8",children:"Loading..."})}):o.length===0?e.jsx(Ye,{children:e.jsx(ve,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No feedbacks found"})}):o.map(T=>e.jsxs(Ye,{children:[e.jsx(ve,{children:T.id}),e.jsx(ve,{children:T.service?.name||T.service_id}),e.jsx(ve,{children:T.user?.name||T.user_id}),e.jsx(ve,{children:e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((re,Y)=>e.jsx(ir,{className:`w-4 h-4 ${Y<(T.rating||0)?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},Y))})}),e.jsx(ve,{className:"max-w-xs truncate",children:T.comment||"N/A"}),e.jsx(ve,{children:T.created_at?new Date(T.created_at).toLocaleDateString():""}),e.jsx(ve,{children:e.jsx(fe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>U(T),children:e.jsx(tr,{className:"w-4 h-4"})})})]},T.id))})]})})})]})]}),e.jsx(Iy,{open:v.open,onOpenChange:T=>y(re=>({...re,open:T})),children:e.jsxs(hp,{children:[e.jsxs(fp,{children:[e.jsx(pp,{children:v.title}),e.jsx(gp,{children:v.message})]}),e.jsxs(mp,{children:[e.jsx(yp,{children:"Cancel"}),e.jsx(xp,{onClick:v.onConfirm,children:"Confirm"})]})]})})]})}const R7="https://rento-lb.com/api/storage/",BN="/avatar.png",E6=500;function D7(s,t=null){if(!s)return t;if(s.startsWith("http"))return s;const r=s.startsWith("/")?s.slice(1):s;return R7+r}function M7(s){return s?String(s).toLowerCase().split("?")[0].endsWith(".pdf"):!1}const Gx=420,Wx=300,Vl=120,kx=2.5;function wje({src:s,alt:t,className:r=""}){const[n,a]=w.useState(!1),[i,o]=w.useState({x:0,y:0}),c=w.useRef(null),d=j=>{if(!c.current)return;const S=c.current.getBoundingClientRect(),N=(j.clientX-S.left)/S.width,k=(j.clientY-S.top)/S.height;o({x:Math.max(0,Math.min(1,N)),y:Math.max(0,Math.min(1,k))})},h=c.current?.getBoundingClientRect().width||Gx,m=c.current?.getBoundingClientRect().height||Wx,f=i.x*h,g=i.y*m,b=-(f*kx-Vl/2),v=-(g*kx-Vl/2),y=Math.max(0,Math.min(h-Vl,f-Vl/2)),_=Math.max(0,Math.min(m-Vl,g-Vl/2));return e.jsxs("div",{ref:c,className:`relative overflow-hidden rounded-lg border-4 border-gray-300 dark:border-gray-600 shadow-md cursor-crosshair ${r}`,style:{width:Gx,height:Wx},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onMouseMove:d,children:[e.jsx("img",{src:s,alt:t,className:"w-full h-full object-contain",style:{width:Gx,height:Wx},draggable:!1,onError:j=>{j.currentTarget.onerror=null,j.currentTarget.src="/avatar.png"}}),n&&e.jsx("div",{className:"absolute pointer-events-none rounded-full border-2 border-white shadow-xl bg-no-repeat",style:{width:Vl,height:Vl,left:y,top:_,backgroundImage:`url(${s})`,backgroundSize:`${h*kx}px ${m*kx}px`,backgroundPosition:`${b}px ${v}px`}})]})}function jje({title:s,path:t,fallback:r=null}){const n=D7(t,r);if(!n)return e.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"});if(M7(n)){const a=`${n}#toolbar=0&navpanes=0&scrollbar=0`;return e.jsx("iframe",{title:s,src:a,className:"w-full rounded-lg border-4 border-gray-300 dark:border-gray-600 shadow-md bg-white",style:{width:Gx,height:Wx}})}return e.jsx(wje,{src:n,alt:s})}function Sx({title:s,path:t,userId:r,imageType:n,onReplaced:a}){const i=D7(t,null),o=w.useRef(null),[c,d]=w.useState(!1),[h,m]=w.useState(!1),f=async()=>{if(!(!r||!n)){m(!0);try{const b=await _ye(r,n),v=window.URL.createObjectURL(b),y=document.createElement("a");y.href=v,y.download=`user_${r}_${n}.${M7(t)?"pdf":"jpg"}`,document.body.appendChild(y),y.click(),y.remove(),window.URL.revokeObjectURL(v),xe.success(`${s} downloaded`)}catch(b){xe.error(b.response?.data?.error||`Failed to download ${s}`)}finally{m(!1)}}},g=async b=>{const v=b.target.files?.[0];if(!(!v||!r||!n)){if(v.size>5*1024*1024){xe.error("File too large (max 5MB)");return}d(!0);try{const y=await Nye(r,n,v);xe.success(y.data?.message||`${s} replaced`),a&&a(y.data)}catch(y){xe.error(y.response?.data?.message||`Failed to replace ${s}`)}finally{d(!1),o.current&&(o.current.value="")}}};return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden border-4 border-dashed border-gray-400 dark:border-gray-500 min-h-[300px] p-1",children:i?e.jsx(jje,{title:s,path:t}):e.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[e.jsx(Lu,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Not uploaded"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(fe,{type:"button",size:"sm",variant:"outline",disabled:!i||h,onClick:f,className:"flex-1 text-xs",children:[h?e.jsx(fn,{className:"h-3 w-3 animate-spin mr-1"}):e.jsx(vm,{className:"h-3 w-3 mr-1"}),"Download"]}),e.jsxs(fe,{type:"button",size:"sm",variant:"outline",disabled:c,onClick:()=>o.current?.click(),className:"flex-1 text-xs",children:[c?e.jsx(fn,{className:"h-3 w-3 animate-spin mr-1"}):e.jsx(N_,{className:"h-3 w-3 mr-1"}),"Replace"]}),e.jsx("input",{ref:o,type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",className:"hidden",onChange:g})]})]})}function T6(s){const t=s?.profile_picture;if(!t)return BN;if(t.startsWith("http"))return t;const r=t.startsWith("/")?t.slice(1):t;return R7+r}const un={VERIFIED:"verified",WAITING_ADMIN:"waiting_admin",PROFILE_INCOMPLETE:"profile_incomplete",PENDING_USER:"pending_user"};function R6(s,t){if(!s)return un.PROFILE_INCOMPLETE;const r=!!s.verified_by_admin,n=!!s.profile_complete,a=t.includes(s.id);return r?un.VERIFIED:a?un.PENDING_USER:n?un.WAITING_ADMIN:un.PROFILE_INCOMPLETE}function _je(){const[s,t]=w.useState([]),[r,n]=w.useState({current_page:1,last_page:1,total:0}),[a,i]=w.useState(!0),[o,c]=w.useState(1),[d,h]=w.useState(""),[m,f]=w.useState("all"),[g,b]=w.useState(null),[v,y]=w.useState([]),[_,j]=w.useState("all"),[S,N]=w.useState("realData"),[k,C]=w.useState([]),[z,E]=w.useState({current_page:1,last_page:1,per_page:20,total:0}),[U,T]=w.useState(1),[re,Y]=w.useState("all"),[I,K]=w.useState(""),[L,J]=w.useState(!1),[Q,Z]=w.useState(""),[ee,F]=w.useState(!1),[de,q]=w.useState(null),[G,ie]=w.useState(""),[le,be]=w.useState(!1),[ye,$]=w.useState(!1),[V,me]=w.useState(null),[ce,he]=w.useState(null),[O,oe]=w.useState({first_name:"",middle_name:"",last_name:"",id_number:"",passport_number:"",driver_license_number:"",gender:"",date_of_birth:"",mother_name:"",place_of_birth:""}),[D,Ce]=w.useState(null),[H,R]=w.useState(!1),P=async()=>{i(!0);try{const Te={page:o,per_page:perPage};m&&m!=="all"&&(Te.role=m),d?.trim()&&(Te.search=d.trim());const Be=await fh(Te),xt=Be.data?.users||Be.data;let jt=xt?.data||[];jt=[...jt].sort((Pt,Is)=>{const cs=Pt.created_at?new Date(Pt.created_at):0;return(Is.created_at?new Date(Is.created_at):0)-cs}),g&&(jt=jt.sort((Pt,Is)=>Pt.id===g?-1:Is.id===g?1:0)),t(jt),n({current_page:xt.current_page??1,last_page:xt.last_page??1,total:xt.total??0})}catch(Te){xe.error(Te.response?.data?.message||"Failed to load users"),t([])}finally{i(!1)}};w.useEffect(()=>{P()},[o,m]);const W=()=>{c(1),P()},Ne=async()=>{try{const Te=await g6({status:"pending",per_page:500}),jt=((Te.data?.real_user_data||Te.data)?.data||[]).map(Pt=>Pt.user_id).filter(Pt=>Pt!=null);y(jt)}catch(Te){console.warn("Failed to load pending real user data",Te.response?.data||Te.message)}};w.useEffect(()=>{Ne()},[]);const X=async()=>{J(!0);try{const Te={page:U,per_page:E6};re&&re!=="all"&&(Te.status=re);const Be=I?.trim()?parseInt(I.trim(),10):null;Be!=null&&!Number.isNaN(Be)&&(Te.user_id=Be);const xt=await g6(Te),jt=xt.data?.real_user_data||xt.data;let Pt=jt?.data||[];Pt=[...Pt].sort((Is,cs)=>{const Rs=Is.profile_completed?1:0,Dt=cs.profile_completed?1:0;if(Dt!==Rs)return Dt-Rs;const we=Is.created_at?new Date(Is.created_at):0;return(cs.created_at?new Date(cs.created_at):0)-we}),C(Pt),E({current_page:jt.current_page??1,last_page:jt.last_page??1,per_page:jt.per_page??E6,total:jt.total??0})}catch(Te){xe.error(Te.response?.data?.message||"Failed to load real user data list"),C([])}finally{J(!1)}};w.useEffect(()=>{S==="realData"&&X()},[S,U,re]);const pe=Te=>{if(!Te)return;const Be=Te.date_of_birth?Te.date_of_birth.includes("T")?Te.date_of_birth.split("T")[0]:Te.date_of_birth:"";Ce(Te),oe({first_name:Te.first_name||"",middle_name:Te.middle_name||"",last_name:Te.last_name||"",id_number:Te.id_number||"",passport_number:Te.passport_number||"",driver_license_number:Te.driver_license_number||"",gender:Te.gender||"",date_of_birth:Be,mother_name:Te.mother_name||"",place_of_birth:Te.place_of_birth||""})},ge=async Te=>{me(Te),$(!0),he(null),Ce(null),oe({first_name:"",middle_name:"",last_name:"",id_number:"",passport_number:"",driver_license_number:"",gender:"",date_of_birth:"",mother_name:"",place_of_birth:""});try{const Be=await G0e(Te.id),xt=Be.data?.user||Be.data;he(xt);try{const jt=await x6(Te.id),Pt=jt.data?.data??jt.data?.real_user_data;Pt&&pe(Pt)}catch(jt){jt.response?.status!==404&&console.warn("Real user data fetch:",jt.response?.data?.message||jt.message)}}catch{xe.error("Failed to load user details")}},Re=()=>{$(!1),me(null),he(null),Ce(null),ie(""),F(!1),q(null),Z("")},De=Te=>{const{name:Be,value:xt}=Te.target;oe(jt=>({...jt,[Be]:xt}))},Se=(Te,Be)=>{oe(xt=>({...xt,[Te]:Be}))},Ie=async Te=>{if(Te.preventDefault(),!V)return;const Be={...O};if(!Be.first_name||!Be.last_name||!Be.gender){xe.error("First name, last name, and gender are required");return}if(!!!(Be.id_number||Be.passport_number||Be.driver_license_number)){xe.error("At least one of ID number, passport number, or driver license number is required");return}R(!0);try{await yye(V.id,Be),xe.success("Real user data saved. User is now verified."),b(V.id),Re(),P()}catch(jt){xe.error(jt.response?.data?.message||"Failed to save")}finally{R(!1)}},We=Te=>{q(Te),Z(""),F(!0)},wt=async()=>{if(!D?.id||!de)return;const Te=typeof de=="object"?de.status:de;try{await bye(D.id,{status:Te,reason_of_status:Q?.trim()||void 0}),xe.success(Te==="approved"?"User verified.":Te==="pending"?"Set to pending.":"Status updated."),F(!1),q(null),Z("");const Be={...D,status:Te,reason_of_status:Q?.trim()||null};Ce(Be),b(V?.id),S==="realData"?X():(P(),await Ne())}catch(Be){xe.error(Be.response?.data?.message||"Failed to update status")}},gt=async Te=>{D?.id&&We(Te)},pt=async Te=>{if(D?.id)try{const Be=await vye(D.id,{is_checked:Te}),xt=Be.data?.data??Be.data;xt&&Ce(xt),xe.success(Te?"Marked as checked.":"Marked as unchecked.")}catch(Be){xe.error(Be.response?.data?.message||"Failed to update check status")}},Nt=async()=>{if(V&&confirm("Delete real user data for this user?"))try{await wye(V.id),xe.success("Real user data deleted."),Re(),P(),await Ne(),S==="realData"&&X()}catch(Te){xe.error(Te.response?.data?.message||"Failed to delete")}},yt=async Te=>{Te.preventDefault();const Be=parseInt(G.trim(),10);if(!V||!Be||Number.isNaN(Be)){xe.error("Enter a valid real user data ID");return}be(!0);try{await jye(V.id,Be),xe.success("Real user data linked to this user."),ie("");const xt=await x6(V.id),jt=xt.data?.data??xt.data?.real_user_data;jt&&pe(jt),S==="realData"&&X()}catch(xt){xe.error(xt.response?.data?.message||"Failed to link real user data")}finally{be(!1)}},Ot=w.useMemo(()=>{let Te=s;if(_==="all")return Te;const Be=_;return Te=Te.filter(xt=>R6(xt,v)===Be),Te},[s,_,v]),Ze=Te=>Te?.first_name&&Te?.last_name?`${Te.first_name} ${Te.last_name}`:Te?.username||Te?.name||`User #${Te?.id}`;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Real User Data"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[e.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ae,{placeholder:"Search by name, email, phone, username...",value:d,onChange:Te=>h(Te.target.value),onKeyDown:Te=>Te.key==="Enter"&&W(),className:"pl-9"})]}),e.jsxs(ot,{value:m,onValueChange:Te=>{f(Te),c(1)},children:[e.jsx(at,{className:"w-36",children:e.jsx(lt,{placeholder:"Role"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All Roles"}),e.jsx(ke,{value:"client",children:"Client"}),e.jsx(ke,{value:"agency",children:"Agency"}),e.jsx(ke,{value:"admin",children:"Admin"})]})]}),e.jsxs(ot,{value:_,onValueChange:Te=>{j(Te),c(1)},children:[e.jsx(at,{className:["w-56 font-medium",_==="all"&&"bg-slate-100 border-slate-400",_===un.VERIFIED&&"bg-emerald-100 border-emerald-500 text-emerald-800",_===un.WAITING_ADMIN&&"bg-sky-100 border-sky-500 text-sky-800",_===un.PROFILE_INCOMPLETE&&"bg-red-100 border-red-500 text-red-800",_===un.PENDING_USER&&"bg-amber-100 border-amber-500 text-amber-800"].join(" "),children:e.jsx(lt,{placeholder:"Status filter"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All users"}),e.jsx(ke,{value:un.VERIFIED,children:"Verified by admin"}),e.jsx(ke,{value:un.WAITING_ADMIN,children:"Profile complete  waiting for admin"}),e.jsx(ke,{value:un.PROFILE_INCOMPLETE,children:"Profile not complete"}),e.jsx(ke,{value:un.PENDING_USER,children:"Pending  waiting for user"})]})]}),e.jsx(fe,{variant:"outline",onClick:W,className:"border-sky-500 text-sky-700 hover:bg-sky-50",children:"Search"}),e.jsx(fe,{variant:"outline",size:"icon",onClick:P,className:"border-emerald-500 text-emerald-700 hover:bg-emerald-50",children:e.jsx(ic,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 border-b pb-3",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"View:"}),e.jsxs("div",{className:"flex rounded-lg border bg-muted/50 p-0.5",children:[e.jsxs("button",{type:"button",onClick:()=>N("users"),className:`flex items-center gap-2 rounded-md px-4 py-2 text-sm font-medium transition-colors ${S==="users"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[e.jsx(_s,{className:"h-4 w-4"}),"By Users"]}),e.jsxs("button",{type:"button",onClick:()=>N("realData"),className:`flex items-center gap-2 rounded-md px-4 py-2 text-sm font-medium transition-colors ${S==="realData"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[e.jsx(gE,{className:"h-4 w-4"}),"By Real User Data"]})]})]}),S==="realData"&&e.jsxs(Ue,{children:[e.jsxs(ts,{children:[e.jsxs(ss,{className:"flex items-center gap-2",children:[e.jsx(gE,{className:"w-5 h-5"}),"Real User Data (",z.total," records)"]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[e.jsxs(ot,{value:re,onValueChange:Te=>{Y(Te),T(1)},children:[e.jsx(at,{className:"w-40",children:e.jsx(lt,{placeholder:"Status"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"all",children:"All statuses"}),e.jsx(ke,{value:"pending",children:"Pending"}),e.jsx(ke,{value:"approved",children:"Approved"}),e.jsx(ke,{value:"not_approved",children:"Not approved"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"text-sm whitespace-nowrap",children:"User ID"}),e.jsx(Ae,{type:"number",placeholder:"Filter by user ID",className:"w-32",value:I,onChange:Te=>K(Te.target.value),onKeyDown:Te=>Te.key==="Enter"&&(T(1),X())})]}),e.jsx(fe,{variant:"outline",size:"sm",onClick:()=>{T(1),X()},children:"Apply filters"}),e.jsx(fe,{variant:"outline",size:"icon",onClick:X,disabled:L,children:e.jsx(ic,{className:`h-4 w-4 ${L?"animate-spin":""}`})})]})]}),e.jsxs(He,{children:[L?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(fn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):k.length===0?e.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No real user data records"}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:k.map(Te=>{const Be=Te.user||{},xt=Be.client||{},jt=!!Te.profile_completed,Pt=Te.completion_status||"unknown",Is=jt?Pt==="verified"?"border-emerald-400 bg-emerald-50/60":Pt==="pending"?"border-amber-400 bg-amber-50/60":"border-sky-400 bg-sky-50/60":"border-red-300 bg-red-50/40",cs=jt?Pt==="verified"?{className:"bg-emerald-100 border-emerald-500 text-emerald-800",label:"Verified"}:Pt==="pending"?{className:"bg-amber-100 border-amber-500 text-amber-800",label:"Pending"}:{className:"bg-sky-100 border-sky-500 text-sky-800",label:"Waiting for Admin"}:{className:"bg-red-100 border-red-500 text-red-800",label:"Profile Incomplete"},Rs=!!Be.id_card_front,Dt=!!Be.id_card_back,we=!!xt.driver_license,Rt=[Rs,Dt,we].filter(Boolean).length;return e.jsx(Ue,{className:`border-2 transition-shadow ${Is}`,children:e.jsxs(He,{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("img",{src:T6(Be),alt:"",className:"h-12 w-12 rounded-full object-cover ring-2 ring-muted shrink-0",onError:Gs=>{Gs.currentTarget.onerror=null,Gs.currentTarget.src=BN}}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-semibold truncate",children:Be.username||`User #${Te.user_id}`}),e.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["User ID: ",Te.user_id,"  Record ID: ",Te.id]})]})]}),e.jsx(Ge,{variant:"outline",className:`shrink-0 text-xs px-2 py-0.5 ${cs.className}`,children:cs.label})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Real Name"}),e.jsxs("p",{className:"font-medium",children:[Te.first_name," ",Te.middle_name?`${Te.middle_name} `:"",Te.last_name]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Account Name"}),e.jsxs("p",{children:[Be.first_name||""," ",Be.last_name||""]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-1.5 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Za,{className:"h-3 w-3 text-muted-foreground shrink-0"}),e.jsx("span",{className:"truncate",children:Be.phone_number||""})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ja,{className:"h-3 w-3 text-muted-foreground shrink-0"}),e.jsx("span",{className:"truncate",children:Be.email||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(js,{className:"h-3 w-3 text-muted-foreground shrink-0"}),e.jsx("span",{className:"truncate",children:Be.city||""})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Bs,{className:"h-3 w-3 text-muted-foreground shrink-0"}),e.jsxs("span",{children:["DOB: ",Te.date_of_birth?new Date(Te.date_of_birth).toLocaleDateString("en-GB"):""]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Dn,{className:"h-3 w-3 text-muted-foreground shrink-0"}),e.jsxs("span",{children:["Gender: ",Te.gender||""]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(_s,{className:"h-3 w-3 text-muted-foreground shrink-0"}),e.jsxs("span",{children:["Role: ",Be.role||""]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[Te.id_number&&e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded font-mono",children:["ID: ",Te.id_number]}),Te.passport_number&&e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded font-mono",children:["Passport: ",Te.passport_number]}),Te.driver_license_number&&e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded font-mono",children:["DL: ",Te.driver_license_number]}),Te.mother_name&&e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded",children:["Mother: ",Te.mother_name]}),Te.place_of_birth&&e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded",children:["POB: ",Te.place_of_birth]})]}),xt.id&&e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[e.jsxs("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded",children:[e.jsx(sc,{className:"h-3 w-3 inline mr-1"}),xt.profession||""]}),e.jsxs("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded",children:["Salary: ",xt.avg_salary||""]}),xt.license_number&&e.jsxs("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded font-mono",children:["License#: ",xt.license_number]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(to,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.jsxs("span",{className:Rt===3?"text-emerald-600 font-medium":"text-muted-foreground",children:[Rt,"/3 docs uploaded"]})]}),e.jsxs("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${Rs?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:["ID Front ",Rs?"":""]}),e.jsxs("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${Dt?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:["ID Back ",Dt?"":""]}),e.jsxs("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${we?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:["License ",we?"":""]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t gap-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(Ge,{className:Te.status==="approved"?"bg-emerald-100 text-emerald-800":Te.status==="pending"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800",children:Te.status}),Te.is_checked&&e.jsxs(Ge,{variant:"secondary",className:"text-[10px]",children:[e.jsx(Qn,{className:"h-3 w-3 mr-0.5"})," Checked"]}),Te.verified_by_admin_user_id!=null&&e.jsxs("span",{children:["Verified by admin #",Te.verified_by_admin_user_id]}),Te.reason_of_status&&e.jsxs("span",{className:"italic max-w-[200px] truncate",title:Te.reason_of_status,children:["Reason: ",Te.reason_of_status]})]}),e.jsxs(fe,{size:"sm",onClick:()=>ge({...Te.user||{},id:Te.user&&Te.user.id||Te.user_id}),style:{background:`linear-gradient(to right, ${va.darkBlue}, ${va.teal})`},className:"text-white shrink-0",children:[e.jsx(xr,{className:"h-4 w-4 mr-1"}),"Edit"]})]})]})},Te.id)})}),z.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Page ",z.current_page," of ",z.last_page,"  Total ",z.total]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{variant:"outline",size:"sm",disabled:U<=1,onClick:()=>T(Te=>Te-1),children:e.jsx(vi,{className:"h-4 w-4"})}),e.jsx(fe,{variant:"outline",size:"sm",disabled:U>=z.last_page,onClick:()=>T(Te=>Te+1),children:e.jsx(Zr,{className:"h-4 w-4"})})]})]})]})]}),S==="users"&&e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-emerald-50 border border-emerald-300 text-emerald-800 font-medium",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-500 shadow-sm"}),"Verified by admin (profile + real data done)"]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-sky-50 border border-sky-300 text-sky-800 font-medium",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-sky-500 shadow-sm"}),"Profile complete  waiting for admin to fill data"]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-red-50 border border-red-300 text-red-800 font-medium",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500 shadow-sm"}),"Profile not complete"]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-amber-50 border border-amber-300 text-amber-800 font-medium",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-500 shadow-sm"}),"Pending  admin asked; waiting for user to send info"]})]}),S==="users"&&e.jsxs(Ue,{children:[e.jsx(ts,{children:e.jsxs(ss,{className:"flex items-center gap-2",children:[e.jsx(_s,{className:"w-5 h-5"}),"Users  select one to fill real user data"]})}),e.jsx(He,{className:"p-4",children:a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(fn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):Ot.length===0?e.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No users found"}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Ot.map(Te=>{const Be=R6(Te,v),xt=Be===un.VERIFIED,jt=Be===un.WAITING_ADMIN,Pt=Be===un.PROFILE_INCOMPLETE,Is=Be===un.PENDING_USER,cs=["overflow-hidden border-2 transition-shadow rounded-xl",xt&&"border-emerald-400 bg-emerald-50/80 shadow-[0_0_10px_rgba(16,185,129,0.5)]",jt&&"border-sky-400 bg-sky-50/80 shadow-[0_0_10px_rgba(14,165,233,0.5)]",Pt&&"border-red-400 bg-red-50/80 shadow-[0_0_10px_rgba(239,68,68,0.5)]",Is&&"border-amber-400 bg-amber-50/80 shadow-[0_0_10px_rgba(245,158,11,0.5)]",g===Te.id&&"ring-2 ring-emerald-400"].filter(Boolean).join(" "),Rs=xt?"Verified by admin":jt?"Waiting for admin":Pt?"Profile not complete":"Pending (waiting for user)",Dt=xt?"bg-emerald-100 border-emerald-500 text-emerald-800":jt?"bg-sky-100 border-sky-500 text-sky-800":Pt?"bg-red-100 border-red-500 text-red-800":"bg-amber-100 border-amber-500 text-amber-800";return e.jsx(Ue,{className:cs,children:e.jsxs(He,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("img",{src:T6(Te),alt:"",className:"h-12 w-12 rounded-full object-cover ring-2 ring-muted",onError:we=>{we.currentTarget.onerror=null,we.currentTarget.src=BN}}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-semibold truncate",children:Ze(Te)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",Te.id]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Joined:"," ",Te.created_at?new Date(Te.created_at).toLocaleDateString("en-GB"):""]})]})]}),e.jsxs("div",{className:"space-y-1 text-sm mb-3",children:[e.jsxs("p",{className:"truncate",children:[e.jsx("span",{className:"text-muted-foreground",children:"Name: "}),Te.first_name&&Te.last_name?`${Te.first_name} ${Te.last_name}`:""]}),e.jsxs("p",{className:"truncate",children:[e.jsx("span",{className:"text-muted-foreground",children:"Phone: "}),Te.phone_number||""]}),e.jsxs("p",{className:"truncate",children:[e.jsx("span",{className:"text-muted-foreground",children:"Username: "}),Te.username||""]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[e.jsxs("span",{className:"flex flex-col gap-1",children:[e.jsx(Ge,{variant:"outline",className:`w-fit px-2 py-0.5 text-[11px] font-medium ${Dt}`,children:Rs}),xt&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-emerald-700 text-xs",children:[e.jsx(Qu,{className:"h-3.5 w-3.5"})," Real data filled"]})]}),e.jsxs(fe,{size:"sm",onClick:()=>ge(Te),style:{background:`linear-gradient(to right, ${va.darkBlue}, ${va.teal})`},className:"text-white shadow-sm hover:shadow-md",children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Fill Real Data"]})]})]})},Te.id)})})})]}),S==="users"&&r.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Page ",r.current_page," of ",r.last_page,"  Total ",r.total]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{variant:"outline",size:"sm",disabled:o<=1,onClick:()=>c(Te=>Te-1),children:"Previous"}),e.jsx(fe,{variant:"outline",size:"sm",disabled:o>=r.last_page,onClick:()=>c(Te=>Te+1),children:"Next"})]})]}),e.jsx(el,{children:ye&&V&&e.jsx(yr,{open:ye,onOpenChange:Te=>!Te&&Re(),children:e.jsxs(ur,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(hr,{children:e.jsxs(fr,{className:"flex items-center gap-2",children:[e.jsx(Qu,{className:"w-5 h-5"}),"Real User Data  ",Ze(V)," (ID: ",V.id,")"]})}),e.jsxs("form",{onSubmit:Ie,className:"space-y-6",children:[ce&&e.jsx(Ue,{className:"bg-muted/30",children:e.jsx(He,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Username"}),e.jsx("span",{className:"font-medium",children:ce.username||""})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Phone"}),e.jsx("span",{className:"font-medium",children:ce.phone_number||""})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Email"}),e.jsx("span",{className:"font-medium",children:ce.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Role"}),e.jsx(Ge,{variant:"outline",className:"text-xs",children:ce.role||""})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"City"}),e.jsx("span",{children:ce.city||""})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Gender"}),e.jsx("span",{children:ce.gender||""})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Birth Date"}),e.jsx("span",{children:ce.birth_date?new Date(ce.birth_date).toLocaleDateString("en-GB"):""})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Verified"}),e.jsx(Ge,{className:ce.verified_by_admin?"bg-emerald-100 text-emerald-800":"bg-red-100 text-red-800",children:ce.verified_by_admin?"Yes":"No"})]}),ce.client&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Profession"}),e.jsx("span",{children:ce.client.profession||""})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Avg Salary"}),e.jsx("span",{children:ce.client.avg_salary||""})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"License #"}),e.jsx("span",{className:"font-mono",children:ce.client.license_number||""})]})]})]})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Hover over images to magnify. Use buttons below each image to download or replace."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(Ue,{children:[e.jsx(ts,{className:"pb-2",children:e.jsxs(ss,{className:"text-sm flex items-center gap-2",children:[e.jsx(Lu,{className:"w-4 h-4"}),"ID Card  Front"]})}),e.jsx(He,{children:e.jsx(Sx,{title:"ID Card Front",path:ce?.id_card_front,userId:V?.id,imageType:"id_card_front",onReplaced:Te=>{Te?.user&&he(Be=>({...Be,id_card_front:Te.user.id_card_front}))}})})]}),e.jsxs(Ue,{children:[e.jsx(ts,{className:"pb-2",children:e.jsxs(ss,{className:"text-sm flex items-center gap-2",children:[e.jsx(Lu,{className:"w-4 h-4"}),"ID Card  Back"]})}),e.jsx(He,{children:e.jsx(Sx,{title:"ID Card Back",path:ce?.id_card_back,userId:V?.id,imageType:"id_card_back",onReplaced:Te=>{Te?.user&&he(Be=>({...Be,id_card_back:Te.user.id_card_back}))}})})]}),e.jsxs(Ue,{children:[e.jsx(ts,{className:"pb-2",children:e.jsxs(ss,{className:"text-sm flex items-center gap-2",children:[e.jsx(Lu,{className:"w-4 h-4"}),"Driver License"]})}),e.jsx(He,{children:e.jsx(Sx,{title:"Driver License",path:ce?.client?.driver_license,userId:V?.id,imageType:"driver_license",onReplaced:Te=>{Te?.user?.client&&he(Be=>({...Be,client:{...Be.client,driver_license:Te.user.client.driver_license}}))}})})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(Ue,{children:[e.jsx(ts,{className:"pb-2",children:e.jsxs(ss,{className:"text-sm flex items-center gap-2",children:[e.jsx(Lu,{className:"w-4 h-4"}),"Profile Picture"]})}),e.jsx(He,{children:e.jsx("div",{className:"max-w-[200px]",children:e.jsx(Sx,{title:"Profile Picture",path:ce?.profile_picture,userId:V?.id,imageType:"profile_picture",onReplaced:Te=>{Te?.user&&he(Be=>({...Be,profile_picture:Te.user.profile_picture}))}})})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"first_name",children:"Real First Name *"}),ce?.first_name&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",ce.first_name]}),e.jsx(Ae,{id:"first_name",name:"first_name",value:O.first_name,onChange:De,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"middle_name",children:"Real Middle Name"}),ce?.client?.middle_name&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",ce.client.middle_name]}),e.jsx(Ae,{id:"middle_name",name:"middle_name",value:O.middle_name,onChange:De})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"last_name",children:"Real Last Name *"}),ce?.last_name&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",ce.last_name]}),e.jsx(Ae,{id:"last_name",name:"last_name",value:O.last_name,onChange:De,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"id_number",children:"Real ID Number"}),ce?.client?.id_number&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",ce.client.id_number]}),e.jsx(Ae,{id:"id_number",name:"id_number",value:O.id_number,onChange:De})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"passport_number",children:"Real Passport Number"}),ce?.client?.passport_number&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",ce.client.passport_number]}),e.jsx(Ae,{id:"passport_number",name:"passport_number",value:O.passport_number,onChange:De})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"driver_license_number",children:"Real Driver License Number"}),(ce?.client?.license_number||ce?.client?.driver_license_number||ce?.driver_license_number)&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",ce.client?.license_number||ce.client?.driver_license_number||ce.driver_license_number]}),e.jsx(Ae,{id:"driver_license_number",name:"driver_license_number",value:O.driver_license_number,onChange:De})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"gender",children:"Real Gender *"}),(ce?.client?.gender||ce?.gender)&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",ce.client?.gender||ce.gender]}),e.jsxs(ot,{value:O.gender,onValueChange:Te=>Se("gender",Te),children:[e.jsx(at,{children:e.jsx(lt,{placeholder:"Select"})}),e.jsxs(it,{children:[e.jsx(ke,{value:"male",children:"Male"}),e.jsx(ke,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"date_of_birth",children:"Real Date of Birth"}),(ce?.client?.birth_date||ce?.birth_date||ce?.client?.date_of_birth||ce?.date_of_birth)&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",ce.client?.birth_date||ce.birth_date||ce.client?.date_of_birth||ce.date_of_birth]}),e.jsx(Ae,{id:"date_of_birth",name:"date_of_birth",type:"date",value:O.date_of_birth,onChange:De})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"mother_name",children:"Real Mother's Name"}),ce?.client?.mother_name&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",ce.client.mother_name]}),e.jsx(Ae,{id:"mother_name",name:"mother_name",value:O.mother_name,onChange:De})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"place_of_birth",children:"Real Place of Birth"}),ce?.client?.place_of_birth&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",ce.client.place_of_birth]}),e.jsx(Ae,{id:"place_of_birth",name:"place_of_birth",value:O.place_of_birth,onChange:De})]})]}),D&&e.jsxs(e.Fragment,{children:[e.jsxs(Ue,{className:"bg-muted/40",children:[e.jsx(ts,{children:e.jsx(ss,{className:"text-sm",children:"Verification & audit"})}),e.jsx(He,{className:"space-y-2 text-sm",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Verified by admin user ID:"," ",e.jsx("span",{className:"font-mono font-medium text-foreground",children:D.verified_by_admin_user_id??""})]}),D.reason_of_status&&e.jsxs("span",{className:"text-muted-foreground",children:["Reason:"," ",e.jsx("span",{className:"font-medium text-foreground",children:D.reason_of_status})]})]})})]}),e.jsxs(Ue,{className:"bg-muted/40",children:[e.jsx(ts,{children:e.jsx(ss,{className:"text-sm",children:"Follow-up / Check"})}),e.jsx(He,{className:"space-y-3",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"text-sm font-medium",children:"Mark as checked"}),e.jsx(yn,{checked:!!D.is_checked,onCheckedChange:pt,"aria-label":"Toggle checked status"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Is checked:"," ",e.jsx("span",{className:"font-medium text-foreground",children:D.is_checked?"Yes":"No"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Checked by admin user ID:"," ",e.jsx("span",{className:"font-mono font-medium",children:D.checked_by_admin_user_id??""})]}),D.is_checked&&e.jsx(Ge,{variant:"secondary",className:"text-xs",children:"Checked"})]})})]})]}),e.jsxs(Ue,{className:"bg-muted/30 border-dashed",children:[e.jsx(ts,{children:e.jsxs(ss,{className:"text-sm flex items-center gap-2",children:[e.jsx(pE,{className:"w-4 h-4"}),"Link existing real user data to this user"]})}),e.jsx(He,{children:e.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(ue,{className:"text-xs",children:"Real user data record ID"}),e.jsx(Ae,{type:"number",placeholder:"e.g. 5",className:"w-28",value:G,onChange:Te=>ie(Te.target.value),onKeyDown:Te=>Te.key==="Enter"&&(Te.preventDefault(),yt(Te))})]}),e.jsxs(fe,{type:"button",size:"sm",disabled:le,onClick:yt,children:[le?e.jsx(fn,{className:"h-4 w-4 animate-spin"}):e.jsx(pE,{className:"h-4 w-4 mr-1"}),"Link to this user"]})]})})]}),e.jsxs($_,{className:"flex-wrap gap-2",children:[D&&e.jsxs(e.Fragment,{children:[D.status!=="approved"&&e.jsxs(fe,{type:"button",onClick:()=>gt("approved"),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Approve"]}),D.status!=="pending"&&e.jsxs(fe,{type:"button",variant:"outline",onClick:()=>gt("pending"),className:"border-amber-500 text-amber-700 hover:bg-amber-50",children:[e.jsx(mc,{className:"h-4 w-4 mr-2"}),"Set to Pending"]}),D.status!=="not_approved"&&e.jsxs(fe,{type:"button",variant:"destructive",onClick:()=>gt("not_approved"),children:[e.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Reject"]}),e.jsx(fe,{type:"button",variant:"outline",onClick:Nt,className:"text-red-500",children:"Delete Real Data"})]}),e.jsx(fe,{type:"button",variant:"outline",onClick:Re,disabled:H,children:"Cancel"}),e.jsx(fe,{type:"submit",disabled:H,style:{background:`linear-gradient(to right, ${va.darkBlue}, ${va.teal})`},className:"text-white",children:H?e.jsxs(e.Fragment,{children:[e.jsx(fn,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(tY,{className:"w-4 h-4 mr-2"}),"Save Real Data"]})})]})]})]})})}),e.jsx(yr,{open:ee,onOpenChange:Te=>!Te&&(F(!1),q(null),Z("")),children:e.jsxs(ur,{className:"max-w-md",children:[e.jsx(hr,{children:e.jsxs(fr,{children:[de==="approved"&&"Approve verification",de==="not_approved"&&"Reject verification",de==="pending"&&"Set to Pending (waiting for user)",de&&typeof de=="object"&&de.status&&`Status: ${de.status}`]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ue,{htmlFor:"status_reason",children:"Reason or note (optional)"}),e.jsx("textarea",{id:"status_reason",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"e.g. Please send new ID photo",value:Q,onChange:Te=>Z(Te.target.value)})]}),e.jsxs($_,{children:[e.jsx(fe,{variant:"outline",onClick:()=>(F(!1),q(null),Z("")),children:"Cancel"}),e.jsx(fe,{onClick:wt,children:"Confirm"})]})]})})]})}const Cx={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function Nje(){const s=br(),[t,r]=w.useState(!1),[n,a]=w.useState([]),[i,o]=w.useState({totalAds:0,activeAds:0,totalViews:0,totalClicks:0,averageCTR:0});w.useEffect(()=>{c()},[]);const c=async()=>{r(!0);try{const f=(await Le.get("/admin/ads?per_page=100")).data?.ads||[];a(f);const g=f.filter(_=>{if(!_.online)return!1;const j=new Date,S=new Date(_.start_at),N=new Date(_.expire_at);return j>=S&&j<=N}),b=f.reduce((_,j)=>_+(j.nb_views||0),0),v=f.reduce((_,j)=>_+(j.nb_clicks||0),0),y=b>0?(v/b*100).toFixed(2):0;o({totalAds:f.length,activeAds:g.length,totalViews:b,totalClicks:v,averageCTR:parseFloat(y)})}catch(m){xe.error(m.response?.data?.message||"Failed to fetch ads")}finally{r(!1)}},d=()=>{const m=[{key:"id",label:"ID"},{key:"website",label:"Website"},{key:"company_type",label:"Company Type"},{key:"nb_views",label:"Views"},{key:"nb_clicks",label:"Clicks"},{key:"ctr",label:"CTR (%)",transform:g=>{const b=g.nb_views||0,v=g.nb_clicks||0;return b>0?(v/b*100).toFixed(2):"0.00"}},{key:"online",label:"Status",transform:g=>g.online?"Online":"Offline"},{key:"start_at",label:"Start Date",transform:g=>new Date(g.start_at).toLocaleString()},{key:"expire_at",label:"Expire Date",transform:g=>new Date(g.expire_at).toLocaleString()}],f=n.map(g=>({...g,ctr:m.find(b=>b.key==="ctr")?.transform?.(g),online:m.find(b=>b.key==="online")?.transform?.(g),start_at:m.find(b=>b.key==="start_at")?.transform?.(g),expire_at:m.find(b=>b.key==="expire_at")?.transform?.(g)}));b9(f,m,"ads-analytics")},h=()=>{const m=[{key:"id",label:"ID"},{key:"website",label:"Website"},{key:"company_type",label:"Company Type"},{key:"nb_views",label:"Views"},{key:"nb_clicks",label:"Clicks"},{key:"ctr",label:"CTR (%)",transform:g=>{const b=g.nb_views||0,v=g.nb_clicks||0;return b>0?(v/b*100).toFixed(2):"0.00"}},{key:"online",label:"Status",transform:g=>g.online?"Online":"Offline"}],f=n.map(g=>({...g,ctr:m.find(b=>b.key==="ctr")?.transform?.(g),online:m.find(b=>b.key==="online")?.transform?.(g)}));v9(f,m,"Ads Analytics Report","ads-analytics")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 p-4 sm:p-6 lg:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${Cx.darkBlue}, ${Cx.teal}, ${Cx.limeGreen})`},children:"Ads Analytics"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Track views, clicks, and performance metrics for all ads"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(fe,{variant:"outline",onClick:d,children:[e.jsx(vm,{className:"w-4 h-4 mr-2"}),"Export Excel"]}),e.jsxs(fe,{variant:"outline",onClick:h,children:[e.jsx(vm,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),e.jsxs(fe,{variant:"outline",onClick:()=>s("/admin-panel-page"),className:"flex items-center gap-2",children:[e.jsx(Ki,{className:"w-4 h-4"}),"Back to Admin Panel"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[e.jsxs(Ue,{children:[e.jsxs(ts,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ss,{className:"text-sm font-medium",children:"Total Ads"}),e.jsx(qi,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(He,{children:e.jsx("div",{className:"text-2xl font-bold",children:i.totalAds})})]}),e.jsxs(Ue,{children:[e.jsxs(ts,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ss,{className:"text-sm font-medium",children:"Active Ads"}),e.jsx(Bs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(He,{children:e.jsx("div",{className:"text-2xl font-bold",children:i.activeAds})})]}),e.jsxs(Ue,{children:[e.jsxs(ts,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ss,{className:"text-sm font-medium",children:"Total Views"}),e.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(He,{children:e.jsx("div",{className:"text-2xl font-bold",children:i.totalViews.toLocaleString()})})]}),e.jsxs(Ue,{children:[e.jsxs(ts,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ss,{className:"text-sm font-medium",children:"Total Clicks"}),e.jsx(Jl,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(He,{children:e.jsx("div",{className:"text-2xl font-bold",children:i.totalClicks.toLocaleString()})})]}),e.jsxs(Ue,{children:[e.jsxs(ts,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ss,{className:"text-sm font-medium",children:"Avg CTR"}),e.jsx(oc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(He,{children:e.jsxs("div",{className:"text-2xl font-bold",children:[i.averageCTR,"%"]})})]})]}),e.jsxs(Ue,{children:[e.jsx(ts,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ss,{children:"Ads Performance"}),e.jsx(fe,{variant:"outline",size:"icon",onClick:c,disabled:t,children:e.jsx(Ft,{className:`w-4 h-4 ${t?"animate-spin":""}`})})]})}),e.jsx(He,{children:t?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Ft,{className:"w-8 h-8 animate-spin",style:{color:Cx.teal}})}):n.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(qi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No ads found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(It,{children:[e.jsx(zt,{children:e.jsxs(Ye,{children:[e.jsx(_e,{children:"ID"}),e.jsx(_e,{children:"Website"}),e.jsx(_e,{children:"Company Type"}),e.jsx(_e,{children:"Views"}),e.jsx(_e,{children:"Clicks"}),e.jsx(_e,{children:"CTR (%)"}),e.jsx(_e,{children:"Status"}),e.jsx(_e,{children:"Start Date"}),e.jsx(_e,{children:"Expire Date"})]})}),e.jsx(Ut,{children:n.map(m=>{const f=m.nb_views||0,g=m.nb_clicks||0,b=f>0?(g/f*100).toFixed(2):"0.00",v=m.online&&new Date>=new Date(m.start_at)&&new Date<=new Date(m.expire_at);return e.jsxs(Ye,{children:[e.jsx(ve,{className:"font-medium",children:m.id}),e.jsx(ve,{children:m.website||"N/A"}),e.jsx(ve,{children:m.company_type||"N/A"}),e.jsx(ve,{children:f.toLocaleString()}),e.jsx(ve,{children:g.toLocaleString()}),e.jsx(ve,{children:e.jsxs("span",{className:`font-semibold ${parseFloat(b)>2?"text-green-600":parseFloat(b)>1?"text-yellow-600":"text-gray-600"}`,children:[b,"%"]})}),e.jsx(ve,{children:v?e.jsx(Ge,{variant:"default",children:"Active"}):e.jsx(Ge,{variant:"secondary",children:"Inactive"})}),e.jsx(ve,{children:new Date(m.start_at).toLocaleDateString()}),e.jsx(ve,{children:new Date(m.expire_at).toLocaleDateString()})]},m.id)})})]})})})]})]})})}const kje=async()=>{try{return(await Le.get("/ads")).data?.ads||[]}catch(s){return console.error("Error fetching active ads:",s),[]}},Sje=async s=>{try{await Le.post(`/ads/${s}/view`)}catch(t){console.error("Error tracking ad view:",t)}},Cje=async s=>{try{await Le.post(`/ads/${s}/click`)}catch(t){console.error("Error tracking ad click:",t)}};function d_(){const[s,t]=w.useState(!1),[r,n]=w.useState(null);w.useEffect(()=>{if(sessionStorage.getItem("adsPopupShown"))return;const c=async()=>{try{const h=await kje();if(h.length>0){const m=h[Math.floor(Math.random()*h.length)];n(m),t(!0),m.id&&await Sje(m.id)}}catch(h){console.error("Error fetching ads:",h)}},d=setTimeout(()=>{c()},2e4);return()=>clearTimeout(d)},[]);const a=()=>{t(!1),sessionStorage.setItem("adsPopupShown","true")},i=async()=>{if(r?.id)try{await Cje(r.id)}catch(o){console.error("Error tracking ad click:",o)}finally{r.target_url&&window.open(r.target_url,"_blank")}};return!s||!r?null:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-2xl max-w-2xl w-full mx-4 animate-scale-in",children:[e.jsx(fe,{variant:"ghost",size:"icon",onClick:a,className:"absolute top-2 right-2 z-10",children:e.jsx(Sr,{className:"w-5 h-5"})}),e.jsxs("div",{className:"p-6",children:[r.image_url&&e.jsx("div",{className:"cursor-pointer mb-4 rounded-lg overflow-hidden",onClick:i,children:e.jsx("img",{src:r.image_url.startsWith("http")?r.image_url:`/api/storage/${r.image_url}`,alt:r.ads_text||"Advertisement",className:"w-full h-auto object-contain max-h-96"})}),r.ads_text&&e.jsx("div",{className:"text-center cursor-pointer",onClick:i,children:e.jsx("p",{className:"text-lg font-semibold mb-2",children:r.ads_text})}),r.target_url&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx(fe,{onClick:i,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white",children:"Visit Website"})})]})]})})}const D6="https://rento-lb.com/watch",Aje="https://rento-lb.com/hero.mp4",P7="https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=1280&q=80",Eje={"@context":"https://schema.org","@type":"VideoObject","@id":`${D6}#video`,name:"Rento LB  Rent a Car in Lebanon",description:"Premium car rental in Lebanon. Compare and book from agencies and private owners.",thumbnailUrl:P7,uploadDate:"2024-01-01T00:00:00Z",contentUrl:Aje,embedUrl:D6,publisher:{"@id":"https://rento-lb.com/#organization"}};function Tje(){const s=br();return w.useEffect(()=>{document.title="Watch  Rento LB | Car Rental Lebanon";const t=document.createElement("script");return t.type="application/ld+json",t.setAttribute("data-watch-page-schema","true"),t.textContent=JSON.stringify(Eje),document.head.appendChild(t),()=>{const r=document.querySelector('script[data-watch-page-schema="true"]');r&&document.head.removeChild(r)}},[]),e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsxs(fe,{variant:"secondary",size:"sm",onClick:()=>s("/"),className:"gap-2",children:[e.jsx(Ki,{className:"w-4 h-4"}),"Back to Home"]})}),e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[e.jsx("h1",{className:"sr-only",children:"Rento LB  Rent a Car in Lebanon"}),e.jsxs("video",{className:"w-full max-w-4xl rounded-lg shadow-2xl",controls:!0,autoPlay:!0,playsInline:!0,poster:P7,src:"/hero.mp4",children:[e.jsx("source",{src:"/hero.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),e.jsx("p",{className:"mt-4 text-white/80 text-sm text-center max-w-lg",children:"Premium car rental in Lebanon. Compare and book from trusted agencies and private owners."})]})]})}const O7=async()=>{try{return(await Le.get("/profile/status")).data.is_complete}catch(s){return console.error("Profile status check failed:",s),!1}},Rje=({children:s})=>!localStorage.getItem("authToken")?e.jsx(Go,{to:"/auth",replace:!0}):s,ad=({children:s})=>{const[t,r]=w.useState(!0),[n,a]=w.useState(!1),i=!!localStorage.getItem("authToken");return w.useEffect(()=>{(async()=>{if(!i){r(!1);return}const c=await O7();a(c),r(!1)})()},[i]),i?t?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?s:e.jsx(Go,{to:"/Complete-Profile",replace:!0}):e.jsx(Go,{to:"/auth",replace:!0})},id=({children:s})=>{const[t,r]=w.useState(!0),[n,a]=w.useState(!1),i=!!localStorage.getItem("authToken"),o=JSON.parse(localStorage.getItem("user")||"{}");return w.useEffect(()=>{(async()=>{if(!i){r(!1);return}const d=await O7();a(d),r(!1)})()},[i]),i?o.role!=="agency"&&o.role!=="agent"?e.jsx(Go,{to:"/",replace:!0}):t?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?s:e.jsx(Go,{to:"/Complete-Profile",replace:!0}):e.jsx(Go,{to:"/auth",replace:!0})},u_=({children:s})=>{const t=!!localStorage.getItem("authToken"),r=JSON.parse(localStorage.getItem("user")||"{}");return t?r.role!=="admin"?e.jsx(Go,{to:"/admin-auth",replace:!0}):s:e.jsx(Go,{to:"/admin-auth",replace:!0})},dn=({children:s,noIndex:t=!1})=>e.jsxs(e.Fragment,{children:[e.jsx(zhe,{noIndex:t}),e.jsx(yX,{}),s,e.jsx(CX,{})]});function Dje(){const{i18n:s}=n$(),t=ra(),{isAuthenticated:r}=Md();return Whe(r),w.useEffect(()=>{const n=localStorage.getItem("language")||"en";document.documentElement.lang=n,document.documentElement.dir=n==="ar"?"rtl":"ltr"},[]),w.useEffect(()=>{typeof window.fbq=="function"&&window.fbq("track","PageView")},[t.pathname]),e.jsxs("div",{className:"min-h-screen",children:[e.jsxs(rH,{children:[e.jsx(Ht,{path:"/",element:e.jsxs(e.Fragment,{children:[e.jsx(dn,{children:e.jsx(kee,{})}),e.jsx(d_,{})]})}),e.jsx(Ht,{path:"/auth",element:e.jsx(dn,{noIndex:!0,children:e.jsx(wee,{})})}),e.jsx(Ht,{path:"/about",element:e.jsx(dn,{children:e.jsx(Tte,{})})}),e.jsx(Ht,{path:"/contact",element:e.jsx(dn,{children:e.jsx(Rte,{})})}),e.jsx(Ht,{path:"/watch",element:e.jsx(Tje,{})}),e.jsx(Ht,{path:"/mobile-app",element:e.jsx(dn,{children:e.jsx(k0e,{})})}),e.jsx(Ht,{path:"/Privacy-Policy",element:e.jsx(j0e,{})}),e.jsx(Ht,{path:"/Terms-and-Conditions",element:e.jsx(N0e,{})}),e.jsx(Ht,{path:"/admin-auth",element:e.jsx(dn,{noIndex:!0,children:e.jsx(dbe,{})})}),e.jsx(Ht,{path:"/admin-panel-page",element:e.jsx(u_,{children:e.jsx(dn,{noIndex:!0,children:e.jsx(ebe,{})})})}),e.jsx(Ht,{path:"/admin/ads-analytics",element:e.jsx(u_,{children:e.jsx(dn,{noIndex:!0,children:e.jsx(Nje,{})})})}),e.jsxs(Ht,{path:"/admin",element:e.jsx(u_,{children:e.jsx(awe,{})}),children:[e.jsx(Ht,{index:!0,element:e.jsx(hwe,{})}),e.jsx(Ht,{path:"users",element:e.jsx(xwe,{})}),e.jsx(Ht,{path:"agencies",element:e.jsx(gje,{})}),e.jsx(Ht,{path:"cars",element:e.jsx(Twe,{})}),e.jsx(Ht,{path:"bookings",element:e.jsx(Bwe,{})}),e.jsx(Ht,{path:"real-user-data",element:e.jsx(_je,{})}),e.jsx(Ht,{path:"payments",element:e.jsx(Wwe,{})}),e.jsx(Ht,{path:"promo-codes",element:e.jsx(hje,{})}),e.jsx(Ht,{path:"brokers",element:e.jsx(fje,{})}),e.jsx(Ht,{path:"ads",element:e.jsx(Zwe,{})}),e.jsx(Ht,{path:"featured",element:e.jsx(Qwe,{})}),e.jsx(Ht,{path:"holidays",element:e.jsx(eje,{})}),e.jsx(Ht,{path:"announcements",element:e.jsx(sje,{})}),e.jsx(Ht,{path:"appeals",element:e.jsx(nje,{})}),e.jsx(Ht,{path:"suggestions",element:e.jsx(ije,{})}),e.jsx(Ht,{path:"services",element:e.jsx(vje,{})}),e.jsx(Ht,{path:"notifications",element:e.jsx(lje,{})}),e.jsx(Ht,{path:"alerts",element:e.jsx(dje,{})}),e.jsx(Ht,{path:"otps",element:e.jsx(uje,{})})]}),e.jsx(Ht,{path:"/Complete-Profile",element:e.jsx(Rje,{children:e.jsx(dn,{noIndex:!0,children:e.jsx(Vhe,{})})})}),e.jsx(Ht,{path:"/Dashboard",element:e.jsx(id,{children:e.jsx(Yc,{children:e.jsx(Bhe,{})})})}),e.jsx(Ht,{path:"/Statistic",element:e.jsx(id,{children:e.jsx(Yc,{children:e.jsx(w0e,{})})})}),e.jsx(Ht,{path:"/Mycars",element:e.jsx(id,{children:e.jsx(Yc,{children:e.jsx(yhe,{})})})}),e.jsx(Ht,{path:"/Mycars-bookings",element:e.jsx(id,{children:e.jsx(Yc,{children:e.jsx(Rhe,{})})})}),e.jsx(Ht,{path:"/Balance",element:e.jsx(id,{children:e.jsx(Yc,{children:e.jsx(Ihe,{})})})}),e.jsx(Ht,{path:"/add-car",element:e.jsx(id,{children:e.jsx(Yc,{children:e.jsx(Soe,{})})})}),e.jsx(Ht,{path:"/Add/car/qualification",element:e.jsx(id,{children:e.jsx(Yc,{children:e.jsx(Fhe,{})})})}),e.jsx(Ht,{path:"/BookingChat",element:e.jsx(ad,{children:e.jsx(dn,{children:e.jsx(Ahe,{})})})}),e.jsx(Ht,{path:"/client-Chat",element:e.jsx(ad,{children:e.jsx(dn,{children:e.jsx(qhe,{})})})}),e.jsx(Ht,{path:"/socialmedia",element:e.jsx(dn,{children:e.jsx(Mhe,{})})}),e.jsx(Ht,{path:"/cars",element:e.jsxs(e.Fragment,{children:[e.jsx(ad,{children:e.jsx(dn,{children:e.jsx(lT,{})})}),e.jsx(d_,{})]})}),e.jsx(Ht,{path:"/ClientBookings",element:e.jsx(ad,{children:e.jsx(dn,{children:e.jsx(Fse,{})})})}),e.jsx(Ht,{path:"/luxury-car-rental-lebanon",element:e.jsxs(e.Fragment,{children:[e.jsx(ad,{children:e.jsx(dn,{children:e.jsx(lT,{})})}),e.jsx(d_,{})]})}),e.jsx(Ht,{path:"/cars/:id",element:e.jsx(ad,{children:e.jsx(dn,{children:e.jsx(Cte,{})})})}),e.jsx(Ht,{path:"/favorites",element:e.jsx(ad,{children:e.jsx(dn,{children:e.jsx(Ete,{})})})}),e.jsx(Ht,{path:"*",element:e.jsx(Go,{to:"/",replace:!0})})]}),e.jsx(pq,{position:"top-right",richColors:!0})]})}function Mje(){return e.jsx("div",{className:"App",children:e.jsx(AH,{children:e.jsx(Dje,{})})})}gU.createRoot(document.getElementById("root")).render(ct.createElement(ct.StrictMode,null,ct.createElement(Mje)));
