{"version":3,"file":"StatisticPage-sRKWuOTs.js","sources":["../../src/pages/StatisticPage.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef, useCallback } from 'react';\r\nimport { Chart, registerables } from 'chart.js';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n  Activity,\r\n  TrendingUp,\r\n  Zap,\r\n  Gauge,\r\n  Clock,\r\n  LogOut,\r\n  Moon,\r\n  Sun,\r\n  BarChart3,\r\n  Users,\r\n  Calendar,\r\n  Star,\r\n  Car,\r\n  MapPin,\r\n  DollarSign,\r\n  Tag,\r\n  UserCheck\r\n} from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { getSearchStatistics } from '@/lib/api';\r\n\r\nChart.register(...registerables);\r\n\r\n// Human-readable labels for API values (per Frequent Search Statistics API docs)\r\nconst CATEGORY_LABELS = { normal: 'Normal', sport: 'Sport', luxury: 'Luxury', commercial: 'Commercial', industrial: 'Industrial', event: 'Event', sea: 'Sea' };\r\nconst DRIVE_TYPE_LABELS = { '4x4': '4x4 / AWD', '2_front': 'Front Wheel', '2_back': 'Rear Wheel', autoblock: 'Autoblock' };\r\nconst TRANSMISSION_LABELS = { automatic: 'Automatic', manual: 'Manual' };\r\nconst FUEL_TYPE_LABELS = { benz: 'Gasoline', diesel: 'Diesel', electric: 'Electric', hybrid: 'Hybrid' };\r\n\r\n// Logo Color Palette\r\nconst LOGO_COLORS = {\r\n  darkBlue: '#0E4C81',\r\n  teal: '#008C95',\r\n  limeGreen: '#8AC640',\r\n  black: '#000000'\r\n};\r\n\r\n// Date filter presets: { key, label, period, period_value } or { key, label, custom: true }\r\nconst DATE_PRESETS = [\r\n  { key: '7d', label: 'Last 7 days', period: 'days', period_value: 7 },\r\n  { key: '30d', label: 'Last 30 days', period: 'days', period_value: 30 },\r\n  { key: '3m', label: 'Last 3 months', period: 'months', period_value: 3 },\r\n  { key: '12m', label: 'Last 12 months', period: 'months', period_value: 12 },\r\n  { key: 'all', label: 'All time', period: null, period_value: null }\r\n];\r\n\r\nfunction buildStatisticsParams(presetKey, customFrom, customTo) {\r\n  if (presetKey === 'custom' && customFrom && customTo) {\r\n    return { date_from: customFrom, date_to: customTo };\r\n  }\r\n  const preset = DATE_PRESETS.find(p => p.key === presetKey);\r\n  if (!preset || preset.key === 'all' || !preset.period) return {};\r\n  return { period: preset.period, period_value: preset.period_value };\r\n}\r\n\r\n/** Format search_trends date for display (Y-m-d = day, Y-m = month, YYYY-Www = week) */\r\nfunction formatTrendDate(dateStr) {\r\n  if (!dateStr) return '';\r\n  if (dateStr.length === 10) {\r\n    return new Date(dateStr + 'T12:00:00').toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n  }\r\n  if (dateStr.length === 7) {\r\n    const [y, m] = dateStr.split('-');\r\n    return new Date(parseInt(y, 10), parseInt(m, 10) - 1).toLocaleDateString('en-US', { month: 'short', year: 'numeric' });\r\n  }\r\n  if (dateStr.match(/^\\d{4}-\\d{1,2}$/)) {\r\n    const [y, w] = dateStr.split('-');\r\n    return `Week ${w}, ${y}`;\r\n  }\r\n  return dateStr;\r\n}\r\n\r\nexport const StatisticPage = () => {\r\n  const [isDark, setIsDark] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [data, setData] = useState(null);\r\n  const [filterApplied, setFilterApplied] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [datePreset, setDatePreset] = useState('30d');\r\n  const [customFrom, setCustomFrom] = useState('');\r\n  const [customTo, setCustomTo] = useState('');\r\n  const chartsRef = useRef({});\r\n\r\n  // Theme Handler\r\n  useEffect(() => {\r\n    const savedTheme = localStorage.getItem(\"theme\");\r\n    const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\r\n    const shouldBeDark = savedTheme === \"dark\" || (!savedTheme && prefersDark);\r\n    setIsDark(shouldBeDark);\r\n    document.documentElement.classList.toggle(\"dark\", shouldBeDark);\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    const newTheme = !isDark;\r\n    setIsDark(newTheme);\r\n    document.documentElement.classList.toggle(\"dark\", newTheme);\r\n    localStorage.setItem(\"theme\", newTheme ? \"dark\" : \"light\");\r\n  };\r\n\r\n  // Load user\r\n  useEffect(() => {\r\n    const storedUser = JSON.parse(localStorage.getItem(\"user\"));\r\n    if (storedUser) setUser(storedUser);\r\n  }, []);\r\n\r\n  const fetchStatistics = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const params = buildStatisticsParams(datePreset, customFrom, customTo);\r\n      const response = await getSearchStatistics(params);\r\n\r\n      if (response.data?.success) {\r\n        setData(response.data.data ?? null);\r\n        setFilterApplied(response.data.filter_applied ?? null);\r\n      } else {\r\n        throw new Error('Invalid response format');\r\n      }\r\n    } catch (err) {\r\n      console.error('Statistics fetch error:', err);\r\n      const msg = err.response?.data?.message || err.message || 'Failed to load statistics';\r\n      setError(msg);\r\n      toast.error(msg);\r\n      if (err.response?.status === 401) {\r\n        toast.error('Please log in to view statistics');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [datePreset, customFrom, customTo]);\r\n\r\n  useEffect(() => {\r\n    fetchStatistics();\r\n  }, [fetchStatistics]);\r\n\r\n  // Chart colors using logo palette\r\n  const chartColors = {\r\n    darkBlue: `${LOGO_COLORS.darkBlue}CC`,\r\n    teal: `${LOGO_COLORS.teal}CC`,\r\n    limeGreen: `${LOGO_COLORS.limeGreen}CC`,\r\n    darkBlueSolid: LOGO_COLORS.darkBlue,\r\n    tealSolid: LOGO_COLORS.teal,\r\n    limeGreenSolid: LOGO_COLORS.limeGreen,\r\n    darkBlueLight: `${LOGO_COLORS.darkBlue}44`,\r\n    tealLight: `${LOGO_COLORS.teal}44`,\r\n    limeGreenLight: `${LOGO_COLORS.limeGreen}44`\r\n  };\r\n\r\n  // Chart Creation with Logo Colors\r\n  useEffect(() => {\r\n    if (!data) return;\r\n\r\n    const destroyCharts = () => {\r\n      Object.values(chartsRef.current).forEach(chart => {\r\n        if (chart && typeof chart.destroy === 'function') {\r\n          chart.destroy();\r\n        }\r\n      });\r\n      chartsRef.current = {};\r\n    };\r\n\r\n    const createChart = (id, type, labels, values, colors, options = {}) => {\r\n      const ctx = document.getElementById(id);\r\n      if (!ctx) return;\r\n\r\n      const colorArray = Array.isArray(colors) ? colors : [colors];\r\n\r\n      const chart = new Chart(ctx, {\r\n        type,\r\n        data: {\r\n          labels,\r\n          datasets: [{\r\n            label: options.label || 'Count',\r\n            data: values,\r\n            backgroundColor: colorArray,\r\n            borderColor: colorArray.map(c => c.replace(/CC$/, 'FF').replace(/44$/, 'FF')),\r\n            borderWidth: 3,\r\n            borderRadius: type === 'bar' ? 12 : 0,\r\n            hoverOffset: type === 'doughnut' || type === 'pie' ? 20 : 0,\r\n            fill: options.fill !== undefined ? options.fill : false,\r\n            tension: options.tension || 0,\r\n            pointRadius: options.pointRadius || 3,\r\n            pointBackgroundColor: options.pointColor || chartColors.limeGreenSolid,\r\n            pointBorderColor: '#fff',\r\n            pointBorderWidth: 2,\r\n            pointHoverRadius: options.pointHoverRadius || 5\r\n          }]\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          maintainAspectRatio: false,\r\n          plugins: {\r\n            legend: {\r\n              position: type === 'bar' || type === 'line' ? 'top' : 'bottom',\r\n              labels: {\r\n                color: isDark ? '#9ca3af' : '#4b5563',\r\n                padding: 15,\r\n                font: { size: 12, weight: '600' },\r\n                usePointStyle: true,\r\n                pointStyle: 'circle'\r\n              }\r\n            },\r\n            tooltip: {\r\n              backgroundColor: isDark ? 'rgba(0,0,0,0.9)' : 'rgba(255,255,255,0.95)',\r\n              titleColor: isDark ? '#fff' : '#000',\r\n              bodyColor: isDark ? '#e5e7eb' : '#374151',\r\n              borderColor: chartColors.tealSolid,\r\n              borderWidth: 1,\r\n              padding: 12,\r\n              titleFont: { size: 13, weight: 'bold' },\r\n              bodyFont: { size: 12 },\r\n              cornerRadius: 8\r\n            }\r\n          },\r\n          animation: {\r\n            duration: 1200,\r\n            easing: 'easeOutQuart'\r\n          },\r\n          scales: type === 'bar' || type === 'line' ? {\r\n            y: {\r\n              beginAtZero: true,\r\n              grid: {\r\n                color: isDark ? 'rgba(255,255,255,0.05)' : 'rgba(0,0,0,0.05)'\r\n              },\r\n              ticks: {\r\n                color: isDark ? '#9ca3af' : '#6b7280',\r\n                font: { size: 11, weight: '600' }\r\n              }\r\n            },\r\n            x: {\r\n              grid: { display: false },\r\n              ticks: {\r\n                color: isDark ? '#9ca3af' : '#6b7280',\r\n                font: { size: 11, weight: '600' }\r\n              }\r\n            }\r\n          } : {}\r\n        }\r\n      });\r\n\r\n      chartsRef.current[id] = chart;\r\n    };\r\n\r\n    destroyCharts();\r\n\r\n    // Category Chart - Doughnut\r\n    if (data.by_category?.length > 0) {\r\n      createChart(\r\n        'catChart',\r\n        'doughnut',\r\n        data.by_category.map(i => CATEGORY_LABELS[i.category] || i.category),\r\n        data.by_category.map(i => i.total),\r\n        [chartColors.darkBlue, chartColors.teal, chartColors.limeGreen]\r\n      );\r\n    }\r\n\r\n    // Make Chart - Bar (Top 6)\r\n    if (data.by_make?.length > 0) {\r\n      const topMakes = data.by_make.slice(0, 6);\r\n      createChart(\r\n        'makeChart',\r\n        'bar',\r\n        topMakes.map(i => i.make),\r\n        topMakes.map(i => i.total),\r\n        chartColors.teal\r\n      );\r\n    }\r\n\r\n    // Transmission Chart - Pie\r\n    if (data.by_transmission?.length > 0) {\r\n      createChart(\r\n        'transChart',\r\n        'pie',\r\n        data.by_transmission.map(i => TRANSMISSION_LABELS[i.transmission] || i.transmission),\r\n        data.by_transmission.map(i => i.total),\r\n        [chartColors.darkBlue, chartColors.limeGreen]\r\n      );\r\n    }\r\n\r\n    // Fuel Type Chart - Doughnut\r\n    if (data.by_fuel_type?.length > 0) {\r\n      createChart(\r\n        'fuelChart',\r\n        'doughnut',\r\n        data.by_fuel_type.map(i => FUEL_TYPE_LABELS[i.fuel_type] || i.fuel_type),\r\n        data.by_fuel_type.map(i => i.total),\r\n        [chartColors.teal, chartColors.limeGreen]\r\n      );\r\n    }\r\n\r\n    // Drive Type Chart - Doughnut\r\n    if (data.by_drive_type?.length > 0) {\r\n      createChart(\r\n        'driveChart',\r\n        'doughnut',\r\n        data.by_drive_type.map(i => DRIVE_TYPE_LABELS[i.drive_type] || i.drive_type),\r\n        data.by_drive_type.map(i => i.total),\r\n        [chartColors.darkBlue, chartColors.teal, chartColors.limeGreen]\r\n      );\r\n    }\r\n\r\n    // City Chart - Bar (top cities)\r\n    if (data.by_city?.length > 0) {\r\n      const topCities = data.by_city.slice(0, 10);\r\n      createChart(\r\n        'cityChart',\r\n        'bar',\r\n        topCities.map(i => i.city),\r\n        topCities.map(i => i.total),\r\n        chartColors.teal\r\n      );\r\n    }\r\n\r\n    // Search Trends - Line Chart with Teal Gradient\r\n    if (data.search_trends?.length > 0) {\r\n      const ctx = document.getElementById('trendsChart');\r\n      if (ctx) {\r\n        const gradient = ctx.getContext('2d').createLinearGradient(0, 0, 0, 300);\r\n        gradient.addColorStop(0, chartColors.tealLight);\r\n        gradient.addColorStop(1, 'rgba(255,255,255,0)');\r\n\r\n        const chart = new Chart(ctx, {\r\n          type: 'line',\r\n          data: {\r\n            labels: data.search_trends.map(i => formatTrendDate(i.date)),\r\n            datasets: [{\r\n              label: 'Daily Searches',\r\n              data: data.search_trends.map(i => i.total),\r\n              backgroundColor: gradient,\r\n              borderColor: chartColors.tealSolid,\r\n              borderWidth: 3,\r\n              fill: true,\r\n              tension: 0.4,\r\n              pointRadius: 6,\r\n              pointBackgroundColor: chartColors.limeGreenSolid,\r\n              pointBorderColor: '#fff',\r\n              pointBorderWidth: 2,\r\n              pointHoverRadius: 8\r\n            }]\r\n          },\r\n          options: {\r\n            responsive: true,\r\n            maintainAspectRatio: false,\r\n            plugins: {\r\n              legend: { display: false },\r\n              tooltip: {\r\n                backgroundColor: isDark ? 'rgba(0,0,0,0.9)' : 'rgba(255,255,255,0.95)',\r\n                titleColor: isDark ? '#fff' : '#000',\r\n                bodyColor: isDark ? '#e5e7eb' : '#374151',\r\n                borderColor: chartColors.tealSolid,\r\n                borderWidth: 1,\r\n                padding: 12,\r\n                cornerRadius: 8\r\n              }\r\n            },\r\n            animation: { duration: 1200, easing: 'easeOutQuart' },\r\n            scales: {\r\n              y: {\r\n                beginAtZero: true,\r\n                grid: { color: isDark ? 'rgba(255,255,255,0.05)' : 'rgba(0,0,0,0.05)' },\r\n                ticks: {\r\n                  color: isDark ? '#9ca3af' : '#6b7280',\r\n                  font: { size: 11, weight: '600' }\r\n                }\r\n              },\r\n              x: {\r\n                grid: { display: false },\r\n                ticks: {\r\n                  color: isDark ? '#9ca3af' : '#6b7280',\r\n                  font: { size: 11, weight: '600' }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n        chartsRef.current['trendsChart'] = chart;\r\n      }\r\n    }\r\n\r\n    return () => destroyCharts();\r\n  }, [isDark, data]);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.clear();\r\n    window.location.href = '/auth';\r\n  };\r\n\r\n  // Loading state\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 border-4 border-t-transparent rounded-full animate-spin mx-auto mb-4\" style={{ borderColor: LOGO_COLORS.teal, borderTopColor: 'transparent' }}></div>\r\n          <p className=\"text-gray-600 dark:text-gray-400\">Loading statistics...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Error state\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center mx-auto mb-4\">\r\n            <span className=\"text-3xl\">⚠️</span>\r\n          </div>\r\n          <p className=\"text-red-600 dark:text-red-400 mb-4\">{error}</p>\r\n          <Button onClick={() => window.location.reload()} style={{ backgroundColor: LOGO_COLORS.teal }}>\r\n            Retry\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!data) return null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900\">\r\n      \r\n      {/* Animated Background Orbs */}\r\n      <div className=\"fixed inset-0 overflow-hidden pointer-events-none z-0\">\r\n        <motion.div\r\n          animate={{\r\n            scale: [1, 1.15, 1],\r\n            opacity: [0.08, 0.12, 0.08],\r\n          }}\r\n          transition={{\r\n            duration: 8,\r\n            repeat: Infinity,\r\n            ease: \"easeInOut\"\r\n          }}\r\n          className=\"absolute -top-1/4 -left-1/4 w-1/3 h-1/3 rounded-full blur-3xl\"\r\n          style={{ backgroundColor: `${LOGO_COLORS.darkBlue}30` }}\r\n        />\r\n        <motion.div\r\n          animate={{\r\n            scale: [1, 1.2, 1],\r\n            opacity: [0.06, 0.1, 0.06],\r\n          }}\r\n          transition={{\r\n            duration: 10,\r\n            repeat: Infinity,\r\n            ease: \"easeInOut\",\r\n            delay: 2\r\n          }}\r\n          className=\"absolute top-1/2 -right-1/4 w-1/3 h-1/3 rounded-full blur-3xl\"\r\n          style={{ backgroundColor: `${LOGO_COLORS.teal}30` }}\r\n        />\r\n      </div>\r\n\r\n      {/* Header */}\r\n      <header className=\"border-b border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl sticky top-0 z-50 shadow-sm\">\r\n        <div className=\"container mx-auto px-4 md:px-6 py-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <BarChart3 className=\"w-6 h-6 md:w-7 md:h-7\" style={{ color: LOGO_COLORS.teal }} />\r\n              <div>\r\n                <h1 className=\"text-lg md:text-2xl font-bold bg-gradient-to-r from-[#0E4C81] via-[#008C95] to-[#8AC640] bg-clip-text text-transparent\">\r\n                  Search Analytics\r\n                </h1>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n              {user && (\r\n                <Badge variant=\"outline\" className=\"hidden md:flex items-center gap-2 px-3 py-1\" style={{ borderColor: LOGO_COLORS.teal }}>\r\n                  <Users className=\"w-3 h-3\" style={{ color: LOGO_COLORS.teal }} />\r\n                  <span className=\"text-sm font-semibold\">{user?.username || 'User'}</span>\r\n                </Badge>\r\n              )}\r\n\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                onClick={toggleTheme}\r\n                className=\"hover:bg-gray-100 dark:hover:bg-gray-800 h-9 w-9\"\r\n                aria-label=\"Toggle dark mode\"\r\n              >\r\n                {isDark ? <Sun className=\"w-4 h-4\" /> : <Moon className=\"w-4 h-4\" />}\r\n              </Button>\r\n\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                onClick={handleLogout}\r\n                className=\"hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 h-9 w-9\"\r\n                aria-label=\"Log out\"\r\n              >\r\n                <LogOut className=\"w-4 h-4\" />\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <main className=\"container mx-auto px-4 md:px-6 py-6 md:py-8 max-w-7xl relative z-10\">\r\n        \r\n        {/* Date filter: presets + custom range + active label */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\"\r\n        >\r\n          <div className=\"flex flex-wrap items-center gap-2\">\r\n            {DATE_PRESETS.map((p) => (\r\n              <Button\r\n                key={p.key}\r\n                variant={datePreset === p.key ? 'default' : 'outline'}\r\n                size=\"sm\"\r\n                onClick={() => setDatePreset(p.key)}\r\n                style={datePreset === p.key ? { backgroundColor: LOGO_COLORS.teal } : {}}\r\n              >\r\n                {p.label}\r\n              </Button>\r\n            ))}\r\n            <div className=\"flex items-center gap-2 flex-wrap\">\r\n              <span className=\"text-sm text-gray-600 dark:text-gray-400\">Custom:</span>\r\n              <input\r\n                type=\"date\"\r\n                value={customFrom}\r\n                onChange={(e) => setCustomFrom(e.target.value)}\r\n                className=\"rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm px-2 py-1.5\"\r\n              />\r\n              <span className=\"text-gray-500\">–</span>\r\n              <input\r\n                type=\"date\"\r\n                value={customTo}\r\n                onChange={(e) => setCustomTo(e.target.value)}\r\n                className=\"rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm px-2 py-1.5\"\r\n              />\r\n              <Button\r\n                size=\"sm\"\r\n                onClick={() => setDatePreset('custom')}\r\n                disabled={!customFrom || !customTo}\r\n                style={{ backgroundColor: LOGO_COLORS.darkBlue }}\r\n              >\r\n                Apply\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n            {filterApplied?.label ?? 'All time'}\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* KPI Cards */}\r\n        <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-6 md:mb-8\">\r\n          <StatCard\r\n            icon={Activity}\r\n            title=\"Total Searches\"\r\n            value={data.total_searches?.toLocaleString() ?? '0'}\r\n            gradient={`linear-gradient(135deg, ${LOGO_COLORS.darkBlue}, ${LOGO_COLORS.teal})`}\r\n            delay={0}\r\n          />\r\n          <StatCard\r\n            icon={Users}\r\n            title=\"Active Users\"\r\n            value={data.total_users?.toString() ?? '0'}\r\n            subtitle={Number(data.total_users) > 0 ? `~${Math.round(Number(data.total_searches) / Number(data.total_users))} avg searches` : undefined}\r\n            gradient={`linear-gradient(135deg, ${LOGO_COLORS.teal}, ${LOGO_COLORS.limeGreen})`}\r\n            delay={0.1}\r\n          />\r\n          <StatCard\r\n            icon={TrendingUp}\r\n            title=\"Top Make\"\r\n            value={data.by_make?.[0]?.make || '—'}\r\n            subtitle={`${data.by_make?.[0]?.total || 0} searches`}\r\n            gradient={`linear-gradient(135deg, ${LOGO_COLORS.limeGreen}, ${LOGO_COLORS.teal})`}\r\n            delay={0.2}\r\n          />\r\n          <StatCard\r\n            icon={Gauge}\r\n            title=\"Popular Category\"\r\n            value={data.by_category?.[0]?.category || '—'}\r\n            subtitle={`${data.by_category?.[0]?.total || 0} searches`}\r\n            gradient={`linear-gradient(135deg, ${LOGO_COLORS.darkBlue}, ${LOGO_COLORS.limeGreen})`}\r\n            delay={0.3}\r\n          />\r\n        </div>\r\n\r\n        {/* Search Trends Line Chart */}\r\n        {data.search_trends?.length > 0 && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 30 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.4 }}\r\n            className=\"mb-6 md:mb-8\"\r\n          >\r\n            <Card className=\"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border hover:shadow-2xl transition-all duration-300\" style={{ borderColor: `${LOGO_COLORS.teal}40` }}>\r\n              <CardContent className=\"p-4 md:p-6\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center\" style={{ background: `linear-gradient(135deg, ${LOGO_COLORS.darkBlue}, ${LOGO_COLORS.teal})` }}>\r\n                      <TrendingUp className=\"w-4 h-4 md:w-5 md:h-5 text-white\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"text-base md:text-lg font-bold dark:text-white\">Search Trends</h3>\r\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">Daily activity</p>\r\n                    </div>\r\n                  </div>\r\n                  <Badge className=\"text-xs px-2 py-1\" style={{ backgroundColor: `${LOGO_COLORS.limeGreen}30`, color: LOGO_COLORS.limeGreen }}>\r\n                    {filterApplied?.label ?? (data.search_trends.length ? `${data.search_trends.length} points` : '')}\r\n                  </Badge>\r\n                </div>\r\n                <div className=\"h-48 md:h-56\">\r\n                  <canvas id=\"trendsChart\"></canvas>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </motion.div>\r\n        )}\r\n\r\n        {/* Charts Grid */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8\">\r\n          {data.by_category?.length > 0 && (\r\n            <ChartCard\r\n              title=\"By Category\"\r\n              subtitle=\"Distribution\"\r\n              icon={Car}\r\n              id=\"catChart\"\r\n              delay={0.5}\r\n            />\r\n          )}\r\n          {data.by_make?.length > 0 && (\r\n            <ChartCard\r\n              title=\"Top Makes\"\r\n              subtitle=\"Most searched\"\r\n              icon={Star}\r\n              id=\"makeChart\"\r\n              delay={0.6}\r\n            />\r\n          )}\r\n          {data.by_transmission?.length > 0 && (\r\n            <ChartCard\r\n              title=\"Transmission\"\r\n              subtitle=\"Preferences\"\r\n              icon={Gauge}\r\n              id=\"transChart\"\r\n              delay={0.7}\r\n            />\r\n          )}\r\n          {data.by_fuel_type?.length > 0 && (\r\n            <ChartCard\r\n              title=\"Fuel Type\"\r\n              subtitle=\"Distribution\"\r\n              icon={Zap}\r\n              id=\"fuelChart\"\r\n              delay={0.8}\r\n            />\r\n          )}\r\n          {data.by_drive_type?.length > 0 && (\r\n            <ChartCard\r\n              title=\"Drive Type\"\r\n              subtitle=\"Distribution\"\r\n              icon={Gauge}\r\n              id=\"driveChart\"\r\n              delay={0.85}\r\n            />\r\n          )}\r\n          {data.by_city?.length > 0 && (\r\n            <ChartCard\r\n              title=\"Top Cities\"\r\n              subtitle=\"Most searched\"\r\n              icon={MapPin}\r\n              id=\"cityChart\"\r\n              delay={0.9}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        {/* Price range & Top features */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8\">\r\n          {data.by_price_range?.length > 0 && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 30 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.5, delay: 0.95 }}\r\n            >\r\n              <Card className=\"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border\" style={{ borderColor: `${LOGO_COLORS.teal}40` }}>\r\n                <CardContent className=\"p-4 md:p-6\">\r\n                  <div className=\"flex items-center gap-2 mb-4\">\r\n                    <div className=\"w-9 h-9 rounded-lg flex items-center justify-center\" style={{ background: `linear-gradient(135deg, ${LOGO_COLORS.darkBlue}, ${LOGO_COLORS.teal})` }}>\r\n                      <DollarSign className=\"w-4 h-4 text-white\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"text-base font-bold dark:text-white\">By Price Range</h3>\r\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">Daily rate ranges</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-sm\">\r\n                      <thead>\r\n                        <tr className=\"border-b border-gray-200 dark:border-gray-700\">\r\n                          <th className=\"text-left py-2 font-semibold dark:text-white\">Range</th>\r\n                          <th className=\"text-right py-2 font-semibold dark:text-white\">Searches</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {data.by_price_range.map((row, i) => (\r\n                          <tr key={i} className=\"border-b border-gray-100 dark:border-gray-800\">\r\n                            <td className=\"py-2 text-gray-700 dark:text-gray-300\">\r\n                              {row.daily_rate_min != null || row.daily_rate_max != null\r\n                                ? `${row.daily_rate_min ?? '—'} – ${row.daily_rate_max ?? '—'}`\r\n                                : 'Any'}\r\n                            </td>\r\n                            <td className=\"py-2 text-right font-medium dark:text-white\">{row.total}</td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            </motion.div>\r\n          )}\r\n          {data.top_features?.length > 0 && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 30 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.5, delay: 1 }}\r\n            >\r\n              <Card className=\"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border\" style={{ borderColor: `${LOGO_COLORS.darkBlue}40` }}>\r\n                <CardContent className=\"p-4 md:p-6\">\r\n                  <div className=\"flex items-center gap-2 mb-4\">\r\n                    <div className=\"w-9 h-9 rounded-lg flex items-center justify-center\" style={{ background: `linear-gradient(135deg, ${LOGO_COLORS.teal}, ${LOGO_COLORS.limeGreen})` }}>\r\n                      <Tag className=\"w-4 h-4 text-white\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"text-base font-bold dark:text-white\">Top Features</h3>\r\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">Popular options</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {data.top_features.map((item, i) => (\r\n                      <Badge\r\n                        key={i}\r\n                        variant=\"secondary\"\r\n                        className=\"text-xs px-3 py-1\"\r\n                        style={{ backgroundColor: `${LOGO_COLORS.teal}20`, color: LOGO_COLORS.darkBlue }}\r\n                      >\r\n                        {item.feature} ({item.count})\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            </motion.div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Most active users */}\r\n        {data.most_active_users?.length > 0 && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 30 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 1.05 }}\r\n            className=\"mb-6 md:mb-8\"\r\n          >\r\n            <Card className=\"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border\" style={{ borderColor: `${LOGO_COLORS.limeGreen}40` }}>\r\n              <CardContent className=\"p-4 md:p-6\">\r\n                <div className=\"flex items-center gap-2 mb-4\">\r\n                  <div className=\"w-9 h-9 rounded-lg flex items-center justify-center\" style={{ background: `linear-gradient(135deg, ${LOGO_COLORS.limeGreen}, ${LOGO_COLORS.teal})` }}>\r\n                    <UserCheck className=\"w-4 h-4 text-white\" />\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-base font-bold dark:text-white\">Most Active Users</h3>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">Top searchers</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"w-full text-sm\">\r\n                    <thead>\r\n                      <tr className=\"border-b border-gray-200 dark:border-gray-700\">\r\n                        <th className=\"text-left py-2 font-semibold dark:text-white\">User</th>\r\n                        <th className=\"text-right py-2 font-semibold dark:text-white\">Searches</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {data.most_active_users.map((row) => (\r\n                        <tr key={row.user_id} className=\"border-b border-gray-100 dark:border-gray-800\">\r\n                          <td className=\"py-2 text-gray-700 dark:text-gray-300\">{row.user_name ?? `User #${row.user_id}`}</td>\r\n                          <td className=\"py-2 text-right font-medium dark:text-white\">{row.total_searches}</td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </motion.div>\r\n        )}\r\n\r\n        {/* Recent Searches */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 30 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5, delay: 0.9 }}\r\n        >\r\n          <Card className=\"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border\" style={{ borderColor: `${LOGO_COLORS.darkBlue}40` }}>\r\n            <CardContent className=\"p-4 md:p-6\">\r\n              <div className=\"flex items-center gap-2 mb-4\">\r\n                <div className=\"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center\" style={{ background: `linear-gradient(135deg, ${LOGO_COLORS.darkBlue}, ${LOGO_COLORS.teal})` }}>\r\n                  <Clock className=\"w-4 h-4 md:w-5 md:h-5 text-white\" />\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-base md:text-lg font-bold dark:text-white\">Recent Searches</h3>\r\n                  <p className=\"text-xs text-gray-500 dark:text-gray-400\">Latest queries</p>\r\n                </div>\r\n              </div>\r\n\r\n              {data.recent_searches?.length > 0 ? (\r\n                <div className=\"space-y-2\">\r\n                  {data.recent_searches.map((search, index) => (\r\n                    <motion.div\r\n                      key={search.id}\r\n                      initial={{ opacity: 0, x: -20 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      transition={{ delay: 1 + index * 0.1 }}\r\n                      className=\"flex flex-col md:flex-row md:items-center justify-between p-3 rounded-lg bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 hover:shadow-md transition-all duration-300 gap-2\"\r\n                    >\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"flex items-center gap-2 flex-wrap mb-1\">\r\n                          <p className=\"font-bold text-sm md:text-base dark:text-white truncate\">\r\n                            {search.make || 'Any Make'} {search.model || ''}\r\n                          </p>\r\n                          {search.year_min != null && (\r\n                            <Badge variant=\"secondary\" className=\"text-xs px-2 py-0.5\">\r\n                              {search.year_min}–{search.year_max ?? '—'}\r\n                            </Badge>\r\n                          )}\r\n                          {search.user_name && (\r\n                            <span className=\"text-xs text-gray-500 dark:text-gray-400\">by {search.user_name}</span>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 flex-wrap\">\r\n                          {search.city && (\r\n                            <span className=\"flex items-center gap-1\">\r\n                              <MapPin className=\"w-3 h-3\" style={{ color: LOGO_COLORS.teal }} />\r\n                              {search.city}\r\n                            </span>\r\n                          )}\r\n                          {(search.daily_rate_min != null || search.daily_rate_max != null) && (\r\n                            <span className=\"flex items-center gap-1\">\r\n                              <DollarSign className=\"w-3 h-3\" />\r\n                              {search.daily_rate_min ?? '—'} – {search.daily_rate_max ?? '—'}\r\n                            </span>\r\n                          )}\r\n                          {search.transmission && (\r\n                            <span className=\"flex items-center gap-1\">\r\n                              <Gauge className=\"w-3 h-3\" style={{ color: LOGO_COLORS.teal }} />\r\n                              {search.transmission}\r\n                            </span>\r\n                          )}\r\n                          {search.fuel_type && (\r\n                            <span className=\"flex items-center gap-1\">\r\n                              <Zap className=\"w-3 h-3\" style={{ color: LOGO_COLORS.limeGreen }} />\r\n                              {search.fuel_type}\r\n                            </span>\r\n                          )}\r\n                          <span className=\"flex items-center gap-1\">\r\n                            <Calendar className=\"w-3 h-3\" />\r\n                            {search.last_searched_at ? new Date(search.last_searched_at).toLocaleString('en-US', {\r\n                              month: 'short',\r\n                              day: 'numeric',\r\n                              hour: '2-digit',\r\n                              minute: '2-digit'\r\n                            }) : '—'}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <Badge className=\"self-start md:self-center text-xs md:text-sm px-3 py-1 font-bold\" style={{ backgroundColor: `${LOGO_COLORS.teal}30`, color: LOGO_COLORS.teal }}>\r\n                        {search.search_count}×\r\n                      </Badge>\r\n                    </motion.div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-center text-gray-500 dark:text-gray-400 italic py-8 text-sm\">No recent searches</p>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </motion.div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Reusable Components\r\nconst StatCard = ({ icon: Icon, title, value, subtitle, gradient, delay }) => (\r\n  <motion.div\r\n    initial={{ opacity: 0, y: 20 }}\r\n    animate={{ opacity: 1, y: 0 }}\r\n    transition={{ duration: 0.4, delay }}\r\n    whileHover={{ scale: 1.02, y: -3 }}\r\n  >\r\n    <Card className=\"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-lg rounded-xl border-0 hover:shadow-xl transition-all duration-300 h-full\">\r\n      <CardContent className=\"p-3 md:p-4\">\r\n        <div className=\"flex justify-between items-start mb-2\">\r\n          <div className=\"w-9 h-9 md:w-11 md:h-11 rounded-xl flex items-center justify-center shadow-md\" style={{ background: gradient }}>\r\n            <Icon className=\"w-4 h-4 md:w-5 md:h-5 text-white\" />\r\n          </div>\r\n          <Badge variant=\"secondary\" className=\"text-[9px] md:text-[10px] px-1.5 py-0.5\">Live</Badge>\r\n        </div>\r\n        <p className=\"text-[10px] md:text-xs text-gray-600 dark:text-gray-400 font-medium mb-1\">{title}</p>\r\n        <p className=\"text-xl md:text-3xl font-black dark:text-white mb-0.5\">{value}</p>\r\n        {subtitle && <p className=\"text-[9px] md:text-xs text-gray-500 dark:text-gray-500\">{subtitle}</p>}\r\n      </CardContent>\r\n    </Card>\r\n  </motion.div>\r\n);\r\n\r\nconst ChartCard = ({ title, subtitle, icon: Icon, id, delay }) => (\r\n  <motion.div\r\n    initial={{ opacity: 0, y: 30 }}\r\n    animate={{ opacity: 1, y: 0 }}\r\n    transition={{ duration: 0.5, delay }}\r\n    whileHover={{ scale: 1.01 }}\r\n  >\r\n    <Card className=\"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border hover:shadow-2xl transition-all duration-300\" style={{ borderColor: `${LOGO_COLORS.teal}40` }}>\r\n      <CardContent className=\"p-4 md:p-6\">\r\n        <div className=\"flex items-center gap-2 mb-4\">\r\n          <div className=\"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center\" style={{ background: `linear-gradient(135deg, ${LOGO_COLORS.darkBlue}, ${LOGO_COLORS.teal})` }}>\r\n            <Icon className=\"w-4 h-4 md:w-5 md:h-5 text-white\" />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"text-sm md:text-base font-bold dark:text-white\">{title}</h3>\r\n            <p className=\"text-xs text-gray-500 dark:text-gray-400\">{subtitle}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"h-48 md:h-56\">\r\n          <canvas id={id}></canvas>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  </motion.div>\r\n);\r\n\r\nexport default StatisticPage;"],"names":["Chart","registerables","CATEGORY_LABELS","DRIVE_TYPE_LABELS","TRANSMISSION_LABELS","FUEL_TYPE_LABELS","LOGO_COLORS","DATE_PRESETS","buildStatisticsParams","presetKey","customFrom","customTo","preset","p","formatTrendDate","dateStr","y","w","StatisticPage","isDark","setIsDark","useState","user","setUser","data","setData","filterApplied","setFilterApplied","loading","setLoading","error","setError","datePreset","setDatePreset","setCustomFrom","setCustomTo","chartsRef","useRef","useEffect","savedTheme","prefersDark","shouldBeDark","toggleTheme","newTheme","storedUser","fetchStatistics","useCallback","params","response","getSearchStatistics","err","msg","toast","chartColors","destroyCharts","chart","createChart","id","type","labels","values","colors","options","ctx","colorArray","c","i","topMakes","topCities","gradient","handleLogout","jsxs","jsx","Button","motion","BarChart3","Badge","Users","Sun","Moon","LogOut","e","StatCard","Activity","TrendingUp","Gauge","Card","CardContent","ChartCard","Car","Star","Zap","MapPin","DollarSign","row","Tag","item","UserCheck","Clock","search","index","Calendar","Icon","title","value","subtitle","delay"],"mappings":"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"}