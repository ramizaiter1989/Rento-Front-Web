import{d as Se,r as l,j as e,B as o,P as bs,e as _s,M as Ns,C as vs,X as ys,t as m}from"./index-DbvXYXc0.js";import{C as w,b as $,c as T,a as D}from"./card-6tZ6FSP9.js";import{I as C}from"./input-Bf8YvsU0.js";import{L as b}from"./label-DMFTECDG.js";import{S as xe,a as ue,b as he,d as pe,e as _}from"./select-895Ag1Vf.js";import{D as We,b as He,c as qe,d as Ye,f as Ke}from"./dialog-CvL19ZOf.js";import{B as K}from"./badge-De3gxj8m.js";import{S as ks}from"./switch-D3Ete2KM.js";import{b as ws,ab as Ds,ac as Cs,ad as Xe,ae as Rs,af as Ss,ag as Is,ah as Us,ai as Fs,aj as Ms,ak as Ls}from"./adminApi-C-vdNBvN.js";import{C as J}from"./AdminContext-BM3HBLlB.js";import{S as Ps}from"./search-DsOkoVxz.js";import{R as Qe}from"./refresh-ccw-Bj__5BR5.js";import{U as Ce}from"./users-E8rCSFRH.js";import{L as ee}from"./loader-circle-zgEhsu46.js";import{S as Es}from"./shield-Bm-1xR-G.js";import{B as As}from"./briefcase-BYt3mvcU.js";import{F as $s}from"./file-text-C6sc6Oop.js";import{C as Ze}from"./check-nqnuVgMJ.js";import{S as Je}from"./square-pen-CxEXnCdu.js";import{C as Ts}from"./chevron-left-DlVhwfSE.js";import{C as Bs}from"./chevron-right-DaEW3pZI.js";import{U as es}from"./user-check-CXyQ1CX7.js";import{A as Os}from"./index-B12qvIYV.js";import{I as ie}from"./image-BP72i33q.js";import{C as Vs}from"./clock-BKbRfuIG.js";import{D as zs}from"./download-5pvV8Zme.js";import{U as Gs}from"./upload--zO9CJj0.js";import"./index-UZKPKpE4.js";import"./index-CB20-cGd.js";import"./Combination-B6rQ859v.js";import"./index-9AnY3iUi.js";import"./index-DXYwaiuf.js";import"./index-D66kppzp.js";import"./index-ddclwrTJ.js";import"./index-P5EQzgSd.js";import"./index-AD6gynWr.js";import"./index-DE3TGyh9.js";import"./use-presence-CB-MpOZZ.js";const Ws=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],ss=Se("link-2",Ws);const Hs=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],as=Se("list",Hs);const qs=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ys=Se("save",qs),ls="https://rento-lb.com/api/storage/",Re="/avatar.png",Ks=20,ts=500;function is(r,c=null){if(!r)return c;if(r.startsWith("http"))return r;const d=r.startsWith("/")?r.slice(1):r;return ls+d}function ds(r){return r?String(r).toLowerCase().split("?")[0].endsWith(".pdf"):!1}const je=420,be=300,W=120,fe=2.5;function Xs({src:r,alt:c,className:d=""}){const[f,M]=l.useState(!1),[B,R]=l.useState({x:0,y:0}),g=l.useRef(null),O=z=>{if(!g.current)return;const H=g.current.getBoundingClientRect(),de=(z.clientX-H.left)/H.width,G=(z.clientY-H.top)/H.height;R({x:Math.max(0,Math.min(1,de)),y:Math.max(0,Math.min(1,G))})},V=g.current?.getBoundingClientRect().width||je,y=g.current?.getBoundingClientRect().height||be,X=B.x*V,L=B.y*y,U=-(X*fe-W/2),h=-(L*fe-W/2),j=Math.max(0,Math.min(V-W,X-W/2)),N=Math.max(0,Math.min(y-W,L-W/2));return e.jsxs("div",{ref:g,className:`relative overflow-hidden rounded-lg border-4 border-gray-300 dark:border-gray-600 shadow-md cursor-crosshair ${d}`,style:{width:je,height:be},onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),onMouseMove:O,children:[e.jsx("img",{src:r,alt:c,className:"w-full h-full object-contain",style:{width:je,height:be},draggable:!1,onError:z=>{z.currentTarget.onerror=null,z.currentTarget.src="/avatar.png"}}),f&&e.jsx("div",{className:"absolute pointer-events-none rounded-full border-2 border-white shadow-xl bg-no-repeat",style:{width:W,height:W,left:j,top:N,backgroundImage:`url(${r})`,backgroundSize:`${V*fe}px ${y*fe}px`,backgroundPosition:`${U}px ${h}px`}})]})}function Qs({title:r,path:c,fallback:d=null}){const f=is(c,d);if(!f)return e.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"});if(ds(f)){const M=`${f}#toolbar=0&navpanes=0&scrollbar=0`;return e.jsx("iframe",{title:r,src:M,className:"w-full rounded-lg border-4 border-gray-300 dark:border-gray-600 shadow-md bg-white",style:{width:je,height:be}})}return e.jsx(Xs,{src:f,alt:r})}function ge({title:r,path:c,userId:d,imageType:f,onReplaced:M}){const B=is(c,null),R=l.useRef(null),[g,O]=l.useState(!1),[V,y]=l.useState(!1),X=async()=>{if(!(!d||!f)){y(!0);try{const U=await Ms(d,f),h=window.URL.createObjectURL(U),j=document.createElement("a");j.href=h,j.download=`user_${d}_${f}.${ds(c)?"pdf":"jpg"}`,document.body.appendChild(j),j.click(),j.remove(),window.URL.revokeObjectURL(h),m.success(`${r} downloaded`)}catch(U){m.error(U.response?.data?.error||`Failed to download ${r}`)}finally{y(!1)}}},L=async U=>{const h=U.target.files?.[0];if(!(!h||!d||!f)){if(h.size>5*1024*1024){m.error("File too large (max 5MB)");return}O(!0);try{const j=await Ls(d,f,h);m.success(j.data?.message||`${r} replaced`),M&&M(j.data)}catch(j){m.error(j.response?.data?.message||`Failed to replace ${r}`)}finally{O(!1),R.current&&(R.current.value="")}}};return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden border-4 border-dashed border-gray-400 dark:border-gray-500 min-h-[300px] p-1",children:B?e.jsx(Qs,{title:r,path:c}):e.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[e.jsx(ie,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Not uploaded"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(o,{type:"button",size:"sm",variant:"outline",disabled:!B||V,onClick:X,className:"flex-1 text-xs",children:[V?e.jsx(ee,{className:"h-3 w-3 animate-spin mr-1"}):e.jsx(zs,{className:"h-3 w-3 mr-1"}),"Download"]}),e.jsxs(o,{type:"button",size:"sm",variant:"outline",disabled:g,onClick:()=>R.current?.click(),className:"flex-1 text-xs",children:[g?e.jsx(ee,{className:"h-3 w-3 animate-spin mr-1"}):e.jsx(Gs,{className:"h-3 w-3 mr-1"}),"Replace"]}),e.jsx("input",{ref:R,type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",className:"hidden",onChange:L})]})]})}function rs(r){const c=r?.profile_picture;if(!c)return Re;if(c.startsWith("http"))return c;const d=c.startsWith("/")?c.slice(1):c;return ls+d}const v={VERIFIED:"verified",WAITING_ADMIN:"waiting_admin",PROFILE_INCOMPLETE:"profile_incomplete"};function Zs(r){if(!r)return!1;const c=!!(r.first_name&&r.last_name&&r.gender&&r.birth_date&&r.city&&r.id_card_front&&r.id_card_back);if(r.role==="client"){const d=r.client;return d?c&&!!(d.driver_license&&d.license_number&&d.profession&&d.avg_salary):!1}return c}function ns(r){return r?r.verified_by_admin?v.VERIFIED:Zs(r)?v.WAITING_ADMIN:v.PROFILE_INCOMPLETE:v.PROFILE_INCOMPLETE}function Aa(){const[r,c]=l.useState([]),[d,f]=l.useState({current_page:1,last_page:1,total:0}),[M,B]=l.useState(!0),[R,g]=l.useState(1),[O,V]=l.useState(""),[y,X]=l.useState("all"),[L,U]=l.useState(null),[h,j]=l.useState("all"),[N,z]=l.useState("realData"),[H,de]=l.useState([]),[G,cs]=l.useState({current_page:1,last_page:1,per_page:20,total:0}),[ce,se]=l.useState(1),[ae,os]=l.useState("all"),[_e,ms]=l.useState(""),[Ne,Ie]=l.useState(!1),[ve,Q]=l.useState(""),[xs,te]=l.useState(!1),[S,re]=l.useState(null),[Ue,ye]=l.useState(""),[Fe,Me]=l.useState(!1),[Le,Pe]=l.useState(!1),[p,Ee]=l.useState(null),[t,q]=l.useState(null),[I,oe]=l.useState({first_name:"",middle_name:"",last_name:"",id_number:"",passport_number:"",driver_license_number:"",gender:"",date_of_birth:"",mother_name:"",place_of_birth:""}),[x,ne]=l.useState(null),[ke,Ae]=l.useState(!1),Z=async()=>{B(!0);try{const s={page:R,per_page:Ks};y&&y!=="all"&&(s.role=y),O?.trim()&&(s.search=O.trim());const a=await ws(s),n=a.data?.users||a.data;let i=n?.data||[];i=[...i].sort((u,k)=>{const F=u.created_at?new Date(u.created_at):0;return(k.created_at?new Date(k.created_at):0)-F}),L&&(i=i.sort((u,k)=>u.id===L?-1:k.id===L?1:0)),c(i),f({current_page:n.current_page??1,last_page:n.last_page??1,total:n.total??0})}catch(s){m.error(s.response?.data?.message||"Failed to load users"),c([])}finally{B(!1)}};l.useEffect(()=>{Z()},[R,y]);const $e=()=>{g(1),Z()},Y=async()=>{Ie(!0);try{const s={page:ce,per_page:ts};ae&&ae!=="all"&&(s.status=ae);const a=_e?.trim()?parseInt(_e.trim(),10):null;a!=null&&!Number.isNaN(a)&&(s.user_id=a);const n=await Ds(s),i=n.data?.real_user_data||n.data;let u=i?.data||[];u=[...u].sort((k,F)=>{const E=k.profile_completed?1:0,A=F.profile_completed?1:0;if(A!==E)return A-E;const le=k.created_at?new Date(k.created_at):0;return(F.created_at?new Date(F.created_at):0)-le}),de(u),cs({current_page:i.current_page??1,last_page:i.last_page??1,per_page:i.per_page??ts,total:i.total??0})}catch(s){m.error(s.response?.data?.message||"Failed to load real user data list"),de([])}finally{Ie(!1)}};l.useEffect(()=>{N==="realData"&&Y()},[N,ce,ae]);const Te=s=>{if(!s)return;const a=s.date_of_birth?s.date_of_birth.includes("T")?s.date_of_birth.split("T")[0]:s.date_of_birth:"";ne(s),oe({first_name:s.first_name||"",middle_name:s.middle_name||"",last_name:s.last_name||"",id_number:s.id_number||"",passport_number:s.passport_number||"",driver_license_number:s.driver_license_number||"",gender:s.gender||"",date_of_birth:a,mother_name:s.mother_name||"",place_of_birth:s.place_of_birth||""})},Be=async s=>{Ee(s),Pe(!0),q(null),ne(null),oe({first_name:"",middle_name:"",last_name:"",id_number:"",passport_number:"",driver_license_number:"",gender:"",date_of_birth:"",mother_name:"",place_of_birth:""});try{const a=await Cs(s.id),n=a.data?.user||a.data;q(n);try{const i=await Xe(s.id),u=i.data?.data??i.data?.real_user_data;u&&Te(u)}catch(i){i.response?.status!==404&&console.warn("Real user data fetch:",i.response?.data?.message||i.message)}}catch{m.error("Failed to load user details")}},me=()=>{Pe(!1),Ee(null),q(null),ne(null),ye(""),te(!1),re(null),Q("")},P=s=>{const{name:a,value:n}=s.target;oe(i=>({...i,[a]:n}))},us=(s,a)=>{oe(n=>({...n,[s]:a}))},hs=async s=>{if(s.preventDefault(),!p)return;const a={...I};if(!a.first_name||!a.last_name||!a.gender){m.error("First name, last name, and gender are required");return}if(!!!(a.id_number||a.passport_number||a.driver_license_number)){m.error("At least one of ID number, passport number, or driver license number is required");return}Ae(!0);try{await Rs(p.id,a),m.success("Real user data saved. User is now verified."),U(p.id),me(),Z()}catch(i){m.error(i.response?.data?.message||"Failed to save")}finally{Ae(!1)}},ps=s=>{re(s),Q(""),te(!0)},fs=async()=>{if(!x?.id||!S)return;const s=typeof S=="object"?S.status:S;try{await Ss(x.id,{status:s,reason_of_status:ve?.trim()||void 0}),m.success(s==="approved"?"User verified.":s==="pending"?"Set to pending.":"Status updated."),te(!1),re(null),Q("");const a={...x,status:s,reason_of_status:ve?.trim()||null};ne(a),U(p?.id),N==="realData"?Y():Z()}catch(a){m.error(a.response?.data?.message||"Failed to update status")}},we=async s=>{x?.id&&ps(s)},gs=async s=>{if(x?.id)try{const a=await Is(x.id,{is_checked:s}),n=a.data?.data??a.data;n&&ne(n),m.success(s?"Marked as checked.":"Marked as unchecked.")}catch(a){m.error(a.response?.data?.message||"Failed to update check status")}},js=async()=>{if(p&&confirm("Delete real user data for this user?"))try{await Us(p.id),m.success("Real user data deleted."),me(),Z(),N==="realData"&&Y()}catch(s){m.error(s.response?.data?.message||"Failed to delete")}},Oe=async s=>{s.preventDefault();const a=parseInt(Ue.trim(),10);if(!p||!a||Number.isNaN(a)){m.error("Enter a valid real user data ID");return}Me(!0);try{await Fs(p.id,a),m.success("Real user data linked to this user."),ye("");const n=await Xe(p.id),i=n.data?.data??n.data?.real_user_data;i&&Te(i),N==="realData"&&Y()}catch(n){m.error(n.response?.data?.message||"Failed to link real user data")}finally{Me(!1)}},Ve=l.useMemo(()=>{let s=r;return h==="all"||(s=s.filter(a=>ns(a)===h)),s},[r,h]),ze=s=>s?.first_name&&s?.last_name?`${s.first_name} ${s.last_name}`:s?.username||s?.name||`User #${s?.id}`;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Real User Data"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[e.jsx(Ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(C,{placeholder:"Search by name, email, phone, username...",value:O,onChange:s=>V(s.target.value),onKeyDown:s=>s.key==="Enter"&&$e(),className:"pl-9"})]}),e.jsxs(xe,{value:y,onValueChange:s=>{X(s),g(1)},children:[e.jsx(ue,{className:"w-36",children:e.jsx(he,{placeholder:"Role"})}),e.jsxs(pe,{children:[e.jsx(_,{value:"all",children:"All Roles"}),e.jsx(_,{value:"client",children:"Client"}),e.jsx(_,{value:"agency",children:"Agency"}),e.jsx(_,{value:"admin",children:"Admin"})]})]}),e.jsxs(xe,{value:h,onValueChange:s=>{j(s),g(1)},children:[e.jsx(ue,{className:["w-56 font-medium",h==="all"&&"bg-slate-100 border-slate-400",h===v.VERIFIED&&"bg-emerald-100 border-emerald-500 text-emerald-800",h===v.WAITING_ADMIN&&"bg-sky-100 border-sky-500 text-sky-800",h===v.PROFILE_INCOMPLETE&&"bg-red-100 border-red-500 text-red-800"].join(" "),children:e.jsx(he,{placeholder:"Status filter"})}),e.jsxs(pe,{children:[e.jsx(_,{value:"all",children:"All users"}),e.jsx(_,{value:v.VERIFIED,children:"Verified by admin"}),e.jsx(_,{value:v.WAITING_ADMIN,children:"Profile complete — waiting for admin"}),e.jsx(_,{value:v.PROFILE_INCOMPLETE,children:"Profile not complete"})]})]}),e.jsx(o,{variant:"outline",onClick:$e,className:"border-sky-500 text-sky-700 hover:bg-sky-50",children:"Search"}),e.jsx(o,{variant:"outline",size:"icon",onClick:Z,className:"border-emerald-500 text-emerald-700 hover:bg-emerald-50",children:e.jsx(Qe,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 border-b pb-3",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"View:"}),e.jsxs("div",{className:"flex rounded-lg border bg-muted/50 p-0.5",children:[e.jsxs("button",{type:"button",onClick:()=>z("users"),className:`flex items-center gap-2 rounded-md px-4 py-2 text-sm font-medium transition-colors ${N==="users"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[e.jsx(Ce,{className:"h-4 w-4"}),"By Users"]}),e.jsxs("button",{type:"button",onClick:()=>z("realData"),className:`flex items-center gap-2 rounded-md px-4 py-2 text-sm font-medium transition-colors ${N==="realData"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[e.jsx(as,{className:"h-4 w-4"}),"By Real User Data"]})]})]}),N==="realData"&&e.jsxs(w,{children:[e.jsxs($,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"w-5 h-5"}),"Real User Data (",G.total," records)"]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[e.jsxs(xe,{value:ae,onValueChange:s=>{os(s),se(1)},children:[e.jsx(ue,{className:"w-40",children:e.jsx(he,{placeholder:"Status"})}),e.jsxs(pe,{children:[e.jsx(_,{value:"all",children:"All statuses"}),e.jsx(_,{value:"pending",children:"Pending"}),e.jsx(_,{value:"approved",children:"Approved"}),e.jsx(_,{value:"not_approved",children:"Not approved"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"text-sm whitespace-nowrap",children:"User ID"}),e.jsx(C,{type:"number",placeholder:"Filter by user ID",className:"w-32",value:_e,onChange:s=>ms(s.target.value),onKeyDown:s=>s.key==="Enter"&&(se(1),Y())})]}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>{se(1),Y()},children:"Apply filters"}),e.jsx(o,{variant:"outline",size:"icon",onClick:Y,disabled:Ne,children:e.jsx(Qe,{className:`h-4 w-4 ${Ne?"animate-spin":""}`})})]})]}),e.jsxs(D,{children:[Ne?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ee,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):H.length===0?e.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No real user data records"}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:H.map(s=>{const a=s.user||{},n=a.client||{},i=!!s.profile_completed,u=s.completion_status||"unknown",k=i?u==="verified"?"border-emerald-400 bg-emerald-50/60":u==="pending"?"border-amber-400 bg-amber-50/60":"border-sky-400 bg-sky-50/60":"border-red-300 bg-red-50/40",F=i?u==="verified"?{className:"bg-emerald-100 border-emerald-500 text-emerald-800",label:"Verified"}:u==="pending"?{className:"bg-amber-100 border-amber-500 text-amber-800",label:"Pending"}:{className:"bg-sky-100 border-sky-500 text-sky-800",label:"Waiting for Admin"}:{className:"bg-red-100 border-red-500 text-red-800",label:"Profile Incomplete"},E=!!a.id_card_front,A=!!a.id_card_back,le=!!n.driver_license,De=[E,A,le].filter(Boolean).length;return e.jsx(w,{className:`border-2 transition-shadow ${k}`,children:e.jsxs(D,{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("img",{src:rs(a),alt:"",className:"h-12 w-12 rounded-full object-cover ring-2 ring-muted shrink-0",onError:Ge=>{Ge.currentTarget.onerror=null,Ge.currentTarget.src=Re}}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-semibold truncate",children:a.username||`User #${s.user_id}`}),e.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["User ID: ",s.user_id," · Record ID: ",s.id]})]})]}),e.jsx(K,{variant:"outline",className:`shrink-0 text-xs px-2 py-0.5 ${F.className}`,children:F.label})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Real Name"}),e.jsxs("p",{className:"font-medium",children:[s.first_name," ",s.middle_name?`${s.middle_name} `:"",s.last_name]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Account Name"}),e.jsxs("p",{children:[a.first_name||"—"," ",a.last_name||"—"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-1.5 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(bs,{className:"h-3 w-3 text-muted-foreground shrink-0"}),e.jsx("span",{className:"truncate",children:a.phone_number||"—"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(_s,{className:"h-3 w-3 text-muted-foreground shrink-0"}),e.jsx("span",{className:"truncate",children:a.email||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ns,{className:"h-3 w-3 text-muted-foreground shrink-0"}),e.jsx("span",{className:"truncate",children:a.city||"—"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(vs,{className:"h-3 w-3 text-muted-foreground shrink-0"}),e.jsxs("span",{children:["DOB: ",s.date_of_birth?new Date(s.date_of_birth).toLocaleDateString("en-GB"):"—"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Es,{className:"h-3 w-3 text-muted-foreground shrink-0"}),e.jsxs("span",{children:["Gender: ",s.gender||"—"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ce,{className:"h-3 w-3 text-muted-foreground shrink-0"}),e.jsxs("span",{children:["Role: ",a.role||"—"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.id_number&&e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded font-mono",children:["ID: ",s.id_number]}),s.passport_number&&e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded font-mono",children:["Passport: ",s.passport_number]}),s.driver_license_number&&e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded font-mono",children:["DL: ",s.driver_license_number]}),s.mother_name&&e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded",children:["Mother: ",s.mother_name]}),s.place_of_birth&&e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded",children:["POB: ",s.place_of_birth]})]}),n.id&&e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[e.jsxs("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded",children:[e.jsx(As,{className:"h-3 w-3 inline mr-1"}),n.profession||"—"]}),e.jsxs("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded",children:["Salary: ",n.avg_salary||"—"]}),n.license_number&&e.jsxs("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded font-mono",children:["License#: ",n.license_number]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($s,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.jsxs("span",{className:De===3?"text-emerald-600 font-medium":"text-muted-foreground",children:[De,"/3 docs uploaded"]})]}),e.jsxs("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${E?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:["ID Front ",E?"✓":"✗"]}),e.jsxs("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${A?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:["ID Back ",A?"✓":"✗"]}),e.jsxs("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${le?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:["License ",le?"✓":"✗"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t gap-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(K,{className:s.status==="approved"?"bg-emerald-100 text-emerald-800":s.status==="pending"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800",children:s.status}),s.is_checked&&e.jsxs(K,{variant:"secondary",className:"text-[10px]",children:[e.jsx(Ze,{className:"h-3 w-3 mr-0.5"})," Checked"]}),s.verified_by_admin_user_id!=null&&e.jsxs("span",{children:["Verified by admin #",s.verified_by_admin_user_id]}),s.reason_of_status&&e.jsxs("span",{className:"italic max-w-[200px] truncate",title:s.reason_of_status,children:["Reason: ",s.reason_of_status]})]}),e.jsxs(o,{size:"sm",onClick:()=>Be({...s.user||{},id:s.user&&s.user.id||s.user_id}),style:{background:`linear-gradient(to right, ${J.darkBlue}, ${J.teal})`},className:"text-white shrink-0",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),"Edit"]})]})]})},s.id)})}),G.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Page ",G.current_page," of ",G.last_page," · Total ",G.total]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{variant:"outline",size:"sm",disabled:ce<=1,onClick:()=>se(s=>s-1),children:e.jsx(Ts,{className:"h-4 w-4"})}),e.jsx(o,{variant:"outline",size:"sm",disabled:ce>=G.last_page,onClick:()=>se(s=>s+1),children:e.jsx(Bs,{className:"h-4 w-4"})})]})]})]})]}),N==="users"&&e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-emerald-50 border border-emerald-300 text-emerald-800 font-medium",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-500 shadow-sm"}),"Verified by admin (profile + real data done)"]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-sky-50 border border-sky-300 text-sky-800 font-medium",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-sky-500 shadow-sm"}),"Profile complete — waiting for admin to fill data"]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-red-50 border border-red-300 text-red-800 font-medium",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500 shadow-sm"}),"Profile not complete"]})]}),N==="users"&&e.jsxs(w,{children:[e.jsx($,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5"}),"Users — select one to fill real user data"]})}),e.jsx(D,{className:"p-4",children:M?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ee,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):Ve.length===0?e.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No users found"}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Ve.map(s=>{const a=ns(s),n=a===v.VERIFIED,i=a===v.WAITING_ADMIN,u=a===v.PROFILE_INCOMPLETE,k=["overflow-hidden border-2 transition-shadow rounded-xl",n&&"border-emerald-400 bg-emerald-50/80 shadow-[0_0_10px_rgba(16,185,129,0.5)]",i&&"border-sky-400 bg-sky-50/80 shadow-[0_0_10px_rgba(14,165,233,0.5)]",u&&"border-red-400 bg-red-50/80 shadow-[0_0_10px_rgba(239,68,68,0.5)]",L===s.id&&"ring-2 ring-emerald-400"].filter(Boolean).join(" "),F=n?"Verified by admin":i?"Profile complete — waiting for admin":"Profile not complete",E=n?"bg-emerald-100 border-emerald-500 text-emerald-800":i?"bg-sky-100 border-sky-500 text-sky-800":"bg-red-100 border-red-500 text-red-800";return e.jsx(w,{className:k,children:e.jsxs(D,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("img",{src:rs(s),alt:"",className:"h-12 w-12 rounded-full object-cover ring-2 ring-muted",onError:A=>{A.currentTarget.onerror=null,A.currentTarget.src=Re}}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-semibold truncate",children:ze(s)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",s.id]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Joined:"," ",s.created_at?new Date(s.created_at).toLocaleDateString("en-GB"):"—"]})]})]}),e.jsxs("div",{className:"space-y-1 text-sm mb-3",children:[e.jsxs("p",{className:"truncate",children:[e.jsx("span",{className:"text-muted-foreground",children:"Name: "}),s.first_name&&s.last_name?`${s.first_name} ${s.last_name}`:"—"]}),e.jsxs("p",{className:"truncate",children:[e.jsx("span",{className:"text-muted-foreground",children:"Phone: "}),s.phone_number||"—"]}),e.jsxs("p",{className:"truncate",children:[e.jsx("span",{className:"text-muted-foreground",children:"Username: "}),s.username||"—"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[e.jsxs("span",{className:"flex flex-col gap-1",children:[e.jsx(K,{variant:"outline",className:`w-fit px-2 py-0.5 text-[11px] font-medium ${E}`,children:F}),n&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-emerald-700 text-xs",children:[e.jsx(es,{className:"h-3.5 w-3.5"})," Real data filled"]})]}),e.jsxs(o,{size:"sm",onClick:()=>Be(s),style:{background:`linear-gradient(to right, ${J.darkBlue}, ${J.teal})`},className:"text-white shadow-sm hover:shadow-md",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Fill Real Data"]})]})]})},s.id)})})})]}),N==="users"&&d.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Page ",d.current_page," of ",d.last_page," · Total ",d.total]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{variant:"outline",size:"sm",disabled:R<=1,onClick:()=>g(s=>s-1),children:"Previous"}),e.jsx(o,{variant:"outline",size:"sm",disabled:R>=d.last_page,onClick:()=>g(s=>s+1),children:"Next"})]})]}),e.jsx(Os,{children:Le&&p&&e.jsx(We,{open:Le,onOpenChange:s=>!s&&me(),children:e.jsxs(He,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(qe,{children:e.jsxs(Ye,{className:"flex items-center gap-2",children:[e.jsx(es,{className:"w-5 h-5"}),"Real User Data — ",ze(p)," (ID: ",p.id,")"]})}),e.jsxs("form",{onSubmit:hs,className:"space-y-6",children:[t&&e.jsx(w,{className:"bg-muted/30",children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Username"}),e.jsx("span",{className:"font-medium",children:t.username||"—"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Phone"}),e.jsx("span",{className:"font-medium",children:t.phone_number||"—"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Email"}),e.jsx("span",{className:"font-medium",children:t.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Role"}),e.jsx(K,{variant:"outline",className:"text-xs",children:t.role||"—"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"City"}),e.jsx("span",{children:t.city||"—"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Gender"}),e.jsx("span",{children:t.gender||"—"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Birth Date"}),e.jsx("span",{children:t.birth_date?new Date(t.birth_date).toLocaleDateString("en-GB"):"—"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Verified"}),e.jsx(K,{className:t.verified_by_admin?"bg-emerald-100 text-emerald-800":"bg-red-100 text-red-800",children:t.verified_by_admin?"Yes":"No"})]}),t.client&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Profession"}),e.jsx("span",{children:t.client.profession||"—"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Avg Salary"}),e.jsx("span",{children:t.client.avg_salary||"—"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"License #"}),e.jsx("span",{className:"font-mono",children:t.client.license_number||"—"})]})]})]})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Hover over images to magnify. Use buttons below each image to download or replace."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(w,{children:[e.jsx($,{className:"pb-2",children:e.jsxs(T,{className:"text-sm flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4"}),"ID Card — Front"]})}),e.jsx(D,{children:e.jsx(ge,{title:"ID Card Front",path:t?.id_card_front,userId:p?.id,imageType:"id_card_front",onReplaced:s=>{s?.user&&q(a=>({...a,id_card_front:s.user.id_card_front}))}})})]}),e.jsxs(w,{children:[e.jsx($,{className:"pb-2",children:e.jsxs(T,{className:"text-sm flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4"}),"ID Card — Back"]})}),e.jsx(D,{children:e.jsx(ge,{title:"ID Card Back",path:t?.id_card_back,userId:p?.id,imageType:"id_card_back",onReplaced:s=>{s?.user&&q(a=>({...a,id_card_back:s.user.id_card_back}))}})})]}),e.jsxs(w,{children:[e.jsx($,{className:"pb-2",children:e.jsxs(T,{className:"text-sm flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4"}),"Driver License"]})}),e.jsx(D,{children:e.jsx(ge,{title:"Driver License",path:t?.client?.driver_license,userId:p?.id,imageType:"driver_license",onReplaced:s=>{s?.user?.client&&q(a=>({...a,client:{...a.client,driver_license:s.user.client.driver_license}}))}})})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(w,{children:[e.jsx($,{className:"pb-2",children:e.jsxs(T,{className:"text-sm flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4"}),"Profile Picture"]})}),e.jsx(D,{children:e.jsx("div",{className:"max-w-[200px]",children:e.jsx(ge,{title:"Profile Picture",path:t?.profile_picture,userId:p?.id,imageType:"profile_picture",onReplaced:s=>{s?.user&&q(a=>({...a,profile_picture:s.user.profile_picture}))}})})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"first_name",children:"Real First Name *"}),t?.first_name&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",t.first_name]}),e.jsx(C,{id:"first_name",name:"first_name",value:I.first_name,onChange:P,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"middle_name",children:"Real Middle Name"}),t?.client?.middle_name&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",t.client.middle_name]}),e.jsx(C,{id:"middle_name",name:"middle_name",value:I.middle_name,onChange:P})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"last_name",children:"Real Last Name *"}),t?.last_name&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",t.last_name]}),e.jsx(C,{id:"last_name",name:"last_name",value:I.last_name,onChange:P,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"id_number",children:"Real ID Number"}),t?.client?.id_number&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",t.client.id_number]}),e.jsx(C,{id:"id_number",name:"id_number",value:I.id_number,onChange:P})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"passport_number",children:"Real Passport Number"}),t?.client?.passport_number&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",t.client.passport_number]}),e.jsx(C,{id:"passport_number",name:"passport_number",value:I.passport_number,onChange:P})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"driver_license_number",children:"Real Driver License Number"}),(t?.client?.license_number||t?.client?.driver_license_number||t?.driver_license_number)&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",t.client?.license_number||t.client?.driver_license_number||t.driver_license_number]}),e.jsx(C,{id:"driver_license_number",name:"driver_license_number",value:I.driver_license_number,onChange:P})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"gender",children:"Real Gender *"}),(t?.client?.gender||t?.gender)&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",t.client?.gender||t.gender]}),e.jsxs(xe,{value:I.gender,onValueChange:s=>us("gender",s),children:[e.jsx(ue,{children:e.jsx(he,{placeholder:"Select"})}),e.jsxs(pe,{children:[e.jsx(_,{value:"male",children:"Male"}),e.jsx(_,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"date_of_birth",children:"Real Date of Birth"}),(t?.client?.birth_date||t?.birth_date||t?.client?.date_of_birth||t?.date_of_birth)&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",t.client?.birth_date||t.birth_date||t.client?.date_of_birth||t.date_of_birth]}),e.jsx(C,{id:"date_of_birth",name:"date_of_birth",type:"date",value:I.date_of_birth,onChange:P})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"mother_name",children:"Real Mother's Name"}),t?.client?.mother_name&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",t.client.mother_name]}),e.jsx(C,{id:"mother_name",name:"mother_name",value:I.mother_name,onChange:P})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"place_of_birth",children:"Real Place of Birth"}),t?.client?.place_of_birth&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["User: ",t.client.place_of_birth]}),e.jsx(C,{id:"place_of_birth",name:"place_of_birth",value:I.place_of_birth,onChange:P})]})]}),x&&e.jsxs(e.Fragment,{children:[e.jsxs(w,{className:"bg-muted/40",children:[e.jsx($,{children:e.jsx(T,{className:"text-sm",children:"Verification & audit"})}),e.jsx(D,{className:"space-y-2 text-sm",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Verified by admin user ID:"," ",e.jsx("span",{className:"font-mono font-medium text-foreground",children:x.verified_by_admin_user_id??"—"})]}),x.reason_of_status&&e.jsxs("span",{className:"text-muted-foreground",children:["Reason:"," ",e.jsx("span",{className:"font-medium text-foreground",children:x.reason_of_status})]})]})})]}),e.jsxs(w,{className:"bg-muted/40",children:[e.jsx($,{children:e.jsx(T,{className:"text-sm",children:"Follow-up / Check"})}),e.jsx(D,{className:"space-y-3",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"text-sm font-medium",children:"Mark as checked"}),e.jsx(ks,{checked:!!x.is_checked,onCheckedChange:gs,"aria-label":"Toggle checked status"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Is checked:"," ",e.jsx("span",{className:"font-medium text-foreground",children:x.is_checked?"Yes":"No"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Checked by admin user ID:"," ",e.jsx("span",{className:"font-mono font-medium",children:x.checked_by_admin_user_id??"—"})]}),x.is_checked&&e.jsx(K,{variant:"secondary",className:"text-xs",children:"Checked"})]})})]})]}),e.jsxs(w,{className:"bg-muted/30 border-dashed",children:[e.jsx($,{children:e.jsxs(T,{className:"text-sm flex items-center gap-2",children:[e.jsx(ss,{className:"w-4 h-4"}),"Link existing real user data to this user"]})}),e.jsx(D,{children:e.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{className:"text-xs",children:"Real user data record ID"}),e.jsx(C,{type:"number",placeholder:"e.g. 5",className:"w-28",value:Ue,onChange:s=>ye(s.target.value),onKeyDown:s=>s.key==="Enter"&&(s.preventDefault(),Oe(s))})]}),e.jsxs(o,{type:"button",size:"sm",disabled:Fe,onClick:Oe,children:[Fe?e.jsx(ee,{className:"h-4 w-4 animate-spin"}):e.jsx(ss,{className:"h-4 w-4 mr-1"}),"Link to this user"]})]})})]}),e.jsxs(Ke,{className:"flex-wrap gap-2",children:[x&&e.jsxs(e.Fragment,{children:[x.status!=="approved"&&e.jsxs(o,{type:"button",onClick:()=>we("approved"),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Approve"]}),x.status!=="pending"&&e.jsxs(o,{type:"button",variant:"outline",onClick:()=>we("pending"),className:"border-amber-500 text-amber-700 hover:bg-amber-50",children:[e.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Set to Pending"]}),x.status!=="not_approved"&&e.jsxs(o,{type:"button",variant:"destructive",onClick:()=>we("not_approved"),children:[e.jsx(ys,{className:"h-4 w-4 mr-2"}),"Reject"]}),e.jsx(o,{type:"button",variant:"outline",onClick:js,className:"text-red-500",children:"Delete Real Data"})]}),e.jsx(o,{type:"button",variant:"outline",onClick:me,disabled:ke,children:"Cancel"}),e.jsx(o,{type:"submit",disabled:ke,style:{background:`linear-gradient(to right, ${J.darkBlue}, ${J.teal})`},className:"text-white",children:ke?e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ys,{className:"w-4 h-4 mr-2"}),"Save Real Data"]})})]})]})]})})}),e.jsx(We,{open:xs,onOpenChange:s=>!s&&(te(!1),re(null),Q("")),children:e.jsxs(He,{className:"max-w-md",children:[e.jsx(qe,{children:e.jsxs(Ye,{children:[S==="approved"&&"Approve verification",S==="not_approved"&&"Reject verification",S==="pending"&&"Set to Pending (waiting for user)",S&&typeof S=="object"&&S.status&&`Status: ${S.status}`]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{htmlFor:"status_reason",children:"Reason or note (optional)"}),e.jsx("textarea",{id:"status_reason",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"e.g. Please send new ID photo",value:ve,onChange:s=>Q(s.target.value)})]}),e.jsxs(Ke,{children:[e.jsx(o,{variant:"outline",onClick:()=>(te(!1),re(null),Q("")),children:"Cancel"}),e.jsx(o,{onClick:fs,children:"Confirm"})]})]})})]})}export{Aa as default};
