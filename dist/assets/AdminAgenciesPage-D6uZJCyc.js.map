{"version":3,"file":"AdminAgenciesPage-D6uZJCyc.js","sources":["../../node_modules/lucide-react/dist/esm/icons/anchor.js","../../src/pages/admin/AdminAgenciesPage.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.507.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 22V8\", key: \"qkxhtm\" }],\n  [\"path\", { d: \"M5 12H2a10 10 0 0 0 20 0h-3\", key: \"1hv3nh\" }],\n  [\"circle\", { cx: \"12\", cy: \"5\", r: \"3\", key: \"rqqgnr\" }]\n];\nconst Anchor = createLucideIcon(\"anchor\", __iconNode);\n\nexport { __iconNode, Anchor as default };\n//# sourceMappingURL=anchor.js.map\n","/**\r\n * Admin Agencies Page (Super Admin Only)\r\n *\r\n * Lists car rental agencies with filters and pagination.\r\n * View single agency details in a modal.\r\n * API: GET /api/admin/agencies, GET /api/admin/agencies/{id}\r\n */\r\n\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  getAgencies,\r\n  getAgency,\r\n  updateAgency,\r\n} from \"@/lib/adminApi\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport {\r\n  Building2,\r\n  Search,\r\n  Eye,\r\n  Edit2,\r\n  Loader2,\r\n  RefreshCw,\r\n  CheckCircle2,\r\n  XCircle,\r\n  ExternalLink,\r\n  FileText,\r\n  Car,\r\n  MapPin,\r\n  Anchor,\r\n} from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\nconst ASSET_BASE = \"https://rento-lb.com/api/storage/\";\r\nconst DEFAULT_AVATAR = \"/avatar.png\";\r\n\r\nconst GOVERNORATES = [\r\n  \"Beirut\",\r\n  \"Mount Lebanon\",\r\n  \"North\",\r\n  \"South\",\r\n  \"Bekaa\",\r\n  \"Baalbek\",\r\n  \"Keserwan\",\r\n  \"Nabatieh\",\r\n  \"Akkar\",\r\n];\r\n\r\nconst BUSINESS_TYPES = [\r\n  { value: \"\", label: \"All types\" },\r\n  { value: \"rental\", label: \"Rental\" },\r\n  { value: \"private\", label: \"Private\" },\r\n  { value: \"company\", label: \"Company\" },\r\n  { value: \"marina\", label: \"Marina\" },\r\n];\r\n\r\nconst SORT_BY_OPTIONS = [\r\n  { value: \"created_at\", label: \"Created at\" },\r\n  { value: \"username\", label: \"Username\" },\r\n  { value: \"first_name\", label: \"First name\" },\r\n  { value: \"last_name\", label: \"Last name\" },\r\n];\r\n\r\nfunction profileImgUrl(agency) {\r\n  const p = agency?.profile_picture;\r\n  if (!p) return DEFAULT_AVATAR;\r\n  if (p.startsWith(\"http\")) return p;\r\n  const cleaned = p.startsWith(\"/\") ? p.slice(1) : p;\r\n  return ASSET_BASE + cleaned;\r\n}\r\n\r\nfunction displayName(agency) {\r\n  if (agency?.first_name && agency?.last_name) {\r\n    return `${agency.first_name} ${agency.last_name}`;\r\n  }\r\n  return agency?.username || `Agency #${agency?.id}`;\r\n}\r\n\r\n// Card accent styles by business type for coloring and shadow\r\nconst CARD_ACCENTS = {\r\n  rental: \"border-l-4 border-l-teal-500 bg-gradient-to-br from-teal-50/80 to-white dark:from-teal-950/30 dark:to-card shadow-md hover:shadow-lg\",\r\n  private: \"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50/80 to-white dark:from-blue-950/30 dark:to-card shadow-md hover:shadow-lg\",\r\n  company: \"border-l-4 border-l-violet-500 bg-gradient-to-br from-violet-50/80 to-white dark:from-violet-950/30 dark:to-card shadow-md hover:shadow-lg\",\r\n  marina: \"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50/80 to-white dark:from-cyan-950/30 dark:to-card shadow-md hover:shadow-lg\",\r\n  default: \"border-l-4 border-l-primary bg-gradient-to-br from-primary/5 to-white dark:from-primary/10 dark:to-card shadow-md hover:shadow-lg\",\r\n};\r\n\r\nfunction getCardAccent(businessType) {\r\n  return CARD_ACCENTS[businessType] || CARD_ACCENTS.default;\r\n}\r\n\r\nexport default function AdminAgenciesPage() {\r\n  const navigate = useNavigate();\r\n  const [agencies, setAgencies] = useState([]);\r\n  const [meta, setMeta] = useState({\r\n    current_page: 1,\r\n    last_page: 1,\r\n    per_page: 20,\r\n    total: 0,\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [forbidden, setForbidden] = useState(false);\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [perPage, setPerPage] = useState(20);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [verifiedOnly, setVerifiedOnly] = useState(false);\r\n  const [businessType, setBusinessType] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [sortBy, setSortBy] = useState(\"created_at\");\r\n  const [sortOrder, setSortOrder] = useState(\"desc\");\r\n  const [includeAll, setIncludeAll] = useState(false);\r\n\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const [selectedAgency, setSelectedAgency] = useState(null);\r\n  const [agencyDetail, setAgencyDetail] = useState(null);\r\n  const [detailLoading, setDetailLoading] = useState(false);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [editForm, setEditForm] = useState({});\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  const fetchAgencies = useCallback(async () => {\r\n    setLoading(true);\r\n    setForbidden(false);\r\n    try {\r\n      const params = {\r\n        page,\r\n        per_page: perPage,\r\n        sort_by: sortBy,\r\n        sort_order: sortOrder,\r\n      };\r\n      if (verifiedOnly) params.verified_only = true;\r\n      if (businessType) params.business_type = businessType;\r\n      if (address) params.address = address;\r\n      if (search.trim()) params.search = search.trim();\r\n      if (includeAll) params.include_all = true;\r\n\r\n      const res = await getAgencies(params);\r\n      const payload = res.data?.agencies ?? res.data;\r\n      const data = payload?.data ?? [];\r\n      setAgencies(Array.isArray(data) ? data : []);\r\n      setMeta({\r\n        current_page: payload.current_page ?? 1,\r\n        last_page: payload.last_page ?? 1,\r\n        per_page: payload.per_page ?? perPage,\r\n        total: payload.total ?? 0,\r\n      });\r\n    } catch (err) {\r\n      if (err.response?.status === 403) {\r\n        setForbidden(true);\r\n        setAgencies([]);\r\n        toast.error(\"Super admin access required\");\r\n      } else {\r\n        toast.error(err.response?.data?.message || err.response?.data?.error || \"Failed to load agencies\");\r\n        setAgencies([]);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [page, perPage, search, verifiedOnly, businessType, address, sortBy, sortOrder, includeAll]);\r\n\r\n  useEffect(() => {\r\n    fetchAgencies();\r\n  }, [fetchAgencies]);\r\n\r\n  const openDetail = async (agency) => {\r\n    setSelectedAgency(agency);\r\n    setAgencyDetail(null);\r\n    setDetailOpen(true);\r\n    setDetailLoading(true);\r\n    try {\r\n      const res = await getAgency(agency.id);\r\n      setAgencyDetail(res.data?.agency ?? res.data);\r\n    } catch (err) {\r\n      if (err.response?.status === 403) {\r\n        toast.error(\"Super admin access required\");\r\n      } else if (err.response?.status === 404) {\r\n        toast.error(\"Agency not found\");\r\n      } else {\r\n        toast.error(err.response?.data?.error || \"Failed to load agency\");\r\n      }\r\n    } finally {\r\n      setDetailLoading(false);\r\n    }\r\n  };\r\n\r\n  const closeDetail = () => {\r\n    setDetailOpen(false);\r\n    setSelectedAgency(null);\r\n    setAgencyDetail(null);\r\n    setEditMode(false);\r\n  };\r\n\r\n  const startEdit = () => {\r\n    if (!agencyDetail) return;\r\n    const loc = agencyDetail.location || {};\r\n    setEditForm({\r\n      username: agencyDetail.username || \"\",\r\n      first_name: agencyDetail.first_name || \"\",\r\n      last_name: agencyDetail.last_name || \"\",\r\n      email: agencyDetail.email || \"\",\r\n      phone_number: agencyDetail.phone_number || \"\",\r\n      verified_by_admin: !!agencyDetail.verified_by_admin,\r\n      status: agencyDetail.status !== false,\r\n      is_locked: !!agencyDetail.is_locked,\r\n      country: agencyDetail.country || \"\",\r\n      city: agencyDetail.city || \"\",\r\n      bio: agencyDetail.bio || \"\",\r\n      gender: agencyDetail.gender || \"\",\r\n      birth_date: agencyDetail.birth_date || \"\",\r\n      business_type: agencyDetail.business_type || \"\",\r\n      company_number: agencyDetail.company_number || \"\",\r\n      address: agencyDetail.address || \"\",\r\n      location_lat: loc.lat ?? \"\",\r\n      location_lng: loc.lng ?? \"\",\r\n      location_city: loc.city || \"\",\r\n      website: agencyDetail.website || \"\",\r\n      profession: agencyDetail.profession || \"\",\r\n      policies: agencyDetail.policies || \"\",\r\n      app_fees: agencyDetail.app_fees ?? \"\",\r\n    });\r\n    setEditMode(true);\r\n  };\r\n\r\n  const handleEditChange = (key, value) => {\r\n    setEditForm((prev) => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const saveEdit = async () => {\r\n    if (!selectedAgency?.id) return;\r\n    setSaving(true);\r\n    try {\r\n      const payload = {};\r\n      const strFields = [\"username\", \"first_name\", \"last_name\", \"email\", \"phone_number\", \"country\", \"city\", \"bio\", \"gender\", \"birth_date\", \"business_type\", \"company_number\", \"address\", \"website\", \"profession\", \"policies\"];\r\n      strFields.forEach((f) => {\r\n        if (editForm[f] !== undefined) payload[f] = String(editForm[f] || \"\").trim() || undefined;\r\n      });\r\n      if (editForm.verified_by_admin !== undefined) payload.verified_by_admin = !!editForm.verified_by_admin;\r\n      if (editForm.status !== undefined) payload.status = !!editForm.status;\r\n      if (editForm.is_locked !== undefined) payload.is_locked = !!editForm.is_locked;\r\n      if (editForm.app_fees !== undefined && editForm.app_fees !== \"\") {\r\n        const n = Number(editForm.app_fees);\r\n        if (!isNaN(n) && n >= 0 && n <= 100) payload.app_fees = n;\r\n      }\r\n      const lat = editForm.location_lat !== undefined && editForm.location_lat !== \"\" ? Number(editForm.location_lat) : null;\r\n      const lng = editForm.location_lng !== undefined && editForm.location_lng !== \"\" ? Number(editForm.location_lng) : null;\r\n      if (lat != null || lng != null || editForm.location_city) {\r\n        payload.location = {\r\n          lat: lat ?? undefined,\r\n          lng: lng ?? undefined,\r\n          city: editForm.location_city || undefined,\r\n        };\r\n      }\r\n\r\n      const res = await updateAgency(selectedAgency.id, payload);\r\n      const updated = res.data?.agency ?? res.data;\r\n      setAgencyDetail(updated);\r\n      setEditMode(false);\r\n      toast.success(\"Agency updated successfully\");\r\n    } catch (err) {\r\n      const msg = err.response?.data?.message || err.response?.data?.errors\r\n        ? Object.values(err.response?.data?.errors || {}).flat().join(\", \")\r\n        : err.response?.data?.error || \"Failed to update agency\";\r\n      toast.error(msg);\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    setPage(1);\r\n    fetchAgencies();\r\n  };\r\n\r\n  if (forbidden) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <h1 className=\"text-2xl font-bold flex items-center gap-2\">\r\n          <Building2 className=\"w-6 h-6\" />\r\n          Agencies\r\n        </h1>\r\n        <Card>\r\n          <CardContent className=\"py-12 text-center\">\r\n            <XCircle className=\"w-12 h-12 mx-auto text-destructive mb-4\" />\r\n            <p className=\"text-muted-foreground\">\r\n              This section is available only to Super Admin users.\r\n            </p>\r\n            <p className=\"text-sm text-muted-foreground mt-2\">\r\n              If you believe you should have access, please contact your administrator.\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h1 className=\"text-2xl font-bold flex items-center gap-2\">\r\n        <Building2 className=\"w-6 h-6\" />\r\n        Agencies\r\n      </h1>\r\n      <p className=\"text-sm text-muted-foreground\">\r\n        Car rental companies and agents who list vehicles on the platform. Super Admin only.\r\n      </p>\r\n\r\n      <div className=\"flex flex-wrap items-center gap-3\">\r\n        <div className=\"relative flex-1 min-w-[180px] max-w-sm\">\r\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n          <Input\r\n            placeholder=\"Search username, first name, last name...\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            onKeyDown={(e) => e.key === \"Enter\" && handleSearch()}\r\n            className=\"pl-9\"\r\n          />\r\n        </div>\r\n        <Select\r\n          value={businessType || \"all\"}\r\n          onValueChange={(v) => {\r\n            setBusinessType(v === \"all\" ? \"\" : v);\r\n            setPage(1);\r\n          }}\r\n        >\r\n          <SelectTrigger className=\"w-36\">\r\n            <SelectValue placeholder=\"Business type\" />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"all\">All types</SelectItem>\r\n            {BUSINESS_TYPES.filter((t) => t.value).map((t) => (\r\n              <SelectItem key={t.value} value={t.value}>\r\n                {t.label}\r\n              </SelectItem>\r\n            ))}\r\n          </SelectContent>\r\n        </Select>\r\n        <Select\r\n          value={address || \"all\"}\r\n          onValueChange={(v) => {\r\n            setAddress(v === \"all\" ? \"\" : v);\r\n            setPage(1);\r\n          }}\r\n        >\r\n          <SelectTrigger className=\"w-40\">\r\n            <SelectValue placeholder=\"Governorate\" />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"all\">All governorates</SelectItem>\r\n            {GOVERNORATES.map((g) => (\r\n              <SelectItem key={g} value={g}>\r\n                {g}\r\n              </SelectItem>\r\n            ))}\r\n          </SelectContent>\r\n        </Select>\r\n        <Select\r\n          value={verifiedOnly ? \"yes\" : \"no\"}\r\n          onValueChange={(v) => {\r\n            setVerifiedOnly(v === \"yes\");\r\n            setPage(1);\r\n          }}\r\n        >\r\n          <SelectTrigger className=\"w-32\">\r\n            <SelectValue placeholder=\"Verified\" />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"no\">All</SelectItem>\r\n            <SelectItem value=\"yes\">Verified only</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n        <Select\r\n          value={includeAll ? \"yes\" : \"no\"}\r\n          onValueChange={(v) => {\r\n            setIncludeAll(v === \"yes\");\r\n            setPage(1);\r\n          }}\r\n        >\r\n          <SelectTrigger className=\"w-36\">\r\n            <SelectValue placeholder=\"Include\" />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"no\">Active only</SelectItem>\r\n            <SelectItem value=\"yes\">Include inactive/locked</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n        <label className=\"flex items-center gap-2 text-sm cursor-pointer\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={includeAll}\r\n            onChange={(e) => { setIncludeAll(e.target.checked); setPage(1); }}\r\n            className=\"rounded\"\r\n          />\r\n          Include inactive/locked\r\n        </label>\r\n        <Select\r\n          value={sortBy}\r\n          onValueChange={(v) => {\r\n            setSortBy(v);\r\n            setPage(1);\r\n          }}\r\n        >\r\n          <SelectTrigger className=\"w-36\">\r\n            <SelectValue placeholder=\"Sort by\" />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            {SORT_BY_OPTIONS.map((o) => (\r\n              <SelectItem key={o.value} value={o.value}>\r\n                {o.label}\r\n              </SelectItem>\r\n            ))}\r\n          </SelectContent>\r\n        </Select>\r\n        <Select\r\n          value={sortOrder}\r\n          onValueChange={(v) => {\r\n            setSortOrder(v);\r\n            setPage(1);\r\n          }}\r\n        >\r\n          <SelectTrigger className=\"w-28\">\r\n            <SelectValue />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"asc\">Asc</SelectItem>\r\n            <SelectItem value=\"desc\">Desc</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n        <Select\r\n          value={String(perPage)}\r\n          onValueChange={(v) => {\r\n            setPerPage(Number(v));\r\n            setPage(1);\r\n          }}\r\n        >\r\n          <SelectTrigger className=\"w-24\">\r\n            <SelectValue />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"10\">10</SelectItem>\r\n            <SelectItem value=\"20\">20</SelectItem>\r\n            <SelectItem value=\"50\">50</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n        <Button variant=\"outline\" onClick={handleSearch}>\r\n          Search\r\n        </Button>\r\n        <Button variant=\"outline\" size=\"icon\" onClick={fetchAgencies}>\r\n          <RefreshCw className=\"h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n\r\n      <div>\r\n        <h2 className=\"text-lg font-semibold flex items-center gap-2 mb-4\">\r\n          <Building2 className=\"w-5 h-5\" />\r\n          Agencies ({meta.total})\r\n        </h2>\r\n        {loading ? (\r\n          <div className=\"flex items-center justify-center py-16\">\r\n            <Loader2 className=\"h-10 w-10 animate-spin text-muted-foreground\" />\r\n          </div>\r\n        ) : agencies.length === 0 ? (\r\n          <Card className=\"py-12 text-center text-muted-foreground\">\r\n            <Building2 className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\r\n            No agencies found\r\n          </Card>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\r\n            {agencies.map((agency) => (\r\n              <Card\r\n                key={agency.id}\r\n                role=\"button\"\r\n                tabIndex={0}\r\n                onClick={() =>\r\n                  navigate(\r\n                    `/admin/cars?agent_id=${agency.id}&agent_username=${encodeURIComponent(\r\n                      agency.username || displayName(agency)\r\n                    )}`\r\n                  )\r\n                }\r\n                onKeyDown={(e) =>\r\n                  e.key === \"Enter\" &&\r\n                  navigate(\r\n                    `/admin/cars?agent_id=${agency.id}&agent_username=${encodeURIComponent(\r\n                      agency.username || displayName(agency)\r\n                    )}`\r\n                  )\r\n                }\r\n                className={`overflow-hidden transition-all duration-200 cursor-pointer hover:shadow-lg ${getCardAccent(agency.business_type)}`}\r\n              >\r\n                <CardHeader className=\"pb-2\">\r\n                  <div className=\"flex items-start justify-between gap-2\">\r\n                    <div className=\"flex items-center gap-3 min-w-0\">\r\n                      <img\r\n                        src={profileImgUrl(agency)}\r\n                        alt=\"\"\r\n                        className=\"h-12 w-12 rounded-full object-cover shrink-0 ring-2 ring-white dark:ring-card shadow\"\r\n                        onError={(e) => {\r\n                          e.currentTarget.onerror = null;\r\n                          e.currentTarget.src = DEFAULT_AVATAR;\r\n                        }}\r\n                      />\r\n                      <div className=\"min-w-0\">\r\n                        <CardTitle className=\"text-base truncate\">\r\n                          {displayName(agency)}\r\n                        </CardTitle>\r\n                        <p className=\"text-xs text-muted-foreground truncate\">\r\n                          @{agency.username || \"—\"}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                    {agency.verified_by_admin && (\r\n                      <CheckCircle2 className=\"h-5 w-5 text-green-600 shrink-0\" title=\"Verified\" />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex flex-wrap gap-1.5 mt-2\">\r\n                    <Badge variant=\"secondary\" className=\"text-xs capitalize\">\r\n                      {agency.business_type || \"—\"}\r\n                    </Badge>\r\n                    {agency.address && (\r\n                      <Badge variant=\"outline\" className=\"text-xs flex items-center gap-1\">\r\n                        <MapPin className=\"w-3 h-3\" />\r\n                        {agency.address}\r\n                      </Badge>\r\n                    )}\r\n                  </div>\r\n                </CardHeader>\r\n                <CardContent className=\"pt-0 space-y-3\">\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <span className=\"flex items-center gap-1.5 text-muted-foreground\">\r\n                      <Car className=\"w-4 h-4\" />\r\n                      Cars\r\n                    </span>\r\n                    <span className=\"font-medium\">\r\n                      {agency.cars_count ?? 0}{\" \"}\r\n                      <span className=\"text-muted-foreground font-normal text-xs\">\r\n                        ({agency.cars_accepted_count ?? 0} accepted, {agency.cars_not_accepted_count ?? 0} pending)\r\n                      </span>\r\n                    </span>\r\n                  </div>\r\n                  {(agency.sea_vehicles_count ?? 0) > 0 && (\r\n                    <div className=\"flex items-center justify-between text-sm\">\r\n                      <span className=\"flex items-center gap-1.5 text-muted-foreground\">\r\n                        <Anchor className=\"w-4 h-4\" />\r\n                        Sea vehicles\r\n                      </span>\r\n                      <span className=\"font-medium\">{agency.sea_vehicles_count}</span>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex gap-2 mt-2\">\r\n                    <Button\r\n                      size=\"sm\"\r\n                      className=\"flex-1\"\r\n                      onClick={(e) => { e.stopPropagation(); openDetail(agency); }}\r\n                    >\r\n                      <Eye className=\"w-4 h-4 mr-2\" />\r\n                      View details\r\n                    </Button>\r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"outline\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        navigate(\r\n                          `/admin/cars?agent_id=${agency.id}&agent_username=${encodeURIComponent(\r\n                            agency.username || displayName(agency)\r\n                          )}`\r\n                        );\r\n                      }}\r\n                    >\r\n                      <Car className=\"w-4 h-4 mr-2\" />\r\n                      View cars\r\n                    </Button>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {meta.last_page > 1 && (\r\n        <div className=\"flex items-center justify-between text-sm\">\r\n          <span className=\"text-muted-foreground\">\r\n            Page {meta.current_page} of {meta.last_page} · Total {meta.total}\r\n          </span>\r\n          <div className=\"flex gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              disabled={page <= 1}\r\n              onClick={() => setPage((p) => p - 1)}\r\n            >\r\n              Previous\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              disabled={page >= meta.last_page}\r\n              onClick={() => setPage((p) => p + 1)}\r\n            >\r\n              Next\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <Dialog open={detailOpen} onOpenChange={(open) => !open && closeDetail()}>\r\n        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"flex items-center justify-between gap-2\">\r\n              <span className=\"flex items-center gap-2\">\r\n                <Building2 className=\"w-5 h-5\" />\r\n                Agency — {selectedAgency ? displayName(selectedAgency) : \"\"} (ID:{\" \"}\r\n                {selectedAgency?.id})\r\n              </span>\r\n              {!detailLoading && agencyDetail && !editMode && (\r\n                <Button size=\"sm\" onClick={startEdit}>\r\n                  <Edit2 className=\"w-4 h-4 mr-2\" />\r\n                  Edit\r\n                </Button>\r\n              )}\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n          {detailLoading ? (\r\n            <div className=\"flex items-center justify-center py-12\">\r\n              <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\r\n            </div>\r\n          ) : agencyDetail ? (editMode ? (\r\n            <EditAgencyForm\r\n              editForm={editForm}\r\n              handleEditChange={handleEditChange}\r\n              onCancel={() => setEditMode(false)}\r\n              onSave={saveEdit}\r\n              saving={saving}\r\n              agencyDetail={agencyDetail}\r\n              profileImgUrl={profileImgUrl}\r\n              ASSET_BASE={ASSET_BASE}\r\n              DEFAULT_AVATAR={DEFAULT_AVATAR}\r\n              GOVERNORATES={GOVERNORATES}\r\n              BUSINESS_TYPES={BUSINESS_TYPES}\r\n            />\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <img\r\n                  src={profileImgUrl(agencyDetail)}\r\n                  alt=\"\"\r\n                  className=\"h-16 w-16 rounded-full object-cover\"\r\n                  onError={(e) => {\r\n                    e.currentTarget.onerror = null;\r\n                    e.currentTarget.src = DEFAULT_AVATAR;\r\n                  }}\r\n                />\r\n                <div>\r\n                  <p className=\"font-semibold\">\r\n                    {agencyDetail.first_name} {agencyDetail.last_name}\r\n                  </p>\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    @{agencyDetail.username}\r\n                  </p>\r\n                  {agencyDetail.verified_by_admin && (\r\n                    <Badge className=\"mt-1 bg-green-600\">Verified</Badge>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm\">\r\n                <FieldRow label=\"Business type\" value={agencyDetail.business_type} />\r\n                <FieldRow label=\"Address\" value={agencyDetail.address} />\r\n                <FieldRow label=\"Profession\" value={agencyDetail.profession} />\r\n                <FieldRow label=\"Company number\" value={agencyDetail.company_number} />\r\n                <FieldRow label=\"Cars total\" value={agencyDetail.cars_count} />\r\n                <FieldRow label=\"Cars accepted\" value={agencyDetail.cars_accepted_count} />\r\n                <FieldRow label=\"Cars not accepted\" value={agencyDetail.cars_not_accepted_count} />\r\n                <FieldRow label=\"Sea vehicles\" value={agencyDetail.sea_vehicles_count} />\r\n              </div>\r\n              {agencyDetail.website && (\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className=\"text-sm text-muted-foreground\">Website:</span>\r\n                  <a\r\n                    href={agencyDetail.website}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"text-primary hover:underline flex items-center gap-1\"\r\n                  >\r\n                    {agencyDetail.website}\r\n                    <ExternalLink className=\"w-3 h-3\" />\r\n                  </a>\r\n                </div>\r\n              )}\r\n              {agencyDetail.location && (\r\n                <div className=\"text-sm\">\r\n                  <span className=\"text-muted-foreground\">Location: </span>\r\n                  {agencyDetail.location.city || \"\"}\r\n                  {agencyDetail.location.lat != null && agencyDetail.location.lng != null\r\n                    ? ` (${agencyDetail.location.lat}, ${agencyDetail.location.lng})`\r\n                    : \"\"}\r\n                </div>\r\n              )}\r\n              {agencyDetail.policies && (\r\n                <div className=\"rounded-md border p-3 bg-muted/30\">\r\n                  <p className=\"text-xs font-medium text-muted-foreground flex items-center gap-1 mb-2\">\r\n                    <FileText className=\"w-3 h-3\" /> Policies\r\n                  </p>\r\n                  <p className=\"text-sm whitespace-pre-wrap\">{agencyDetail.policies}</p>\r\n                </div>\r\n              )}\r\n              {agencyDetail.business_doc && (\r\n                <div>\r\n                  <p className=\"text-xs font-medium text-muted-foreground mb-1\">\r\n                    Business document\r\n                  </p>\r\n                  <a\r\n                    href={\r\n                      agencyDetail.business_doc.startsWith(\"http\")\r\n                        ? agencyDetail.business_doc\r\n                        : ASSET_BASE + (agencyDetail.business_doc.startsWith(\"/\") ? agencyDetail.business_doc.slice(1) : agencyDetail.business_doc)\r\n                    }\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"text-primary hover:underline text-sm flex items-center gap-1\"\r\n                  >\r\n                    View document\r\n                    <ExternalLink className=\"w-3 h-3\" />\r\n                  </a>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )) : (\r\n            <p className=\"text-muted-foreground py-4\">No details available.</p>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction FieldRow({ label, value }) {\r\n  const v = value ?? \"—\";\r\n  return (\r\n    <div>\r\n      <span className=\"text-muted-foreground\">{label}: </span>\r\n      <span>{typeof v === \"object\" ? JSON.stringify(v) : String(v)}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst PROFESSION_OPTIONS = [\r\n  { value: \"\", label: \"—\" },\r\n  { value: \"owner\", label: \"Owner\" },\r\n  { value: \"manager\", label: \"Manager\" },\r\n];\r\n\r\nconst GENDER_OPTIONS = [\r\n  { value: \"\", label: \"—\" },\r\n  { value: \"male\", label: \"Male\" },\r\n  { value: \"female\", label: \"Female\" },\r\n  { value: \"other\", label: \"Other\" },\r\n];\r\n\r\nfunction EditAgencyForm({\r\n  editForm,\r\n  handleEditChange,\r\n  onCancel,\r\n  onSave,\r\n  saving,\r\n  agencyDetail,\r\n  profileImgUrl,\r\n  ASSET_BASE,\r\n  DEFAULT_AVATAR,\r\n  GOVERNORATES,\r\n  BUSINESS_TYPES,\r\n}) {\r\n  const btOptions = BUSINESS_TYPES.filter((t) => t.value);\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center gap-4 pb-4 border-b\">\r\n        <img\r\n          src={profileImgUrl(agencyDetail)}\r\n          alt=\"\"\r\n          className=\"h-16 w-16 rounded-full object-cover\"\r\n          onError={(e) => {\r\n            e.currentTarget.onerror = null;\r\n            e.currentTarget.src = DEFAULT_AVATAR;\r\n          }}\r\n        />\r\n        <p className=\"text-sm text-muted-foreground\">Profile photo cannot be changed here. Use User photo upload.</p>\r\n      </div>\r\n\r\n      <div>\r\n        <h4 className=\"text-sm font-semibold mb-3\">Account</h4>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Username</label>\r\n            <Input value={editForm.username} onChange={(e) => handleEditChange(\"username\", e.target.value)} placeholder=\"username\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">First name</label>\r\n            <Input value={editForm.first_name} onChange={(e) => handleEditChange(\"first_name\", e.target.value)} placeholder=\"First name\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Last name</label>\r\n            <Input value={editForm.last_name} onChange={(e) => handleEditChange(\"last_name\", e.target.value)} placeholder=\"Last name\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Email</label>\r\n            <Input type=\"email\" value={editForm.email} onChange={(e) => handleEditChange(\"email\", e.target.value)} placeholder=\"email@example.com\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Phone number</label>\r\n            <Input value={editForm.phone_number} onChange={(e) => handleEditChange(\"phone_number\", e.target.value)} placeholder=\"Phone\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Country</label>\r\n            <Input value={editForm.country} onChange={(e) => handleEditChange(\"country\", e.target.value)} placeholder=\"Country\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">City</label>\r\n            <Input value={editForm.city} onChange={(e) => handleEditChange(\"city\", e.target.value)} placeholder=\"City\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Gender</label>\r\n            <Select value={editForm.gender || \"_\"} onValueChange={(v) => handleEditChange(\"gender\", v === \"_\" ? \"\" : v)}>\r\n              <SelectTrigger><SelectValue /></SelectTrigger>\r\n              <SelectContent>\r\n                {GENDER_OPTIONS.map((o) => (\r\n                  <SelectItem key={o.value || \"_\"} value={o.value || \"_\"}>{o.label}</SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Birth date</label>\r\n            <Input type=\"date\" value={editForm.birth_date} onChange={(e) => handleEditChange(\"birth_date\", e.target.value)} />\r\n          </div>\r\n          <div className=\"sm:col-span-2\">\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Bio</label>\r\n            <Input value={editForm.bio} onChange={(e) => handleEditChange(\"bio\", e.target.value)} placeholder=\"Bio (max 500)\" maxLength={500} />\r\n          </div>\r\n          <div className=\"flex items-center gap-4\">\r\n            <label className=\"flex items-center gap-2 cursor-pointer\">\r\n              <input type=\"checkbox\" checked={editForm.verified_by_admin} onChange={(e) => handleEditChange(\"verified_by_admin\", e.target.checked)} />\r\n              <span className=\"text-sm\">Verified by admin</span>\r\n            </label>\r\n            <label className=\"flex items-center gap-2 cursor-pointer\">\r\n              <input type=\"checkbox\" checked={editForm.status} onChange={(e) => handleEditChange(\"status\", e.target.checked)} />\r\n              <span className=\"text-sm\">Account active</span>\r\n            </label>\r\n            <label className=\"flex items-center gap-2 cursor-pointer\">\r\n              <input type=\"checkbox\" checked={editForm.is_locked} onChange={(e) => handleEditChange(\"is_locked\", e.target.checked)} />\r\n              <span className=\"text-sm\">Locked</span>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h4 className=\"text-sm font-semibold mb-3\">Business</h4>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Business type</label>\r\n            <Select value={editForm.business_type || \"_\"} onValueChange={(v) => handleEditChange(\"business_type\", v === \"_\" ? \"\" : v)}>\r\n              <SelectTrigger><SelectValue placeholder=\"Business type\" /></SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"_\">—</SelectItem>\r\n                {btOptions.map((t) => (\r\n                  <SelectItem key={t.value} value={t.value}>{t.label}</SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Address (governorate)</label>\r\n            <Select value={editForm.address || \"_\"} onValueChange={(v) => handleEditChange(\"address\", v === \"_\" ? \"\" : v)}>\r\n              <SelectTrigger><SelectValue placeholder=\"Address\" /></SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"_\">—</SelectItem>\r\n                {GOVERNORATES.map((g) => (\r\n                  <SelectItem key={g} value={g}>{g}</SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Company number</label>\r\n            <Input value={editForm.company_number} onChange={(e) => handleEditChange(\"company_number\", e.target.value)} placeholder=\"e.g. LB-12345\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Profession</label>\r\n            <Select value={editForm.profession || \"_\"} onValueChange={(v) => handleEditChange(\"profession\", v === \"_\" ? \"\" : v)}>\r\n              <SelectTrigger><SelectValue /></SelectTrigger>\r\n              <SelectContent>\r\n                {PROFESSION_OPTIONS.map((o) => (\r\n                  <SelectItem key={o.value || \"_\"} value={o.value || \"_\"}>{o.label}</SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Website</label>\r\n            <Input value={editForm.website} onChange={(e) => handleEditChange(\"website\", e.target.value)} placeholder=\"https://...\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">App fees (%)</label>\r\n            <Input type=\"number\" min={0} max={100} value={editForm.app_fees} onChange={(e) => handleEditChange(\"app_fees\", e.target.value)} placeholder=\"0–100\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Location lat</label>\r\n            <Input type=\"number\" step=\"any\" value={editForm.location_lat} onChange={(e) => handleEditChange(\"location_lat\", e.target.value)} placeholder=\"33.8\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Location lng</label>\r\n            <Input type=\"number\" step=\"any\" value={editForm.location_lng} onChange={(e) => handleEditChange(\"location_lng\", e.target.value)} placeholder=\"35.5\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Location city</label>\r\n            <Input value={editForm.location_city} onChange={(e) => handleEditChange(\"location_city\", e.target.value)} placeholder=\"Beirut\" />\r\n          </div>\r\n          <div className=\"sm:col-span-2\">\r\n            <label className=\"text-xs text-muted-foreground block mb-1\">Policies (terms and conditions)</label>\r\n            <textarea\r\n              className=\"w-full min-h-[100px] rounded-md border px-3 py-2 text-sm\"\r\n              value={editForm.policies}\r\n              onChange={(e) => handleEditChange(\"policies\", e.target.value)}\r\n              placeholder=\"Terms and conditions...\"\r\n              maxLength={10000}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex justify-end gap-2 pt-4 border-t\">\r\n        <Button variant=\"outline\" onClick={onCancel} disabled={saving}>Cancel</Button>\r\n        <Button onClick={onSave} disabled={saving}>\r\n          {saving ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : null}\r\n          Save changes\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["__iconNode","Anchor","createLucideIcon","ASSET_BASE","DEFAULT_AVATAR","GOVERNORATES","BUSINESS_TYPES","SORT_BY_OPTIONS","profileImgUrl","agency","p","cleaned","displayName","CARD_ACCENTS","getCardAccent","businessType","AdminAgenciesPage","navigate","useNavigate","agencies","setAgencies","useState","meta","setMeta","loading","setLoading","forbidden","setForbidden","page","setPage","perPage","setPerPage","search","setSearch","verifiedOnly","setVerifiedOnly","setBusinessType","address","setAddress","sortBy","setSortBy","sortOrder","setSortOrder","includeAll","setIncludeAll","detailOpen","setDetailOpen","selectedAgency","setSelectedAgency","agencyDetail","setAgencyDetail","detailLoading","setDetailLoading","editMode","setEditMode","editForm","setEditForm","saving","setSaving","fetchAgencies","useCallback","params","res","getAgencies","payload","data","err","toast","useEffect","openDetail","getAgency","closeDetail","startEdit","loc","handleEditChange","key","value","prev","saveEdit","f","n","lat","lng","updateAgency","updated","msg","handleSearch","jsxs","jsx","Building2","Card","CardContent","XCircle","Search","Input","e","Select","v","SelectTrigger","SelectValue","SelectContent","SelectItem","t","g","o","Button","RefreshCw","Loader2","CardHeader","CardTitle","CheckCircle2","Badge","MapPin","Car","Eye","Dialog","open","DialogContent","DialogHeader","DialogTitle","Edit2","EditAgencyForm","FieldRow","ExternalLink","FileText","label","PROFESSION_OPTIONS","GENDER_OPTIONS","onCancel","onSave","btOptions"],"mappings":"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","x_google_ignoreList":[0]}