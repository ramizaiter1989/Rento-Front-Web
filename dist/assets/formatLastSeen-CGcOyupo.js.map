{"version":3,"file":"formatLastSeen-CGcOyupo.js","sources":["../../src/lib/formatLastSeen.js"],"sourcesContent":["/**\n * Format last_used_at or last_seen_at for display.\n * @param {string|null} lastUsedAt - ISO 8601 datetime\n * @returns {string}\n */\nexport function formatLastSeen(lastUsedAt) {\n  if (!lastUsedAt) return \"Never\";\n  const d = new Date(lastUsedAt);\n  const now = new Date();\n  const diffMs = now - d;\n  const diffMins = Math.floor(diffMs / 60000);\n  if (diffMins < 1) return \"Just now\";\n  if (diffMins < 60) return `${diffMins} min ago`;\n  const diffHours = Math.floor(diffMins / 60);\n  if (diffHours < 24) return `${diffHours}h ago`;\n  return d.toLocaleDateString();\n}\n\n/**\n * Get the latest last_used_at from user's sessions.\n * @param {Object} user - User with sessions array\n * @returns {string|null}\n */\nexport function getLatestLastSeen(user) {\n  const sessions = user?.sessions ?? [];\n  if (sessions.length === 0) return null;\n  const dates = sessions.map((s) => s.last_used_at).filter(Boolean);\n  if (dates.length === 0) return null;\n  return dates.sort((a, b) => new Date(b) - new Date(a))[0];\n}\n"],"names":["formatLastSeen","lastUsedAt","d","diffMs","diffMins","diffHours","getLatestLastSeen","user","sessions","dates","s","a","b"],"mappings":"AAKO,SAASA,EAAeC,EAAY,CACzC,GAAI,CAACA,EAAY,MAAO,QACxB,MAAMC,EAAI,IAAI,KAAKD,CAAU,EAEvBE,EADM,IAAI,KACKD,EACfE,EAAW,KAAK,MAAMD,EAAS,GAAK,EAC1C,GAAIC,EAAW,EAAG,MAAO,WACzB,GAAIA,EAAW,GAAI,MAAO,GAAGA,CAAQ,WACrC,MAAMC,EAAY,KAAK,MAAMD,EAAW,EAAE,EAC1C,OAAIC,EAAY,GAAW,GAAGA,CAAS,QAChCH,EAAE,mBAAkB,CAC7B,CAOO,SAASI,EAAkBC,EAAM,CACtC,MAAMC,EAAWD,GAAM,UAAY,CAAA,EACnC,GAAIC,EAAS,SAAW,EAAG,OAAO,KAClC,MAAMC,EAAQD,EAAS,IAAKE,GAAMA,EAAE,YAAY,EAAE,OAAO,OAAO,EAChE,OAAID,EAAM,SAAW,EAAU,KACxBA,EAAM,KAAK,CAACE,EAAGC,IAAM,IAAI,KAAKA,CAAC,EAAI,IAAI,KAAKD,CAAC,CAAC,EAAE,CAAC,CAC1D"}