import{d as Se,c as Ce,r as c,t as N,j as e,B as f,M as Ae,a as ne}from"./index-DbvXYXc0.js";import{Q as Te,a9 as Be,aa as Pe}from"./adminApi-C-vdNBvN.js";import{C as q,a as ce,b as Ve,c as Oe}from"./card-6tZ6FSP9.js";import{I as d}from"./input-Bf8YvsU0.js";import{S as x,a as h,b as p,d as j,e as o}from"./select-895Ag1Vf.js";import{D as Ie,b as Le,c as De,d as Ee}from"./dialog-CvL19ZOf.js";import"./label-DMFTECDG.js";import{B as G}from"./badge-De3gxj8m.js";import{B as A}from"./building-2-CRipOmJR.js";import{C as Re}from"./circle-x-D4rSEnQD.js";import{S as Ue}from"./search-DsOkoVxz.js";import{R as $e}from"./refresh-cw-BkItMj0z.js";import{L as K}from"./loader-circle-zgEhsu46.js";import{C as Me}from"./circle-check-CPW3N-42.js";import{E as ze}from"./eye--wIqRW1l.js";import{P as We}from"./pen-BGMaI_eu.js";import{E as ie}from"./external-link-CXYLP7Hl.js";import{F as qe}from"./file-text-C6sc6Oop.js";import"./index-UZKPKpE4.js";import"./index-CB20-cGd.js";import"./Combination-B6rQ859v.js";import"./index-9AnY3iUi.js";import"./index-DXYwaiuf.js";import"./index-D66kppzp.js";import"./index-ddclwrTJ.js";import"./index-P5EQzgSd.js";import"./check-nqnuVgMJ.js";import"./index-AD6gynWr.js";import"./index-DE3TGyh9.js";const Ge=[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]],He=Se("anchor",Ge),Y="https://rento-lb.com/api/storage/",U="/avatar.png",oe=["Beirut","Mount Lebanon","North","South","Bekaa","Baalbek","Keserwan","Nabatieh","Akkar"],de=[{value:"",label:"All types"},{value:"rental",label:"Rental"},{value:"private",label:"Private"},{value:"company",label:"Company"},{value:"marina",label:"Marina"}],Ke=[{value:"created_at",label:"Created at"},{value:"username",label:"Username"},{value:"first_name",label:"First name"},{value:"last_name",label:"Last name"}];function H(l){const r=l?.profile_picture;if(!r)return U;if(r.startsWith("http"))return r;const u=r.startsWith("/")?r.slice(1):r;return Y+u}function T(l){return l?.first_name&&l?.last_name?`${l.first_name} ${l.last_name}`:l?.username||`Agency #${l?.id}`}const me={rental:"border-l-4 border-l-teal-500 bg-gradient-to-br from-teal-50/80 to-white dark:from-teal-950/30 dark:to-card shadow-md hover:shadow-lg",private:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50/80 to-white dark:from-blue-950/30 dark:to-card shadow-md hover:shadow-lg",company:"border-l-4 border-l-violet-500 bg-gradient-to-br from-violet-50/80 to-white dark:from-violet-950/30 dark:to-card shadow-md hover:shadow-lg",marina:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50/80 to-white dark:from-cyan-950/30 dark:to-card shadow-md hover:shadow-lg",default:"border-l-4 border-l-primary bg-gradient-to-br from-primary/5 to-white dark:from-primary/10 dark:to-card shadow-md hover:shadow-lg"};function Ye(l){return me[l]||me.default}function Cs(){const l=Ce(),[r,u]=c.useState([]),[g,k]=c.useState({current_page:1,last_page:1,per_page:20,total:0}),[$,B]=c.useState(!0),[J,P]=c.useState(!1),[y,m]=c.useState(1),[w,a]=c.useState(20),[V,ue]=c.useState(""),[M,xe]=c.useState(!1),[O,he]=c.useState(""),[I,pe]=c.useState(""),[z,je]=c.useState("created_at"),[W,be]=c.useState("desc"),[L,Q]=c.useState(!1),[fe,X]=c.useState(!1),[S,Z]=c.useState(null),[t,D]=c.useState(null),[F,ee]=c.useState(!1),[se,E]=c.useState(!1),[i,ae]=c.useState({}),[ge,te]=c.useState(!1),R=c.useCallback(async()=>{B(!0),P(!1);try{const s={page:y,per_page:w,sort_by:z,sort_order:W};M&&(s.verified_only=!0),O&&(s.business_type=O),I&&(s.address=I),V.trim()&&(s.search=V.trim()),L&&(s.include_all=!0);const n=await Te(s),b=n.data?.agencies??n.data,C=b?.data??[];u(Array.isArray(C)?C:[]),k({current_page:b.current_page??1,last_page:b.last_page??1,per_page:b.per_page??w,total:b.total??0})}catch(s){s.response?.status===403?(P(!0),u([]),N.error("Super admin access required")):(N.error(s.response?.data?.message||s.response?.data?.error||"Failed to load agencies"),u([]))}finally{B(!1)}},[y,w,V,M,O,I,z,W,L]);c.useEffect(()=>{R()},[R]);const ve=async s=>{Z(s),D(null),X(!0),ee(!0);try{const n=await Be(s.id);D(n.data?.agency??n.data)}catch(n){n.response?.status===403?N.error("Super admin access required"):n.response?.status===404?N.error("Agency not found"):N.error(n.response?.data?.error||"Failed to load agency")}finally{ee(!1)}},_e=()=>{X(!1),Z(null),D(null),E(!1)},Ne=()=>{if(!t)return;const s=t.location||{};ae({username:t.username||"",first_name:t.first_name||"",last_name:t.last_name||"",email:t.email||"",phone_number:t.phone_number||"",verified_by_admin:!!t.verified_by_admin,status:t.status!==!1,is_locked:!!t.is_locked,country:t.country||"",city:t.city||"",bio:t.bio||"",gender:t.gender||"",birth_date:t.birth_date||"",business_type:t.business_type||"",company_number:t.company_number||"",address:t.address||"",location_lat:s.lat??"",location_lng:s.lng??"",location_city:s.city||"",website:t.website||"",profession:t.profession||"",policies:t.policies||"",app_fees:t.app_fees??""}),E(!0)},ye=(s,n)=>{ae(b=>({...b,[s]:n}))},we=async()=>{if(S?.id){te(!0);try{const s={};if(["username","first_name","last_name","email","phone_number","country","city","bio","gender","birth_date","business_type","company_number","address","website","profession","policies"].forEach(v=>{i[v]!==void 0&&(s[v]=String(i[v]||"").trim()||void 0)}),i.verified_by_admin!==void 0&&(s.verified_by_admin=!!i.verified_by_admin),i.status!==void 0&&(s.status=!!i.status),i.is_locked!==void 0&&(s.is_locked=!!i.is_locked),i.app_fees!==void 0&&i.app_fees!==""){const v=Number(i.app_fees);!isNaN(v)&&v>=0&&v<=100&&(s.app_fees=v)}const b=i.location_lat!==void 0&&i.location_lat!==""?Number(i.location_lat):null,C=i.location_lng!==void 0&&i.location_lng!==""?Number(i.location_lng):null;(b!=null||C!=null||i.location_city)&&(s.location={lat:b??void 0,lng:C??void 0,city:i.location_city||void 0});const re=await Pe(S.id,s),ke=re.data?.agency??re.data;D(ke),E(!1),N.success("Agency updated successfully")}catch(s){const n=s.response?.data?.message||s.response?.data?.errors?Object.values(s.response?.data?.errors||{}).flat().join(", "):s.response?.data?.error||"Failed to update agency";N.error(n)}finally{te(!1)}}},le=()=>{m(1),R()};return J?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(A,{className:"w-6 h-6"}),"Agencies"]}),e.jsx(q,{children:e.jsxs(ce,{className:"py-12 text-center",children:[e.jsx(Re,{className:"w-12 h-12 mx-auto text-destructive mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"This section is available only to Super Admin users."}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"If you believe you should have access, please contact your administrator."})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(A,{className:"w-6 h-6"}),"Agencies"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Car rental companies and agents who list vehicles on the platform. Super Admin only."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[180px] max-w-sm",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(d,{placeholder:"Search username, first name, last name...",value:V,onChange:s=>ue(s.target.value),onKeyDown:s=>s.key==="Enter"&&le(),className:"pl-9"})]}),e.jsxs(x,{value:O||"all",onValueChange:s=>{he(s==="all"?"":s),m(1)},children:[e.jsx(h,{className:"w-36",children:e.jsx(p,{placeholder:"Business type"})}),e.jsxs(j,{children:[e.jsx(o,{value:"all",children:"All types"}),de.filter(s=>s.value).map(s=>e.jsx(o,{value:s.value,children:s.label},s.value))]})]}),e.jsxs(x,{value:I||"all",onValueChange:s=>{pe(s==="all"?"":s),m(1)},children:[e.jsx(h,{className:"w-40",children:e.jsx(p,{placeholder:"Governorate"})}),e.jsxs(j,{children:[e.jsx(o,{value:"all",children:"All governorates"}),oe.map(s=>e.jsx(o,{value:s,children:s},s))]})]}),e.jsxs(x,{value:M?"yes":"no",onValueChange:s=>{xe(s==="yes"),m(1)},children:[e.jsx(h,{className:"w-32",children:e.jsx(p,{placeholder:"Verified"})}),e.jsxs(j,{children:[e.jsx(o,{value:"no",children:"All"}),e.jsx(o,{value:"yes",children:"Verified only"})]})]}),e.jsxs(x,{value:L?"yes":"no",onValueChange:s=>{Q(s==="yes"),m(1)},children:[e.jsx(h,{className:"w-36",children:e.jsx(p,{placeholder:"Include"})}),e.jsxs(j,{children:[e.jsx(o,{value:"no",children:"Active only"}),e.jsx(o,{value:"yes",children:"Include inactive/locked"})]})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:L,onChange:s=>{Q(s.target.checked),m(1)},className:"rounded"}),"Include inactive/locked"]}),e.jsxs(x,{value:z,onValueChange:s=>{je(s),m(1)},children:[e.jsx(h,{className:"w-36",children:e.jsx(p,{placeholder:"Sort by"})}),e.jsx(j,{children:Ke.map(s=>e.jsx(o,{value:s.value,children:s.label},s.value))})]}),e.jsxs(x,{value:W,onValueChange:s=>{be(s),m(1)},children:[e.jsx(h,{className:"w-28",children:e.jsx(p,{})}),e.jsxs(j,{children:[e.jsx(o,{value:"asc",children:"Asc"}),e.jsx(o,{value:"desc",children:"Desc"})]})]}),e.jsxs(x,{value:String(w),onValueChange:s=>{a(Number(s)),m(1)},children:[e.jsx(h,{className:"w-24",children:e.jsx(p,{})}),e.jsxs(j,{children:[e.jsx(o,{value:"10",children:"10"}),e.jsx(o,{value:"20",children:"20"}),e.jsx(o,{value:"50",children:"50"})]})]}),e.jsx(f,{variant:"outline",onClick:le,children:"Search"}),e.jsx(f,{variant:"outline",size:"icon",onClick:R,children:e.jsx($e,{className:"h-4 w-4"})})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[e.jsx(A,{className:"w-5 h-5"}),"Agencies (",g.total,")"]}),$?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(K,{className:"h-10 w-10 animate-spin text-muted-foreground"})}):r.length===0?e.jsxs(q,{className:"py-12 text-center text-muted-foreground",children:[e.jsx(A,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),"No agencies found"]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.map(s=>e.jsxs(q,{role:"button",tabIndex:0,onClick:()=>l(`/admin/cars?agent_id=${s.id}&agent_username=${encodeURIComponent(s.username||T(s))}`),onKeyDown:n=>n.key==="Enter"&&l(`/admin/cars?agent_id=${s.id}&agent_username=${encodeURIComponent(s.username||T(s))}`),className:`overflow-hidden transition-all duration-200 cursor-pointer hover:shadow-lg ${Ye(s.business_type)}`,children:[e.jsxs(Ve,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("img",{src:H(s),alt:"",className:"h-12 w-12 rounded-full object-cover shrink-0 ring-2 ring-white dark:ring-card shadow",onError:n=>{n.currentTarget.onerror=null,n.currentTarget.src=U}}),e.jsxs("div",{className:"min-w-0",children:[e.jsx(Oe,{className:"text-base truncate",children:T(s)}),e.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["@",s.username||"—"]})]})]}),s.verified_by_admin&&e.jsx(Me,{className:"h-5 w-5 text-green-600 shrink-0",title:"Verified"})]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-2",children:[e.jsx(G,{variant:"secondary",className:"text-xs capitalize",children:s.business_type||"—"}),s.address&&e.jsxs(G,{variant:"outline",className:"text-xs flex items-center gap-1",children:[e.jsx(Ae,{className:"w-3 h-3"}),s.address]})]})]}),e.jsxs(ce,{className:"pt-0 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(ne,{className:"w-4 h-4"}),"Cars"]}),e.jsxs("span",{className:"font-medium",children:[s.cars_count??0," ",e.jsxs("span",{className:"text-muted-foreground font-normal text-xs",children:["(",s.cars_accepted_count??0," accepted, ",s.cars_not_accepted_count??0," pending)"]})]})]}),(s.sea_vehicles_count??0)>0&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(He,{className:"w-4 h-4"}),"Sea vehicles"]}),e.jsx("span",{className:"font-medium",children:s.sea_vehicles_count})]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsxs(f,{size:"sm",className:"flex-1",onClick:n=>{n.stopPropagation(),ve(s)},children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),"View details"]}),e.jsxs(f,{size:"sm",variant:"outline",onClick:n=>{n.stopPropagation(),l(`/admin/cars?agent_id=${s.id}&agent_username=${encodeURIComponent(s.username||T(s))}`)},children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),"View cars"]})]})]})]},s.id))})]}),g.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Page ",g.current_page," of ",g.last_page," · Total ",g.total]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{variant:"outline",size:"sm",disabled:y<=1,onClick:()=>m(s=>s-1),children:"Previous"}),e.jsx(f,{variant:"outline",size:"sm",disabled:y>=g.last_page,onClick:()=>m(s=>s+1),children:"Next"})]})]}),e.jsx(Ie,{open:fe,onOpenChange:s=>!s&&_e(),children:e.jsxs(Le,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(De,{children:e.jsxs(Ee,{className:"flex items-center justify-between gap-2",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5"}),"Agency — ",S?T(S):""," (ID:"," ",S?.id,")"]}),!F&&t&&!se&&e.jsxs(f,{size:"sm",onClick:Ne,children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"Edit"]})]})}),F?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(K,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):t?se?e.jsx(Xe,{editForm:i,handleEditChange:ye,onCancel:()=>E(!1),onSave:we,saving:ge,agencyDetail:t,profileImgUrl:H,ASSET_BASE:Y,DEFAULT_AVATAR:U,GOVERNORATES:oe,BUSINESS_TYPES:de}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:H(t),alt:"",className:"h-16 w-16 rounded-full object-cover",onError:s=>{s.currentTarget.onerror=null,s.currentTarget.src=U}}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold",children:[t.first_name," ",t.last_name]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",t.username]}),t.verified_by_admin&&e.jsx(G,{className:"mt-1 bg-green-600",children:"Verified"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsx(_,{label:"Business type",value:t.business_type}),e.jsx(_,{label:"Address",value:t.address}),e.jsx(_,{label:"Profession",value:t.profession}),e.jsx(_,{label:"Company number",value:t.company_number}),e.jsx(_,{label:"Cars total",value:t.cars_count}),e.jsx(_,{label:"Cars accepted",value:t.cars_accepted_count}),e.jsx(_,{label:"Cars not accepted",value:t.cars_not_accepted_count}),e.jsx(_,{label:"Sea vehicles",value:t.sea_vehicles_count})]}),t.website&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Website:"}),e.jsxs("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[t.website,e.jsx(ie,{className:"w-3 h-3"})]})]}),t.location&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Location: "}),t.location.city||"",t.location.lat!=null&&t.location.lng!=null?` (${t.location.lat}, ${t.location.lng})`:""]}),t.policies&&e.jsxs("div",{className:"rounded-md border p-3 bg-muted/30",children:[e.jsxs("p",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1 mb-2",children:[e.jsx(qe,{className:"w-3 h-3"})," Policies"]}),e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.policies})]}),t.business_doc&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Business document"}),e.jsxs("a",{href:t.business_doc.startsWith("http")?t.business_doc:Y+(t.business_doc.startsWith("/")?t.business_doc.slice(1):t.business_doc),target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm flex items-center gap-1",children:["View document",e.jsx(ie,{className:"w-3 h-3"})]})]})]}):e.jsx("p",{className:"text-muted-foreground py-4",children:"No details available."})]})})]})}function _({label:l,value:r}){const u=r??"—";return e.jsxs("div",{children:[e.jsxs("span",{className:"text-muted-foreground",children:[l,": "]}),e.jsx("span",{children:typeof u=="object"?JSON.stringify(u):String(u)})]})}const Je=[{value:"",label:"—"},{value:"owner",label:"Owner"},{value:"manager",label:"Manager"}],Qe=[{value:"",label:"—"},{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"}];function Xe({editForm:l,handleEditChange:r,onCancel:u,onSave:g,saving:k,agencyDetail:$,profileImgUrl:B,ASSET_BASE:J,DEFAULT_AVATAR:P,GOVERNORATES:y,BUSINESS_TYPES:m}){const w=m.filter(a=>a.value);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b",children:[e.jsx("img",{src:B($),alt:"",className:"h-16 w-16 rounded-full object-cover",onError:a=>{a.currentTarget.onerror=null,a.currentTarget.src=P}}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Profile photo cannot be changed here. Use User photo upload."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Account"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Username"}),e.jsx(d,{value:l.username,onChange:a=>r("username",a.target.value),placeholder:"username"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"First name"}),e.jsx(d,{value:l.first_name,onChange:a=>r("first_name",a.target.value),placeholder:"First name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Last name"}),e.jsx(d,{value:l.last_name,onChange:a=>r("last_name",a.target.value),placeholder:"Last name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Email"}),e.jsx(d,{type:"email",value:l.email,onChange:a=>r("email",a.target.value),placeholder:"email@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Phone number"}),e.jsx(d,{value:l.phone_number,onChange:a=>r("phone_number",a.target.value),placeholder:"Phone"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Country"}),e.jsx(d,{value:l.country,onChange:a=>r("country",a.target.value),placeholder:"Country"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"City"}),e.jsx(d,{value:l.city,onChange:a=>r("city",a.target.value),placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Gender"}),e.jsxs(x,{value:l.gender||"_",onValueChange:a=>r("gender",a==="_"?"":a),children:[e.jsx(h,{children:e.jsx(p,{})}),e.jsx(j,{children:Qe.map(a=>e.jsx(o,{value:a.value||"_",children:a.label},a.value||"_"))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Birth date"}),e.jsx(d,{type:"date",value:l.birth_date,onChange:a=>r("birth_date",a.target.value)})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Bio"}),e.jsx(d,{value:l.bio,onChange:a=>r("bio",a.target.value),placeholder:"Bio (max 500)",maxLength:500})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.verified_by_admin,onChange:a=>r("verified_by_admin",a.target.checked)}),e.jsx("span",{className:"text-sm",children:"Verified by admin"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.status,onChange:a=>r("status",a.target.checked)}),e.jsx("span",{className:"text-sm",children:"Account active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.is_locked,onChange:a=>r("is_locked",a.target.checked)}),e.jsx("span",{className:"text-sm",children:"Locked"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Business"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Business type"}),e.jsxs(x,{value:l.business_type||"_",onValueChange:a=>r("business_type",a==="_"?"":a),children:[e.jsx(h,{children:e.jsx(p,{placeholder:"Business type"})}),e.jsxs(j,{children:[e.jsx(o,{value:"_",children:"—"}),w.map(a=>e.jsx(o,{value:a.value,children:a.label},a.value))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Address (governorate)"}),e.jsxs(x,{value:l.address||"_",onValueChange:a=>r("address",a==="_"?"":a),children:[e.jsx(h,{children:e.jsx(p,{placeholder:"Address"})}),e.jsxs(j,{children:[e.jsx(o,{value:"_",children:"—"}),y.map(a=>e.jsx(o,{value:a,children:a},a))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Company number"}),e.jsx(d,{value:l.company_number,onChange:a=>r("company_number",a.target.value),placeholder:"e.g. LB-12345"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Profession"}),e.jsxs(x,{value:l.profession||"_",onValueChange:a=>r("profession",a==="_"?"":a),children:[e.jsx(h,{children:e.jsx(p,{})}),e.jsx(j,{children:Je.map(a=>e.jsx(o,{value:a.value||"_",children:a.label},a.value||"_"))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Website"}),e.jsx(d,{value:l.website,onChange:a=>r("website",a.target.value),placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"App fees (%)"}),e.jsx(d,{type:"number",min:0,max:100,value:l.app_fees,onChange:a=>r("app_fees",a.target.value),placeholder:"0–100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Location lat"}),e.jsx(d,{type:"number",step:"any",value:l.location_lat,onChange:a=>r("location_lat",a.target.value),placeholder:"33.8"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Location lng"}),e.jsx(d,{type:"number",step:"any",value:l.location_lng,onChange:a=>r("location_lng",a.target.value),placeholder:"35.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Location city"}),e.jsx(d,{value:l.location_city,onChange:a=>r("location_city",a.target.value),placeholder:"Beirut"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Policies (terms and conditions)"}),e.jsx("textarea",{className:"w-full min-h-[100px] rounded-md border px-3 py-2 text-sm",value:l.policies,onChange:a=>r("policies",a.target.value),placeholder:"Terms and conditions...",maxLength:1e4})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(f,{variant:"outline",onClick:u,disabled:k,children:"Cancel"}),e.jsxs(f,{onClick:g,disabled:k,children:[k?e.jsx(K,{className:"w-4 h-4 animate-spin mr-2"}):null,"Save changes"]})]})]})}export{Cs as default};
